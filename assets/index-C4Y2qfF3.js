function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
var kp=Object.defineProperty;var Ip=(a,e,o)=>e in a?kp(a,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[e]=o;var Jt=(a,e,o)=>(Ip(a,typeof e!="symbol"?e+"":e,o),o),Qu=(a,e,o)=>{if(!e.has(a))throw TypeError("Cannot "+o)};var Pt=(a,e,o)=>(Qu(a,e,"read from private field"),o?o.call(a):e.get(a)),tr=(a,e,o)=>{if(e.has(a))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(a):e.set(a,o)},Qt=(a,e,o,c)=>(Qu(a,e,"write to private field"),c?c.call(a,o):e.set(a,o),o);var yl=(a,e,o,c)=>({set _(d){Qt(a,e,d,o)},get _(){return Pt(a,e,c)}}),hr=(a,e,o)=>(Qu(a,e,"access private method"),o);function _mergeNamespaces(a,e){for(var o=0;o<e.length;o++){const c=e[o];if(typeof c!="string"&&!Array.isArray(c)){for(const d in c)if(d!=="default"&&!(d in a)){const h=Object.getOwnPropertyDescriptor(c,d);h&&Object.defineProperty(a,d,h.get?h:{enumerable:!0,get:()=>c[d]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))c(d);new MutationObserver(d=>{for(const h of d)if(h.type==="childList")for(const et of h.addedNodes)et.tagName==="LINK"&&et.rel==="modulepreload"&&c(et)}).observe(document,{childList:!0,subtree:!0});function o(d){const h={};return d.integrity&&(h.integrity=d.integrity),d.referrerPolicy&&(h.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?h.credentials="include":d.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function c(d){if(d.ep)return;d.ep=!0;const h=o(d);fetch(d.href,h)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function getAugmentedNamespace(a){if(a.__esModule)return a;var e=a.default;if(typeof e=="function"){var o=function c(){return this instanceof c?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};o.prototype=e.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(a).forEach(function(c){var d=Object.getOwnPropertyDescriptor(a,c);Object.defineProperty(o,c,d.get?d:{enumerable:!0,get:function(){return a[c]}})}),o}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$2=Symbol.for("react.portal"),p$2=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$2(a){return a===null||typeof a!="object"?null:(a=z$2&&a[z$2]||a["@@iterator"],typeof a=="function"?a:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$2={};function E$1(a,e,o){this.props=a,this.context=e,this.refs=D$2,this.updater=o||B$2}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(a,e){if(typeof a!="object"&&typeof a!="function"&&a!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,a,e,"setState")};E$1.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")};function F$1(){}F$1.prototype=E$1.prototype;function G$2(a,e,o){this.props=a,this.context=e,this.refs=D$2,this.updater=o||B$2}var H$2=G$2.prototype=new F$1;H$2.constructor=G$2;C$2(H$2,E$1.prototype);H$2.isPureReactComponent=!0;var I$2=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$2={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$2(a,e,o){var c,d={},h=null,et=null;if(e!=null)for(c in e.ref!==void 0&&(et=e.ref),e.key!==void 0&&(h=""+e.key),e)J$1.call(e,c)&&!L$2.hasOwnProperty(c)&&(d[c]=e[c]);var tt=arguments.length-2;if(tt===1)d.children=o;else if(1<tt){for(var ot=Array(tt),ft=0;ft<tt;ft++)ot[ft]=arguments[ft+2];d.children=ot}if(a&&a.defaultProps)for(c in tt=a.defaultProps,tt)d[c]===void 0&&(d[c]=tt[c]);return{$$typeof:l$1,type:a,key:h,ref:et,props:d,_owner:K$2.current}}function N$2(a,e){return{$$typeof:l$1,type:a.type,key:e,ref:a.ref,props:a.props,_owner:a._owner}}function O$2(a){return typeof a=="object"&&a!==null&&a.$$typeof===l$1}function escape$1(a){var e={"=":"=0",":":"=2"};return"$"+a.replace(/[=:]/g,function(o){return e[o]})}var P$1=/\/+/g;function Q$2(a,e){return typeof a=="object"&&a!==null&&a.key!=null?escape$1(""+a.key):e.toString(36)}function R$2(a,e,o,c,d){var h=typeof a;(h==="undefined"||h==="boolean")&&(a=null);var et=!1;if(a===null)et=!0;else switch(h){case"string":case"number":et=!0;break;case"object":switch(a.$$typeof){case l$1:case n$2:et=!0}}if(et)return et=a,d=d(et),a=c===""?"."+Q$2(et,0):c,I$2(d)?(o="",a!=null&&(o=a.replace(P$1,"$&/")+"/"),R$2(d,e,o,"",function(ft){return ft})):d!=null&&(O$2(d)&&(d=N$2(d,o+(!d.key||et&&et.key===d.key?"":(""+d.key).replace(P$1,"$&/")+"/")+a)),e.push(d)),1;if(et=0,c=c===""?".":c+":",I$2(a))for(var tt=0;tt<a.length;tt++){h=a[tt];var ot=c+Q$2(h,tt);et+=R$2(h,e,o,ot,d)}else if(ot=A$2(a),typeof ot=="function")for(a=ot.call(a),tt=0;!(h=a.next()).done;)h=h.value,ot=c+Q$2(h,tt++),et+=R$2(h,e,o,ot,d);else if(h==="object")throw e=String(a),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return et}function S$3(a,e,o){if(a==null)return a;var c=[],d=0;return R$2(a,c,"","",function(h){return e.call(o,h,d++)}),c}function T$2(a){if(a._status===-1){var e=a._result;e=e(),e.then(function(o){(a._status===0||a._status===-1)&&(a._status=1,a._result=o)},function(o){(a._status===0||a._status===-1)&&(a._status=2,a._result=o)}),a._status===-1&&(a._status=0,a._result=e)}if(a._status===1)return a._result.default;throw a._result}var U$2={current:null},V$4={transition:null},W$2={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$4,ReactCurrentOwner:K$2};react_production_min.Children={map:S$3,forEach:function(a,e,o){S$3(a,function(){e.apply(this,arguments)},o)},count:function(a){var e=0;return S$3(a,function(){e++}),e},toArray:function(a){return S$3(a,function(e){return e})||[]},only:function(a){if(!O$2(a))throw Error("React.Children.only expected to receive a single React element child.");return a}};react_production_min.Component=E$1;react_production_min.Fragment=p$2;react_production_min.Profiler=r;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$2;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.cloneElement=function(a,e,o){if(a==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+a+".");var c=C$2({},a.props),d=a.key,h=a.ref,et=a._owner;if(e!=null){if(e.ref!==void 0&&(h=e.ref,et=K$2.current),e.key!==void 0&&(d=""+e.key),a.type&&a.type.defaultProps)var tt=a.type.defaultProps;for(ot in e)J$1.call(e,ot)&&!L$2.hasOwnProperty(ot)&&(c[ot]=e[ot]===void 0&&tt!==void 0?tt[ot]:e[ot])}var ot=arguments.length-2;if(ot===1)c.children=o;else if(1<ot){tt=Array(ot);for(var ft=0;ft<ot;ft++)tt[ft]=arguments[ft+2];c.children=tt}return{$$typeof:l$1,type:a.type,key:d,ref:h,props:c,_owner:et}};react_production_min.createContext=function(a){return a={$$typeof:u,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},a.Provider={$$typeof:t,_context:a},a.Consumer=a};react_production_min.createElement=M$2;react_production_min.createFactory=function(a){var e=M$2.bind(null,a);return e.type=a,e};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(a){return{$$typeof:v$2,render:a}};react_production_min.isValidElement=O$2;react_production_min.lazy=function(a){return{$$typeof:y$1,_payload:{_status:-1,_result:a},_init:T$2}};react_production_min.memo=function(a,e){return{$$typeof:x$1,type:a,compare:e===void 0?null:e}};react_production_min.startTransition=function(a){var e=V$4.transition;V$4.transition={};try{a()}finally{V$4.transition=e}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(a,e){return U$2.current.useCallback(a,e)};react_production_min.useContext=function(a){return U$2.current.useContext(a)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(a){return U$2.current.useDeferredValue(a)};react_production_min.useEffect=function(a,e){return U$2.current.useEffect(a,e)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(a,e,o){return U$2.current.useImperativeHandle(a,e,o)};react_production_min.useInsertionEffect=function(a,e){return U$2.current.useInsertionEffect(a,e)};react_production_min.useLayoutEffect=function(a,e){return U$2.current.useLayoutEffect(a,e)};react_production_min.useMemo=function(a,e){return U$2.current.useMemo(a,e)};react_production_min.useReducer=function(a,e,o){return U$2.current.useReducer(a,e,o)};react_production_min.useRef=function(a){return U$2.current.useRef(a)};react_production_min.useState=function(a){return U$2.current.useState(a)};react_production_min.useSyncExternalStore=function(a,e,o){return U$2.current.useSyncExternalStore(a,e,o)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$2=reactExports,k$1=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$2=Object.prototype.hasOwnProperty,n$1=f$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q$1(a,e,o){var c,d={},h=null,et=null;o!==void 0&&(h=""+o),e.key!==void 0&&(h=""+e.key),e.ref!==void 0&&(et=e.ref);for(c in e)m$2.call(e,c)&&!p$1.hasOwnProperty(c)&&(d[c]=e[c]);if(a&&a.defaultProps)for(c in e=a.defaultProps,e)d[c]===void 0&&(d[c]=e[c]);return{$$typeof:k$1,type:a,key:h,ref:et,props:d,_owner:n$1.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(a){function e(Lt,Ut){var Gt=Lt.length;Lt.push(Ut);e:for(;0<Gt;){var Bt=Gt-1>>>1,St=Lt[Bt];if(0<d(St,Ut))Lt[Bt]=Ut,Lt[Gt]=St,Gt=Bt;else break e}}function o(Lt){return Lt.length===0?null:Lt[0]}function c(Lt){if(Lt.length===0)return null;var Ut=Lt[0],Gt=Lt.pop();if(Gt!==Ut){Lt[0]=Gt;e:for(var Bt=0,St=Lt.length,Vt=St>>>1;Bt<Vt;){var dr=2*(Bt+1)-1,cr=Lt[dr],gr=dr+1,$r=Lt[gr];if(0>d(cr,Gt))gr<St&&0>d($r,cr)?(Lt[Bt]=$r,Lt[gr]=Gt,Bt=gr):(Lt[Bt]=cr,Lt[dr]=Gt,Bt=dr);else if(gr<St&&0>d($r,Gt))Lt[Bt]=$r,Lt[gr]=Gt,Bt=gr;else break e}}return Ut}function d(Lt,Ut){var Gt=Lt.sortIndex-Ut.sortIndex;return Gt!==0?Gt:Lt.id-Ut.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var et=Date,tt=et.now();a.unstable_now=function(){return et.now()-tt}}var ot=[],ft=[],ht=1,yt=null,gt=3,wt=!1,bt=!1,xt=!1,Et=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,$t=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function At(Lt){for(var Ut=o(ft);Ut!==null;){if(Ut.callback===null)c(ft);else if(Ut.startTime<=Lt)c(ft),Ut.sortIndex=Ut.expirationTime,e(ot,Ut);else break;Ut=o(ft)}}function kt(Lt){if(xt=!1,At(Lt),!bt)if(o(ot)!==null)bt=!0,Rt(It);else{var Ut=o(ft);Ut!==null&&Ot(kt,Ut.startTime-Lt)}}function It(Lt,Ut){bt=!1,xt&&(xt=!1,vt(zt),zt=-1),wt=!0;var Gt=gt;try{for(At(Ut),yt=o(ot);yt!==null&&(!(yt.expirationTime>Ut)||Lt&&!er());){var Bt=yt.callback;if(typeof Bt=="function"){yt.callback=null,gt=yt.priorityLevel;var St=Bt(yt.expirationTime<=Ut);Ut=a.unstable_now(),typeof St=="function"?yt.callback=St:yt===o(ot)&&c(ot),At(Ut)}else c(ot);yt=o(ot)}if(yt!==null)var Vt=!0;else{var dr=o(ft);dr!==null&&Ot(kt,dr.startTime-Ut),Vt=!1}return Vt}finally{yt=null,gt=Gt,wt=!1}}var Dt=!1,Mt=null,zt=-1,Kt=5,Yt=-1;function er(){return!(a.unstable_now()-Yt<Kt)}function qt(){if(Mt!==null){var Lt=a.unstable_now();Yt=Lt;var Ut=!0;try{Ut=Mt(!0,Lt)}finally{Ut?Ft():(Dt=!1,Mt=null)}}else Dt=!1}var Ft;if(typeof $t=="function")Ft=function(){$t(qt)};else if(typeof MessageChannel<"u"){var mt=new MessageChannel,Tt=mt.port2;mt.port1.onmessage=qt,Ft=function(){Tt.postMessage(null)}}else Ft=function(){Et(qt,0)};function Rt(Lt){Mt=Lt,Dt||(Dt=!0,Ft())}function Ot(Lt,Ut){zt=Et(function(){Lt(a.unstable_now())},Ut)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(Lt){Lt.callback=null},a.unstable_continueExecution=function(){bt||wt||(bt=!0,Rt(It))},a.unstable_forceFrameRate=function(Lt){0>Lt||125<Lt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Kt=0<Lt?Math.floor(1e3/Lt):5},a.unstable_getCurrentPriorityLevel=function(){return gt},a.unstable_getFirstCallbackNode=function(){return o(ot)},a.unstable_next=function(Lt){switch(gt){case 1:case 2:case 3:var Ut=3;break;default:Ut=gt}var Gt=gt;gt=Ut;try{return Lt()}finally{gt=Gt}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(Lt,Ut){switch(Lt){case 1:case 2:case 3:case 4:case 5:break;default:Lt=3}var Gt=gt;gt=Lt;try{return Ut()}finally{gt=Gt}},a.unstable_scheduleCallback=function(Lt,Ut,Gt){var Bt=a.unstable_now();switch(typeof Gt=="object"&&Gt!==null?(Gt=Gt.delay,Gt=typeof Gt=="number"&&0<Gt?Bt+Gt:Bt):Gt=Bt,Lt){case 1:var St=-1;break;case 2:St=250;break;case 5:St=1073741823;break;case 4:St=1e4;break;default:St=5e3}return St=Gt+St,Lt={id:ht++,callback:Ut,priorityLevel:Lt,startTime:Gt,expirationTime:St,sortIndex:-1},Gt>Bt?(Lt.sortIndex=Gt,e(ft,Lt),o(ot)===null&&Lt===o(ft)&&(xt?(vt(zt),zt=-1):xt=!0,Ot(kt,Gt-Bt))):(Lt.sortIndex=St,e(ot,Lt),bt||wt||(bt=!0,Rt(It))),Lt},a.unstable_shouldYield=er,a.unstable_wrapCallback=function(Lt){var Ut=gt;return function(){var Gt=gt;gt=Ut;try{return Lt.apply(this,arguments)}finally{gt=Gt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(a){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+a,o=1;o<arguments.length;o++)e+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+a+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(a,e){ha(a,e),ha(a+"Capture",e)}function ha(a,e){for(ea[a]=e,a=0;a<e.length;a++)da.add(e[a])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(a){return ja.call(ma,a)?!0:ja.call(la,a)?!1:ka.test(a)?ma[a]=!0:(la[a]=!0,!1)}function pa(a,e,o,c){if(o!==null&&o.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return c?!1:o!==null?!o.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function qa(a,e,o,c){if(e===null||typeof e>"u"||pa(a,e,o,c))return!0;if(c)return!1;if(o!==null)switch(o.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function v$1(a,e,o,c,d,h,et){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=o,this.propertyName=a,this.type=e,this.sanitizeURL=h,this.removeEmptyString=et}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){z$1[a]=new v$1(a,0,!1,a,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var e=a[0];z$1[e]=new v$1(e,1,!1,a[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(a){z$1[a]=new v$1(a,2,!1,a.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){z$1[a]=new v$1(a,2,!1,a,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){z$1[a]=new v$1(a,3,!1,a.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(a){z$1[a]=new v$1(a,3,!0,a,null,!1,!1)});["capture","download"].forEach(function(a){z$1[a]=new v$1(a,4,!1,a,null,!1,!1)});["cols","rows","size","span"].forEach(function(a){z$1[a]=new v$1(a,6,!1,a,null,!1,!1)});["rowSpan","start"].forEach(function(a){z$1[a]=new v$1(a,5,!1,a.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var e=a.replace(ra,sa);z$1[e]=new v$1(e,1,!1,a,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var e=a.replace(ra,sa);z$1[e]=new v$1(e,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(a){var e=a.replace(ra,sa);z$1[e]=new v$1(e,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(a){z$1[a]=new v$1(a,1,!1,a.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(a){z$1[a]=new v$1(a,1,!1,a.toLowerCase(),null,!0,!0)});function ta(a,e,o,c){var d=z$1.hasOwnProperty(e)?z$1[e]:null;(d!==null?d.type!==0:c||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qa(e,o,d,c)&&(o=null),c||d===null?oa(e)&&(o===null?a.removeAttribute(e):a.setAttribute(e,""+o)):d.mustUseProperty?a[d.propertyName]=o===null?d.type===3?!1:"":o:(e=d.attributeName,c=d.attributeNamespace,o===null?a.removeAttribute(e):(d=d.type,o=d===3||d===4&&o===!0?"":""+o,c?a.setAttributeNS(c,e,o):a.setAttribute(e,o))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(a){return a===null||typeof a!="object"?null:(a=Ja&&a[Ja]||a["@@iterator"],typeof a=="function"?a:null)}var A$1=Object.assign,La;function Ma(a){if(La===void 0)try{throw Error()}catch(o){var e=o.stack.trim().match(/\n( *(at )?)/);La=e&&e[1]||""}return`
`+La+a}var Na=!1;function Oa(a,e){if(!a||Na)return"";Na=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(ft){var c=ft}Reflect.construct(a,[],e)}else{try{e.call()}catch(ft){c=ft}a.call(e.prototype)}else{try{throw Error()}catch(ft){c=ft}a()}}catch(ft){if(ft&&c&&typeof ft.stack=="string"){for(var d=ft.stack.split(`
`),h=c.stack.split(`
`),et=d.length-1,tt=h.length-1;1<=et&&0<=tt&&d[et]!==h[tt];)tt--;for(;1<=et&&0<=tt;et--,tt--)if(d[et]!==h[tt]){if(et!==1||tt!==1)do if(et--,tt--,0>tt||d[et]!==h[tt]){var ot=`
`+d[et].replace(" at new "," at ");return a.displayName&&ot.includes("<anonymous>")&&(ot=ot.replace("<anonymous>",a.displayName)),ot}while(1<=et&&0<=tt);break}}}finally{Na=!1,Error.prepareStackTrace=o}return(a=a?a.displayName||a.name:"")?Ma(a):""}function Pa(a){switch(a.tag){case 5:return Ma(a.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return a=Oa(a.type,!1),a;case 11:return a=Oa(a.type.render,!1),a;case 1:return a=Oa(a.type,!0),a;default:return""}}function Qa(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case Ca:return(a.displayName||"Context")+".Consumer";case Ba:return(a._context.displayName||"Context")+".Provider";case Da:var e=a.render;return a=a.displayName,a||(a=e.displayName||e.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Ga:return e=a.displayName||null,e!==null?e:Qa(a.type)||"Memo";case Ha:e=a._payload,a=a._init;try{return Qa(a(e))}catch{}}return null}function Ra(a){var e=a.type;switch(a.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=e.render,a=a.displayName||a.name||"",e.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(e);case 8:return e===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sa(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ta(a){var e=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ua(a){var e=Ta(a)?"checked":"value",o=Object.getOwnPropertyDescriptor(a.constructor.prototype,e),c=""+a[e];if(!a.hasOwnProperty(e)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,h=o.set;return Object.defineProperty(a,e,{configurable:!0,get:function(){return d.call(this)},set:function(et){c=""+et,h.call(this,et)}}),Object.defineProperty(a,e,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(et){c=""+et},stopTracking:function(){a._valueTracker=null,delete a[e]}}}}function Va(a){a._valueTracker||(a._valueTracker=Ua(a))}function Wa(a){if(!a)return!1;var e=a._valueTracker;if(!e)return!0;var o=e.getValue(),c="";return a&&(c=Ta(a)?a.checked?"true":"false":a.value),a=c,a!==o?(e.setValue(a),!0):!1}function Xa(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Ya(a,e){var o=e.checked;return A$1({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??a._wrapperState.initialChecked})}function Za(a,e){var o=e.defaultValue==null?"":e.defaultValue,c=e.checked!=null?e.checked:e.defaultChecked;o=Sa(e.value!=null?e.value:o),a._wrapperState={initialChecked:c,initialValue:o,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ab(a,e){e=e.checked,e!=null&&ta(a,"checked",e,!1)}function bb(a,e){ab(a,e);var o=Sa(e.value),c=e.type;if(o!=null)c==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+o):a.value!==""+o&&(a.value=""+o);else if(c==="submit"||c==="reset"){a.removeAttribute("value");return}e.hasOwnProperty("value")?cb(a,e.type,o):e.hasOwnProperty("defaultValue")&&cb(a,e.type,Sa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(a.defaultChecked=!!e.defaultChecked)}function db(a,e,o){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var c=e.type;if(!(c!=="submit"&&c!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+a._wrapperState.initialValue,o||e===a.value||(a.value=e),a.defaultValue=e}o=a.name,o!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,o!==""&&(a.name=o)}function cb(a,e,o){(e!=="number"||Xa(a.ownerDocument)!==a)&&(o==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+o&&(a.defaultValue=""+o))}var eb=Array.isArray;function fb(a,e,o,c){if(a=a.options,e){e={};for(var d=0;d<o.length;d++)e["$"+o[d]]=!0;for(o=0;o<a.length;o++)d=e.hasOwnProperty("$"+a[o].value),a[o].selected!==d&&(a[o].selected=d),d&&c&&(a[o].defaultSelected=!0)}else{for(o=""+Sa(o),e=null,d=0;d<a.length;d++){if(a[d].value===o){a[d].selected=!0,c&&(a[d].defaultSelected=!0);return}e!==null||a[d].disabled||(e=a[d])}e!==null&&(e.selected=!0)}}function gb(a,e){if(e.dangerouslySetInnerHTML!=null)throw Error(p(91));return A$1({},e,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function hb(a,e){var o=e.value;if(o==null){if(o=e.children,e=e.defaultValue,o!=null){if(e!=null)throw Error(p(92));if(eb(o)){if(1<o.length)throw Error(p(93));o=o[0]}e=o}e==null&&(e=""),o=e}a._wrapperState={initialValue:Sa(o)}}function ib(a,e){var o=Sa(e.value),c=Sa(e.defaultValue);o!=null&&(o=""+o,o!==a.value&&(a.value=o),e.defaultValue==null&&a.defaultValue!==o&&(a.defaultValue=o)),c!=null&&(a.defaultValue=""+c)}function jb(a){var e=a.textContent;e===a._wrapperState.initialValue&&e!==""&&e!==null&&(a.value=e)}function kb(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(a,e){return a==null||a==="http://www.w3.org/1999/xhtml"?kb(e):a==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var mb,nb=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,o,c,d){MSApp.execUnsafeLocalFunction(function(){return a(e,o,c,d)})}:a}(function(a,e){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=e;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;e.firstChild;)a.appendChild(e.firstChild)}});function ob(a,e){if(e){var o=a.firstChild;if(o&&o===a.lastChild&&o.nodeType===3){o.nodeValue=e;return}}a.textContent=e}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(a){qb.forEach(function(e){e=e+a.charAt(0).toUpperCase()+a.substring(1),pb[e]=pb[a]})});function rb(a,e,o){return e==null||typeof e=="boolean"||e===""?"":o||typeof e!="number"||e===0||pb.hasOwnProperty(a)&&pb[a]?(""+e).trim():e+"px"}function sb(a,e){a=a.style;for(var o in e)if(e.hasOwnProperty(o)){var c=o.indexOf("--")===0,d=rb(o,e[o],c);o==="float"&&(o="cssFloat"),c?a.setProperty(o,d):a[o]=d}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(a,e){if(e){if(tb[a]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(p(137,a));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(p(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(p(61))}if(e.style!=null&&typeof e.style!="object")throw Error(p(62))}}function vb(a,e){if(a.indexOf("-")===-1)return typeof e.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var yb=null,zb=null,Ab=null;function Bb(a){if(a=Cb(a)){if(typeof yb!="function")throw Error(p(280));var e=a.stateNode;e&&(e=Db(e),yb(a.stateNode,a.type,e))}}function Eb(a){zb?Ab?Ab.push(a):Ab=[a]:zb=a}function Fb(){if(zb){var a=zb,e=Ab;if(Ab=zb=null,Bb(a),e)for(a=0;a<e.length;a++)Bb(e[a])}}function Gb(a,e){return a(e)}function Hb(){}var Ib=!1;function Jb(a,e,o){if(Ib)return a(e,o);Ib=!0;try{return Gb(a,e,o)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(a,e){var o=a.stateNode;if(o===null)return null;var c=Db(o);if(c===null)return null;o=c[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(a=a.type,c=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!c;break e;default:a=!1}if(a)return null;if(o&&typeof o!="function")throw Error(p(231,e,typeof o));return o}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb$1(a,e,o,c,d,h,et,tt,ot){var ft=Array.prototype.slice.call(arguments,3);try{e.apply(o,ft)}catch(ht){this.onError(ht)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(a){Ob=!0,Pb=a}};function Tb(a,e,o,c,d,h,et,tt,ot){Ob=!1,Pb=null,Nb$1.apply(Sb,arguments)}function Ub(a,e,o,c,d,h,et,tt,ot){if(Tb.apply(this,arguments),Ob){if(Ob){var ft=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=ft)}}function Vb(a){var e=a,o=a;if(a.alternate)for(;e.return;)e=e.return;else{a=e;do e=a,e.flags&4098&&(o=e.return),a=e.return;while(a)}return e.tag===3?o:null}function Wb(a){if(a.tag===13){var e=a.memoizedState;if(e===null&&(a=a.alternate,a!==null&&(e=a.memoizedState)),e!==null)return e.dehydrated}return null}function Xb(a){if(Vb(a)!==a)throw Error(p(188))}function Yb(a){var e=a.alternate;if(!e){if(e=Vb(a),e===null)throw Error(p(188));return e!==a?null:a}for(var o=a,c=e;;){var d=o.return;if(d===null)break;var h=d.alternate;if(h===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===o)return Xb(d),a;if(h===c)return Xb(d),e;h=h.sibling}throw Error(p(188))}if(o.return!==c.return)o=d,c=h;else{for(var et=!1,tt=d.child;tt;){if(tt===o){et=!0,o=d,c=h;break}if(tt===c){et=!0,c=d,o=h;break}tt=tt.sibling}if(!et){for(tt=h.child;tt;){if(tt===o){et=!0,o=h,c=d;break}if(tt===c){et=!0,c=h,o=d;break}tt=tt.sibling}if(!et)throw Error(p(189))}}if(o.alternate!==c)throw Error(p(190))}if(o.tag!==3)throw Error(p(188));return o.stateNode.current===o?a:e}function Zb(a){return a=Yb(a),a!==null?$b(a):null}function $b(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var e=$b(a);if(e!==null)return e;a=a.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(a){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,a,void 0,(a.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(a){return a>>>=0,a===0?32:31-(pc(a)/qc|0)|0}var rc=64,sc=4194304;function tc(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function uc(a,e){var o=a.pendingLanes;if(o===0)return 0;var c=0,d=a.suspendedLanes,h=a.pingedLanes,et=o&268435455;if(et!==0){var tt=et&~d;tt!==0?c=tc(tt):(h&=et,h!==0&&(c=tc(h)))}else et=o&~d,et!==0?c=tc(et):h!==0&&(c=tc(h));if(c===0)return 0;if(e!==0&&e!==c&&!(e&d)&&(d=c&-c,h=e&-e,d>=h||d===16&&(h&4194240)!==0))return e;if(c&4&&(c|=o&16),e=a.entangledLanes,e!==0)for(a=a.entanglements,e&=c;0<e;)o=31-oc(e),d=1<<o,c|=a[o],e&=~d;return c}function vc(a,e){switch(a){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(a,e){for(var o=a.suspendedLanes,c=a.pingedLanes,d=a.expirationTimes,h=a.pendingLanes;0<h;){var et=31-oc(h),tt=1<<et,ot=d[et];ot===-1?(!(tt&o)||tt&c)&&(d[et]=vc(tt,e)):ot<=e&&(a.expiredLanes|=tt),h&=~tt}}function xc(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function yc(){var a=rc;return rc<<=1,!(rc&4194240)&&(rc=64),a}function zc(a){for(var e=[],o=0;31>o;o++)e.push(a);return e}function Ac(a,e,o){a.pendingLanes|=e,e!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,e=31-oc(e),a[e]=o}function Bc(a,e){var o=a.pendingLanes&~e;a.pendingLanes=e,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=e,a.mutableReadLanes&=e,a.entangledLanes&=e,e=a.entanglements;var c=a.eventTimes;for(a=a.expirationTimes;0<o;){var d=31-oc(o),h=1<<d;e[d]=0,c[d]=-1,a[d]=-1,o&=~h}}function Cc(a,e){var o=a.entangledLanes|=e;for(a=a.entanglements;o;){var c=31-oc(o),d=1<<c;d&e|a[c]&e&&(a[c]|=e),o&=~d}}var C$1=0;function Dc(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(a,e){switch(a){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(e.pointerId)}}function Tc(a,e,o,c,d,h){return a===null||a.nativeEvent!==h?(a={blockedOn:e,domEventName:o,eventSystemFlags:c,nativeEvent:h,targetContainers:[d]},e!==null&&(e=Cb(e),e!==null&&Fc(e)),a):(a.eventSystemFlags|=c,e=a.targetContainers,d!==null&&e.indexOf(d)===-1&&e.push(d),a)}function Uc(a,e,o,c,d){switch(e){case"focusin":return Lc=Tc(Lc,a,e,o,c,d),!0;case"dragenter":return Mc=Tc(Mc,a,e,o,c,d),!0;case"mouseover":return Nc=Tc(Nc,a,e,o,c,d),!0;case"pointerover":var h=d.pointerId;return Oc.set(h,Tc(Oc.get(h)||null,a,e,o,c,d)),!0;case"gotpointercapture":return h=d.pointerId,Pc.set(h,Tc(Pc.get(h)||null,a,e,o,c,d)),!0}return!1}function Vc(a){var e=Wc(a.target);if(e!==null){var o=Vb(e);if(o!==null){if(e=o.tag,e===13){if(e=Wb(o),e!==null){a.blockedOn=e,Ic(a.priority,function(){Gc(o)});return}}else if(e===3&&o.stateNode.current.memoizedState.isDehydrated){a.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Xc(a){if(a.blockedOn!==null)return!1;for(var e=a.targetContainers;0<e.length;){var o=Yc(a.domEventName,a.eventSystemFlags,e[0],a.nativeEvent);if(o===null){o=a.nativeEvent;var c=new o.constructor(o.type,o);wb=c,o.target.dispatchEvent(c),wb=null}else return e=Cb(o),e!==null&&Fc(e),a.blockedOn=o,!1;e.shift()}return!0}function Zc(a,e,o){Xc(a)&&o.delete(e)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(a,e){a.blockedOn===e&&(a.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(a){function e(d){return ad(d,a)}if(0<Kc.length){ad(Kc[0],a);for(var o=1;o<Kc.length;o++){var c=Kc[o];c.blockedOn===a&&(c.blockedOn=null)}}for(Lc!==null&&ad(Lc,a),Mc!==null&&ad(Mc,a),Nc!==null&&ad(Nc,a),Oc.forEach(e),Pc.forEach(e),o=0;o<Qc.length;o++)c=Qc[o],c.blockedOn===a&&(c.blockedOn=null);for(;0<Qc.length&&(o=Qc[0],o.blockedOn===null);)Vc(o),o.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(a,e,o,c){var d=C$1,h=cd.transition;cd.transition=null;try{C$1=1,fd(a,e,o,c)}finally{C$1=d,cd.transition=h}}function gd(a,e,o,c){var d=C$1,h=cd.transition;cd.transition=null;try{C$1=4,fd(a,e,o,c)}finally{C$1=d,cd.transition=h}}function fd(a,e,o,c){if(dd){var d=Yc(a,e,o,c);if(d===null)hd(a,e,c,id$1,o),Sc(a,c);else if(Uc(d,a,e,o,c))c.stopPropagation();else if(Sc(a,c),e&4&&-1<Rc.indexOf(a)){for(;d!==null;){var h=Cb(d);if(h!==null&&Ec(h),h=Yc(a,e,o,c),h===null&&hd(a,e,c,id$1,o),h===d)break;d=h}d!==null&&c.stopPropagation()}else hd(a,e,c,null,o)}}var id$1=null;function Yc(a,e,o,c){if(id$1=null,a=xb(c),a=Wc(a),a!==null)if(e=Vb(a),e===null)a=null;else if(o=e.tag,o===13){if(a=Wb(e),a!==null)return a;a=null}else if(o===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;a=null}else e!==a&&(a=null);return id$1=a,null}function jd(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var a,e=ld,o=e.length,c,d="value"in kd?kd.value:kd.textContent,h=d.length;for(a=0;a<o&&e[a]===d[a];a++);var et=o-a;for(c=1;c<=et&&e[o-c]===d[h-c];c++);return md=d.slice(a,1<c?1-c:void 0)}function od(a){var e=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&e===13&&(a=13)):a=e,a===10&&(a=13),32<=a||a===13?a:0}function pd(){return!0}function qd(){return!1}function rd(a){function e(o,c,d,h,et){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=h,this.target=et,this.currentTarget=null;for(var tt in a)a.hasOwnProperty(tt)&&(o=a[tt],this[tt]=o?o(h):h[tt]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),e}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==yd&&(yd&&a.type==="mousemove"?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a),wd)},movementY:function(a){return"movementY"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id$1=A$1({},sd,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id$1),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(a){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(a):(a=Od[a])?!!e[a]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(a){if(a.key){var e=Md[a.key]||a.key;if(e!=="Unidentified")return e}return a.type==="keypress"?(a=od(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Nd[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return a.type==="keypress"?od(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?od(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de=ia&&(!ae$1||be$1&&8<be$1&&11>=be$1),ee$1=" ",fe$1=!1;function ge$1(a,e){switch(a){case"keyup":return $d.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ie$1=!1;function je$1(a,e){switch(a){case"compositionend":return he$1(e);case"keypress":return e.which!==32?null:(fe$1=!0,ee$1);case"textInput":return a=e.data,a===ee$1&&fe$1?null:a;default:return null}}function ke$1(a,e){if(ie$1)return a==="compositionend"||!ae$1&&ge$1(a,e)?(a=nd(),md=ld=kd=null,ie$1=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return de&&e.locale!=="ko"?null:e.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(a){var e=a&&a.nodeName&&a.nodeName.toLowerCase();return e==="input"?!!le$1[a.type]:e==="textarea"}function ne$1(a,e,o,c){Eb(c),e=oe$1(e,"onChange"),0<e.length&&(o=new td("onChange","change",null,o,c),a.push({event:o,listeners:e}))}var pe=null,qe$1=null;function re$1(a){se$1(a,0)}function te$1(a){var e=ue$1(a);if(Wa(e))return a}function ve$1(a,e){if(a==="change")return e}var we$1=!1;if(ia){var xe$1;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye$1=typeof ze.oninput=="function"}xe$1=ye$1}else xe$1=!1;we$1=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe&&(pe.detachEvent("onpropertychange",Be$1),qe$1=pe=null)}function Be$1(a){if(a.propertyName==="value"&&te$1(qe$1)){var e=[];ne$1(e,qe$1,a,xb(a)),Jb(re$1,e)}}function Ce$1(a,e,o){a==="focusin"?(Ae$1(),pe=e,qe$1=o,pe.attachEvent("onpropertychange",Be$1)):a==="focusout"&&Ae$1()}function De$1(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return te$1(qe$1)}function Ee$1(a,e){if(a==="click")return te$1(e)}function Fe$1(a,e){if(a==="input"||a==="change")return te$1(e)}function Ge$1(a,e){return a===e&&(a!==0||1/a===1/e)||a!==a&&e!==e}var He$1=typeof Object.is=="function"?Object.is:Ge$1;function Ie$1(a,e){if(He$1(a,e))return!0;if(typeof a!="object"||a===null||typeof e!="object"||e===null)return!1;var o=Object.keys(a),c=Object.keys(e);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!ja.call(e,d)||!He$1(a[d],e[d]))return!1}return!0}function Je$1(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Ke$1(a,e){var o=Je$1(a);a=0;for(var c;o;){if(o.nodeType===3){if(c=a+o.textContent.length,a<=e&&c>=e)return{node:o,offset:e-a};a=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Je$1(o)}}function Le(a,e){return a&&e?a===e?!0:a&&a.nodeType===3?!1:e&&e.nodeType===3?Le(a,e.parentNode):"contains"in a?a.contains(e):a.compareDocumentPosition?!!(a.compareDocumentPosition(e)&16):!1:!1}function Me$1(){for(var a=window,e=Xa();e instanceof a.HTMLIFrameElement;){try{var o=typeof e.contentWindow.location.href=="string"}catch{o=!1}if(o)a=e.contentWindow;else break;e=Xa(a.document)}return e}function Ne$1(a){var e=a&&a.nodeName&&a.nodeName.toLowerCase();return e&&(e==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||e==="textarea"||a.contentEditable==="true")}function Oe$1(a){var e=Me$1(),o=a.focusedElem,c=a.selectionRange;if(e!==o&&o&&o.ownerDocument&&Le(o.ownerDocument.documentElement,o)){if(c!==null&&Ne$1(o)){if(e=c.start,a=c.end,a===void 0&&(a=e),"selectionStart"in o)o.selectionStart=e,o.selectionEnd=Math.min(a,o.value.length);else if(a=(e=o.ownerDocument||document)&&e.defaultView||window,a.getSelection){a=a.getSelection();var d=o.textContent.length,h=Math.min(c.start,d);c=c.end===void 0?h:Math.min(c.end,d),!a.extend&&h>c&&(d=c,c=h,h=d),d=Ke$1(o,h);var et=Ke$1(o,c);d&&et&&(a.rangeCount!==1||a.anchorNode!==d.node||a.anchorOffset!==d.offset||a.focusNode!==et.node||a.focusOffset!==et.offset)&&(e=e.createRange(),e.setStart(d.node,d.offset),a.removeAllRanges(),h>c?(a.addRange(e),a.extend(et.node,et.offset)):(e.setEnd(et.node,et.offset),a.addRange(e)))}}for(e=[],a=o;a=a.parentNode;)a.nodeType===1&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<e.length;o++)a=e[o],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Pe$1=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re$1=null,Se$1=null,Te$1=!1;function Ue$1(a,e,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Te$1||Qe==null||Qe!==Xa(c)||(c=Qe,"selectionStart"in c&&Ne$1(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Se$1&&Ie$1(Se$1,c)||(Se$1=c,c=oe$1(Re$1,"onSelect"),0<c.length&&(e=new td("onSelect","select",null,e,o),a.push({event:e,listeners:c}),e.target=Qe)))}function Ve$1(a,e){var o={};return o[a.toLowerCase()]=e.toLowerCase(),o["Webkit"+a]="webkit"+e,o["Moz"+a]="moz"+e,o}var We$1={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe$1={},Ye$1={};ia&&(Ye$1=document.createElement("div").style,"AnimationEvent"in window||(delete We$1.animationend.animation,delete We$1.animationiteration.animation,delete We$1.animationstart.animation),"TransitionEvent"in window||delete We$1.transitionend.transition);function Ze$1(a){if(Xe$1[a])return Xe$1[a];if(!We$1[a])return a;var e=We$1[a],o;for(o in e)if(e.hasOwnProperty(o)&&o in Ye$1)return Xe$1[a]=e[o];return a}var $e=Ze$1("animationend"),af=Ze$1("animationiteration"),bf=Ze$1("animationstart"),cf=Ze$1("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(a,e){df.set(a,e),fa(e,[a])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(a,e,o){var c=a.type||"unknown-event";a.currentTarget=o,Ub(c,e,void 0,a),a.currentTarget=null}function se$1(a,e){e=(e&4)!==0;for(var o=0;o<a.length;o++){var c=a[o],d=c.event;c=c.listeners;e:{var h=void 0;if(e)for(var et=c.length-1;0<=et;et--){var tt=c[et],ot=tt.instance,ft=tt.currentTarget;if(tt=tt.listener,ot!==h&&d.isPropagationStopped())break e;nf(d,tt,ft),h=ot}else for(et=0;et<c.length;et++){if(tt=c[et],ot=tt.instance,ft=tt.currentTarget,tt=tt.listener,ot!==h&&d.isPropagationStopped())break e;nf(d,tt,ft),h=ot}}}if(Qb)throw a=Rb,Qb=!1,Rb=null,a}function D$1(a,e){var o=e[of];o===void 0&&(o=e[of]=new Set);var c=a+"__bubble";o.has(c)||(pf(e,a,2,!1),o.add(c))}function qf(a,e,o){var c=0;e&&(c|=4),pf(o,a,c,e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(a){if(!a[rf]){a[rf]=!0,da.forEach(function(o){o!=="selectionchange"&&(mf.has(o)||qf(o,!1,a),qf(o,!0,a))});var e=a.nodeType===9?a:a.ownerDocument;e===null||e[rf]||(e[rf]=!0,qf("selectionchange",!1,e))}}function pf(a,e,o,c){switch(jd(e)){case 1:var d=ed;break;case 4:d=gd;break;default:d=fd}o=d.bind(null,e,o,a),d=void 0,!Lb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(d=!0),c?d!==void 0?a.addEventListener(e,o,{capture:!0,passive:d}):a.addEventListener(e,o,!0):d!==void 0?a.addEventListener(e,o,{passive:d}):a.addEventListener(e,o,!1)}function hd(a,e,o,c,d){var h=c;if(!(e&1)&&!(e&2)&&c!==null)e:for(;;){if(c===null)return;var et=c.tag;if(et===3||et===4){var tt=c.stateNode.containerInfo;if(tt===d||tt.nodeType===8&&tt.parentNode===d)break;if(et===4)for(et=c.return;et!==null;){var ot=et.tag;if((ot===3||ot===4)&&(ot=et.stateNode.containerInfo,ot===d||ot.nodeType===8&&ot.parentNode===d))return;et=et.return}for(;tt!==null;){if(et=Wc(tt),et===null)return;if(ot=et.tag,ot===5||ot===6){c=h=et;continue e}tt=tt.parentNode}}c=c.return}Jb(function(){var ft=h,ht=xb(o),yt=[];e:{var gt=df.get(a);if(gt!==void 0){var wt=td,bt=a;switch(a){case"keypress":if(od(o)===0)break e;case"keydown":case"keyup":wt=Rd;break;case"focusin":bt="focus",wt=Fd;break;case"focusout":bt="blur",wt=Fd;break;case"beforeblur":case"afterblur":wt=Fd;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":wt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":wt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":wt=Vd;break;case $e:case af:case bf:wt=Hd;break;case cf:wt=Xd;break;case"scroll":wt=vd;break;case"wheel":wt=Zd;break;case"copy":case"cut":case"paste":wt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":wt=Td}var xt=(e&4)!==0,Et=!xt&&a==="scroll",vt=xt?gt!==null?gt+"Capture":null:gt;xt=[];for(var $t=ft,At;$t!==null;){At=$t;var kt=At.stateNode;if(At.tag===5&&kt!==null&&(At=kt,vt!==null&&(kt=Kb($t,vt),kt!=null&&xt.push(tf($t,kt,At)))),Et)break;$t=$t.return}0<xt.length&&(gt=new wt(gt,bt,null,o,ht),yt.push({event:gt,listeners:xt}))}}if(!(e&7)){e:{if(gt=a==="mouseover"||a==="pointerover",wt=a==="mouseout"||a==="pointerout",gt&&o!==wb&&(bt=o.relatedTarget||o.fromElement)&&(Wc(bt)||bt[uf]))break e;if((wt||gt)&&(gt=ht.window===ht?ht:(gt=ht.ownerDocument)?gt.defaultView||gt.parentWindow:window,wt?(bt=o.relatedTarget||o.toElement,wt=ft,bt=bt?Wc(bt):null,bt!==null&&(Et=Vb(bt),bt!==Et||bt.tag!==5&&bt.tag!==6)&&(bt=null)):(wt=null,bt=ft),wt!==bt)){if(xt=Bd,kt="onMouseLeave",vt="onMouseEnter",$t="mouse",(a==="pointerout"||a==="pointerover")&&(xt=Td,kt="onPointerLeave",vt="onPointerEnter",$t="pointer"),Et=wt==null?gt:ue$1(wt),At=bt==null?gt:ue$1(bt),gt=new xt(kt,$t+"leave",wt,o,ht),gt.target=Et,gt.relatedTarget=At,kt=null,Wc(ht)===ft&&(xt=new xt(vt,$t+"enter",bt,o,ht),xt.target=At,xt.relatedTarget=Et,kt=xt),Et=kt,wt&&bt)t:{for(xt=wt,vt=bt,$t=0,At=xt;At;At=vf(At))$t++;for(At=0,kt=vt;kt;kt=vf(kt))At++;for(;0<$t-At;)xt=vf(xt),$t--;for(;0<At-$t;)vt=vf(vt),At--;for(;$t--;){if(xt===vt||vt!==null&&xt===vt.alternate)break t;xt=vf(xt),vt=vf(vt)}xt=null}else xt=null;wt!==null&&wf(yt,gt,wt,xt,!1),bt!==null&&Et!==null&&wf(yt,Et,bt,xt,!0)}}e:{if(gt=ft?ue$1(ft):window,wt=gt.nodeName&&gt.nodeName.toLowerCase(),wt==="select"||wt==="input"&&gt.type==="file")var It=ve$1;else if(me$1(gt))if(we$1)It=Fe$1;else{It=De$1;var Dt=Ce$1}else(wt=gt.nodeName)&&wt.toLowerCase()==="input"&&(gt.type==="checkbox"||gt.type==="radio")&&(It=Ee$1);if(It&&(It=It(a,ft))){ne$1(yt,It,o,ht);break e}Dt&&Dt(a,gt,ft),a==="focusout"&&(Dt=gt._wrapperState)&&Dt.controlled&&gt.type==="number"&&cb(gt,"number",gt.value)}switch(Dt=ft?ue$1(ft):window,a){case"focusin":(me$1(Dt)||Dt.contentEditable==="true")&&(Qe=Dt,Re$1=ft,Se$1=null);break;case"focusout":Se$1=Re$1=Qe=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue$1(yt,o,ht);break;case"selectionchange":if(Pe$1)break;case"keydown":case"keyup":Ue$1(yt,o,ht)}var Mt;if(ae$1)e:{switch(a){case"compositionstart":var zt="onCompositionStart";break e;case"compositionend":zt="onCompositionEnd";break e;case"compositionupdate":zt="onCompositionUpdate";break e}zt=void 0}else ie$1?ge$1(a,o)&&(zt="onCompositionEnd"):a==="keydown"&&o.keyCode===229&&(zt="onCompositionStart");zt&&(de&&o.locale!=="ko"&&(ie$1||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&ie$1&&(Mt=nd()):(kd=ht,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),Dt=oe$1(ft,zt),0<Dt.length&&(zt=new Ld(zt,a,null,o,ht),yt.push({event:zt,listeners:Dt}),Mt?zt.data=Mt:(Mt=he$1(o),Mt!==null&&(zt.data=Mt)))),(Mt=ce$1?je$1(a,o):ke$1(a,o))&&(ft=oe$1(ft,"onBeforeInput"),0<ft.length&&(ht=new Ld("onBeforeInput","beforeinput",null,o,ht),yt.push({event:ht,listeners:ft}),ht.data=Mt))}se$1(yt,e)})}function tf(a,e,o){return{instance:a,listener:e,currentTarget:o}}function oe$1(a,e){for(var o=e+"Capture",c=[];a!==null;){var d=a,h=d.stateNode;d.tag===5&&h!==null&&(d=h,h=Kb(a,o),h!=null&&c.unshift(tf(a,h,d)),h=Kb(a,e),h!=null&&c.push(tf(a,h,d))),a=a.return}return c}function vf(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function wf(a,e,o,c,d){for(var h=e._reactName,et=[];o!==null&&o!==c;){var tt=o,ot=tt.alternate,ft=tt.stateNode;if(ot!==null&&ot===c)break;tt.tag===5&&ft!==null&&(tt=ft,d?(ot=Kb(o,h),ot!=null&&et.unshift(tf(o,ot,tt))):d||(ot=Kb(o,h),ot!=null&&et.push(tf(o,ot,tt)))),o=o.return}et.length!==0&&a.push({event:e,listeners:et})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(a){return(typeof a=="string"?a:""+a).replace(xf,`
`).replace(yf,"")}function Af(a,e,o){if(e=zf(e),zf(a)!==e&&o)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(a,e){return a==="textarea"||a==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(a){return Hf.resolve(null).then(a).catch(If)}:Ff;function If(a){setTimeout(function(){throw a})}function Kf(a,e){var o=e,c=0;do{var d=o.nextSibling;if(a.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(c===0){a.removeChild(d),bd(e);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=d}while(o);bd(e)}function Lf(a){for(;a!=null;a=a.nextSibling){var e=a.nodeType;if(e===1||e===3)break;if(e===8){if(e=a.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return a}function Mf(a){a=a.previousSibling;for(var e=0;a;){if(a.nodeType===8){var o=a.data;if(o==="$"||o==="$!"||o==="$?"){if(e===0)return a;e--}else o==="/$"&&e++}a=a.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(a){var e=a[Of];if(e)return e;for(var o=a.parentNode;o;){if(e=o[uf]||o[Of]){if(o=e.alternate,e.child!==null||o!==null&&o.child!==null)for(a=Mf(a);a!==null;){if(o=a[Of])return o;a=Mf(a)}return e}a=o,o=a.parentNode}return null}function Cb(a){return a=a[Of]||a[uf],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function ue$1(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(p(33))}function Db(a){return a[Pf]||null}var Sf=[],Tf=-1;function Uf(a){return{current:a}}function E(a){0>Tf||(a.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(a,e){Tf++,Sf[Tf]=a.current,a.current=e}var Vf={},H$1=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(a,e){var o=a.type.contextTypes;if(!o)return Vf;var c=a.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===e)return c.__reactInternalMemoizedMaskedChildContext;var d={},h;for(h in o)d[h]=e[h];return c&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=d),d}function Zf(a){return a=a.childContextTypes,a!=null}function $f(){E(Wf),E(H$1)}function ag(a,e,o){if(H$1.current!==Vf)throw Error(p(168));G$1(H$1,e),G$1(Wf,o)}function bg(a,e,o){var c=a.stateNode;if(e=e.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var d in c)if(!(d in e))throw Error(p(108,Ra(a)||"Unknown",d));return A$1({},o,c)}function cg(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$1.current,G$1(H$1,a),G$1(Wf,Wf.current),!0}function dg(a,e,o){var c=a.stateNode;if(!c)throw Error(p(169));o?(a=bg(a,e,Xf),c.__reactInternalMemoizedMergedChildContext=a,E(Wf),E(H$1),G$1(H$1,a)):E(Wf),G$1(Wf,o)}var eg=null,fg=!1,gg=!1;function hg(a){eg===null?eg=[a]:eg.push(a)}function ig(a){fg=!0,hg(a)}function jg(){if(!gg&&eg!==null){gg=!0;var a=0,e=C$1;try{var o=eg;for(C$1=1;a<o.length;a++){var c=o[a];do c=c(!0);while(c!==null)}eg=null,fg=!1}catch(d){throw eg!==null&&(eg=eg.slice(a+1)),ac(fc,jg),d}finally{C$1=e,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(a,e){kg[lg++]=ng,kg[lg++]=mg,mg=a,ng=e}function ug(a,e,o){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=a;var c=rg;a=sg;var d=32-oc(c)-1;c&=~(1<<d),o+=1;var h=32-oc(e)+d;if(30<h){var et=d-d%5;h=(c&(1<<et)-1).toString(32),c>>=et,d-=et,rg=1<<32-oc(e)+d|o<<d|c,sg=h+a}else rg=1<<h|o<<d|c,sg=a}function vg(a){a.return!==null&&(tg(a,1),ug(a,1,0))}function wg(a){for(;a===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;a===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag(a,e){var o=Bg(5,null,null,0);o.elementType="DELETED",o.stateNode=e,o.return=a,e=a.deletions,e===null?(a.deletions=[o],a.flags|=16):e.push(o)}function Cg(a,e){switch(a.tag){case 5:var o=a.type;return e=e.nodeType!==1||o.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(a.stateNode=e,xg=a,yg=Lf(e.firstChild),!0):!1;case 6:return e=a.pendingProps===""||e.nodeType!==3?null:e,e!==null?(a.stateNode=e,xg=a,yg=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(o=qg!==null?{id:rg,overflow:sg}:null,a.memoizedState={dehydrated:e,treeContext:o,retryLane:1073741824},o=Bg(18,null,null,0),o.stateNode=e,o.return=a,a.child=o,xg=a,yg=null,!0):!1;default:return!1}}function Dg(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Eg(a){if(I$1){var e=yg;if(e){var o=e;if(!Cg(a,e)){if(Dg(a))throw Error(p(418));e=Lf(o.nextSibling);var c=xg;e&&Cg(a,e)?Ag(c,o):(a.flags=a.flags&-4097|2,I$1=!1,xg=a)}}else{if(Dg(a))throw Error(p(418));a.flags=a.flags&-4097|2,I$1=!1,xg=a}}}function Fg(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;xg=a}function Gg(a){if(a!==xg)return!1;if(!I$1)return Fg(a),I$1=!0,!1;var e;if((e=a.tag!==3)&&!(e=a.tag!==5)&&(e=a.type,e=e!=="head"&&e!=="body"&&!Ef(a.type,a.memoizedProps)),e&&(e=yg)){if(Dg(a))throw Hg(),Error(p(418));for(;e;)Ag(a,e),e=Lf(e.nextSibling)}if(Fg(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(p(317));e:{for(a=a.nextSibling,e=0;a;){if(a.nodeType===8){var o=a.data;if(o==="/$"){if(e===0){yg=Lf(a.nextSibling);break e}e--}else o!=="$"&&o!=="$!"&&o!=="$?"||e++}a=a.nextSibling}yg=null}}else yg=xg?Lf(a.stateNode.nextSibling):null;return!0}function Hg(){for(var a=yg;a;)a=Lf(a.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg(a){zg===null?zg=[a]:zg.push(a)}var Kg=ua.ReactCurrentBatchConfig;function Lg(a,e){if(a&&a.defaultProps){e=A$1({},e),a=a.defaultProps;for(var o in a)e[o]===void 0&&(e[o]=a[o]);return e}return e}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(a){var e=Mg.current;E(Mg),a._currentValue=e}function Sg(a,e,o){for(;a!==null;){var c=a.alternate;if((a.childLanes&e)!==e?(a.childLanes|=e,c!==null&&(c.childLanes|=e)):c!==null&&(c.childLanes&e)!==e&&(c.childLanes|=e),a===o)break;a=a.return}}function Tg(a,e){Ng=a,Pg=Og=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&e&&(Ug=!0),a.firstContext=null)}function Vg(a){var e=a._currentValue;if(Pg!==a)if(a={context:a,memoizedValue:e,next:null},Og===null){if(Ng===null)throw Error(p(308));Og=a,Ng.dependencies={lanes:0,firstContext:a}}else Og=Og.next=a;return e}var Wg=null;function Xg(a){Wg===null?Wg=[a]:Wg.push(a)}function Yg(a,e,o,c){var d=e.interleaved;return d===null?(o.next=o,Xg(e)):(o.next=d.next,d.next=o),e.interleaved=o,Zg(a,c)}function Zg(a,e){a.lanes|=e;var o=a.alternate;for(o!==null&&(o.lanes|=e),o=a,a=a.return;a!==null;)a.childLanes|=e,o=a.alternate,o!==null&&(o.childLanes|=e),o=a,a=a.return;return o.tag===3?o.stateNode:null}var $g=!1;function ah(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(a,e){a=a.updateQueue,e.updateQueue===a&&(e.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function ch(a,e){return{eventTime:a,lane:e,tag:0,payload:null,callback:null,next:null}}function dh(a,e,o){var c=a.updateQueue;if(c===null)return null;if(c=c.shared,K$1&2){var d=c.pending;return d===null?e.next=e:(e.next=d.next,d.next=e),c.pending=e,Zg(a,o)}return d=c.interleaved,d===null?(e.next=e,Xg(c)):(e.next=d.next,d.next=e),c.interleaved=e,Zg(a,o)}function eh(a,e,o){if(e=e.updateQueue,e!==null&&(e=e.shared,(o&4194240)!==0)){var c=e.lanes;c&=a.pendingLanes,o|=c,e.lanes=o,Cc(a,o)}}function fh(a,e){var o=a.updateQueue,c=a.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,h=null;if(o=o.firstBaseUpdate,o!==null){do{var et={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};h===null?d=h=et:h=h.next=et,o=o.next}while(o!==null);h===null?d=h=e:h=h.next=e}else d=h=e;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:c.shared,effects:c.effects},a.updateQueue=o;return}a=o.lastBaseUpdate,a===null?o.firstBaseUpdate=e:a.next=e,o.lastBaseUpdate=e}function gh(a,e,o,c){var d=a.updateQueue;$g=!1;var h=d.firstBaseUpdate,et=d.lastBaseUpdate,tt=d.shared.pending;if(tt!==null){d.shared.pending=null;var ot=tt,ft=ot.next;ot.next=null,et===null?h=ft:et.next=ft,et=ot;var ht=a.alternate;ht!==null&&(ht=ht.updateQueue,tt=ht.lastBaseUpdate,tt!==et&&(tt===null?ht.firstBaseUpdate=ft:tt.next=ft,ht.lastBaseUpdate=ot))}if(h!==null){var yt=d.baseState;et=0,ht=ft=ot=null,tt=h;do{var gt=tt.lane,wt=tt.eventTime;if((c&gt)===gt){ht!==null&&(ht=ht.next={eventTime:wt,lane:0,tag:tt.tag,payload:tt.payload,callback:tt.callback,next:null});e:{var bt=a,xt=tt;switch(gt=e,wt=o,xt.tag){case 1:if(bt=xt.payload,typeof bt=="function"){yt=bt.call(wt,yt,gt);break e}yt=bt;break e;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=xt.payload,gt=typeof bt=="function"?bt.call(wt,yt,gt):bt,gt==null)break e;yt=A$1({},yt,gt);break e;case 2:$g=!0}}tt.callback!==null&&tt.lane!==0&&(a.flags|=64,gt=d.effects,gt===null?d.effects=[tt]:gt.push(tt))}else wt={eventTime:wt,lane:gt,tag:tt.tag,payload:tt.payload,callback:tt.callback,next:null},ht===null?(ft=ht=wt,ot=yt):ht=ht.next=wt,et|=gt;if(tt=tt.next,tt===null){if(tt=d.shared.pending,tt===null)break;gt=tt,tt=gt.next,gt.next=null,d.lastBaseUpdate=gt,d.shared.pending=null}}while(!0);if(ht===null&&(ot=yt),d.baseState=ot,d.firstBaseUpdate=ft,d.lastBaseUpdate=ht,e=d.shared.interleaved,e!==null){d=e;do et|=d.lane,d=d.next;while(d!==e)}else h===null&&(d.shared.lanes=0);hh|=et,a.lanes=et,a.memoizedState=yt}}function ih(a,e,o){if(a=e.effects,e.effects=null,a!==null)for(e=0;e<a.length;e++){var c=a[e],d=c.callback;if(d!==null){if(c.callback=null,c=o,typeof d!="function")throw Error(p(191,d));d.call(c)}}}var jh=new aa.Component().refs;function kh(a,e,o,c){e=a.memoizedState,o=o(c,e),o=o==null?e:A$1({},e,o),a.memoizedState=o,a.lanes===0&&(a.updateQueue.baseState=o)}var nh={isMounted:function(a){return(a=a._reactInternals)?Vb(a)===a:!1},enqueueSetState:function(a,e,o){a=a._reactInternals;var c=L$1(),d=lh(a),h=ch(c,d);h.payload=e,o!=null&&(h.callback=o),e=dh(a,h,d),e!==null&&(mh(e,a,d,c),eh(e,a,d))},enqueueReplaceState:function(a,e,o){a=a._reactInternals;var c=L$1(),d=lh(a),h=ch(c,d);h.tag=1,h.payload=e,o!=null&&(h.callback=o),e=dh(a,h,d),e!==null&&(mh(e,a,d,c),eh(e,a,d))},enqueueForceUpdate:function(a,e){a=a._reactInternals;var o=L$1(),c=lh(a),d=ch(o,c);d.tag=2,e!=null&&(d.callback=e),e=dh(a,d,c),e!==null&&(mh(e,a,c,o),eh(e,a,c))}};function oh(a,e,o,c,d,h,et){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(c,h,et):e.prototype&&e.prototype.isPureReactComponent?!Ie$1(o,c)||!Ie$1(d,h):!0}function ph(a,e,o){var c=!1,d=Vf,h=e.contextType;return typeof h=="object"&&h!==null?h=Vg(h):(d=Zf(e)?Xf:H$1.current,c=e.contextTypes,h=(c=c!=null)?Yf(a,d):Vf),e=new e(o,h),a.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nh,a.stateNode=e,e._reactInternals=a,c&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=d,a.__reactInternalMemoizedMaskedChildContext=h),e}function qh(a,e,o,c){a=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(o,c),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(o,c),e.state!==a&&nh.enqueueReplaceState(e,e.state,null)}function rh(a,e,o,c){var d=a.stateNode;d.props=o,d.state=a.memoizedState,d.refs=jh,ah(a);var h=e.contextType;typeof h=="object"&&h!==null?d.context=Vg(h):(h=Zf(e)?Xf:H$1.current,d.context=Yf(a,h)),d.state=a.memoizedState,h=e.getDerivedStateFromProps,typeof h=="function"&&(kh(a,e,h,o),d.state=a.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(e=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),e!==d.state&&nh.enqueueReplaceState(d,d.state,null),gh(a,o,d,c),d.state=a.memoizedState),typeof d.componentDidMount=="function"&&(a.flags|=4194308)}function sh(a,e,o){if(a=o.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(p(309));var c=o.stateNode}if(!c)throw Error(p(147,a));var d=c,h=""+a;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===h?e.ref:(e=function(et){var tt=d.refs;tt===jh&&(tt=d.refs={}),et===null?delete tt[h]:tt[h]=et},e._stringRef=h,e)}if(typeof a!="string")throw Error(p(284));if(!o._owner)throw Error(p(290,a))}return a}function th(a,e){throw a=Object.prototype.toString.call(e),Error(p(31,a==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":a))}function uh(a){var e=a._init;return e(a._payload)}function vh(a){function e(vt,$t){if(a){var At=vt.deletions;At===null?(vt.deletions=[$t],vt.flags|=16):At.push($t)}}function o(vt,$t){if(!a)return null;for(;$t!==null;)e(vt,$t),$t=$t.sibling;return null}function c(vt,$t){for(vt=new Map;$t!==null;)$t.key!==null?vt.set($t.key,$t):vt.set($t.index,$t),$t=$t.sibling;return vt}function d(vt,$t){return vt=wh(vt,$t),vt.index=0,vt.sibling=null,vt}function h(vt,$t,At){return vt.index=At,a?(At=vt.alternate,At!==null?(At=At.index,At<$t?(vt.flags|=2,$t):At):(vt.flags|=2,$t)):(vt.flags|=1048576,$t)}function et(vt){return a&&vt.alternate===null&&(vt.flags|=2),vt}function tt(vt,$t,At,kt){return $t===null||$t.tag!==6?($t=xh(At,vt.mode,kt),$t.return=vt,$t):($t=d($t,At),$t.return=vt,$t)}function ot(vt,$t,At,kt){var It=At.type;return It===ya?ht(vt,$t,At.props.children,kt,At.key):$t!==null&&($t.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===Ha&&uh(It)===$t.type)?(kt=d($t,At.props),kt.ref=sh(vt,$t,At),kt.return=vt,kt):(kt=yh(At.type,At.key,At.props,null,vt.mode,kt),kt.ref=sh(vt,$t,At),kt.return=vt,kt)}function ft(vt,$t,At,kt){return $t===null||$t.tag!==4||$t.stateNode.containerInfo!==At.containerInfo||$t.stateNode.implementation!==At.implementation?($t=zh(At,vt.mode,kt),$t.return=vt,$t):($t=d($t,At.children||[]),$t.return=vt,$t)}function ht(vt,$t,At,kt,It){return $t===null||$t.tag!==7?($t=Ah(At,vt.mode,kt,It),$t.return=vt,$t):($t=d($t,At),$t.return=vt,$t)}function yt(vt,$t,At){if(typeof $t=="string"&&$t!==""||typeof $t=="number")return $t=xh(""+$t,vt.mode,At),$t.return=vt,$t;if(typeof $t=="object"&&$t!==null){switch($t.$$typeof){case va:return At=yh($t.type,$t.key,$t.props,null,vt.mode,At),At.ref=sh(vt,null,$t),At.return=vt,At;case wa:return $t=zh($t,vt.mode,At),$t.return=vt,$t;case Ha:var kt=$t._init;return yt(vt,kt($t._payload),At)}if(eb($t)||Ka($t))return $t=Ah($t,vt.mode,At,null),$t.return=vt,$t;th(vt,$t)}return null}function gt(vt,$t,At,kt){var It=$t!==null?$t.key:null;if(typeof At=="string"&&At!==""||typeof At=="number")return It!==null?null:tt(vt,$t,""+At,kt);if(typeof At=="object"&&At!==null){switch(At.$$typeof){case va:return At.key===It?ot(vt,$t,At,kt):null;case wa:return At.key===It?ft(vt,$t,At,kt):null;case Ha:return It=At._init,gt(vt,$t,It(At._payload),kt)}if(eb(At)||Ka(At))return It!==null?null:ht(vt,$t,At,kt,null);th(vt,At)}return null}function wt(vt,$t,At,kt,It){if(typeof kt=="string"&&kt!==""||typeof kt=="number")return vt=vt.get(At)||null,tt($t,vt,""+kt,It);if(typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case va:return vt=vt.get(kt.key===null?At:kt.key)||null,ot($t,vt,kt,It);case wa:return vt=vt.get(kt.key===null?At:kt.key)||null,ft($t,vt,kt,It);case Ha:var Dt=kt._init;return wt(vt,$t,At,Dt(kt._payload),It)}if(eb(kt)||Ka(kt))return vt=vt.get(At)||null,ht($t,vt,kt,It,null);th($t,kt)}return null}function bt(vt,$t,At,kt){for(var It=null,Dt=null,Mt=$t,zt=$t=0,Kt=null;Mt!==null&&zt<At.length;zt++){Mt.index>zt?(Kt=Mt,Mt=null):Kt=Mt.sibling;var Yt=gt(vt,Mt,At[zt],kt);if(Yt===null){Mt===null&&(Mt=Kt);break}a&&Mt&&Yt.alternate===null&&e(vt,Mt),$t=h(Yt,$t,zt),Dt===null?It=Yt:Dt.sibling=Yt,Dt=Yt,Mt=Kt}if(zt===At.length)return o(vt,Mt),I$1&&tg(vt,zt),It;if(Mt===null){for(;zt<At.length;zt++)Mt=yt(vt,At[zt],kt),Mt!==null&&($t=h(Mt,$t,zt),Dt===null?It=Mt:Dt.sibling=Mt,Dt=Mt);return I$1&&tg(vt,zt),It}for(Mt=c(vt,Mt);zt<At.length;zt++)Kt=wt(Mt,vt,zt,At[zt],kt),Kt!==null&&(a&&Kt.alternate!==null&&Mt.delete(Kt.key===null?zt:Kt.key),$t=h(Kt,$t,zt),Dt===null?It=Kt:Dt.sibling=Kt,Dt=Kt);return a&&Mt.forEach(function(er){return e(vt,er)}),I$1&&tg(vt,zt),It}function xt(vt,$t,At,kt){var It=Ka(At);if(typeof It!="function")throw Error(p(150));if(At=It.call(At),At==null)throw Error(p(151));for(var Dt=It=null,Mt=$t,zt=$t=0,Kt=null,Yt=At.next();Mt!==null&&!Yt.done;zt++,Yt=At.next()){Mt.index>zt?(Kt=Mt,Mt=null):Kt=Mt.sibling;var er=gt(vt,Mt,Yt.value,kt);if(er===null){Mt===null&&(Mt=Kt);break}a&&Mt&&er.alternate===null&&e(vt,Mt),$t=h(er,$t,zt),Dt===null?It=er:Dt.sibling=er,Dt=er,Mt=Kt}if(Yt.done)return o(vt,Mt),I$1&&tg(vt,zt),It;if(Mt===null){for(;!Yt.done;zt++,Yt=At.next())Yt=yt(vt,Yt.value,kt),Yt!==null&&($t=h(Yt,$t,zt),Dt===null?It=Yt:Dt.sibling=Yt,Dt=Yt);return I$1&&tg(vt,zt),It}for(Mt=c(vt,Mt);!Yt.done;zt++,Yt=At.next())Yt=wt(Mt,vt,zt,Yt.value,kt),Yt!==null&&(a&&Yt.alternate!==null&&Mt.delete(Yt.key===null?zt:Yt.key),$t=h(Yt,$t,zt),Dt===null?It=Yt:Dt.sibling=Yt,Dt=Yt);return a&&Mt.forEach(function(qt){return e(vt,qt)}),I$1&&tg(vt,zt),It}function Et(vt,$t,At,kt){if(typeof At=="object"&&At!==null&&At.type===ya&&At.key===null&&(At=At.props.children),typeof At=="object"&&At!==null){switch(At.$$typeof){case va:e:{for(var It=At.key,Dt=$t;Dt!==null;){if(Dt.key===It){if(It=At.type,It===ya){if(Dt.tag===7){o(vt,Dt.sibling),$t=d(Dt,At.props.children),$t.return=vt,vt=$t;break e}}else if(Dt.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===Ha&&uh(It)===Dt.type){o(vt,Dt.sibling),$t=d(Dt,At.props),$t.ref=sh(vt,Dt,At),$t.return=vt,vt=$t;break e}o(vt,Dt);break}else e(vt,Dt);Dt=Dt.sibling}At.type===ya?($t=Ah(At.props.children,vt.mode,kt,At.key),$t.return=vt,vt=$t):(kt=yh(At.type,At.key,At.props,null,vt.mode,kt),kt.ref=sh(vt,$t,At),kt.return=vt,vt=kt)}return et(vt);case wa:e:{for(Dt=At.key;$t!==null;){if($t.key===Dt)if($t.tag===4&&$t.stateNode.containerInfo===At.containerInfo&&$t.stateNode.implementation===At.implementation){o(vt,$t.sibling),$t=d($t,At.children||[]),$t.return=vt,vt=$t;break e}else{o(vt,$t);break}else e(vt,$t);$t=$t.sibling}$t=zh(At,vt.mode,kt),$t.return=vt,vt=$t}return et(vt);case Ha:return Dt=At._init,Et(vt,$t,Dt(At._payload),kt)}if(eb(At))return bt(vt,$t,At,kt);if(Ka(At))return xt(vt,$t,At,kt);th(vt,At)}return typeof At=="string"&&At!==""||typeof At=="number"?(At=""+At,$t!==null&&$t.tag===6?(o(vt,$t.sibling),$t=d($t,At),$t.return=vt,vt=$t):(o(vt,$t),$t=xh(At,vt.mode,kt),$t.return=vt,vt=$t),et(vt)):o(vt,$t)}return Et}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(a){if(a===Dh)throw Error(p(174));return a}function Ih(a,e){switch(G$1(Gh,e),G$1(Fh,a),G$1(Eh,Dh),a=e.nodeType,a){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lb(null,"");break;default:a=a===8?e.parentNode:e,e=a.namespaceURI||null,a=a.tagName,e=lb(e,a)}E(Eh),G$1(Eh,e)}function Jh(){E(Eh),E(Fh),E(Gh)}function Kh(a){Hh(Gh.current);var e=Hh(Eh.current),o=lb(e,a.type);e!==o&&(G$1(Fh,a),G$1(Eh,o))}function Lh(a){Fh.current===a&&(E(Eh),E(Fh))}var M$1=Uf(0);function Mh(a){for(var e=a;e!==null;){if(e.tag===13){var o=e.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===a)break;for(;e.sibling===null;){if(e.return===null||e.return===a)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Nh=[];function Oh(){for(var a=0;a<Nh.length;a++)Nh[a]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N$1=null,O$1=null,P=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q$1(){throw Error(p(321))}function Wh(a,e){if(e===null)return!1;for(var o=0;o<e.length&&o<a.length;o++)if(!He$1(a[o],e[o]))return!1;return!0}function Xh(a,e,o,c,d,h){if(Rh=h,N$1=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ph.current=a===null||a.memoizedState===null?Yh:Zh,a=o(c,d),Th){h=0;do{if(Th=!1,Uh=0,25<=h)throw Error(p(301));h+=1,P=O$1=null,e.updateQueue=null,Ph.current=$h,a=o(c,d)}while(Th)}if(Ph.current=ai,e=O$1!==null&&O$1.next!==null,Rh=0,P=O$1=N$1=null,Sh=!1,e)throw Error(p(300));return a}function bi(){var a=Uh!==0;return Uh=0,a}function ci(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P===null?N$1.memoizedState=P=a:P=P.next=a,P}function di(){if(O$1===null){var a=N$1.alternate;a=a!==null?a.memoizedState:null}else a=O$1.next;var e=P===null?N$1.memoizedState:P.next;if(e!==null)P=e,O$1=a;else{if(a===null)throw Error(p(310));O$1=a,a={memoizedState:O$1.memoizedState,baseState:O$1.baseState,baseQueue:O$1.baseQueue,queue:O$1.queue,next:null},P===null?N$1.memoizedState=P=a:P=P.next=a}return P}function ei(a,e){return typeof e=="function"?e(a):e}function fi(a){var e=di(),o=e.queue;if(o===null)throw Error(p(311));o.lastRenderedReducer=a;var c=O$1,d=c.baseQueue,h=o.pending;if(h!==null){if(d!==null){var et=d.next;d.next=h.next,h.next=et}c.baseQueue=d=h,o.pending=null}if(d!==null){h=d.next,c=c.baseState;var tt=et=null,ot=null,ft=h;do{var ht=ft.lane;if((Rh&ht)===ht)ot!==null&&(ot=ot.next={lane:0,action:ft.action,hasEagerState:ft.hasEagerState,eagerState:ft.eagerState,next:null}),c=ft.hasEagerState?ft.eagerState:a(c,ft.action);else{var yt={lane:ht,action:ft.action,hasEagerState:ft.hasEagerState,eagerState:ft.eagerState,next:null};ot===null?(tt=ot=yt,et=c):ot=ot.next=yt,N$1.lanes|=ht,hh|=ht}ft=ft.next}while(ft!==null&&ft!==h);ot===null?et=c:ot.next=tt,He$1(c,e.memoizedState)||(Ug=!0),e.memoizedState=c,e.baseState=et,e.baseQueue=ot,o.lastRenderedState=c}if(a=o.interleaved,a!==null){d=a;do h=d.lane,N$1.lanes|=h,hh|=h,d=d.next;while(d!==a)}else d===null&&(o.lanes=0);return[e.memoizedState,o.dispatch]}function gi(a){var e=di(),o=e.queue;if(o===null)throw Error(p(311));o.lastRenderedReducer=a;var c=o.dispatch,d=o.pending,h=e.memoizedState;if(d!==null){o.pending=null;var et=d=d.next;do h=a(h,et.action),et=et.next;while(et!==d);He$1(h,e.memoizedState)||(Ug=!0),e.memoizedState=h,e.baseQueue===null&&(e.baseState=h),o.lastRenderedState=h}return[h,c]}function hi(){}function ii(a,e){var o=N$1,c=di(),d=e(),h=!He$1(c.memoizedState,d);if(h&&(c.memoizedState=d,Ug=!0),c=c.queue,ji(ki.bind(null,o,c,a),[a]),c.getSnapshot!==e||h||P!==null&&P.memoizedState.tag&1){if(o.flags|=2048,li(9,mi.bind(null,o,c,d,e),void 0,null),R$1===null)throw Error(p(349));Rh&30||ni(o,e,d)}return d}function ni(a,e,o){a.flags|=16384,a={getSnapshot:e,value:o},e=N$1.updateQueue,e===null?(e={lastEffect:null,stores:null},N$1.updateQueue=e,e.stores=[a]):(o=e.stores,o===null?e.stores=[a]:o.push(a))}function mi(a,e,o,c){e.value=o,e.getSnapshot=c,oi(e)&&pi(a)}function ki(a,e,o){return o(function(){oi(e)&&pi(a)})}function oi(a){var e=a.getSnapshot;a=a.value;try{var o=e();return!He$1(a,o)}catch{return!0}}function pi(a){var e=Zg(a,1);e!==null&&mh(e,a,1,-1)}function qi(a){var e=ci();return typeof a=="function"&&(a=a()),e.memoizedState=e.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:a},e.queue=a,a=a.dispatch=ri.bind(null,N$1,a),[e.memoizedState,a]}function li(a,e,o,c){return a={tag:a,create:e,destroy:o,deps:c,next:null},e=N$1.updateQueue,e===null?(e={lastEffect:null,stores:null},N$1.updateQueue=e,e.lastEffect=a.next=a):(o=e.lastEffect,o===null?e.lastEffect=a.next=a:(c=o.next,o.next=a,a.next=c,e.lastEffect=a)),a}function si(){return di().memoizedState}function ti(a,e,o,c){var d=ci();N$1.flags|=a,d.memoizedState=li(1|e,o,void 0,c===void 0?null:c)}function ui(a,e,o,c){var d=di();c=c===void 0?null:c;var h=void 0;if(O$1!==null){var et=O$1.memoizedState;if(h=et.destroy,c!==null&&Wh(c,et.deps)){d.memoizedState=li(e,o,h,c);return}}N$1.flags|=a,d.memoizedState=li(1|e,o,h,c)}function vi(a,e){return ti(8390656,8,a,e)}function ji(a,e){return ui(2048,8,a,e)}function wi(a,e){return ui(4,2,a,e)}function xi(a,e){return ui(4,4,a,e)}function yi(a,e){if(typeof e=="function")return a=a(),e(a),function(){e(null)};if(e!=null)return a=a(),e.current=a,function(){e.current=null}}function zi(a,e,o){return o=o!=null?o.concat([a]):null,ui(4,4,yi.bind(null,e,a),o)}function Ai(){}function Bi(a,e){var o=di();e=e===void 0?null:e;var c=o.memoizedState;return c!==null&&e!==null&&Wh(e,c[1])?c[0]:(o.memoizedState=[a,e],a)}function Ci(a,e){var o=di();e=e===void 0?null:e;var c=o.memoizedState;return c!==null&&e!==null&&Wh(e,c[1])?c[0]:(a=a(),o.memoizedState=[a,e],a)}function Di(a,e,o){return Rh&21?(He$1(o,e)||(o=yc(),N$1.lanes|=o,hh|=o,a.baseState=!0),e):(a.baseState&&(a.baseState=!1,Ug=!0),a.memoizedState=o)}function Ei(a,e){var o=C$1;C$1=o!==0&&4>o?o:4,a(!0);var c=Qh.transition;Qh.transition={};try{a(!1),e()}finally{C$1=o,Qh.transition=c}}function Fi(){return di().memoizedState}function Gi(a,e,o){var c=lh(a);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},Hi(a))Ii(e,o);else if(o=Yg(a,e,o,c),o!==null){var d=L$1();mh(o,a,c,d),Ji(o,e,c)}}function ri(a,e,o){var c=lh(a),d={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(Hi(a))Ii(e,d);else{var h=a.alternate;if(a.lanes===0&&(h===null||h.lanes===0)&&(h=e.lastRenderedReducer,h!==null))try{var et=e.lastRenderedState,tt=h(et,o);if(d.hasEagerState=!0,d.eagerState=tt,He$1(tt,et)){var ot=e.interleaved;ot===null?(d.next=d,Xg(e)):(d.next=ot.next,ot.next=d),e.interleaved=d;return}}catch{}finally{}o=Yg(a,e,d,c),o!==null&&(d=L$1(),mh(o,a,c,d),Ji(o,e,c))}}function Hi(a){var e=a.alternate;return a===N$1||e!==null&&e===N$1}function Ii(a,e){Th=Sh=!0;var o=a.pending;o===null?e.next=e:(e.next=o.next,o.next=e),a.pending=e}function Ji(a,e,o){if(o&4194240){var c=e.lanes;c&=a.pendingLanes,o|=c,e.lanes=o,Cc(a,o)}}var ai={readContext:Vg,useCallback:Q$1,useContext:Q$1,useEffect:Q$1,useImperativeHandle:Q$1,useInsertionEffect:Q$1,useLayoutEffect:Q$1,useMemo:Q$1,useReducer:Q$1,useRef:Q$1,useState:Q$1,useDebugValue:Q$1,useDeferredValue:Q$1,useTransition:Q$1,useMutableSource:Q$1,useSyncExternalStore:Q$1,useId:Q$1,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(a,e){return ci().memoizedState=[a,e===void 0?null:e],a},useContext:Vg,useEffect:vi,useImperativeHandle:function(a,e,o){return o=o!=null?o.concat([a]):null,ti(4194308,4,yi.bind(null,e,a),o)},useLayoutEffect:function(a,e){return ti(4194308,4,a,e)},useInsertionEffect:function(a,e){return ti(4,2,a,e)},useMemo:function(a,e){var o=ci();return e=e===void 0?null:e,a=a(),o.memoizedState=[a,e],a},useReducer:function(a,e,o){var c=ci();return e=o!==void 0?o(e):e,c.memoizedState=c.baseState=e,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:e},c.queue=a,a=a.dispatch=Gi.bind(null,N$1,a),[c.memoizedState,a]},useRef:function(a){var e=ci();return a={current:a},e.memoizedState=a},useState:qi,useDebugValue:Ai,useDeferredValue:function(a){return ci().memoizedState=a},useTransition:function(){var a=qi(!1),e=a[0];return a=Ei.bind(null,a[1]),ci().memoizedState=a,[e,a]},useMutableSource:function(){},useSyncExternalStore:function(a,e,o){var c=N$1,d=ci();if(I$1){if(o===void 0)throw Error(p(407));o=o()}else{if(o=e(),R$1===null)throw Error(p(349));Rh&30||ni(c,e,o)}d.memoizedState=o;var h={value:o,getSnapshot:e};return d.queue=h,vi(ki.bind(null,c,h,a),[a]),c.flags|=2048,li(9,mi.bind(null,c,h,o,e),void 0,null),o},useId:function(){var a=ci(),e=R$1.identifierPrefix;if(I$1){var o=sg,c=rg;o=(c&~(1<<32-oc(c)-1)).toString(32)+o,e=":"+e+"R"+o,o=Uh++,0<o&&(e+="H"+o.toString(32)),e+=":"}else o=Vh++,e=":"+e+"r"+o.toString(32)+":";return a.memoizedState=e},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(a){var e=di();return Di(e,O$1.memoizedState,a)},useTransition:function(){var a=fi(ei)[0],e=di().memoizedState;return[a,e]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(a){var e=di();return O$1===null?e.memoizedState=a:Di(e,O$1.memoizedState,a)},useTransition:function(){var a=gi(ei)[0],e=di().memoizedState;return[a,e]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(a,e){try{var o="",c=e;do o+=Pa(c),c=c.return;while(c);var d=o}catch(h){d=`
Error generating stack: `+h.message+`
`+h.stack}return{value:a,source:e,stack:d,digest:null}}function Li(a,e,o){return{value:a,source:null,stack:o??null,digest:e??null}}function Mi(a,e){try{console.error(e.value)}catch(o){setTimeout(function(){throw o})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(a,e,o){o=ch(-1,o),o.tag=3,o.payload={element:null};var c=e.value;return o.callback=function(){Pi$1||(Pi$1=!0,Qi=c),Mi(a,e)},o}function Ri(a,e,o){o=ch(-1,o),o.tag=3;var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var d=e.value;o.payload=function(){return c(d)},o.callback=function(){Mi(a,e)}}var h=a.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(o.callback=function(){Mi(a,e),typeof c!="function"&&(Si$1===null?Si$1=new Set([this]):Si$1.add(this));var et=e.stack;this.componentDidCatch(e.value,{componentStack:et!==null?et:""})}),o}function Ti(a,e,o){var c=a.pingCache;if(c===null){c=a.pingCache=new Ni;var d=new Set;c.set(e,d)}else d=c.get(e),d===void 0&&(d=new Set,c.set(e,d));d.has(o)||(d.add(o),a=Ui.bind(null,a,e,o),e.then(a,a))}function Vi(a){do{var e;if((e=a.tag===13)&&(e=a.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return a;a=a.return}while(a!==null);return null}function Wi(a,e,o,c,d){return a.mode&1?(a.flags|=65536,a.lanes=d,a):(a===e?a.flags|=65536:(a.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(e=ch(-1,1),e.tag=2,dh(o,e,1))),o.lanes|=1),a)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(a,e,o,c){e.child=a===null?Ch(e,null,o,c):Bh(e,a.child,o,c)}function Zi(a,e,o,c,d){o=o.render;var h=e.ref;return Tg(e,d),c=Xh(a,e,o,c,h,d),o=bi(),a!==null&&!Ug?(e.updateQueue=a.updateQueue,e.flags&=-2053,a.lanes&=~d,$i(a,e,d)):(I$1&&o&&vg(e),e.flags|=1,Yi(a,e,c,d),e.child)}function aj(a,e,o,c,d){if(a===null){var h=o.type;return typeof h=="function"&&!bj(h)&&h.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(e.tag=15,e.type=h,cj(a,e,h,c,d)):(a=yh(o.type,null,c,e,e.mode,d),a.ref=e.ref,a.return=e,e.child=a)}if(h=a.child,!(a.lanes&d)){var et=h.memoizedProps;if(o=o.compare,o=o!==null?o:Ie$1,o(et,c)&&a.ref===e.ref)return $i(a,e,d)}return e.flags|=1,a=wh(h,c),a.ref=e.ref,a.return=e,e.child=a}function cj(a,e,o,c,d){if(a!==null){var h=a.memoizedProps;if(Ie$1(h,c)&&a.ref===e.ref)if(Ug=!1,e.pendingProps=c=h,(a.lanes&d)!==0)a.flags&131072&&(Ug=!0);else return e.lanes=a.lanes,$i(a,e,d)}return dj(a,e,o,c,d)}function ej(a,e,o){var c=e.pendingProps,d=c.children,h=a!==null?a.memoizedState:null;if(c.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(fj,gj),gj|=o;else{if(!(o&1073741824))return a=h!==null?h.baseLanes|o:o,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:a,cachePool:null,transitions:null},e.updateQueue=null,G$1(fj,gj),gj|=a,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=h!==null?h.baseLanes:o,G$1(fj,gj),gj|=c}else h!==null?(c=h.baseLanes|o,e.memoizedState=null):c=o,G$1(fj,gj),gj|=c;return Yi(a,e,d,o),e.child}function hj(a,e){var o=e.ref;(a===null&&o!==null||a!==null&&a.ref!==o)&&(e.flags|=512,e.flags|=2097152)}function dj(a,e,o,c,d){var h=Zf(o)?Xf:H$1.current;return h=Yf(e,h),Tg(e,d),o=Xh(a,e,o,c,h,d),c=bi(),a!==null&&!Ug?(e.updateQueue=a.updateQueue,e.flags&=-2053,a.lanes&=~d,$i(a,e,d)):(I$1&&c&&vg(e),e.flags|=1,Yi(a,e,o,d),e.child)}function ij(a,e,o,c,d){if(Zf(o)){var h=!0;cg(e)}else h=!1;if(Tg(e,d),e.stateNode===null)jj(a,e),ph(e,o,c),rh(e,o,c,d),c=!0;else if(a===null){var et=e.stateNode,tt=e.memoizedProps;et.props=tt;var ot=et.context,ft=o.contextType;typeof ft=="object"&&ft!==null?ft=Vg(ft):(ft=Zf(o)?Xf:H$1.current,ft=Yf(e,ft));var ht=o.getDerivedStateFromProps,yt=typeof ht=="function"||typeof et.getSnapshotBeforeUpdate=="function";yt||typeof et.UNSAFE_componentWillReceiveProps!="function"&&typeof et.componentWillReceiveProps!="function"||(tt!==c||ot!==ft)&&qh(e,et,c,ft),$g=!1;var gt=e.memoizedState;et.state=gt,gh(e,c,et,d),ot=e.memoizedState,tt!==c||gt!==ot||Wf.current||$g?(typeof ht=="function"&&(kh(e,o,ht,c),ot=e.memoizedState),(tt=$g||oh(e,o,tt,c,gt,ot,ft))?(yt||typeof et.UNSAFE_componentWillMount!="function"&&typeof et.componentWillMount!="function"||(typeof et.componentWillMount=="function"&&et.componentWillMount(),typeof et.UNSAFE_componentWillMount=="function"&&et.UNSAFE_componentWillMount()),typeof et.componentDidMount=="function"&&(e.flags|=4194308)):(typeof et.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=c,e.memoizedState=ot),et.props=c,et.state=ot,et.context=ft,c=tt):(typeof et.componentDidMount=="function"&&(e.flags|=4194308),c=!1)}else{et=e.stateNode,bh(a,e),tt=e.memoizedProps,ft=e.type===e.elementType?tt:Lg(e.type,tt),et.props=ft,yt=e.pendingProps,gt=et.context,ot=o.contextType,typeof ot=="object"&&ot!==null?ot=Vg(ot):(ot=Zf(o)?Xf:H$1.current,ot=Yf(e,ot));var wt=o.getDerivedStateFromProps;(ht=typeof wt=="function"||typeof et.getSnapshotBeforeUpdate=="function")||typeof et.UNSAFE_componentWillReceiveProps!="function"&&typeof et.componentWillReceiveProps!="function"||(tt!==yt||gt!==ot)&&qh(e,et,c,ot),$g=!1,gt=e.memoizedState,et.state=gt,gh(e,c,et,d);var bt=e.memoizedState;tt!==yt||gt!==bt||Wf.current||$g?(typeof wt=="function"&&(kh(e,o,wt,c),bt=e.memoizedState),(ft=$g||oh(e,o,ft,c,gt,bt,ot)||!1)?(ht||typeof et.UNSAFE_componentWillUpdate!="function"&&typeof et.componentWillUpdate!="function"||(typeof et.componentWillUpdate=="function"&&et.componentWillUpdate(c,bt,ot),typeof et.UNSAFE_componentWillUpdate=="function"&&et.UNSAFE_componentWillUpdate(c,bt,ot)),typeof et.componentDidUpdate=="function"&&(e.flags|=4),typeof et.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof et.componentDidUpdate!="function"||tt===a.memoizedProps&&gt===a.memoizedState||(e.flags|=4),typeof et.getSnapshotBeforeUpdate!="function"||tt===a.memoizedProps&&gt===a.memoizedState||(e.flags|=1024),e.memoizedProps=c,e.memoizedState=bt),et.props=c,et.state=bt,et.context=ot,c=ft):(typeof et.componentDidUpdate!="function"||tt===a.memoizedProps&&gt===a.memoizedState||(e.flags|=4),typeof et.getSnapshotBeforeUpdate!="function"||tt===a.memoizedProps&&gt===a.memoizedState||(e.flags|=1024),c=!1)}return kj(a,e,o,c,h,d)}function kj(a,e,o,c,d,h){hj(a,e);var et=(e.flags&128)!==0;if(!c&&!et)return d&&dg(e,o,!1),$i(a,e,h);c=e.stateNode,Xi.current=e;var tt=et&&typeof o.getDerivedStateFromError!="function"?null:c.render();return e.flags|=1,a!==null&&et?(e.child=Bh(e,a.child,null,h),e.child=Bh(e,null,tt,h)):Yi(a,e,tt,h),e.memoizedState=c.state,d&&dg(e,o,!0),e.child}function lj(a){var e=a.stateNode;e.pendingContext?ag(a,e.pendingContext,e.pendingContext!==e.context):e.context&&ag(a,e.context,!1),Ih(a,e.containerInfo)}function mj(a,e,o,c,d){return Ig(),Jg(d),e.flags|=256,Yi(a,e,o,c),e.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(a){return{baseLanes:a,cachePool:null,transitions:null}}function pj(a,e,o){var c=e.pendingProps,d=M$1.current,h=!1,et=(e.flags&128)!==0,tt;if((tt=et)||(tt=a!==null&&a.memoizedState===null?!1:(d&2)!==0),tt?(h=!0,e.flags&=-129):(a===null||a.memoizedState!==null)&&(d|=1),G$1(M$1,d&1),a===null)return Eg(e),a=e.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(e.mode&1?a.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(et=c.children,a=c.fallback,h?(c=e.mode,h=e.child,et={mode:"hidden",children:et},!(c&1)&&h!==null?(h.childLanes=0,h.pendingProps=et):h=qj(et,c,0,null),a=Ah(a,c,o,null),h.return=e,a.return=e,h.sibling=a,e.child=h,e.child.memoizedState=oj(o),e.memoizedState=nj,a):rj(e,et));if(d=a.memoizedState,d!==null&&(tt=d.dehydrated,tt!==null))return sj(a,e,et,c,tt,d,o);if(h){h=c.fallback,et=e.mode,d=a.child,tt=d.sibling;var ot={mode:"hidden",children:c.children};return!(et&1)&&e.child!==d?(c=e.child,c.childLanes=0,c.pendingProps=ot,e.deletions=null):(c=wh(d,ot),c.subtreeFlags=d.subtreeFlags&14680064),tt!==null?h=wh(tt,h):(h=Ah(h,et,o,null),h.flags|=2),h.return=e,c.return=e,c.sibling=h,e.child=c,c=h,h=e.child,et=a.child.memoizedState,et=et===null?oj(o):{baseLanes:et.baseLanes|o,cachePool:null,transitions:et.transitions},h.memoizedState=et,h.childLanes=a.childLanes&~o,e.memoizedState=nj,c}return h=a.child,a=h.sibling,c=wh(h,{mode:"visible",children:c.children}),!(e.mode&1)&&(c.lanes=o),c.return=e,c.sibling=null,a!==null&&(o=e.deletions,o===null?(e.deletions=[a],e.flags|=16):o.push(a)),e.child=c,e.memoizedState=null,c}function rj(a,e){return e=qj({mode:"visible",children:e},a.mode,0,null),e.return=a,a.child=e}function tj(a,e,o,c){return c!==null&&Jg(c),Bh(e,a.child,null,o),a=rj(e,e.pendingProps.children),a.flags|=2,e.memoizedState=null,a}function sj(a,e,o,c,d,h,et){if(o)return e.flags&256?(e.flags&=-257,c=Li(Error(p(422))),tj(a,e,et,c)):e.memoizedState!==null?(e.child=a.child,e.flags|=128,null):(h=c.fallback,d=e.mode,c=qj({mode:"visible",children:c.children},d,0,null),h=Ah(h,d,et,null),h.flags|=2,c.return=e,h.return=e,c.sibling=h,e.child=c,e.mode&1&&Bh(e,a.child,null,et),e.child.memoizedState=oj(et),e.memoizedState=nj,h);if(!(e.mode&1))return tj(a,e,et,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var tt=c.dgst;return c=tt,h=Error(p(419)),c=Li(h,c,void 0),tj(a,e,et,c)}if(tt=(et&a.childLanes)!==0,Ug||tt){if(c=R$1,c!==null){switch(et&-et){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(c.suspendedLanes|et)?0:d,d!==0&&d!==h.retryLane&&(h.retryLane=d,Zg(a,d),mh(c,a,d,-1))}return uj(),c=Li(Error(p(421))),tj(a,e,et,c)}return d.data==="$?"?(e.flags|=128,e.child=a.child,e=vj.bind(null,a),d._reactRetry=e,null):(a=h.treeContext,yg=Lf(d.nextSibling),xg=e,I$1=!0,zg=null,a!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=a.id,sg=a.overflow,qg=e),e=rj(e,c.children),e.flags|=4096,e)}function wj(a,e,o){a.lanes|=e;var c=a.alternate;c!==null&&(c.lanes|=e),Sg(a.return,e,o)}function xj(a,e,o,c,d){var h=a.memoizedState;h===null?a.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d}:(h.isBackwards=e,h.rendering=null,h.renderingStartTime=0,h.last=c,h.tail=o,h.tailMode=d)}function yj(a,e,o){var c=e.pendingProps,d=c.revealOrder,h=c.tail;if(Yi(a,e,c.children,o),c=M$1.current,c&2)c=c&1|2,e.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=e.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&wj(a,o,e);else if(a.tag===19)wj(a,o,e);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}c&=1}if(G$1(M$1,c),!(e.mode&1))e.memoizedState=null;else switch(d){case"forwards":for(o=e.child,d=null;o!==null;)a=o.alternate,a!==null&&Mh(a)===null&&(d=o),o=o.sibling;o=d,o===null?(d=e.child,e.child=null):(d=o.sibling,o.sibling=null),xj(e,!1,d,o,h);break;case"backwards":for(o=null,d=e.child,e.child=null;d!==null;){if(a=d.alternate,a!==null&&Mh(a)===null){e.child=d;break}a=d.sibling,d.sibling=o,o=d,d=a}xj(e,!0,o,null,h);break;case"together":xj(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function jj(a,e){!(e.mode&1)&&a!==null&&(a.alternate=null,e.alternate=null,e.flags|=2)}function $i(a,e,o){if(a!==null&&(e.dependencies=a.dependencies),hh|=e.lanes,!(o&e.childLanes))return null;if(a!==null&&e.child!==a.child)throw Error(p(153));if(e.child!==null){for(a=e.child,o=wh(a,a.pendingProps),e.child=o,o.return=e;a.sibling!==null;)a=a.sibling,o=o.sibling=wh(a,a.pendingProps),o.return=e;o.sibling=null}return e.child}function zj(a,e,o){switch(e.tag){case 3:lj(e),Ig();break;case 5:Kh(e);break;case 1:Zf(e.type)&&cg(e);break;case 4:Ih(e,e.stateNode.containerInfo);break;case 10:var c=e.type._context,d=e.memoizedProps.value;G$1(Mg,c._currentValue),c._currentValue=d;break;case 13:if(c=e.memoizedState,c!==null)return c.dehydrated!==null?(G$1(M$1,M$1.current&1),e.flags|=128,null):o&e.child.childLanes?pj(a,e,o):(G$1(M$1,M$1.current&1),a=$i(a,e,o),a!==null?a.sibling:null);G$1(M$1,M$1.current&1);break;case 19:if(c=(o&e.childLanes)!==0,a.flags&128){if(c)return yj(a,e,o);e.flags|=128}if(d=e.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),G$1(M$1,M$1.current),c)break;return null;case 22:case 23:return e.lanes=0,ej(a,e,o)}return $i(a,e,o)}var Aj,Bj,Cj,Dj;Aj=function(a,e){for(var o=e.child;o!==null;){if(o.tag===5||o.tag===6)a.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break;for(;o.sibling===null;){if(o.return===null||o.return===e)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};Bj=function(){};Cj=function(a,e,o,c){var d=a.memoizedProps;if(d!==c){a=e.stateNode,Hh(Eh.current);var h=null;switch(o){case"input":d=Ya(a,d),c=Ya(a,c),h=[];break;case"select":d=A$1({},d,{value:void 0}),c=A$1({},c,{value:void 0}),h=[];break;case"textarea":d=gb(a,d),c=gb(a,c),h=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(a.onclick=Bf)}ub(o,c);var et;o=null;for(ft in d)if(!c.hasOwnProperty(ft)&&d.hasOwnProperty(ft)&&d[ft]!=null)if(ft==="style"){var tt=d[ft];for(et in tt)tt.hasOwnProperty(et)&&(o||(o={}),o[et]="")}else ft!=="dangerouslySetInnerHTML"&&ft!=="children"&&ft!=="suppressContentEditableWarning"&&ft!=="suppressHydrationWarning"&&ft!=="autoFocus"&&(ea.hasOwnProperty(ft)?h||(h=[]):(h=h||[]).push(ft,null));for(ft in c){var ot=c[ft];if(tt=d!=null?d[ft]:void 0,c.hasOwnProperty(ft)&&ot!==tt&&(ot!=null||tt!=null))if(ft==="style")if(tt){for(et in tt)!tt.hasOwnProperty(et)||ot&&ot.hasOwnProperty(et)||(o||(o={}),o[et]="");for(et in ot)ot.hasOwnProperty(et)&&tt[et]!==ot[et]&&(o||(o={}),o[et]=ot[et])}else o||(h||(h=[]),h.push(ft,o)),o=ot;else ft==="dangerouslySetInnerHTML"?(ot=ot?ot.__html:void 0,tt=tt?tt.__html:void 0,ot!=null&&tt!==ot&&(h=h||[]).push(ft,ot)):ft==="children"?typeof ot!="string"&&typeof ot!="number"||(h=h||[]).push(ft,""+ot):ft!=="suppressContentEditableWarning"&&ft!=="suppressHydrationWarning"&&(ea.hasOwnProperty(ft)?(ot!=null&&ft==="onScroll"&&D$1("scroll",a),h||tt===ot||(h=[])):(h=h||[]).push(ft,ot))}o&&(h=h||[]).push("style",o);var ft=h;(e.updateQueue=ft)&&(e.flags|=4)}};Dj=function(a,e,o,c){o!==c&&(e.flags|=4)};function Ej(a,e){if(!I$1)switch(a.tailMode){case"hidden":e=a.tail;for(var o=null;e!==null;)e.alternate!==null&&(o=e),e=e.sibling;o===null?a.tail=null:o.sibling=null;break;case"collapsed":o=a.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?e||a.tail===null?a.tail=null:a.tail.sibling=null:c.sibling=null}}function S$2(a){var e=a.alternate!==null&&a.alternate.child===a.child,o=0,c=0;if(e)for(var d=a.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=a,d=d.sibling;else for(d=a.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=a,d=d.sibling;return a.subtreeFlags|=c,a.childLanes=o,e}function Fj(a,e,o){var c=e.pendingProps;switch(wg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$2(e),null;case 1:return Zf(e.type)&&$f(),S$2(e),null;case 3:return c=e.stateNode,Jh(),E(Wf),E(H$1),Oh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(Gg(e)?e.flags|=4:a===null||a.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(a,e),S$2(e),null;case 5:Lh(e);var d=Hh(Gh.current);if(o=e.type,a!==null&&e.stateNode!=null)Cj(a,e,o,c,d),a.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!c){if(e.stateNode===null)throw Error(p(166));return S$2(e),null}if(a=Hh(Eh.current),Gg(e)){c=e.stateNode,o=e.type;var h=e.memoizedProps;switch(c[Of]=e,c[Pf]=h,a=(e.mode&1)!==0,o){case"dialog":D$1("cancel",c),D$1("close",c);break;case"iframe":case"object":case"embed":D$1("load",c);break;case"video":case"audio":for(d=0;d<lf.length;d++)D$1(lf[d],c);break;case"source":D$1("error",c);break;case"img":case"image":case"link":D$1("error",c),D$1("load",c);break;case"details":D$1("toggle",c);break;case"input":Za(c,h),D$1("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!h.multiple},D$1("invalid",c);break;case"textarea":hb(c,h),D$1("invalid",c)}ub(o,h),d=null;for(var et in h)if(h.hasOwnProperty(et)){var tt=h[et];et==="children"?typeof tt=="string"?c.textContent!==tt&&(h.suppressHydrationWarning!==!0&&Af(c.textContent,tt,a),d=["children",tt]):typeof tt=="number"&&c.textContent!==""+tt&&(h.suppressHydrationWarning!==!0&&Af(c.textContent,tt,a),d=["children",""+tt]):ea.hasOwnProperty(et)&&tt!=null&&et==="onScroll"&&D$1("scroll",c)}switch(o){case"input":Va(c),db(c,h,!0);break;case"textarea":Va(c),jb(c);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(c.onclick=Bf)}c=d,e.updateQueue=c,c!==null&&(e.flags|=4)}else{et=d.nodeType===9?d:d.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=kb(o)),a==="http://www.w3.org/1999/xhtml"?o==="script"?(a=et.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof c.is=="string"?a=et.createElement(o,{is:c.is}):(a=et.createElement(o),o==="select"&&(et=a,c.multiple?et.multiple=!0:c.size&&(et.size=c.size))):a=et.createElementNS(a,o),a[Of]=e,a[Pf]=c,Aj(a,e,!1,!1),e.stateNode=a;e:{switch(et=vb(o,c),o){case"dialog":D$1("cancel",a),D$1("close",a),d=c;break;case"iframe":case"object":case"embed":D$1("load",a),d=c;break;case"video":case"audio":for(d=0;d<lf.length;d++)D$1(lf[d],a);d=c;break;case"source":D$1("error",a),d=c;break;case"img":case"image":case"link":D$1("error",a),D$1("load",a),d=c;break;case"details":D$1("toggle",a),d=c;break;case"input":Za(a,c),d=Ya(a,c),D$1("invalid",a);break;case"option":d=c;break;case"select":a._wrapperState={wasMultiple:!!c.multiple},d=A$1({},c,{value:void 0}),D$1("invalid",a);break;case"textarea":hb(a,c),d=gb(a,c),D$1("invalid",a);break;default:d=c}ub(o,d),tt=d;for(h in tt)if(tt.hasOwnProperty(h)){var ot=tt[h];h==="style"?sb(a,ot):h==="dangerouslySetInnerHTML"?(ot=ot?ot.__html:void 0,ot!=null&&nb(a,ot)):h==="children"?typeof ot=="string"?(o!=="textarea"||ot!=="")&&ob(a,ot):typeof ot=="number"&&ob(a,""+ot):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(ea.hasOwnProperty(h)?ot!=null&&h==="onScroll"&&D$1("scroll",a):ot!=null&&ta(a,h,ot,et))}switch(o){case"input":Va(a),db(a,c,!1);break;case"textarea":Va(a),jb(a);break;case"option":c.value!=null&&a.setAttribute("value",""+Sa(c.value));break;case"select":a.multiple=!!c.multiple,h=c.value,h!=null?fb(a,!!c.multiple,h,!1):c.defaultValue!=null&&fb(a,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(a.onclick=Bf)}switch(o){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return S$2(e),null;case 6:if(a&&e.stateNode!=null)Dj(a,e,a.memoizedProps,c);else{if(typeof c!="string"&&e.stateNode===null)throw Error(p(166));if(o=Hh(Gh.current),Hh(Eh.current),Gg(e)){if(c=e.stateNode,o=e.memoizedProps,c[Of]=e,(h=c.nodeValue!==o)&&(a=xg,a!==null))switch(a.tag){case 3:Af(c.nodeValue,o,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Af(c.nodeValue,o,(a.mode&1)!==0)}h&&(e.flags|=4)}else c=(o.nodeType===9?o:o.ownerDocument).createTextNode(c),c[Of]=e,e.stateNode=c}return S$2(e),null;case 13:if(E(M$1),c=e.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&e.mode&1&&!(e.flags&128))Hg(),Ig(),e.flags|=98560,h=!1;else if(h=Gg(e),c!==null&&c.dehydrated!==null){if(a===null){if(!h)throw Error(p(318));if(h=e.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(p(317));h[Of]=e}else Ig(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;S$2(e),h=!1}else zg!==null&&(Gj(zg),zg=null),h=!0;if(!h)return e.flags&65536?e:null}return e.flags&128?(e.lanes=o,e):(c=c!==null,c!==(a!==null&&a.memoizedState!==null)&&c&&(e.child.flags|=8192,e.mode&1&&(a===null||M$1.current&1?T$1===0&&(T$1=3):uj())),e.updateQueue!==null&&(e.flags|=4),S$2(e),null);case 4:return Jh(),Bj(a,e),a===null&&sf(e.stateNode.containerInfo),S$2(e),null;case 10:return Rg(e.type._context),S$2(e),null;case 17:return Zf(e.type)&&$f(),S$2(e),null;case 19:if(E(M$1),h=e.memoizedState,h===null)return S$2(e),null;if(c=(e.flags&128)!==0,et=h.rendering,et===null)if(c)Ej(h,!1);else{if(T$1!==0||a!==null&&a.flags&128)for(a=e.child;a!==null;){if(et=Mh(a),et!==null){for(e.flags|=128,Ej(h,!1),c=et.updateQueue,c!==null&&(e.updateQueue=c,e.flags|=4),e.subtreeFlags=0,c=o,o=e.child;o!==null;)h=o,a=c,h.flags&=14680066,et=h.alternate,et===null?(h.childLanes=0,h.lanes=a,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=et.childLanes,h.lanes=et.lanes,h.child=et.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=et.memoizedProps,h.memoizedState=et.memoizedState,h.updateQueue=et.updateQueue,h.type=et.type,a=et.dependencies,h.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),o=o.sibling;return G$1(M$1,M$1.current&1|2),e.child}a=a.sibling}h.tail!==null&&B$1()>Hj&&(e.flags|=128,c=!0,Ej(h,!1),e.lanes=4194304)}else{if(!c)if(a=Mh(et),a!==null){if(e.flags|=128,c=!0,o=a.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),Ej(h,!0),h.tail===null&&h.tailMode==="hidden"&&!et.alternate&&!I$1)return S$2(e),null}else 2*B$1()-h.renderingStartTime>Hj&&o!==1073741824&&(e.flags|=128,c=!0,Ej(h,!1),e.lanes=4194304);h.isBackwards?(et.sibling=e.child,e.child=et):(o=h.last,o!==null?o.sibling=et:e.child=et,h.last=et)}return h.tail!==null?(e=h.tail,h.rendering=e,h.tail=e.sibling,h.renderingStartTime=B$1(),e.sibling=null,o=M$1.current,G$1(M$1,c?o&1|2:o&1),e):(S$2(e),null);case 22:case 23:return Ij(),c=e.memoizedState!==null,a!==null&&a.memoizedState!==null!==c&&(e.flags|=8192),c&&e.mode&1?gj&1073741824&&(S$2(e),e.subtreeFlags&6&&(e.flags|=8192)):S$2(e),null;case 24:return null;case 25:return null}throw Error(p(156,e.tag))}function Jj(a,e){switch(wg(e),e.tag){case 1:return Zf(e.type)&&$f(),a=e.flags,a&65536?(e.flags=a&-65537|128,e):null;case 3:return Jh(),E(Wf),E(H$1),Oh(),a=e.flags,a&65536&&!(a&128)?(e.flags=a&-65537|128,e):null;case 5:return Lh(e),null;case 13:if(E(M$1),a=e.memoizedState,a!==null&&a.dehydrated!==null){if(e.alternate===null)throw Error(p(340));Ig()}return a=e.flags,a&65536?(e.flags=a&-65537|128,e):null;case 19:return E(M$1),null;case 4:return Jh(),null;case 10:return Rg(e.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$1=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V$3=null;function Mj(a,e){var o=a.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){W$1(a,e,c)}else o.current=null}function Nj(a,e,o){try{o()}catch(c){W$1(a,e,c)}}var Oj=!1;function Pj(a,e){if(Cf=dd,a=Me$1(),Ne$1(a)){if("selectionStart"in a)var o={start:a.selectionStart,end:a.selectionEnd};else e:{o=(o=a.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{o.nodeType,h.nodeType}catch{o=null;break e}var et=0,tt=-1,ot=-1,ft=0,ht=0,yt=a,gt=null;t:for(;;){for(var wt;yt!==o||d!==0&&yt.nodeType!==3||(tt=et+d),yt!==h||c!==0&&yt.nodeType!==3||(ot=et+c),yt.nodeType===3&&(et+=yt.nodeValue.length),(wt=yt.firstChild)!==null;)gt=yt,yt=wt;for(;;){if(yt===a)break t;if(gt===o&&++ft===d&&(tt=et),gt===h&&++ht===c&&(ot=et),(wt=yt.nextSibling)!==null)break;yt=gt,gt=yt.parentNode}yt=wt}o=tt===-1||ot===-1?null:{start:tt,end:ot}}else o=null}o=o||{start:0,end:0}}else o=null;for(Df={focusedElem:a,selectionRange:o},dd=!1,V$3=e;V$3!==null;)if(e=V$3,a=e.child,(e.subtreeFlags&1028)!==0&&a!==null)a.return=e,V$3=a;else for(;V$3!==null;){e=V$3;try{var bt=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(bt!==null){var xt=bt.memoizedProps,Et=bt.memoizedState,vt=e.stateNode,$t=vt.getSnapshotBeforeUpdate(e.elementType===e.type?xt:Lg(e.type,xt),Et);vt.__reactInternalSnapshotBeforeUpdate=$t}break;case 3:var At=e.stateNode.containerInfo;At.nodeType===1?At.textContent="":At.nodeType===9&&At.documentElement&&At.removeChild(At.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(kt){W$1(e,e.return,kt)}if(a=e.sibling,a!==null){a.return=e.return,V$3=a;break}V$3=e.return}return bt=Oj,Oj=!1,bt}function Qj(a,e,o){var c=e.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&a)===a){var h=d.destroy;d.destroy=void 0,h!==void 0&&Nj(e,o,h)}d=d.next}while(d!==c)}}function Rj(a,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var o=e=e.next;do{if((o.tag&a)===a){var c=o.create;o.destroy=c()}o=o.next}while(o!==e)}}function Sj(a){var e=a.ref;if(e!==null){var o=a.stateNode;switch(a.tag){case 5:a=o;break;default:a=o}typeof e=="function"?e(a):e.current=a}}function Tj(a){var e=a.alternate;e!==null&&(a.alternate=null,Tj(e)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(e=a.stateNode,e!==null&&(delete e[Of],delete e[Pf],delete e[of],delete e[Qf],delete e[Rf])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Uj(a){return a.tag===5||a.tag===3||a.tag===4}function Vj(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Uj(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Wj(a,e,o){var c=a.tag;if(c===5||c===6)a=a.stateNode,e?o.nodeType===8?o.parentNode.insertBefore(a,e):o.insertBefore(a,e):(o.nodeType===8?(e=o.parentNode,e.insertBefore(a,o)):(e=o,e.appendChild(a)),o=o._reactRootContainer,o!=null||e.onclick!==null||(e.onclick=Bf));else if(c!==4&&(a=a.child,a!==null))for(Wj(a,e,o),a=a.sibling;a!==null;)Wj(a,e,o),a=a.sibling}function Xj(a,e,o){var c=a.tag;if(c===5||c===6)a=a.stateNode,e?o.insertBefore(a,e):o.appendChild(a);else if(c!==4&&(a=a.child,a!==null))for(Xj(a,e,o),a=a.sibling;a!==null;)Xj(a,e,o),a=a.sibling}var X$1=null,Yj=!1;function Zj(a,e,o){for(o=o.child;o!==null;)ak(a,e,o),o=o.sibling}function ak(a,e,o){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,o)}catch{}switch(o.tag){case 5:U$1||Mj(o,e);case 6:var c=X$1,d=Yj;X$1=null,Zj(a,e,o),X$1=c,Yj=d,X$1!==null&&(Yj?(a=X$1,o=o.stateNode,a.nodeType===8?a.parentNode.removeChild(o):a.removeChild(o)):X$1.removeChild(o.stateNode));break;case 18:X$1!==null&&(Yj?(a=X$1,o=o.stateNode,a.nodeType===8?Kf(a.parentNode,o):a.nodeType===1&&Kf(a,o),bd(a)):Kf(X$1,o.stateNode));break;case 4:c=X$1,d=Yj,X$1=o.stateNode.containerInfo,Yj=!0,Zj(a,e,o),X$1=c,Yj=d;break;case 0:case 11:case 14:case 15:if(!U$1&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var h=d,et=h.destroy;h=h.tag,et!==void 0&&(h&2||h&4)&&Nj(o,e,et),d=d.next}while(d!==c)}Zj(a,e,o);break;case 1:if(!U$1&&(Mj(o,e),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(tt){W$1(o,e,tt)}Zj(a,e,o);break;case 21:Zj(a,e,o);break;case 22:o.mode&1?(U$1=(c=U$1)||o.memoizedState!==null,Zj(a,e,o),U$1=c):Zj(a,e,o);break;default:Zj(a,e,o)}}function bk(a){var e=a.updateQueue;if(e!==null){a.updateQueue=null;var o=a.stateNode;o===null&&(o=a.stateNode=new Lj),e.forEach(function(c){var d=ck.bind(null,a,c);o.has(c)||(o.add(c),c.then(d,d))})}}function dk(a,e){var o=e.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];try{var h=a,et=e,tt=et;e:for(;tt!==null;){switch(tt.tag){case 5:X$1=tt.stateNode,Yj=!1;break e;case 3:X$1=tt.stateNode.containerInfo,Yj=!0;break e;case 4:X$1=tt.stateNode.containerInfo,Yj=!0;break e}tt=tt.return}if(X$1===null)throw Error(p(160));ak(h,et,d),X$1=null,Yj=!1;var ot=d.alternate;ot!==null&&(ot.return=null),d.return=null}catch(ft){W$1(d,e,ft)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ek(e,a),e=e.sibling}function ek(a,e){var o=a.alternate,c=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(dk(e,a),fk(a),c&4){try{Qj(3,a,a.return),Rj(3,a)}catch(xt){W$1(a,a.return,xt)}try{Qj(5,a,a.return)}catch(xt){W$1(a,a.return,xt)}}break;case 1:dk(e,a),fk(a),c&512&&o!==null&&Mj(o,o.return);break;case 5:if(dk(e,a),fk(a),c&512&&o!==null&&Mj(o,o.return),a.flags&32){var d=a.stateNode;try{ob(d,"")}catch(xt){W$1(a,a.return,xt)}}if(c&4&&(d=a.stateNode,d!=null)){var h=a.memoizedProps,et=o!==null?o.memoizedProps:h,tt=a.type,ot=a.updateQueue;if(a.updateQueue=null,ot!==null)try{tt==="input"&&h.type==="radio"&&h.name!=null&&ab(d,h),vb(tt,et);var ft=vb(tt,h);for(et=0;et<ot.length;et+=2){var ht=ot[et],yt=ot[et+1];ht==="style"?sb(d,yt):ht==="dangerouslySetInnerHTML"?nb(d,yt):ht==="children"?ob(d,yt):ta(d,ht,yt,ft)}switch(tt){case"input":bb(d,h);break;case"textarea":ib(d,h);break;case"select":var gt=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!h.multiple;var wt=h.value;wt!=null?fb(d,!!h.multiple,wt,!1):gt!==!!h.multiple&&(h.defaultValue!=null?fb(d,!!h.multiple,h.defaultValue,!0):fb(d,!!h.multiple,h.multiple?[]:"",!1))}d[Pf]=h}catch(xt){W$1(a,a.return,xt)}}break;case 6:if(dk(e,a),fk(a),c&4){if(a.stateNode===null)throw Error(p(162));d=a.stateNode,h=a.memoizedProps;try{d.nodeValue=h}catch(xt){W$1(a,a.return,xt)}}break;case 3:if(dk(e,a),fk(a),c&4&&o!==null&&o.memoizedState.isDehydrated)try{bd(e.containerInfo)}catch(xt){W$1(a,a.return,xt)}break;case 4:dk(e,a),fk(a);break;case 13:dk(e,a),fk(a),d=a.child,d.flags&8192&&(h=d.memoizedState!==null,d.stateNode.isHidden=h,!h||d.alternate!==null&&d.alternate.memoizedState!==null||(gk=B$1())),c&4&&bk(a);break;case 22:if(ht=o!==null&&o.memoizedState!==null,a.mode&1?(U$1=(ft=U$1)||ht,dk(e,a),U$1=ft):dk(e,a),fk(a),c&8192){if(ft=a.memoizedState!==null,(a.stateNode.isHidden=ft)&&!ht&&a.mode&1)for(V$3=a,ht=a.child;ht!==null;){for(yt=V$3=ht;V$3!==null;){switch(gt=V$3,wt=gt.child,gt.tag){case 0:case 11:case 14:case 15:Qj(4,gt,gt.return);break;case 1:Mj(gt,gt.return);var bt=gt.stateNode;if(typeof bt.componentWillUnmount=="function"){c=gt,o=gt.return;try{e=c,bt.props=e.memoizedProps,bt.state=e.memoizedState,bt.componentWillUnmount()}catch(xt){W$1(c,o,xt)}}break;case 5:Mj(gt,gt.return);break;case 22:if(gt.memoizedState!==null){hk(yt);continue}}wt!==null?(wt.return=gt,V$3=wt):hk(yt)}ht=ht.sibling}e:for(ht=null,yt=a;;){if(yt.tag===5){if(ht===null){ht=yt;try{d=yt.stateNode,ft?(h=d.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(tt=yt.stateNode,ot=yt.memoizedProps.style,et=ot!=null&&ot.hasOwnProperty("display")?ot.display:null,tt.style.display=rb("display",et))}catch(xt){W$1(a,a.return,xt)}}}else if(yt.tag===6){if(ht===null)try{yt.stateNode.nodeValue=ft?"":yt.memoizedProps}catch(xt){W$1(a,a.return,xt)}}else if((yt.tag!==22&&yt.tag!==23||yt.memoizedState===null||yt===a)&&yt.child!==null){yt.child.return=yt,yt=yt.child;continue}if(yt===a)break e;for(;yt.sibling===null;){if(yt.return===null||yt.return===a)break e;ht===yt&&(ht=null),yt=yt.return}ht===yt&&(ht=null),yt.sibling.return=yt.return,yt=yt.sibling}}break;case 19:dk(e,a),fk(a),c&4&&bk(a);break;case 21:break;default:dk(e,a),fk(a)}}function fk(a){var e=a.flags;if(e&2){try{e:{for(var o=a.return;o!==null;){if(Uj(o)){var c=o;break e}o=o.return}throw Error(p(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(ob(d,""),c.flags&=-33);var h=Vj(a);Xj(a,h,d);break;case 3:case 4:var et=c.stateNode.containerInfo,tt=Vj(a);Wj(a,tt,et);break;default:throw Error(p(161))}}catch(ot){W$1(a,a.return,ot)}a.flags&=-3}e&4096&&(a.flags&=-4097)}function ik(a,e,o){V$3=a,jk(a)}function jk(a,e,o){for(var c=(a.mode&1)!==0;V$3!==null;){var d=V$3,h=d.child;if(d.tag===22&&c){var et=d.memoizedState!==null||Kj;if(!et){var tt=d.alternate,ot=tt!==null&&tt.memoizedState!==null||U$1;tt=Kj;var ft=U$1;if(Kj=et,(U$1=ot)&&!ft)for(V$3=d;V$3!==null;)et=V$3,ot=et.child,et.tag===22&&et.memoizedState!==null?kk(d):ot!==null?(ot.return=et,V$3=ot):kk(d);for(;h!==null;)V$3=h,jk(h),h=h.sibling;V$3=d,Kj=tt,U$1=ft}lk(a)}else d.subtreeFlags&8772&&h!==null?(h.return=d,V$3=h):lk(a)}}function lk(a){for(;V$3!==null;){var e=V$3;if(e.flags&8772){var o=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:U$1||Rj(5,e);break;case 1:var c=e.stateNode;if(e.flags&4&&!U$1)if(o===null)c.componentDidMount();else{var d=e.elementType===e.type?o.memoizedProps:Lg(e.type,o.memoizedProps);c.componentDidUpdate(d,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var h=e.updateQueue;h!==null&&ih(e,h,c);break;case 3:var et=e.updateQueue;if(et!==null){if(o=null,e.child!==null)switch(e.child.tag){case 5:o=e.child.stateNode;break;case 1:o=e.child.stateNode}ih(e,et,o)}break;case 5:var tt=e.stateNode;if(o===null&&e.flags&4){o=tt;var ot=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":ot.autoFocus&&o.focus();break;case"img":ot.src&&(o.src=ot.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var ft=e.alternate;if(ft!==null){var ht=ft.memoizedState;if(ht!==null){var yt=ht.dehydrated;yt!==null&&bd(yt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U$1||e.flags&512&&Sj(e)}catch(gt){W$1(e,e.return,gt)}}if(e===a){V$3=null;break}if(o=e.sibling,o!==null){o.return=e.return,V$3=o;break}V$3=e.return}}function hk(a){for(;V$3!==null;){var e=V$3;if(e===a){V$3=null;break}var o=e.sibling;if(o!==null){o.return=e.return,V$3=o;break}V$3=e.return}}function kk(a){for(;V$3!==null;){var e=V$3;try{switch(e.tag){case 0:case 11:case 15:var o=e.return;try{Rj(4,e)}catch(ot){W$1(e,o,ot)}break;case 1:var c=e.stateNode;if(typeof c.componentDidMount=="function"){var d=e.return;try{c.componentDidMount()}catch(ot){W$1(e,d,ot)}}var h=e.return;try{Sj(e)}catch(ot){W$1(e,h,ot)}break;case 5:var et=e.return;try{Sj(e)}catch(ot){W$1(e,et,ot)}}}catch(ot){W$1(e,e.return,ot)}if(e===a){V$3=null;break}var tt=e.sibling;if(tt!==null){tt.return=e.return,V$3=tt;break}V$3=e.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K$1=0,R$1=null,Y$1=null,Z$1=0,gj=0,fj=Uf(0),T$1=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi$1=!1,Qi=null,Si$1=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$1(){return K$1&6?B$1():Bk!==-1?Bk:Bk=B$1()}function lh(a){return a.mode&1?K$1&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(a=C$1,a!==0||(a=window.event,a=a===void 0?16:jd(a.type)),a):1}function mh(a,e,o,c){if(50<zk)throw zk=0,Ak=null,Error(p(185));Ac(a,o,c),(!(K$1&2)||a!==R$1)&&(a===R$1&&(!(K$1&2)&&(rk|=o),T$1===4&&Dk(a,Z$1)),Ek(a,c),o===1&&K$1===0&&!(e.mode&1)&&(Hj=B$1()+500,fg&&jg()))}function Ek(a,e){var o=a.callbackNode;wc(a,e);var c=uc(a,a===R$1?Z$1:0);if(c===0)o!==null&&bc(o),a.callbackNode=null,a.callbackPriority=0;else if(e=c&-c,a.callbackPriority!==e){if(o!=null&&bc(o),e===1)a.tag===0?ig(Fk.bind(null,a)):hg(Fk.bind(null,a)),Jf(function(){!(K$1&6)&&jg()}),o=null;else{switch(Dc(c)){case 1:o=fc;break;case 4:o=gc;break;case 16:o=hc;break;case 536870912:o=jc;break;default:o=hc}o=Gk(o,Hk.bind(null,a))}a.callbackPriority=e,a.callbackNode=o}}function Hk(a,e){if(Bk=-1,Ck=0,K$1&6)throw Error(p(327));var o=a.callbackNode;if(Ik()&&a.callbackNode!==o)return null;var c=uc(a,a===R$1?Z$1:0);if(c===0)return null;if(c&30||c&a.expiredLanes||e)e=Jk(a,c);else{e=c;var d=K$1;K$1|=2;var h=Kk();(R$1!==a||Z$1!==e)&&(vk=null,Hj=B$1()+500,Lk(a,e));do try{Mk();break}catch(tt){Nk(a,tt)}while(!0);Qg(),nk.current=h,K$1=d,Y$1!==null?e=0:(R$1=null,Z$1=0,e=T$1)}if(e!==0){if(e===2&&(d=xc(a),d!==0&&(c=d,e=Ok(a,d))),e===1)throw o=qk,Lk(a,0),Dk(a,c),Ek(a,B$1()),o;if(e===6)Dk(a,c);else{if(d=a.current.alternate,!(c&30)&&!Pk(d)&&(e=Jk(a,c),e===2&&(h=xc(a),h!==0&&(c=h,e=Ok(a,h))),e===1))throw o=qk,Lk(a,0),Dk(a,c),Ek(a,B$1()),o;switch(a.finishedWork=d,a.finishedLanes=c,e){case 0:case 1:throw Error(p(345));case 2:Qk(a,uk,vk);break;case 3:if(Dk(a,c),(c&130023424)===c&&(e=gk+500-B$1(),10<e)){if(uc(a,0)!==0)break;if(d=a.suspendedLanes,(d&c)!==c){L$1(),a.pingedLanes|=a.suspendedLanes&d;break}a.timeoutHandle=Ff(Qk.bind(null,a,uk,vk),e);break}Qk(a,uk,vk);break;case 4:if(Dk(a,c),(c&4194240)===c)break;for(e=a.eventTimes,d=-1;0<c;){var et=31-oc(c);h=1<<et,et=e[et],et>d&&(d=et),c&=~h}if(c=d,c=B$1()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*mk(c/1960))-c,10<c){a.timeoutHandle=Ff(Qk.bind(null,a,uk,vk),c);break}Qk(a,uk,vk);break;case 5:Qk(a,uk,vk);break;default:throw Error(p(329))}}}return Ek(a,B$1()),a.callbackNode===o?Hk.bind(null,a):null}function Ok(a,e){var o=tk;return a.current.memoizedState.isDehydrated&&(Lk(a,e).flags|=256),a=Jk(a,e),a!==2&&(e=uk,uk=o,e!==null&&Gj(e)),a}function Gj(a){uk===null?uk=a:uk.push.apply(uk,a)}function Pk(a){for(var e=a;;){if(e.flags&16384){var o=e.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var d=o[c],h=d.getSnapshot;d=d.value;try{if(!He$1(h(),d))return!1}catch{return!1}}}if(o=e.child,e.subtreeFlags&16384&&o!==null)o.return=e,e=o;else{if(e===a)break;for(;e.sibling===null;){if(e.return===null||e.return===a)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Dk(a,e){for(e&=~sk,e&=~rk,a.suspendedLanes|=e,a.pingedLanes&=~e,a=a.expirationTimes;0<e;){var o=31-oc(e),c=1<<o;a[o]=-1,e&=~c}}function Fk(a){if(K$1&6)throw Error(p(327));Ik();var e=uc(a,0);if(!(e&1))return Ek(a,B$1()),null;var o=Jk(a,e);if(a.tag!==0&&o===2){var c=xc(a);c!==0&&(e=c,o=Ok(a,c))}if(o===1)throw o=qk,Lk(a,0),Dk(a,e),Ek(a,B$1()),o;if(o===6)throw Error(p(345));return a.finishedWork=a.current.alternate,a.finishedLanes=e,Qk(a,uk,vk),Ek(a,B$1()),null}function Rk(a,e){var o=K$1;K$1|=1;try{return a(e)}finally{K$1=o,K$1===0&&(Hj=B$1()+500,fg&&jg())}}function Sk(a){xk!==null&&xk.tag===0&&!(K$1&6)&&Ik();var e=K$1;K$1|=1;var o=pk.transition,c=C$1;try{if(pk.transition=null,C$1=1,a)return a()}finally{C$1=c,pk.transition=o,K$1=e,!(K$1&6)&&jg()}}function Ij(){gj=fj.current,E(fj)}function Lk(a,e){a.finishedWork=null,a.finishedLanes=0;var o=a.timeoutHandle;if(o!==-1&&(a.timeoutHandle=-1,Gf(o)),Y$1!==null)for(o=Y$1.return;o!==null;){var c=o;switch(wg(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&$f();break;case 3:Jh(),E(Wf),E(H$1),Oh();break;case 5:Lh(c);break;case 4:Jh();break;case 13:E(M$1);break;case 19:E(M$1);break;case 10:Rg(c.type._context);break;case 22:case 23:Ij()}o=o.return}if(R$1=a,Y$1=a=wh(a.current,null),Z$1=gj=e,T$1=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(e=0;e<Wg.length;e++)if(o=Wg[e],c=o.interleaved,c!==null){o.interleaved=null;var d=c.next,h=o.pending;if(h!==null){var et=h.next;h.next=d,c.next=et}o.pending=c}Wg=null}return a}function Nk(a,e){do{var o=Y$1;try{if(Qg(),Ph.current=ai,Sh){for(var c=N$1.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Sh=!1}if(Rh=0,P=O$1=N$1=null,Th=!1,Uh=0,ok.current=null,o===null||o.return===null){T$1=1,qk=e,Y$1=null;break}e:{var h=a,et=o.return,tt=o,ot=e;if(e=Z$1,tt.flags|=32768,ot!==null&&typeof ot=="object"&&typeof ot.then=="function"){var ft=ot,ht=tt,yt=ht.tag;if(!(ht.mode&1)&&(yt===0||yt===11||yt===15)){var gt=ht.alternate;gt?(ht.updateQueue=gt.updateQueue,ht.memoizedState=gt.memoizedState,ht.lanes=gt.lanes):(ht.updateQueue=null,ht.memoizedState=null)}var wt=Vi(et);if(wt!==null){wt.flags&=-257,Wi(wt,et,tt,h,e),wt.mode&1&&Ti(h,ft,e),e=wt,ot=ft;var bt=e.updateQueue;if(bt===null){var xt=new Set;xt.add(ot),e.updateQueue=xt}else bt.add(ot);break e}else{if(!(e&1)){Ti(h,ft,e),uj();break e}ot=Error(p(426))}}else if(I$1&&tt.mode&1){var Et=Vi(et);if(Et!==null){!(Et.flags&65536)&&(Et.flags|=256),Wi(Et,et,tt,h,e),Jg(Ki(ot,tt));break e}}h=ot=Ki(ot,tt),T$1!==4&&(T$1=2),tk===null?tk=[h]:tk.push(h),h=et;do{switch(h.tag){case 3:h.flags|=65536,e&=-e,h.lanes|=e;var vt=Oi(h,ot,e);fh(h,vt);break e;case 1:tt=ot;var $t=h.type,At=h.stateNode;if(!(h.flags&128)&&(typeof $t.getDerivedStateFromError=="function"||At!==null&&typeof At.componentDidCatch=="function"&&(Si$1===null||!Si$1.has(At)))){h.flags|=65536,e&=-e,h.lanes|=e;var kt=Ri(h,tt,e);fh(h,kt);break e}}h=h.return}while(h!==null)}Tk(o)}catch(It){e=It,Y$1===o&&o!==null&&(Y$1=o=o.return);continue}break}while(!0)}function Kk(){var a=nk.current;return nk.current=ai,a===null?ai:a}function uj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),R$1===null||!(hh&268435455)&&!(rk&268435455)||Dk(R$1,Z$1)}function Jk(a,e){var o=K$1;K$1|=2;var c=Kk();(R$1!==a||Z$1!==e)&&(vk=null,Lk(a,e));do try{Uk();break}catch(d){Nk(a,d)}while(!0);if(Qg(),K$1=o,nk.current=c,Y$1!==null)throw Error(p(261));return R$1=null,Z$1=0,T$1}function Uk(){for(;Y$1!==null;)Vk(Y$1)}function Mk(){for(;Y$1!==null&&!cc();)Vk(Y$1)}function Vk(a){var e=Wk(a.alternate,a,gj);a.memoizedProps=a.pendingProps,e===null?Tk(a):Y$1=e,ok.current=null}function Tk(a){var e=a;do{var o=e.alternate;if(a=e.return,e.flags&32768){if(o=Jj(o,e),o!==null){o.flags&=32767,Y$1=o;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{T$1=6,Y$1=null;return}}else if(o=Fj(o,e,gj),o!==null){Y$1=o;return}if(e=e.sibling,e!==null){Y$1=e;return}Y$1=e=a}while(e!==null);T$1===0&&(T$1=5)}function Qk(a,e,o){var c=C$1,d=pk.transition;try{pk.transition=null,C$1=1,Xk(a,e,o,c)}finally{pk.transition=d,C$1=c}return null}function Xk(a,e,o,c){do Ik();while(xk!==null);if(K$1&6)throw Error(p(327));o=a.finishedWork;var d=a.finishedLanes;if(o===null)return null;if(a.finishedWork=null,a.finishedLanes=0,o===a.current)throw Error(p(177));a.callbackNode=null,a.callbackPriority=0;var h=o.lanes|o.childLanes;if(Bc(a,h),a===R$1&&(Y$1=R$1=null,Z$1=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),h=(o.flags&15990)!==0,o.subtreeFlags&15990||h){h=pk.transition,pk.transition=null;var et=C$1;C$1=1;var tt=K$1;K$1|=4,ok.current=null,Pj(a,o),ek(o,a),Oe$1(Df),dd=!!Cf,Df=Cf=null,a.current=o,ik(o),dc(),K$1=tt,C$1=et,pk.transition=h}else a.current=o;if(wk&&(wk=!1,xk=a,yk=d),h=a.pendingLanes,h===0&&(Si$1=null),mc(o.stateNode),Ek(a,B$1()),e!==null)for(c=a.onRecoverableError,o=0;o<e.length;o++)d=e[o],c(d.value,{componentStack:d.stack,digest:d.digest});if(Pi$1)throw Pi$1=!1,a=Qi,Qi=null,a;return yk&1&&a.tag!==0&&Ik(),h=a.pendingLanes,h&1?a===Ak?zk++:(zk=0,Ak=a):zk=0,jg(),null}function Ik(){if(xk!==null){var a=Dc(yk),e=pk.transition,o=C$1;try{if(pk.transition=null,C$1=16>a?16:a,xk===null)var c=!1;else{if(a=xk,xk=null,yk=0,K$1&6)throw Error(p(331));var d=K$1;for(K$1|=4,V$3=a.current;V$3!==null;){var h=V$3,et=h.child;if(V$3.flags&16){var tt=h.deletions;if(tt!==null){for(var ot=0;ot<tt.length;ot++){var ft=tt[ot];for(V$3=ft;V$3!==null;){var ht=V$3;switch(ht.tag){case 0:case 11:case 15:Qj(8,ht,h)}var yt=ht.child;if(yt!==null)yt.return=ht,V$3=yt;else for(;V$3!==null;){ht=V$3;var gt=ht.sibling,wt=ht.return;if(Tj(ht),ht===ft){V$3=null;break}if(gt!==null){gt.return=wt,V$3=gt;break}V$3=wt}}}var bt=h.alternate;if(bt!==null){var xt=bt.child;if(xt!==null){bt.child=null;do{var Et=xt.sibling;xt.sibling=null,xt=Et}while(xt!==null)}}V$3=h}}if(h.subtreeFlags&2064&&et!==null)et.return=h,V$3=et;else e:for(;V$3!==null;){if(h=V$3,h.flags&2048)switch(h.tag){case 0:case 11:case 15:Qj(9,h,h.return)}var vt=h.sibling;if(vt!==null){vt.return=h.return,V$3=vt;break e}V$3=h.return}}var $t=a.current;for(V$3=$t;V$3!==null;){et=V$3;var At=et.child;if(et.subtreeFlags&2064&&At!==null)At.return=et,V$3=At;else e:for(et=$t;V$3!==null;){if(tt=V$3,tt.flags&2048)try{switch(tt.tag){case 0:case 11:case 15:Rj(9,tt)}}catch(It){W$1(tt,tt.return,It)}if(tt===et){V$3=null;break e}var kt=tt.sibling;if(kt!==null){kt.return=tt.return,V$3=kt;break e}V$3=tt.return}}if(K$1=d,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,a)}catch{}c=!0}return c}finally{C$1=o,pk.transition=e}}return!1}function Yk(a,e,o){e=Ki(o,e),e=Oi(a,e,1),a=dh(a,e,1),e=L$1(),a!==null&&(Ac(a,1,e),Ek(a,e))}function W$1(a,e,o){if(a.tag===3)Yk(a,a,o);else for(;e!==null;){if(e.tag===3){Yk(e,a,o);break}else if(e.tag===1){var c=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Si$1===null||!Si$1.has(c))){a=Ki(o,a),a=Ri(e,a,1),e=dh(e,a,1),a=L$1(),e!==null&&(Ac(e,1,a),Ek(e,a));break}}e=e.return}}function Ui(a,e,o){var c=a.pingCache;c!==null&&c.delete(e),e=L$1(),a.pingedLanes|=a.suspendedLanes&o,R$1===a&&(Z$1&o)===o&&(T$1===4||T$1===3&&(Z$1&130023424)===Z$1&&500>B$1()-gk?Lk(a,0):sk|=o),Ek(a,e)}function Zk(a,e){e===0&&(a.mode&1?(e=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):e=1);var o=L$1();a=Zg(a,e),a!==null&&(Ac(a,e,o),Ek(a,o))}function vj(a){var e=a.memoizedState,o=0;e!==null&&(o=e.retryLane),Zk(a,o)}function ck(a,e){var o=0;switch(a.tag){case 13:var c=a.stateNode,d=a.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=a.stateNode;break;default:throw Error(p(314))}c!==null&&c.delete(e),Zk(a,o)}var Wk;Wk=function(a,e,o){if(a!==null)if(a.memoizedProps!==e.pendingProps||Wf.current)Ug=!0;else{if(!(a.lanes&o)&&!(e.flags&128))return Ug=!1,zj(a,e,o);Ug=!!(a.flags&131072)}else Ug=!1,I$1&&e.flags&1048576&&ug(e,ng,e.index);switch(e.lanes=0,e.tag){case 2:var c=e.type;jj(a,e),a=e.pendingProps;var d=Yf(e,H$1.current);Tg(e,o),d=Xh(null,e,c,a,d,o);var h=bi();return e.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zf(c)?(h=!0,cg(e)):h=!1,e.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,ah(e),d.updater=nh,e.stateNode=d,d._reactInternals=e,rh(e,c,a,o),e=kj(null,e,c,!0,h,o)):(e.tag=0,I$1&&h&&vg(e),Yi(null,e,d,o),e=e.child),e;case 16:c=e.elementType;e:{switch(jj(a,e),a=e.pendingProps,d=c._init,c=d(c._payload),e.type=c,d=e.tag=$k(c),a=Lg(c,a),d){case 0:e=dj(null,e,c,a,o);break e;case 1:e=ij(null,e,c,a,o);break e;case 11:e=Zi(null,e,c,a,o);break e;case 14:e=aj(null,e,c,Lg(c.type,a),o);break e}throw Error(p(306,c,""))}return e;case 0:return c=e.type,d=e.pendingProps,d=e.elementType===c?d:Lg(c,d),dj(a,e,c,d,o);case 1:return c=e.type,d=e.pendingProps,d=e.elementType===c?d:Lg(c,d),ij(a,e,c,d,o);case 3:e:{if(lj(e),a===null)throw Error(p(387));c=e.pendingProps,h=e.memoizedState,d=h.element,bh(a,e),gh(e,c,null,o);var et=e.memoizedState;if(c=et.element,h.isDehydrated)if(h={element:c,isDehydrated:!1,cache:et.cache,pendingSuspenseBoundaries:et.pendingSuspenseBoundaries,transitions:et.transitions},e.updateQueue.baseState=h,e.memoizedState=h,e.flags&256){d=Ki(Error(p(423)),e),e=mj(a,e,c,o,d);break e}else if(c!==d){d=Ki(Error(p(424)),e),e=mj(a,e,c,o,d);break e}else for(yg=Lf(e.stateNode.containerInfo.firstChild),xg=e,I$1=!0,zg=null,o=Ch(e,null,c,o),e.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ig(),c===d){e=$i(a,e,o);break e}Yi(a,e,c,o)}e=e.child}return e;case 5:return Kh(e),a===null&&Eg(e),c=e.type,d=e.pendingProps,h=a!==null?a.memoizedProps:null,et=d.children,Ef(c,d)?et=null:h!==null&&Ef(c,h)&&(e.flags|=32),hj(a,e),Yi(a,e,et,o),e.child;case 6:return a===null&&Eg(e),null;case 13:return pj(a,e,o);case 4:return Ih(e,e.stateNode.containerInfo),c=e.pendingProps,a===null?e.child=Bh(e,null,c,o):Yi(a,e,c,o),e.child;case 11:return c=e.type,d=e.pendingProps,d=e.elementType===c?d:Lg(c,d),Zi(a,e,c,d,o);case 7:return Yi(a,e,e.pendingProps,o),e.child;case 8:return Yi(a,e,e.pendingProps.children,o),e.child;case 12:return Yi(a,e,e.pendingProps.children,o),e.child;case 10:e:{if(c=e.type._context,d=e.pendingProps,h=e.memoizedProps,et=d.value,G$1(Mg,c._currentValue),c._currentValue=et,h!==null)if(He$1(h.value,et)){if(h.children===d.children&&!Wf.current){e=$i(a,e,o);break e}}else for(h=e.child,h!==null&&(h.return=e);h!==null;){var tt=h.dependencies;if(tt!==null){et=h.child;for(var ot=tt.firstContext;ot!==null;){if(ot.context===c){if(h.tag===1){ot=ch(-1,o&-o),ot.tag=2;var ft=h.updateQueue;if(ft!==null){ft=ft.shared;var ht=ft.pending;ht===null?ot.next=ot:(ot.next=ht.next,ht.next=ot),ft.pending=ot}}h.lanes|=o,ot=h.alternate,ot!==null&&(ot.lanes|=o),Sg(h.return,o,e),tt.lanes|=o;break}ot=ot.next}}else if(h.tag===10)et=h.type===e.type?null:h.child;else if(h.tag===18){if(et=h.return,et===null)throw Error(p(341));et.lanes|=o,tt=et.alternate,tt!==null&&(tt.lanes|=o),Sg(et,o,e),et=h.sibling}else et=h.child;if(et!==null)et.return=h;else for(et=h;et!==null;){if(et===e){et=null;break}if(h=et.sibling,h!==null){h.return=et.return,et=h;break}et=et.return}h=et}Yi(a,e,d.children,o),e=e.child}return e;case 9:return d=e.type,c=e.pendingProps.children,Tg(e,o),d=Vg(d),c=c(d),e.flags|=1,Yi(a,e,c,o),e.child;case 14:return c=e.type,d=Lg(c,e.pendingProps),d=Lg(c.type,d),aj(a,e,c,d,o);case 15:return cj(a,e,e.type,e.pendingProps,o);case 17:return c=e.type,d=e.pendingProps,d=e.elementType===c?d:Lg(c,d),jj(a,e),e.tag=1,Zf(c)?(a=!0,cg(e)):a=!1,Tg(e,o),ph(e,c,d),rh(e,c,d,o),kj(null,e,c,!0,a,o);case 19:return yj(a,e,o);case 22:return ej(a,e,o)}throw Error(p(156,e.tag))};function Gk(a,e){return ac(a,e)}function al(a,e,o,c){this.tag=a,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(a,e,o,c){return new al(a,e,o,c)}function bj(a){return a=a.prototype,!(!a||!a.isReactComponent)}function $k(a){if(typeof a=="function")return bj(a)?1:0;if(a!=null){if(a=a.$$typeof,a===Da)return 11;if(a===Ga)return 14}return 2}function wh(a,e){var o=a.alternate;return o===null?(o=Bg(a.tag,e,a.key,a.mode),o.elementType=a.elementType,o.type=a.type,o.stateNode=a.stateNode,o.alternate=a,a.alternate=o):(o.pendingProps=e,o.type=a.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=a.flags&14680064,o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},o.sibling=a.sibling,o.index=a.index,o.ref=a.ref,o}function yh(a,e,o,c,d,h){var et=2;if(c=a,typeof a=="function")bj(a)&&(et=1);else if(typeof a=="string")et=5;else e:switch(a){case ya:return Ah(o.children,d,h,e);case za:et=8,d|=8;break;case Aa:return a=Bg(12,o,e,d|2),a.elementType=Aa,a.lanes=h,a;case Ea:return a=Bg(13,o,e,d),a.elementType=Ea,a.lanes=h,a;case Fa:return a=Bg(19,o,e,d),a.elementType=Fa,a.lanes=h,a;case Ia:return qj(o,d,h,e);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case Ba:et=10;break e;case Ca:et=9;break e;case Da:et=11;break e;case Ga:et=14;break e;case Ha:et=16,c=null;break e}throw Error(p(130,a==null?a:typeof a,""))}return e=Bg(et,o,e,d),e.elementType=a,e.type=c,e.lanes=h,e}function Ah(a,e,o,c){return a=Bg(7,a,c,e),a.lanes=o,a}function qj(a,e,o,c){return a=Bg(22,a,c,e),a.elementType=Ia,a.lanes=o,a.stateNode={isHidden:!1},a}function xh(a,e,o){return a=Bg(6,a,null,e),a.lanes=o,a}function zh(a,e,o){return e=Bg(4,a.children!==null?a.children:[],a.key,e),e.lanes=o,e.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},e}function bl(a,e,o,c,d){this.tag=e,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function cl(a,e,o,c,d,h,et,tt,ot){return a=new bl(a,e,o,tt,ot),e===1?(e=1,h===!0&&(e|=8)):e=0,h=Bg(3,null,null,e),a.current=h,h.stateNode=a,h.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(h),a}function dl(a,e,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:c==null?null:""+c,children:a,containerInfo:e,implementation:o}}function el(a){if(!a)return Vf;a=a._reactInternals;e:{if(Vb(a)!==a||a.tag!==1)throw Error(p(170));var e=a;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zf(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(p(171))}if(a.tag===1){var o=a.type;if(Zf(o))return bg(a,o,e)}return e}function fl(a,e,o,c,d,h,et,tt,ot){return a=cl(o,c,!0,a,d,h,et,tt,ot),a.context=el(null),o=a.current,c=L$1(),d=lh(o),h=ch(c,d),h.callback=e??null,dh(o,h,d),a.current.lanes=d,Ac(a,d,c),Ek(a,c),a}function gl(a,e,o,c){var d=e.current,h=L$1(),et=lh(d);return o=el(o),e.context===null?e.context=o:e.pendingContext=o,e=ch(h,et),e.payload={element:a},c=c===void 0?null:c,c!==null&&(e.callback=c),a=dh(d,e,et),a!==null&&(mh(a,d,et,h),eh(a,d,et)),et}function hl(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function il(a,e){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var o=a.retryLane;a.retryLane=o!==0&&o<e?o:e}}function jl(a,e){il(a,e),(a=a.alternate)&&il(a,e)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(a){console.error(a)};function ml(a){this._internalRoot=a}nl.prototype.render=ml.prototype.render=function(a){var e=this._internalRoot;if(e===null)throw Error(p(409));gl(a,e,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var e=a.containerInfo;Sk(function(){gl(null,a,null,null)}),e[uf]=null}};function nl(a){this._internalRoot=a}nl.prototype.unstable_scheduleHydration=function(a){if(a){var e=Hc();a={blockedOn:null,target:a,priority:e};for(var o=0;o<Qc.length&&e!==0&&e<Qc[o].priority;o++);Qc.splice(o,0,a),o===0&&Vc(a)}};function ol(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function pl(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(a,e,o,c,d){if(d){if(typeof c=="function"){var h=c;c=function(){var ft=hl(et);h.call(ft)}}var et=fl(e,c,a,0,null,!1,!1,"",ql);return a._reactRootContainer=et,a[uf]=et.current,sf(a.nodeType===8?a.parentNode:a),Sk(),et}for(;d=a.lastChild;)a.removeChild(d);if(typeof c=="function"){var tt=c;c=function(){var ft=hl(ot);tt.call(ft)}}var ot=cl(a,0,!1,null,null,!1,!1,"",ql);return a._reactRootContainer=ot,a[uf]=ot.current,sf(a.nodeType===8?a.parentNode:a),Sk(function(){gl(e,ot,o,c)}),ot}function sl(a,e,o,c,d){var h=o._reactRootContainer;if(h){var et=h;if(typeof d=="function"){var tt=d;d=function(){var ot=hl(et);tt.call(ot)}}gl(e,et,a,d)}else et=rl(o,e,a,d,c);return hl(et)}Ec=function(a){switch(a.tag){case 3:var e=a.stateNode;if(e.current.memoizedState.isDehydrated){var o=tc(e.pendingLanes);o!==0&&(Cc(e,o|1),Ek(e,B$1()),!(K$1&6)&&(Hj=B$1()+500,jg()))}break;case 13:Sk(function(){var c=Zg(a,1);if(c!==null){var d=L$1();mh(c,a,1,d)}}),jl(a,1)}};Fc=function(a){if(a.tag===13){var e=Zg(a,134217728);if(e!==null){var o=L$1();mh(e,a,134217728,o)}jl(a,134217728)}};Gc=function(a){if(a.tag===13){var e=lh(a),o=Zg(a,e);if(o!==null){var c=L$1();mh(o,a,e,c)}jl(a,e)}};Hc=function(){return C$1};Ic=function(a,e){var o=C$1;try{return C$1=a,e()}finally{C$1=o}};yb=function(a,e,o){switch(e){case"input":if(bb(a,o),e=o.name,o.type==="radio"&&e!=null){for(o=a;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<o.length;e++){var c=o[e];if(c!==a&&c.form===a.form){var d=Db(c);if(!d)throw Error(p(90));Wa(c),bb(c,d)}}}break;case"textarea":ib(a,o);break;case"select":e=o.value,e!=null&&fb(a,!!o.multiple,e,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue$1,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Zb(a),a===null?null:a.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(a,e){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(e))throw Error(p(200));return dl(a,e,null,o)};reactDom_production_min.createRoot=function(a,e){if(!ol(a))throw Error(p(299));var o=!1,c="",d=ll;return e!=null&&(e.unstable_strictMode===!0&&(o=!0),e.identifierPrefix!==void 0&&(c=e.identifierPrefix),e.onRecoverableError!==void 0&&(d=e.onRecoverableError)),e=cl(a,1,!1,null,null,o,!1,c,d),a[uf]=e.current,sf(a.nodeType===8?a.parentNode:a),new ml(e)};reactDom_production_min.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var e=a._reactInternals;if(e===void 0)throw typeof a.render=="function"?Error(p(188)):(a=Object.keys(a).join(","),Error(p(268,a)));return a=Zb(e),a=a===null?null:a.stateNode,a};reactDom_production_min.flushSync=function(a){return Sk(a)};reactDom_production_min.hydrate=function(a,e,o){if(!pl(e))throw Error(p(200));return sl(null,a,e,!0,o)};reactDom_production_min.hydrateRoot=function(a,e,o){if(!ol(a))throw Error(p(405));var c=o!=null&&o.hydratedSources||null,d=!1,h="",et=ll;if(o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(et=o.onRecoverableError)),e=fl(e,null,a,1,o??null,d,!1,h,et),a[uf]=e.current,sf(a),c)for(a=0;a<c.length;a++)o=c[a],d=o._getVersion,d=d(o._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[o,d]:e.mutableSourceEagerHydrationData.push(o,d);return new nl(e)};reactDom_production_min.render=function(a,e,o){if(!pl(e))throw Error(p(200));return sl(null,a,e,!1,o)};reactDom_production_min.unmountComponentAtNode=function(a){if(!pl(a))throw Error(p(40));return a._reactRootContainer?(Sk(function(){sl(null,null,a,!1,function(){a._reactRootContainer=null,a[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(a,e,o,c){if(!pl(o))throw Error(p(200));if(a==null||a._reactInternals===void 0)throw Error(p(38));return sl(a,e,o,!1,c)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(a){console.error(a)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m$1=reactDomExports;client.createRoot=m$1.createRoot,client.hydrateRoot=m$1.hydrateRoot;var __assign=function(){return __assign=Object.assign||function(e){for(var o,c=1,d=arguments.length;c<d;c++){o=arguments[c];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(e[h]=o[h])}return e},__assign.apply(this,arguments)};function __spreadArray(a,e,o){if(o||arguments.length===2)for(var c=0,d=e.length,h;c<d;c++)(h||!(c in e))&&(h||(h=Array.prototype.slice.call(e,0,c)),h[c]=e[c]);return a.concat(h||Array.prototype.slice.call(e))}var MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from$a=String.fromCharCode,assign$1=Object.assign;function hash$2(a,e){return charat(a,0)^45?(((e<<2^charat(a,0))<<2^charat(a,1))<<2^charat(a,2))<<2^charat(a,3):0}function trim(a){return a.trim()}function match(a,e){return(a=e.exec(a))?a[0]:a}function replace(a,e,o){return a.replace(e,o)}function indexof(a,e,o){return a.indexOf(e,o)}function charat(a,e){return a.charCodeAt(e)|0}function substr(a,e,o){return a.slice(e,o)}function strlen(a){return a.length}function sizeof(a){return a.length}function append(a,e){return e.push(a),a}function combine(a,e){return a.map(e).join("")}function filter$1(a,e){return a.filter(function(o){return!match(o,e)})}var line=1,column=1,length$6=0,position=0,character=0,characters="";function node(a,e,o,c,d,h,et,tt){return{value:a,root:e,parent:o,type:c,props:d,children:h,line,column,length:et,return:"",siblings:tt}}function copy$3(a,e){return assign$1(node("",null,null,"",null,null,0,a.siblings),a,{length:-a.length},e)}function lift(a){for(;a.root;)a=copy$3(a.root,{children:[a]});append(a,a.siblings)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length$6?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice$1(a,e){return substr(characters,a,e)}function token$1(a){switch(a){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc$1(a){return line=column=1,length$6=strlen(characters=a),position=0,[]}function dealloc(a){return characters="",a}function delimit(a){return trim(slice$1(position-1,delimiter(a===91?a+2:a===40?a+1:a)))}function whitespace(a){for(;(character=peek())&&character<33;)next();return token$1(a)>2||token$1(character)>3?"":" "}function escaping(a,e){for(;--e&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice$1(a,caret()+(e<6&&peek()==32&&next()==32))}function delimiter(a){for(;next();)switch(character){case a:return position;case 34:case 39:a!==34&&a!==39&&delimiter(character);break;case 40:a===41&&delimiter(a);break;case 92:next();break}return position}function commenter(a,e){for(;next()&&a+character!==57;)if(a+character===84&&peek()===47)break;return"/*"+slice$1(e,position-1)+"*"+from$a(a===47?a:next())}function identifier(a){for(;!token$1(peek());)next();return slice$1(a,position)}function compile(a){return dealloc(parse$4("",null,null,null,[""],a=alloc$1(a),0,[0],a))}function parse$4(a,e,o,c,d,h,et,tt,ot){for(var ft=0,ht=0,yt=et,gt=0,wt=0,bt=0,xt=1,Et=1,vt=1,$t=0,At="",kt=d,It=h,Dt=c,Mt=At;Et;)switch(bt=$t,$t=next()){case 40:if(bt!=108&&charat(Mt,yt-1)==58){indexof(Mt+=replace(delimit($t),"&","&\f"),"&\f",abs(ft?tt[ft-1]:0))!=-1&&(vt=-1);break}case 34:case 39:case 91:Mt+=delimit($t);break;case 9:case 10:case 13:case 32:Mt+=whitespace(bt);break;case 92:Mt+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),e,o,ot),ot);break;default:Mt+="/"}break;case 123*xt:tt[ft++]=strlen(Mt)*vt;case 125*xt:case 59:case 0:switch($t){case 0:case 125:Et=0;case 59+ht:vt==-1&&(Mt=replace(Mt,/\f/g,"")),wt>0&&strlen(Mt)-yt&&append(wt>32?declaration(Mt+";",c,o,yt-1,ot):declaration(replace(Mt," ","")+";",c,o,yt-2,ot),ot);break;case 59:Mt+=";";default:if(append(Dt=ruleset(Mt,e,o,ft,ht,d,tt,At,kt=[],It=[],yt,h),h),$t===123)if(ht===0)parse$4(Mt,e,Dt,Dt,kt,h,yt,tt,It);else switch(gt===99&&charat(Mt,3)===110?100:gt){case 100:case 108:case 109:case 115:parse$4(a,Dt,Dt,c&&append(ruleset(a,Dt,Dt,0,0,d,tt,At,d,kt=[],yt,It),It),d,It,yt,tt,c?kt:It);break;default:parse$4(Mt,Dt,Dt,Dt,[""],It,0,tt,It)}}ft=ht=wt=0,xt=vt=1,At=Mt="",yt=et;break;case 58:yt=1+strlen(Mt),wt=bt;default:if(xt<1){if($t==123)--xt;else if($t==125&&xt++==0&&prev()==125)continue}switch(Mt+=from$a($t),$t*xt){case 38:vt=ht>0?1:(Mt+="\f",-1);break;case 44:tt[ft++]=(strlen(Mt)-1)*vt,vt=1;break;case 64:peek()===45&&(Mt+=delimit(next())),gt=peek(),ht=yt=strlen(At=Mt+=identifier(caret())),$t++;break;case 45:bt===45&&strlen(Mt)==2&&(xt=0)}}return h}function ruleset(a,e,o,c,d,h,et,tt,ot,ft,ht,yt){for(var gt=d-1,wt=d===0?h:[""],bt=sizeof(wt),xt=0,Et=0,vt=0;xt<c;++xt)for(var $t=0,At=substr(a,gt+1,gt=abs(Et=et[xt])),kt=a;$t<bt;++$t)(kt=trim(Et>0?wt[$t]+" "+At:replace(At,/&\f/g,wt[$t])))&&(ot[vt++]=kt);return node(a,e,o,d===0?RULESET:tt,ot,ft,ht,yt)}function comment(a,e,o,c){return node(a,e,o,COMMENT,from$a(char()),substr(a,2,-2),0,c)}function declaration(a,e,o,c,d){return node(a,e,o,DECLARATION,substr(a,0,c),substr(a,c+1,-1),c,d)}function prefix(a,e,o){switch(hash$2(a,e)){case 5103:return WEBKIT+"print-"+a+a;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+a+a;case 4789:return MOZ+a+a;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+a+MOZ+a+MS+a+a;case 5936:switch(charat(a,e+11)){case 114:return WEBKIT+a+MS+replace(a,/[svh]\w+-[tblr]{2}/,"tb")+a;case 108:return WEBKIT+a+MS+replace(a,/[svh]\w+-[tblr]{2}/,"tb-rl")+a;case 45:return WEBKIT+a+MS+replace(a,/[svh]\w+-[tblr]{2}/,"lr")+a}case 6828:case 4268:case 2903:return WEBKIT+a+MS+a+a;case 6165:return WEBKIT+a+MS+"flex-"+a+a;case 5187:return WEBKIT+a+replace(a,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+a;case 5443:return WEBKIT+a+MS+"flex-item-"+replace(a,/flex-|-self/g,"")+(match(a,/flex-|baseline/)?"":MS+"grid-row-"+replace(a,/flex-|-self/g,""))+a;case 4675:return WEBKIT+a+MS+"flex-line-pack"+replace(a,/align-content|flex-|-self/g,"")+a;case 5548:return WEBKIT+a+MS+replace(a,"shrink","negative")+a;case 5292:return WEBKIT+a+MS+replace(a,"basis","preferred-size")+a;case 6060:return WEBKIT+"box-"+replace(a,"-grow","")+WEBKIT+a+MS+replace(a,"grow","positive")+a;case 4554:return WEBKIT+replace(a,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+a;case 6187:return replace(replace(replace(a,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),a,"")+a;case 5495:case 3959:return replace(a,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(a,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+a+a;case 4200:if(!match(a,/flex-|baseline/))return MS+"grid-column-align"+substr(a,e)+a;break;case 2592:case 3360:return MS+replace(a,"template-","")+a;case 4384:case 3616:return o&&o.some(function(c,d){return e=d,match(c.props,/grid-\w+-end/)})?~indexof(a+(o=o[e].value),"span",0)?a:MS+replace(a,"-start","")+a+MS+"grid-row-span:"+(~indexof(o,"span",0)?match(o,/\d+/):+match(o,/\d+/)-+match(a,/\d+/))+";":MS+replace(a,"-start","")+a;case 4896:case 4128:return o&&o.some(function(c){return match(c.props,/grid-\w+-start/)})?a:MS+replace(replace(a,"-end","-span"),"span ","")+a;case 4095:case 3583:case 4068:case 2532:return replace(a,/(.+)-inline(.+)/,WEBKIT+"$1$2")+a;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(a)-1-e>6)switch(charat(a,e+1)){case 109:if(charat(a,e+4)!==45)break;case 102:return replace(a,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(a,e+3)==108?"$3":"$2-$3"))+a;case 115:return~indexof(a,"stretch",0)?prefix(replace(a,"stretch","fill-available"),e,o)+a:a}break;case 5152:case 5920:return replace(a,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(c,d,h,et,tt,ot,ft){return MS+d+":"+h+ft+(et?MS+d+"-span:"+(tt?ot:+ot-+h)+ft:"")+a});case 4949:if(charat(a,e+6)===121)return replace(a,":",":"+WEBKIT)+a;break;case 6444:switch(charat(a,charat(a,14)===45?18:11)){case 120:return replace(a,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+WEBKIT+(charat(a,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+a;case 100:return replace(a,":",":"+MS)+a}break;case 5719:case 2647:case 2135:case 3927:case 2391:return replace(a,"scroll-","scroll-snap-")+a}return a}function serialize(a,e){for(var o="",c=0;c<a.length;c++)o+=e(a[c],c,a,e)||"";return o}function stringify$4(a,e,o,c){switch(a.type){case LAYER:if(a.children.length)break;case IMPORT:case DECLARATION:return a.return=a.return||a.value;case COMMENT:return"";case KEYFRAMES:return a.return=a.value+"{"+serialize(a.children,c)+"}";case RULESET:if(!strlen(a.value=a.props.join(",")))return""}return strlen(o=serialize(a.children,c))?a.return=a.value+"{"+o+"}":""}function middleware(a){var e=sizeof(a);return function(o,c,d,h){for(var et="",tt=0;tt<e;tt++)et+=a[tt](o,c,d,h)||"";return et}}function rulesheet(a){return function(e){e.root||(e=e.return)&&a(e)}}function prefixer(a,e,o,c){if(a.length>-1&&!a.return)switch(a.type){case DECLARATION:a.return=prefix(a.value,a.length,o);return;case KEYFRAMES:return serialize([copy$3(a,{value:replace(a.value,"@","@"+WEBKIT)})],c);case RULESET:if(a.length)return combine(o=a.props,function(d){switch(match(d,c=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":lift(copy$3(a,{props:[replace(d,/:(read-\w+)/,":"+MOZ+"$1")]})),lift(copy$3(a,{props:[d]})),assign$1(a,{props:filter$1(o,c)});break;case"::placeholder":lift(copy$3(a,{props:[replace(d,/:(plac\w+)/,":"+WEBKIT+"input-$1")]})),lift(copy$3(a,{props:[replace(d,/:(plac\w+)/,":"+MOZ+"$1")]})),lift(copy$3(a,{props:[replace(d,/:(plac\w+)/,MS+"input-$1")]})),lift(copy$3(a,{props:[d]})),assign$1(a,{props:filter$1(o,c)});break}return""})}}var unitlessKeys={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},define_process_env_default$1={},f$1=typeof process<"u"&&define_process_env_default$1!==void 0&&(define_process_env_default$1.REACT_APP_SC_ATTR||define_process_env_default$1.SC_ATTR)||"data-styled",m="active",y="data-styled-version",v="6.1.8",g=`/*!sc*/
`,S$1=typeof window<"u"&&"HTMLElement"in window,w=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&define_process_env_default$1!==void 0&&define_process_env_default$1.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&define_process_env_default$1.REACT_APP_SC_DISABLE_SPEEDY!==""?define_process_env_default$1.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&define_process_env_default$1.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&define_process_env_default$1!==void 0&&define_process_env_default$1.SC_DISABLE_SPEEDY!==void 0&&define_process_env_default$1.SC_DISABLE_SPEEDY!==""&&define_process_env_default$1.SC_DISABLE_SPEEDY!=="false"&&define_process_env_default$1.SC_DISABLE_SPEEDY),b$1={},_=Object.freeze([]),C=Object.freeze({});function I(a,e,o){return o===void 0&&(o=C),a.theme!==o.theme&&a.theme||e||o.theme}var A=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),O=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,D=/(^-|-$)/g;function R(a){return a.replace(O,"-").replace(D,"")}var T=/(a)(d)/gi,k=52,j=function(a){return String.fromCharCode(a+(a>25?39:97))};function x(a){var e,o="";for(e=Math.abs(a);e>k;e=e/k|0)o=j(e%k)+o;return(j(e%k)+o).replace(T,"$1-$2")}var V$2,F=5381,M=function(a,e){for(var o=e.length;o;)a=33*a^e.charCodeAt(--o);return a},$=function(a){return M(F,a)};function z(a){return x($(a)>>>0)}function B(a){return a.displayName||a.name||"Component"}function L(a){return typeof a=="string"&&!0}var G=typeof Symbol=="function"&&Symbol.for,Y=G?Symbol.for("react.memo"):60115,W=G?Symbol.for("react.forward_ref"):60112,q={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},H={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},U={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},J=((V$2={})[W]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},V$2[Y]=U,V$2);function X(a){return("type"in(e=a)&&e.type.$$typeof)===Y?U:"$$typeof"in a?J[a.$$typeof]:q;var e}var Z=Object.defineProperty,K=Object.getOwnPropertyNames,Q=Object.getOwnPropertySymbols,ee=Object.getOwnPropertyDescriptor,te=Object.getPrototypeOf,ne=Object.prototype;function oe(a,e,o){if(typeof e!="string"){if(ne){var c=te(e);c&&c!==ne&&oe(a,c,o)}var d=K(e);Q&&(d=d.concat(Q(e)));for(var h=X(a),et=X(e),tt=0;tt<d.length;++tt){var ot=d[tt];if(!(ot in H||o&&o[ot]||et&&ot in et||h&&ot in h)){var ft=ee(e,ot);try{Z(a,ot,ft)}catch{}}}}return a}function re(a){return typeof a=="function"}function se(a){return typeof a=="object"&&"styledComponentId"in a}function ie(a,e){return a&&e?"".concat(a," ").concat(e):a||e||""}function ae(a,e){if(a.length===0)return"";for(var o=a[0],c=1;c<a.length;c++)o+=e?e+a[c]:a[c];return o}function ce(a){return a!==null&&typeof a=="object"&&a.constructor.name===Object.name&&!("props"in a&&a.$$typeof)}function le(a,e,o){if(o===void 0&&(o=!1),!o&&!ce(a)&&!Array.isArray(a))return e;if(Array.isArray(e))for(var c=0;c<e.length;c++)a[c]=le(a[c],e[c]);else if(ce(e))for(var c in e)a[c]=le(a[c],e[c]);return a}function ue(a,e){Object.defineProperty(a,"toString",{value:e})}function he(a){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(a," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var fe=function(){function a(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return a.prototype.indexOfGroup=function(e){for(var o=0,c=0;c<e;c++)o+=this.groupSizes[c];return o},a.prototype.insertRules=function(e,o){if(e>=this.groupSizes.length){for(var c=this.groupSizes,d=c.length,h=d;e>=h;)if((h<<=1)<0)throw he(16,"".concat(e));this.groupSizes=new Uint32Array(h),this.groupSizes.set(c),this.length=h;for(var et=d;et<h;et++)this.groupSizes[et]=0}for(var tt=this.indexOfGroup(e+1),ot=(et=0,o.length);et<ot;et++)this.tag.insertRule(tt,o[et])&&(this.groupSizes[e]++,tt++)},a.prototype.clearGroup=function(e){if(e<this.length){var o=this.groupSizes[e],c=this.indexOfGroup(e),d=c+o;this.groupSizes[e]=0;for(var h=c;h<d;h++)this.tag.deleteRule(c)}},a.prototype.getGroup=function(e){var o="";if(e>=this.length||this.groupSizes[e]===0)return o;for(var c=this.groupSizes[e],d=this.indexOfGroup(e),h=d+c,et=d;et<h;et++)o+="".concat(this.tag.getRule(et)).concat(g);return o},a}(),me=new Map,ye=new Map,ve=1,ge=function(a){if(me.has(a))return me.get(a);for(;ye.has(ve);)ve++;var e=ve++;return me.set(a,e),ye.set(e,a),e},Se=function(a,e){ve=e+1,me.set(a,e),ye.set(e,a)},we="style[".concat(f$1,"][").concat(y,'="').concat(v,'"]'),be=new RegExp("^".concat(f$1,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Ee=function(a,e,o){for(var c,d=o.split(","),h=0,et=d.length;h<et;h++)(c=d[h])&&a.registerName(e,c)},Ne=function(a,e){for(var o,c=((o=e.textContent)!==null&&o!==void 0?o:"").split(g),d=[],h=0,et=c.length;h<et;h++){var tt=c[h].trim();if(tt){var ot=tt.match(be);if(ot){var ft=0|parseInt(ot[1],10),ht=ot[2];ft!==0&&(Se(ht,ft),Ee(a,ht,ot[3]),a.getTag().insertRules(ft,d)),d.length=0}else d.push(tt)}}};function Pe(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var _e=function(a){var e=document.head,o=a||e,c=document.createElement("style"),d=function(tt){var ot=Array.from(tt.querySelectorAll("style[".concat(f$1,"]")));return ot[ot.length-1]}(o),h=d!==void 0?d.nextSibling:null;c.setAttribute(f$1,m),c.setAttribute(y,v);var et=Pe();return et&&c.setAttribute("nonce",et),o.insertBefore(c,h),c},Ce=function(){function a(e){this.element=_e(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(o){if(o.sheet)return o.sheet;for(var c=document.styleSheets,d=0,h=c.length;d<h;d++){var et=c[d];if(et.ownerNode===o)return et}throw he(17)}(this.element),this.length=0}return a.prototype.insertRule=function(e,o){try{return this.sheet.insertRule(o,e),this.length++,!0}catch{return!1}},a.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},a.prototype.getRule=function(e){var o=this.sheet.cssRules[e];return o&&o.cssText?o.cssText:""},a}(),Ie=function(){function a(e){this.element=_e(e),this.nodes=this.element.childNodes,this.length=0}return a.prototype.insertRule=function(e,o){if(e<=this.length&&e>=0){var c=document.createTextNode(o);return this.element.insertBefore(c,this.nodes[e]||null),this.length++,!0}return!1},a.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},a.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},a}(),Ae=function(){function a(e){this.rules=[],this.length=0}return a.prototype.insertRule=function(e,o){return e<=this.length&&(this.rules.splice(e,0,o),this.length++,!0)},a.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},a.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},a}(),Oe=S$1,De={isServer:!S$1,useCSSOMInjection:!w},Re=function(){function a(e,o,c){e===void 0&&(e=C),o===void 0&&(o={});var d=this;this.options=__assign(__assign({},De),e),this.gs=o,this.names=new Map(c),this.server=!!e.isServer,!this.server&&S$1&&Oe&&(Oe=!1,function(h){for(var et=document.querySelectorAll(we),tt=0,ot=et.length;tt<ot;tt++){var ft=et[tt];ft&&ft.getAttribute(f$1)!==m&&(Ne(h,ft),ft.parentNode&&ft.parentNode.removeChild(ft))}}(this)),ue(this,function(){return function(h){for(var et=h.getTag(),tt=et.length,ot="",ft=function(yt){var gt=function(vt){return ye.get(vt)}(yt);if(gt===void 0)return"continue";var wt=h.names.get(gt),bt=et.getGroup(yt);if(wt===void 0||bt.length===0)return"continue";var xt="".concat(f$1,".g").concat(yt,'[id="').concat(gt,'"]'),Et="";wt!==void 0&&wt.forEach(function(vt){vt.length>0&&(Et+="".concat(vt,","))}),ot+="".concat(bt).concat(xt,'{content:"').concat(Et,'"}').concat(g)},ht=0;ht<tt;ht++)ft(ht);return ot}(d)})}return a.registerId=function(e){return ge(e)},a.prototype.reconstructWithOptions=function(e,o){return o===void 0&&(o=!0),new a(__assign(__assign({},this.options),e),this.gs,o&&this.names||void 0)},a.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},a.prototype.getTag=function(){return this.tag||(this.tag=(e=function(o){var c=o.useCSSOMInjection,d=o.target;return o.isServer?new Ae(d):c?new Ce(d):new Ie(d)}(this.options),new fe(e)));var e},a.prototype.hasNameForId=function(e,o){return this.names.has(e)&&this.names.get(e).has(o)},a.prototype.registerName=function(e,o){if(ge(e),this.names.has(e))this.names.get(e).add(o);else{var c=new Set;c.add(o),this.names.set(e,c)}},a.prototype.insertRules=function(e,o,c){this.registerName(e,o),this.getTag().insertRules(ge(e),c)},a.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},a.prototype.clearRules=function(e){this.getTag().clearGroup(ge(e)),this.clearNames(e)},a.prototype.clearTag=function(){this.tag=void 0},a}(),Te=/&/g,ke=/^\s*\/\/.*$/gm;function je(a,e){return a.map(function(o){return o.type==="rule"&&(o.value="".concat(e," ").concat(o.value),o.value=o.value.replaceAll(",",",".concat(e," ")),o.props=o.props.map(function(c){return"".concat(e," ").concat(c)})),Array.isArray(o.children)&&o.type!=="@keyframes"&&(o.children=je(o.children,e)),o})}function xe(a){var e,o,c,d=a===void 0?C:a,h=d.options,et=h===void 0?C:h,tt=d.plugins,ot=tt===void 0?_:tt,ft=function(gt,wt,bt){return bt.startsWith(o)&&bt.endsWith(o)&&bt.replaceAll(o,"").length>0?".".concat(e):gt},ht=ot.slice();ht.push(function(gt){gt.type===RULESET&&gt.value.includes("&")&&(gt.props[0]=gt.props[0].replace(Te,o).replace(c,ft))}),et.prefix&&ht.push(prefixer),ht.push(stringify$4);var yt=function(gt,wt,bt,xt){wt===void 0&&(wt=""),bt===void 0&&(bt=""),xt===void 0&&(xt="&"),e=xt,o=wt,c=new RegExp("\\".concat(o,"\\b"),"g");var Et=gt.replace(ke,""),vt=compile(bt||wt?"".concat(bt," ").concat(wt," { ").concat(Et," }"):Et);et.namespace&&(vt=je(vt,et.namespace));var $t=[];return serialize(vt,middleware(ht.concat(rulesheet(function(At){return $t.push(At)})))),$t};return yt.hash=ot.length?ot.reduce(function(gt,wt){return wt.name||he(15),M(gt,wt.name)},F).toString():"",yt}var Ve=new Re,Fe=xe(),Me=React.createContext({shouldForwardProp:void 0,styleSheet:Ve,stylis:Fe});Me.Consumer;React.createContext(void 0);function Be(){return reactExports.useContext(Me)}var Ge=function(){function a(e,o){var c=this;this.inject=function(d,h){h===void 0&&(h=Fe);var et=c.name+h.hash;d.hasNameForId(c.id,et)||d.insertRules(c.id,et,h(c.rules,et,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=o,ue(this,function(){throw he(12,String(c.name))})}return a.prototype.getName=function(e){return e===void 0&&(e=Fe),this.name+e.hash},a}(),Ye=function(a){return a>="A"&&a<="Z"};function We(a){for(var e="",o=0;o<a.length;o++){var c=a[o];if(o===1&&c==="-"&&a[0]==="-")return a;Ye(c)?e+="-"+c.toLowerCase():e+=c}return e.startsWith("ms-")?"-"+e:e}var qe=function(a){return a==null||a===!1||a===""},He=function(a){var e,o,c=[];for(var d in a){var h=a[d];a.hasOwnProperty(d)&&!qe(h)&&(Array.isArray(h)&&h.isCss||re(h)?c.push("".concat(We(d),":"),h,";"):ce(h)?c.push.apply(c,__spreadArray(__spreadArray(["".concat(d," {")],He(h),!1),["}"],!1)):c.push("".concat(We(d),": ").concat((e=d,(o=h)==null||typeof o=="boolean"||o===""?"":typeof o!="number"||o===0||e in unitlessKeys||e.startsWith("--")?String(o).trim():"".concat(o,"px")),";")))}return c};function Ue(a,e,o,c){if(qe(a))return[];if(se(a))return[".".concat(a.styledComponentId)];if(re(a)){if(!re(h=a)||h.prototype&&h.prototype.isReactComponent||!e)return[a];var d=a(e);return Ue(d,e,o,c)}var h;return a instanceof Ge?o?(a.inject(o,c),[a.getName(c)]):[a]:ce(a)?He(a):Array.isArray(a)?Array.prototype.concat.apply(_,a.map(function(et){return Ue(et,e,o,c)})):[a.toString()]}function Je(a){for(var e=0;e<a.length;e+=1){var o=a[e];if(re(o)&&!se(o))return!1}return!0}var Xe=$(v),Ze=function(){function a(e,o,c){this.rules=e,this.staticRulesId="",this.isStatic=(c===void 0||c.isStatic)&&Je(e),this.componentId=o,this.baseHash=M(Xe,o),this.baseStyle=c,Re.registerId(o)}return a.prototype.generateAndInjectStyles=function(e,o,c){var d=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,o,c):"";if(this.isStatic&&!c.hash)if(this.staticRulesId&&o.hasNameForId(this.componentId,this.staticRulesId))d=ie(d,this.staticRulesId);else{var h=ae(Ue(this.rules,e,o,c)),et=x(M(this.baseHash,h)>>>0);if(!o.hasNameForId(this.componentId,et)){var tt=c(h,".".concat(et),void 0,this.componentId);o.insertRules(this.componentId,et,tt)}d=ie(d,et),this.staticRulesId=et}else{for(var ot=M(this.baseHash,c.hash),ft="",ht=0;ht<this.rules.length;ht++){var yt=this.rules[ht];if(typeof yt=="string")ft+=yt;else if(yt){var gt=ae(Ue(yt,e,o,c));ot=M(ot,gt+ht),ft+=gt}}if(ft){var wt=x(ot>>>0);o.hasNameForId(this.componentId,wt)||o.insertRules(this.componentId,wt,c(ft,".".concat(wt),void 0,this.componentId)),d=ie(d,wt)}}return d},a}(),Ke=React.createContext(void 0);Ke.Consumer;var nt={};function rt(a,e,o){var c=se(a),d=a,h=!L(a),et=e.attrs,tt=et===void 0?_:et,ot=e.componentId,ft=ot===void 0?function(kt,It){var Dt=typeof kt!="string"?"sc":R(kt);nt[Dt]=(nt[Dt]||0)+1;var Mt="".concat(Dt,"-").concat(z(v+Dt+nt[Dt]));return It?"".concat(It,"-").concat(Mt):Mt}(e.displayName,e.parentComponentId):ot,ht=e.displayName,yt=ht===void 0?function(kt){return L(kt)?"styled.".concat(kt):"Styled(".concat(B(kt),")")}(a):ht,gt=e.displayName&&e.componentId?"".concat(R(e.displayName),"-").concat(e.componentId):e.componentId||ft,wt=c&&d.attrs?d.attrs.concat(tt).filter(Boolean):tt,bt=e.shouldForwardProp;if(c&&d.shouldForwardProp){var xt=d.shouldForwardProp;if(e.shouldForwardProp){var Et=e.shouldForwardProp;bt=function(kt,It){return xt(kt,It)&&Et(kt,It)}}else bt=xt}var vt=new Ze(o,gt,c?d.componentStyle:void 0);function $t(kt,It){return function(Dt,Mt,zt){var Kt=Dt.attrs,Yt=Dt.componentStyle,er=Dt.defaultProps,qt=Dt.foldedComponentIds,Ft=Dt.styledComponentId,mt=Dt.target,Tt=React.useContext(Ke),Rt=Be(),Ot=Dt.shouldForwardProp||Rt.shouldForwardProp,Lt=I(Mt,Tt,er)||C,Ut=function(cr,gr,$r){for(var xr,vr=__assign(__assign({},gr),{className:void 0,theme:$r}),kr=0;kr<cr.length;kr+=1){var Tr=re(xr=cr[kr])?xr(vr):xr;for(var Sr in Tr)vr[Sr]=Sr==="className"?ie(vr[Sr],Tr[Sr]):Sr==="style"?__assign(__assign({},vr[Sr]),Tr[Sr]):Tr[Sr]}return gr.className&&(vr.className=ie(vr.className,gr.className)),vr}(Kt,Mt,Lt),Gt=Ut.as||mt,Bt={};for(var St in Ut)Ut[St]===void 0||St[0]==="$"||St==="as"||St==="theme"&&Ut.theme===Lt||(St==="forwardedAs"?Bt.as=Ut.forwardedAs:Ot&&!Ot(St,Gt)||(Bt[St]=Ut[St]));var Vt=function(cr,gr){var $r=Be(),xr=cr.generateAndInjectStyles(gr,$r.styleSheet,$r.stylis);return xr}(Yt,Ut),dr=ie(qt,Ft);return Vt&&(dr+=" "+Vt),Ut.className&&(dr+=" "+Ut.className),Bt[L(Gt)&&!A.has(Gt)?"class":"className"]=dr,Bt.ref=zt,reactExports.createElement(Gt,Bt)}(At,kt,It)}$t.displayName=yt;var At=React.forwardRef($t);return At.attrs=wt,At.componentStyle=vt,At.displayName=yt,At.shouldForwardProp=bt,At.foldedComponentIds=c?ie(d.foldedComponentIds,d.styledComponentId):"",At.styledComponentId=gt,At.target=c?d.target:a,Object.defineProperty(At,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(kt){this._foldedDefaultProps=c?function(It){for(var Dt=[],Mt=1;Mt<arguments.length;Mt++)Dt[Mt-1]=arguments[Mt];for(var zt=0,Kt=Dt;zt<Kt.length;zt++)le(It,Kt[zt],!0);return It}({},d.defaultProps,kt):kt}}),ue(At,function(){return".".concat(At.styledComponentId)}),h&&oe(At,a,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),At}function st(a,e){for(var o=[a[0]],c=0,d=e.length;c<d;c+=1)o.push(e[c],a[c+1]);return o}var it=function(a){return Object.assign(a,{isCss:!0})};function at(a){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];if(re(a)||ce(a))return it(Ue(st(_,__spreadArray([a],e,!0))));var c=a;return e.length===0&&c.length===1&&typeof c[0]=="string"?Ue(c):it(Ue(st(c,e)))}function ct(a,e,o){if(o===void 0&&(o=C),!e)throw he(1,e);var c=function(d){for(var h=[],et=1;et<arguments.length;et++)h[et-1]=arguments[et];return a(e,o,at.apply(void 0,__spreadArray([d],h,!1)))};return c.attrs=function(d){return ct(a,e,__assign(__assign({},o),{attrs:Array.prototype.concat(o.attrs,d).filter(Boolean)}))},c.withConfig=function(d){return ct(a,e,__assign(__assign({},o),d))},c}var lt=function(a){return ct(rt,a)},ut$1=lt;A.forEach(function(a){ut$1[a]=lt(a)});var pt=function(){function a(e,o){this.rules=e,this.componentId=o,this.isStatic=Je(e),Re.registerId(this.componentId+1)}return a.prototype.createStyles=function(e,o,c,d){var h=d(ae(Ue(this.rules,o,c,d)),""),et=this.componentId+e;c.insertRules(et,et,h)},a.prototype.removeStyles=function(e,o){o.clearRules(this.componentId+e)},a.prototype.renderStyles=function(e,o,c,d){e>2&&Re.registerId(this.componentId+e),this.removeStyles(e,c),this.createStyles(e,o,c,d)},a}();function dt(a){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var c=at.apply(void 0,__spreadArray([a],e,!1)),d="sc-global-".concat(z(JSON.stringify(c))),h=new pt(c,d),et=function(ot){var ft=Be(),ht=React.useContext(Ke),yt=React.useRef(ft.styleSheet.allocateGSInstance(d)).current;return ft.styleSheet.server&&tt(yt,ot,ft.styleSheet,ht,ft.stylis),React.useLayoutEffect(function(){if(!ft.styleSheet.server)return tt(yt,ot,ft.styleSheet,ht,ft.stylis),function(){return h.removeStyles(yt,ft.styleSheet)}},[yt,ot,ft.styleSheet,ht,ft.stylis]),null};function tt(ot,ft,ht,yt,gt){if(h.isStatic)h.renderStyles(ot,b$1,ht,gt);else{var wt=__assign(__assign({},ft),{theme:I(ft,yt,et.defaultProps)});h.renderStyles(ot,wt,ht,gt)}}return React.memo(et)}const StyledButton=ut$1.button`
  position: relative;
  width: ${a=>a.width};
  background-color: ${a=>a.$outlined?"#1D1D24":a.$inactive?"var(--sand-100)":"var(--yellow-100)"};
  overflow: hidden;
  cursor: ${a=>a.$inactive?"wait":"pointer"};
  border-radius: 8px;
  padding: ${a=>a.width?"12px 24px 12px 24px":"8px 16px 8px 16px"};
  border: ${a=>a.$outlined?"1px solid #82828E":"none"};
  span {
    color: ${a=>a.$outlined?"var(--white-100)":"var(--black-100)"};
    position: relative;
    z-index: 2;
  }

  &:hover::before {
    content: ${a=>a.$inactive||a.$outlined?"none":'""'};
    position: absolute;
    top: ${({$hoverposition:a})=>`${a.y*100}%`};
    left: ${({$hoverposition:a})=>`${a.x*100}%`};
    transform: translate(-50%, -50%);
    width: 400%;
    height: 400%;
    background: radial-gradient(
      circle closest-side,
      #ffad4d 10%,
      transparent 100%
    );
    opacity: 0.6;
    z-index: 1;
  }
`,Button=({title:a,inactive:e,width:o,type:c,outlined:d,onClick:h})=>{const[et,tt]=reactExports.useState({x:0,y:0}),ot=reactExports.useRef(null),ft=reactExports.useCallback(ht=>{if(ot.current){const{left:yt,top:gt,width:wt,height:bt}=ot.current.getBoundingClientRect(),xt=(ht.clientX-yt)/wt,Et=(ht.clientY-gt)/bt;tt({x:xt,y:Et})}},[ot]);return reactExports.useEffect(()=>{if(ot.current)return ot.current.addEventListener("mousemove",ft),()=>{var ht;(ht=ot.current)==null||ht.removeEventListener("mousemove",ft)}},[ft]),jsxRuntimeExports.jsx(StyledButton,{ref:ot,$hoverposition:et,onClick:h,$inactive:e,width:o,type:c,$outlined:d,children:jsxRuntimeExports.jsx("span",{children:a})})},defaultJsonSerializer=JSON,uppercase=a=>a.toUpperCase(),HeadersInstanceToPlainObject=a=>{const e={};return a.forEach((o,c)=>{e[c]=o}),e},parseRequestArgs=(a,e,o)=>a.document?a:{document:a,variables:e,requestHeaders:o,signal:void 0},parseRawRequestArgs=(a,e,o)=>a.query?a:{query:a,variables:e,requestHeaders:o,signal:void 0},parseBatchRequestArgs=(a,e)=>a.documents?a:{documents:a,requestHeaders:e,signal:void 0};function devAssert(a,e){if(!!!a)throw new Error(e)}function isObjectLike(a){return typeof a=="object"&&a!==null}function invariant$1(a,e){if(!!!a)throw new Error(e??"Unexpected invariant triggered.")}const LineRegExp=/\r\n|[\n\r]/g;function getLocation(a,e){let o=0,c=1;for(const d of a.body.matchAll(LineRegExp)){if(typeof d.index=="number"||invariant$1(!1),d.index>=e)break;o=d.index+d[0].length,c+=1}return{line:c,column:e+1-o}}function printLocation(a){return printSourceLocation(a.source,getLocation(a.source,a.start))}function printSourceLocation(a,e){const o=a.locationOffset.column-1,c="".padStart(o)+a.body,d=e.line-1,h=a.locationOffset.line-1,et=e.line+h,tt=e.line===1?o:0,ot=e.column+tt,ft=`${a.name}:${et}:${ot}
`,ht=c.split(/\r\n|[\n\r]/g),yt=ht[d];if(yt.length>120){const gt=Math.floor(ot/80),wt=ot%80,bt=[];for(let xt=0;xt<yt.length;xt+=80)bt.push(yt.slice(xt,xt+80));return ft+printPrefixedLines([[`${et} |`,bt[0]],...bt.slice(1,gt+1).map(xt=>["|",xt]),["|","^".padStart(wt)],["|",bt[gt+1]]])}return ft+printPrefixedLines([[`${et-1} |`,ht[d-1]],[`${et} |`,yt],["|","^".padStart(ot)],[`${et+1} |`,ht[d+1]]])}function printPrefixedLines(a){const e=a.filter(([c,d])=>d!==void 0),o=Math.max(...e.map(([c])=>c.length));return e.map(([c,d])=>c.padStart(o)+(d?" "+d:"")).join(`
`)}function toNormalizedOptions(a){const e=a[0];return e==null||"kind"in e||"length"in e?{nodes:e,source:a[1],positions:a[2],path:a[3],originalError:a[4],extensions:a[5]}:e}class GraphQLError extends Error{constructor(e,...o){var c,d,h;const{nodes:et,source:tt,positions:ot,path:ft,originalError:ht,extensions:yt}=toNormalizedOptions(o);super(e),this.name="GraphQLError",this.path=ft??void 0,this.originalError=ht??void 0,this.nodes=undefinedIfEmpty(Array.isArray(et)?et:et?[et]:void 0);const gt=undefinedIfEmpty((c=this.nodes)===null||c===void 0?void 0:c.map(bt=>bt.loc).filter(bt=>bt!=null));this.source=tt??(gt==null||(d=gt[0])===null||d===void 0?void 0:d.source),this.positions=ot??(gt==null?void 0:gt.map(bt=>bt.start)),this.locations=ot&&tt?ot.map(bt=>getLocation(tt,bt)):gt==null?void 0:gt.map(bt=>getLocation(bt.source,bt.start));const wt=isObjectLike(ht==null?void 0:ht.extensions)?ht==null?void 0:ht.extensions:void 0;this.extensions=(h=yt??wt)!==null&&h!==void 0?h:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),ht!=null&&ht.stack?Object.defineProperty(this,"stack",{value:ht.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,GraphQLError):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const o of this.nodes)o.loc&&(e+=`

`+printLocation(o.loc));else if(this.source&&this.locations)for(const o of this.locations)e+=`

`+printSourceLocation(this.source,o);return e}toJSON(){const e={message:this.message};return this.locations!=null&&(e.locations=this.locations),this.path!=null&&(e.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function undefinedIfEmpty(a){return a===void 0||a.length===0?void 0:a}function syntaxError(a,e,o){return new GraphQLError(`Syntax Error: ${o}`,{source:a,positions:[e]})}class Location{constructor(e,o,c){this.start=e.start,this.end=o.end,this.startToken=e,this.endToken=o,this.source=c}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}let Token$1=class{constructor(e,o,c,d,h,et){this.kind=e,this.start=o,this.end=c,this.line=d,this.column=h,this.value=et,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}};const QueryDocumentKeys={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},kindValues=new Set(Object.keys(QueryDocumentKeys));function isNode(a){const e=a==null?void 0:a.kind;return typeof e=="string"&&kindValues.has(e)}var OperationTypeNode;(function(a){a.QUERY="query",a.MUTATION="mutation",a.SUBSCRIPTION="subscription"})(OperationTypeNode||(OperationTypeNode={}));var DirectiveLocation;(function(a){a.QUERY="QUERY",a.MUTATION="MUTATION",a.SUBSCRIPTION="SUBSCRIPTION",a.FIELD="FIELD",a.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",a.FRAGMENT_SPREAD="FRAGMENT_SPREAD",a.INLINE_FRAGMENT="INLINE_FRAGMENT",a.VARIABLE_DEFINITION="VARIABLE_DEFINITION",a.SCHEMA="SCHEMA",a.SCALAR="SCALAR",a.OBJECT="OBJECT",a.FIELD_DEFINITION="FIELD_DEFINITION",a.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",a.INTERFACE="INTERFACE",a.UNION="UNION",a.ENUM="ENUM",a.ENUM_VALUE="ENUM_VALUE",a.INPUT_OBJECT="INPUT_OBJECT",a.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(DirectiveLocation||(DirectiveLocation={}));var Kind;(function(a){a.NAME="Name",a.DOCUMENT="Document",a.OPERATION_DEFINITION="OperationDefinition",a.VARIABLE_DEFINITION="VariableDefinition",a.SELECTION_SET="SelectionSet",a.FIELD="Field",a.ARGUMENT="Argument",a.FRAGMENT_SPREAD="FragmentSpread",a.INLINE_FRAGMENT="InlineFragment",a.FRAGMENT_DEFINITION="FragmentDefinition",a.VARIABLE="Variable",a.INT="IntValue",a.FLOAT="FloatValue",a.STRING="StringValue",a.BOOLEAN="BooleanValue",a.NULL="NullValue",a.ENUM="EnumValue",a.LIST="ListValue",a.OBJECT="ObjectValue",a.OBJECT_FIELD="ObjectField",a.DIRECTIVE="Directive",a.NAMED_TYPE="NamedType",a.LIST_TYPE="ListType",a.NON_NULL_TYPE="NonNullType",a.SCHEMA_DEFINITION="SchemaDefinition",a.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",a.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",a.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",a.FIELD_DEFINITION="FieldDefinition",a.INPUT_VALUE_DEFINITION="InputValueDefinition",a.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",a.UNION_TYPE_DEFINITION="UnionTypeDefinition",a.ENUM_TYPE_DEFINITION="EnumTypeDefinition",a.ENUM_VALUE_DEFINITION="EnumValueDefinition",a.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",a.DIRECTIVE_DEFINITION="DirectiveDefinition",a.SCHEMA_EXTENSION="SchemaExtension",a.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",a.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",a.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",a.UNION_TYPE_EXTENSION="UnionTypeExtension",a.ENUM_TYPE_EXTENSION="EnumTypeExtension",a.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(Kind||(Kind={}));function isWhiteSpace(a){return a===9||a===32}function isDigit(a){return a>=48&&a<=57}function isLetter(a){return a>=97&&a<=122||a>=65&&a<=90}function isNameStart(a){return isLetter(a)||a===95}function isNameContinue(a){return isLetter(a)||isDigit(a)||a===95}function dedentBlockStringLines(a){var e;let o=Number.MAX_SAFE_INTEGER,c=null,d=-1;for(let et=0;et<a.length;++et){var h;const tt=a[et],ot=leadingWhitespace(tt);ot!==tt.length&&(c=(h=c)!==null&&h!==void 0?h:et,d=et,et!==0&&ot<o&&(o=ot))}return a.map((et,tt)=>tt===0?et:et.slice(o)).slice((e=c)!==null&&e!==void 0?e:0,d+1)}function leadingWhitespace(a){let e=0;for(;e<a.length&&isWhiteSpace(a.charCodeAt(e));)++e;return e}function printBlockString(a,e){const o=a.replace(/"""/g,'\\"""'),c=o.split(/\r\n|[\n\r]/g),d=c.length===1,h=c.length>1&&c.slice(1).every(wt=>wt.length===0||isWhiteSpace(wt.charCodeAt(0))),et=o.endsWith('\\"""'),tt=a.endsWith('"')&&!et,ot=a.endsWith("\\"),ft=tt||ot,ht=!(e!=null&&e.minimize)&&(!d||a.length>70||ft||h||et);let yt="";const gt=d&&isWhiteSpace(a.charCodeAt(0));return(ht&&!gt||h)&&(yt+=`
`),yt+=o,(ht||ft)&&(yt+=`
`),'"""'+yt+'"""'}var TokenKind;(function(a){a.SOF="<SOF>",a.EOF="<EOF>",a.BANG="!",a.DOLLAR="$",a.AMP="&",a.PAREN_L="(",a.PAREN_R=")",a.SPREAD="...",a.COLON=":",a.EQUALS="=",a.AT="@",a.BRACKET_L="[",a.BRACKET_R="]",a.BRACE_L="{",a.PIPE="|",a.BRACE_R="}",a.NAME="Name",a.INT="Int",a.FLOAT="Float",a.STRING="String",a.BLOCK_STRING="BlockString",a.COMMENT="Comment"})(TokenKind||(TokenKind={}));class Lexer{constructor(e){const o=new Token$1(TokenKind.SOF,0,0,0,0);this.source=e,this.lastToken=o,this.token=o,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==TokenKind.EOF)do if(e.next)e=e.next;else{const o=readNextToken(this,e.end);e.next=o,o.prev=e,e=o}while(e.kind===TokenKind.COMMENT);return e}}function isPunctuatorTokenKind(a){return a===TokenKind.BANG||a===TokenKind.DOLLAR||a===TokenKind.AMP||a===TokenKind.PAREN_L||a===TokenKind.PAREN_R||a===TokenKind.SPREAD||a===TokenKind.COLON||a===TokenKind.EQUALS||a===TokenKind.AT||a===TokenKind.BRACKET_L||a===TokenKind.BRACKET_R||a===TokenKind.BRACE_L||a===TokenKind.PIPE||a===TokenKind.BRACE_R}function isUnicodeScalarValue(a){return a>=0&&a<=55295||a>=57344&&a<=1114111}function isSupplementaryCodePoint(a,e){return isLeadingSurrogate(a.charCodeAt(e))&&isTrailingSurrogate(a.charCodeAt(e+1))}function isLeadingSurrogate(a){return a>=55296&&a<=56319}function isTrailingSurrogate(a){return a>=56320&&a<=57343}function printCodePointAt(a,e){const o=a.source.body.codePointAt(e);if(o===void 0)return TokenKind.EOF;if(o>=32&&o<=126){const c=String.fromCodePoint(o);return c==='"'?`'"'`:`"${c}"`}return"U+"+o.toString(16).toUpperCase().padStart(4,"0")}function createToken$1(a,e,o,c,d){const h=a.line,et=1+o-a.lineStart;return new Token$1(e,o,c,h,et,d)}function readNextToken(a,e){const o=a.source.body,c=o.length;let d=e;for(;d<c;){const h=o.charCodeAt(d);switch(h){case 65279:case 9:case 32:case 44:++d;continue;case 10:++d,++a.line,a.lineStart=d;continue;case 13:o.charCodeAt(d+1)===10?d+=2:++d,++a.line,a.lineStart=d;continue;case 35:return readComment(a,d);case 33:return createToken$1(a,TokenKind.BANG,d,d+1);case 36:return createToken$1(a,TokenKind.DOLLAR,d,d+1);case 38:return createToken$1(a,TokenKind.AMP,d,d+1);case 40:return createToken$1(a,TokenKind.PAREN_L,d,d+1);case 41:return createToken$1(a,TokenKind.PAREN_R,d,d+1);case 46:if(o.charCodeAt(d+1)===46&&o.charCodeAt(d+2)===46)return createToken$1(a,TokenKind.SPREAD,d,d+3);break;case 58:return createToken$1(a,TokenKind.COLON,d,d+1);case 61:return createToken$1(a,TokenKind.EQUALS,d,d+1);case 64:return createToken$1(a,TokenKind.AT,d,d+1);case 91:return createToken$1(a,TokenKind.BRACKET_L,d,d+1);case 93:return createToken$1(a,TokenKind.BRACKET_R,d,d+1);case 123:return createToken$1(a,TokenKind.BRACE_L,d,d+1);case 124:return createToken$1(a,TokenKind.PIPE,d,d+1);case 125:return createToken$1(a,TokenKind.BRACE_R,d,d+1);case 34:return o.charCodeAt(d+1)===34&&o.charCodeAt(d+2)===34?readBlockString(a,d):readString(a,d)}if(isDigit(h)||h===45)return readNumber(a,d,h);if(isNameStart(h))return readName(a,d);throw syntaxError(a.source,d,h===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:isUnicodeScalarValue(h)||isSupplementaryCodePoint(o,d)?`Unexpected character: ${printCodePointAt(a,d)}.`:`Invalid character: ${printCodePointAt(a,d)}.`)}return createToken$1(a,TokenKind.EOF,c,c)}function readComment(a,e){const o=a.source.body,c=o.length;let d=e+1;for(;d<c;){const h=o.charCodeAt(d);if(h===10||h===13)break;if(isUnicodeScalarValue(h))++d;else if(isSupplementaryCodePoint(o,d))d+=2;else break}return createToken$1(a,TokenKind.COMMENT,e,d,o.slice(e+1,d))}function readNumber(a,e,o){const c=a.source.body;let d=e,h=o,et=!1;if(h===45&&(h=c.charCodeAt(++d)),h===48){if(h=c.charCodeAt(++d),isDigit(h))throw syntaxError(a.source,d,`Invalid number, unexpected digit after 0: ${printCodePointAt(a,d)}.`)}else d=readDigits(a,d,h),h=c.charCodeAt(d);if(h===46&&(et=!0,h=c.charCodeAt(++d),d=readDigits(a,d,h),h=c.charCodeAt(d)),(h===69||h===101)&&(et=!0,h=c.charCodeAt(++d),(h===43||h===45)&&(h=c.charCodeAt(++d)),d=readDigits(a,d,h),h=c.charCodeAt(d)),h===46||isNameStart(h))throw syntaxError(a.source,d,`Invalid number, expected digit but got: ${printCodePointAt(a,d)}.`);return createToken$1(a,et?TokenKind.FLOAT:TokenKind.INT,e,d,c.slice(e,d))}function readDigits(a,e,o){if(!isDigit(o))throw syntaxError(a.source,e,`Invalid number, expected digit but got: ${printCodePointAt(a,e)}.`);const c=a.source.body;let d=e+1;for(;isDigit(c.charCodeAt(d));)++d;return d}function readString(a,e){const o=a.source.body,c=o.length;let d=e+1,h=d,et="";for(;d<c;){const tt=o.charCodeAt(d);if(tt===34)return et+=o.slice(h,d),createToken$1(a,TokenKind.STRING,e,d+1,et);if(tt===92){et+=o.slice(h,d);const ot=o.charCodeAt(d+1)===117?o.charCodeAt(d+2)===123?readEscapedUnicodeVariableWidth(a,d):readEscapedUnicodeFixedWidth(a,d):readEscapedCharacter(a,d);et+=ot.value,d+=ot.size,h=d;continue}if(tt===10||tt===13)break;if(isUnicodeScalarValue(tt))++d;else if(isSupplementaryCodePoint(o,d))d+=2;else throw syntaxError(a.source,d,`Invalid character within String: ${printCodePointAt(a,d)}.`)}throw syntaxError(a.source,d,"Unterminated string.")}function readEscapedUnicodeVariableWidth(a,e){const o=a.source.body;let c=0,d=3;for(;d<12;){const h=o.charCodeAt(e+d++);if(h===125){if(d<5||!isUnicodeScalarValue(c))break;return{value:String.fromCodePoint(c),size:d}}if(c=c<<4|readHexDigit(h),c<0)break}throw syntaxError(a.source,e,`Invalid Unicode escape sequence: "${o.slice(e,e+d)}".`)}function readEscapedUnicodeFixedWidth(a,e){const o=a.source.body,c=read16BitHexCode(o,e+2);if(isUnicodeScalarValue(c))return{value:String.fromCodePoint(c),size:6};if(isLeadingSurrogate(c)&&o.charCodeAt(e+6)===92&&o.charCodeAt(e+7)===117){const d=read16BitHexCode(o,e+8);if(isTrailingSurrogate(d))return{value:String.fromCodePoint(c,d),size:12}}throw syntaxError(a.source,e,`Invalid Unicode escape sequence: "${o.slice(e,e+6)}".`)}function read16BitHexCode(a,e){return readHexDigit(a.charCodeAt(e))<<12|readHexDigit(a.charCodeAt(e+1))<<8|readHexDigit(a.charCodeAt(e+2))<<4|readHexDigit(a.charCodeAt(e+3))}function readHexDigit(a){return a>=48&&a<=57?a-48:a>=65&&a<=70?a-55:a>=97&&a<=102?a-87:-1}function readEscapedCharacter(a,e){const o=a.source.body;switch(o.charCodeAt(e+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw syntaxError(a.source,e,`Invalid character escape sequence: "${o.slice(e,e+2)}".`)}function readBlockString(a,e){const o=a.source.body,c=o.length;let d=a.lineStart,h=e+3,et=h,tt="";const ot=[];for(;h<c;){const ft=o.charCodeAt(h);if(ft===34&&o.charCodeAt(h+1)===34&&o.charCodeAt(h+2)===34){tt+=o.slice(et,h),ot.push(tt);const ht=createToken$1(a,TokenKind.BLOCK_STRING,e,h+3,dedentBlockStringLines(ot).join(`
`));return a.line+=ot.length-1,a.lineStart=d,ht}if(ft===92&&o.charCodeAt(h+1)===34&&o.charCodeAt(h+2)===34&&o.charCodeAt(h+3)===34){tt+=o.slice(et,h),et=h+1,h+=4;continue}if(ft===10||ft===13){tt+=o.slice(et,h),ot.push(tt),ft===13&&o.charCodeAt(h+1)===10?h+=2:++h,tt="",et=h,d=h;continue}if(isUnicodeScalarValue(ft))++h;else if(isSupplementaryCodePoint(o,h))h+=2;else throw syntaxError(a.source,h,`Invalid character within String: ${printCodePointAt(a,h)}.`)}throw syntaxError(a.source,h,"Unterminated string.")}function readName(a,e){const o=a.source.body,c=o.length;let d=e+1;for(;d<c;){const h=o.charCodeAt(d);if(isNameContinue(h))++d;else break}return createToken$1(a,TokenKind.NAME,e,d,o.slice(e,d))}const MAX_ARRAY_LENGTH=10,MAX_RECURSIVE_DEPTH=2;function inspect$3(a){return formatValue(a,[])}function formatValue(a,e){switch(typeof a){case"string":return JSON.stringify(a);case"function":return a.name?`[function ${a.name}]`:"[function]";case"object":return formatObjectValue(a,e);default:return String(a)}}function formatObjectValue(a,e){if(a===null)return"null";if(e.includes(a))return"[Circular]";const o=[...e,a];if(isJSONable(a)){const c=a.toJSON();if(c!==a)return typeof c=="string"?c:formatValue(c,o)}else if(Array.isArray(a))return formatArray(a,o);return formatObject(a,o)}function isJSONable(a){return typeof a.toJSON=="function"}function formatObject(a,e){const o=Object.entries(a);return o.length===0?"{}":e.length>MAX_RECURSIVE_DEPTH?"["+getObjectTag(a)+"]":"{ "+o.map(([d,h])=>d+": "+formatValue(h,e)).join(", ")+" }"}function formatArray(a,e){if(a.length===0)return"[]";if(e.length>MAX_RECURSIVE_DEPTH)return"[Array]";const o=Math.min(MAX_ARRAY_LENGTH,a.length),c=a.length-o,d=[];for(let h=0;h<o;++h)d.push(formatValue(a[h],e));return c===1?d.push("... 1 more item"):c>1&&d.push(`... ${c} more items`),"["+d.join(", ")+"]"}function getObjectTag(a){const e=Object.prototype.toString.call(a).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof a.constructor=="function"){const o=a.constructor.name;if(typeof o=="string"&&o!=="")return o}return e}const instanceOf=globalThis.process?function(e,o){return e instanceof o}:function(e,o){if(e instanceof o)return!0;if(typeof e=="object"&&e!==null){var c;const d=o.prototype[Symbol.toStringTag],h=Symbol.toStringTag in e?e[Symbol.toStringTag]:(c=e.constructor)===null||c===void 0?void 0:c.name;if(d===h){const et=inspect$3(e);throw new Error(`Cannot use ${d} "${et}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};class Source{constructor(e,o="GraphQL request",c={line:1,column:1}){typeof e=="string"||devAssert(!1,`Body must be a string. Received: ${inspect$3(e)}.`),this.body=e,this.name=o,this.locationOffset=c,this.locationOffset.line>0||devAssert(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||devAssert(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function isSource(a){return instanceOf(a,Source)}function parse$3(a,e){return new Parser$1(a,e).parseDocument()}let Parser$1=class{constructor(e,o={}){const c=isSource(e)?e:new Source(e);this._lexer=new Lexer(c),this._options=o,this._tokenCounter=0}parseName(){const e=this.expectToken(TokenKind.NAME);return this.node(e,{kind:Kind.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:Kind.DOCUMENT,definitions:this.many(TokenKind.SOF,this.parseDefinition,TokenKind.EOF)})}parseDefinition(){if(this.peek(TokenKind.BRACE_L))return this.parseOperationDefinition();const e=this.peekDescription(),o=e?this._lexer.lookahead():this._lexer.token;if(o.kind===TokenKind.NAME){switch(o.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw syntaxError(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(o.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(o)}parseOperationDefinition(){const e=this._lexer.token;if(this.peek(TokenKind.BRACE_L))return this.node(e,{kind:Kind.OPERATION_DEFINITION,operation:OperationTypeNode.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const o=this.parseOperationType();let c;return this.peek(TokenKind.NAME)&&(c=this.parseName()),this.node(e,{kind:Kind.OPERATION_DEFINITION,operation:o,name:c,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const e=this.expectToken(TokenKind.NAME);switch(e.value){case"query":return OperationTypeNode.QUERY;case"mutation":return OperationTypeNode.MUTATION;case"subscription":return OperationTypeNode.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(TokenKind.PAREN_L,this.parseVariableDefinition,TokenKind.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:Kind.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(TokenKind.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(TokenKind.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const e=this._lexer.token;return this.expectToken(TokenKind.DOLLAR),this.node(e,{kind:Kind.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:Kind.SELECTION_SET,selections:this.many(TokenKind.BRACE_L,this.parseSelection,TokenKind.BRACE_R)})}parseSelection(){return this.peek(TokenKind.SPREAD)?this.parseFragment():this.parseField()}parseField(){const e=this._lexer.token,o=this.parseName();let c,d;return this.expectOptionalToken(TokenKind.COLON)?(c=o,d=this.parseName()):d=o,this.node(e,{kind:Kind.FIELD,alias:c,name:d,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(TokenKind.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){const o=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(TokenKind.PAREN_L,o,TokenKind.PAREN_R)}parseArgument(e=!1){const o=this._lexer.token,c=this.parseName();return this.expectToken(TokenKind.COLON),this.node(o,{kind:Kind.ARGUMENT,name:c,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const e=this._lexer.token;this.expectToken(TokenKind.SPREAD);const o=this.expectOptionalKeyword("on");return!o&&this.peek(TokenKind.NAME)?this.node(e,{kind:Kind.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:Kind.INLINE_FRAGMENT,typeCondition:o?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const e=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(e,{kind:Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(e){const o=this._lexer.token;switch(o.kind){case TokenKind.BRACKET_L:return this.parseList(e);case TokenKind.BRACE_L:return this.parseObject(e);case TokenKind.INT:return this.advanceLexer(),this.node(o,{kind:Kind.INT,value:o.value});case TokenKind.FLOAT:return this.advanceLexer(),this.node(o,{kind:Kind.FLOAT,value:o.value});case TokenKind.STRING:case TokenKind.BLOCK_STRING:return this.parseStringLiteral();case TokenKind.NAME:switch(this.advanceLexer(),o.value){case"true":return this.node(o,{kind:Kind.BOOLEAN,value:!0});case"false":return this.node(o,{kind:Kind.BOOLEAN,value:!1});case"null":return this.node(o,{kind:Kind.NULL});default:return this.node(o,{kind:Kind.ENUM,value:o.value})}case TokenKind.DOLLAR:if(e)if(this.expectToken(TokenKind.DOLLAR),this._lexer.token.kind===TokenKind.NAME){const c=this._lexer.token.value;throw syntaxError(this._lexer.source,o.start,`Unexpected variable "$${c}" in constant value.`)}else throw this.unexpected(o);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:Kind.STRING,value:e.value,block:e.kind===TokenKind.BLOCK_STRING})}parseList(e){const o=()=>this.parseValueLiteral(e);return this.node(this._lexer.token,{kind:Kind.LIST,values:this.any(TokenKind.BRACKET_L,o,TokenKind.BRACKET_R)})}parseObject(e){const o=()=>this.parseObjectField(e);return this.node(this._lexer.token,{kind:Kind.OBJECT,fields:this.any(TokenKind.BRACE_L,o,TokenKind.BRACE_R)})}parseObjectField(e){const o=this._lexer.token,c=this.parseName();return this.expectToken(TokenKind.COLON),this.node(o,{kind:Kind.OBJECT_FIELD,name:c,value:this.parseValueLiteral(e)})}parseDirectives(e){const o=[];for(;this.peek(TokenKind.AT);)o.push(this.parseDirective(e));return o}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){const o=this._lexer.token;return this.expectToken(TokenKind.AT),this.node(o,{kind:Kind.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){const e=this._lexer.token;let o;if(this.expectOptionalToken(TokenKind.BRACKET_L)){const c=this.parseTypeReference();this.expectToken(TokenKind.BRACKET_R),o=this.node(e,{kind:Kind.LIST_TYPE,type:c})}else o=this.parseNamedType();return this.expectOptionalToken(TokenKind.BANG)?this.node(e,{kind:Kind.NON_NULL_TYPE,type:o}):o}parseNamedType(){return this.node(this._lexer.token,{kind:Kind.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(TokenKind.STRING)||this.peek(TokenKind.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const e=this._lexer.token,o=this.parseDescription();this.expectKeyword("schema");const c=this.parseConstDirectives(),d=this.many(TokenKind.BRACE_L,this.parseOperationTypeDefinition,TokenKind.BRACE_R);return this.node(e,{kind:Kind.SCHEMA_DEFINITION,description:o,directives:c,operationTypes:d})}parseOperationTypeDefinition(){const e=this._lexer.token,o=this.parseOperationType();this.expectToken(TokenKind.COLON);const c=this.parseNamedType();return this.node(e,{kind:Kind.OPERATION_TYPE_DEFINITION,operation:o,type:c})}parseScalarTypeDefinition(){const e=this._lexer.token,o=this.parseDescription();this.expectKeyword("scalar");const c=this.parseName(),d=this.parseConstDirectives();return this.node(e,{kind:Kind.SCALAR_TYPE_DEFINITION,description:o,name:c,directives:d})}parseObjectTypeDefinition(){const e=this._lexer.token,o=this.parseDescription();this.expectKeyword("type");const c=this.parseName(),d=this.parseImplementsInterfaces(),h=this.parseConstDirectives(),et=this.parseFieldsDefinition();return this.node(e,{kind:Kind.OBJECT_TYPE_DEFINITION,description:o,name:c,interfaces:d,directives:h,fields:et})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(TokenKind.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(TokenKind.BRACE_L,this.parseFieldDefinition,TokenKind.BRACE_R)}parseFieldDefinition(){const e=this._lexer.token,o=this.parseDescription(),c=this.parseName(),d=this.parseArgumentDefs();this.expectToken(TokenKind.COLON);const h=this.parseTypeReference(),et=this.parseConstDirectives();return this.node(e,{kind:Kind.FIELD_DEFINITION,description:o,name:c,arguments:d,type:h,directives:et})}parseArgumentDefs(){return this.optionalMany(TokenKind.PAREN_L,this.parseInputValueDef,TokenKind.PAREN_R)}parseInputValueDef(){const e=this._lexer.token,o=this.parseDescription(),c=this.parseName();this.expectToken(TokenKind.COLON);const d=this.parseTypeReference();let h;this.expectOptionalToken(TokenKind.EQUALS)&&(h=this.parseConstValueLiteral());const et=this.parseConstDirectives();return this.node(e,{kind:Kind.INPUT_VALUE_DEFINITION,description:o,name:c,type:d,defaultValue:h,directives:et})}parseInterfaceTypeDefinition(){const e=this._lexer.token,o=this.parseDescription();this.expectKeyword("interface");const c=this.parseName(),d=this.parseImplementsInterfaces(),h=this.parseConstDirectives(),et=this.parseFieldsDefinition();return this.node(e,{kind:Kind.INTERFACE_TYPE_DEFINITION,description:o,name:c,interfaces:d,directives:h,fields:et})}parseUnionTypeDefinition(){const e=this._lexer.token,o=this.parseDescription();this.expectKeyword("union");const c=this.parseName(),d=this.parseConstDirectives(),h=this.parseUnionMemberTypes();return this.node(e,{kind:Kind.UNION_TYPE_DEFINITION,description:o,name:c,directives:d,types:h})}parseUnionMemberTypes(){return this.expectOptionalToken(TokenKind.EQUALS)?this.delimitedMany(TokenKind.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const e=this._lexer.token,o=this.parseDescription();this.expectKeyword("enum");const c=this.parseName(),d=this.parseConstDirectives(),h=this.parseEnumValuesDefinition();return this.node(e,{kind:Kind.ENUM_TYPE_DEFINITION,description:o,name:c,directives:d,values:h})}parseEnumValuesDefinition(){return this.optionalMany(TokenKind.BRACE_L,this.parseEnumValueDefinition,TokenKind.BRACE_R)}parseEnumValueDefinition(){const e=this._lexer.token,o=this.parseDescription(),c=this.parseEnumValueName(),d=this.parseConstDirectives();return this.node(e,{kind:Kind.ENUM_VALUE_DEFINITION,description:o,name:c,directives:d})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw syntaxError(this._lexer.source,this._lexer.token.start,`${getTokenDesc$1(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const e=this._lexer.token,o=this.parseDescription();this.expectKeyword("input");const c=this.parseName(),d=this.parseConstDirectives(),h=this.parseInputFieldsDefinition();return this.node(e,{kind:Kind.INPUT_OBJECT_TYPE_DEFINITION,description:o,name:c,directives:d,fields:h})}parseInputFieldsDefinition(){return this.optionalMany(TokenKind.BRACE_L,this.parseInputValueDef,TokenKind.BRACE_R)}parseTypeSystemExtension(){const e=this._lexer.lookahead();if(e.kind===TokenKind.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const o=this.parseConstDirectives(),c=this.optionalMany(TokenKind.BRACE_L,this.parseOperationTypeDefinition,TokenKind.BRACE_R);if(o.length===0&&c.length===0)throw this.unexpected();return this.node(e,{kind:Kind.SCHEMA_EXTENSION,directives:o,operationTypes:c})}parseScalarTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const o=this.parseName(),c=this.parseConstDirectives();if(c.length===0)throw this.unexpected();return this.node(e,{kind:Kind.SCALAR_TYPE_EXTENSION,name:o,directives:c})}parseObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const o=this.parseName(),c=this.parseImplementsInterfaces(),d=this.parseConstDirectives(),h=this.parseFieldsDefinition();if(c.length===0&&d.length===0&&h.length===0)throw this.unexpected();return this.node(e,{kind:Kind.OBJECT_TYPE_EXTENSION,name:o,interfaces:c,directives:d,fields:h})}parseInterfaceTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const o=this.parseName(),c=this.parseImplementsInterfaces(),d=this.parseConstDirectives(),h=this.parseFieldsDefinition();if(c.length===0&&d.length===0&&h.length===0)throw this.unexpected();return this.node(e,{kind:Kind.INTERFACE_TYPE_EXTENSION,name:o,interfaces:c,directives:d,fields:h})}parseUnionTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const o=this.parseName(),c=this.parseConstDirectives(),d=this.parseUnionMemberTypes();if(c.length===0&&d.length===0)throw this.unexpected();return this.node(e,{kind:Kind.UNION_TYPE_EXTENSION,name:o,directives:c,types:d})}parseEnumTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const o=this.parseName(),c=this.parseConstDirectives(),d=this.parseEnumValuesDefinition();if(c.length===0&&d.length===0)throw this.unexpected();return this.node(e,{kind:Kind.ENUM_TYPE_EXTENSION,name:o,directives:c,values:d})}parseInputObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const o=this.parseName(),c=this.parseConstDirectives(),d=this.parseInputFieldsDefinition();if(c.length===0&&d.length===0)throw this.unexpected();return this.node(e,{kind:Kind.INPUT_OBJECT_TYPE_EXTENSION,name:o,directives:c,fields:d})}parseDirectiveDefinition(){const e=this._lexer.token,o=this.parseDescription();this.expectKeyword("directive"),this.expectToken(TokenKind.AT);const c=this.parseName(),d=this.parseArgumentDefs(),h=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const et=this.parseDirectiveLocations();return this.node(e,{kind:Kind.DIRECTIVE_DEFINITION,description:o,name:c,arguments:d,repeatable:h,locations:et})}parseDirectiveLocations(){return this.delimitedMany(TokenKind.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const e=this._lexer.token,o=this.parseName();if(Object.prototype.hasOwnProperty.call(DirectiveLocation,o.value))return o;throw this.unexpected(e)}node(e,o){return this._options.noLocation!==!0&&(o.loc=new Location(e,this._lexer.lastToken,this._lexer.source)),o}peek(e){return this._lexer.token.kind===e}expectToken(e){const o=this._lexer.token;if(o.kind===e)return this.advanceLexer(),o;throw syntaxError(this._lexer.source,o.start,`Expected ${getTokenKindDesc(e)}, found ${getTokenDesc$1(o)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e?(this.advanceLexer(),!0):!1}expectKeyword(e){const o=this._lexer.token;if(o.kind===TokenKind.NAME&&o.value===e)this.advanceLexer();else throw syntaxError(this._lexer.source,o.start,`Expected "${e}", found ${getTokenDesc$1(o)}.`)}expectOptionalKeyword(e){const o=this._lexer.token;return o.kind===TokenKind.NAME&&o.value===e?(this.advanceLexer(),!0):!1}unexpected(e){const o=e??this._lexer.token;return syntaxError(this._lexer.source,o.start,`Unexpected ${getTokenDesc$1(o)}.`)}any(e,o,c){this.expectToken(e);const d=[];for(;!this.expectOptionalToken(c);)d.push(o.call(this));return d}optionalMany(e,o,c){if(this.expectOptionalToken(e)){const d=[];do d.push(o.call(this));while(!this.expectOptionalToken(c));return d}return[]}many(e,o,c){this.expectToken(e);const d=[];do d.push(o.call(this));while(!this.expectOptionalToken(c));return d}delimitedMany(e,o){this.expectOptionalToken(e);const c=[];do c.push(o.call(this));while(this.expectOptionalToken(e));return c}advanceLexer(){const{maxTokens:e}=this._options,o=this._lexer.advance();if(e!==void 0&&o.kind!==TokenKind.EOF&&(++this._tokenCounter,this._tokenCounter>e))throw syntaxError(this._lexer.source,o.start,`Document contains more that ${e} tokens. Parsing aborted.`)}};function getTokenDesc$1(a){const e=a.value;return getTokenKindDesc(a.kind)+(e!=null?` "${e}"`:"")}function getTokenKindDesc(a){return isPunctuatorTokenKind(a)?`"${a}"`:a}function printString(a){return`"${a.replace(escapedRegExp,escapedReplacer)}"`}const escapedRegExp=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function escapedReplacer(a){return escapeSequences[a.charCodeAt(0)]}const escapeSequences=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],BREAK$1=Object.freeze({});function visit(a,e,o=QueryDocumentKeys){const c=new Map;for(const vt of Object.values(Kind))c.set(vt,getEnterLeaveForKind(e,vt));let d,h=Array.isArray(a),et=[a],tt=-1,ot=[],ft=a,ht,yt;const gt=[],wt=[];do{tt++;const vt=tt===et.length,$t=vt&&ot.length!==0;if(vt){if(ht=wt.length===0?void 0:gt[gt.length-1],ft=yt,yt=wt.pop(),$t)if(h){ft=ft.slice();let kt=0;for(const[It,Dt]of ot){const Mt=It-kt;Dt===null?(ft.splice(Mt,1),kt++):ft[Mt]=Dt}}else{ft=Object.defineProperties({},Object.getOwnPropertyDescriptors(ft));for(const[kt,It]of ot)ft[kt]=It}tt=d.index,et=d.keys,ot=d.edits,h=d.inArray,d=d.prev}else if(yt){if(ht=h?tt:et[tt],ft=yt[ht],ft==null)continue;gt.push(ht)}let At;if(!Array.isArray(ft)){var bt,xt;isNode(ft)||devAssert(!1,`Invalid AST Node: ${inspect$3(ft)}.`);const kt=vt?(bt=c.get(ft.kind))===null||bt===void 0?void 0:bt.leave:(xt=c.get(ft.kind))===null||xt===void 0?void 0:xt.enter;if(At=kt==null?void 0:kt.call(e,ft,ht,yt,gt,wt),At===BREAK$1)break;if(At===!1){if(!vt){gt.pop();continue}}else if(At!==void 0&&(ot.push([ht,At]),!vt))if(isNode(At))ft=At;else{gt.pop();continue}}if(At===void 0&&$t&&ot.push([ht,ft]),vt)gt.pop();else{var Et;d={inArray:h,index:tt,keys:et,edits:ot,prev:d},h=Array.isArray(ft),et=h?ft:(Et=o[ft.kind])!==null&&Et!==void 0?Et:[],tt=-1,ot=[],yt&&wt.push(yt),yt=ft}}while(d!==void 0);return ot.length!==0?ot[ot.length-1][1]:a}function getEnterLeaveForKind(a,e){const o=a[e];return typeof o=="object"?o:typeof o=="function"?{enter:o,leave:void 0}:{enter:a.enter,leave:a.leave}}function print(a){return visit(a,printDocASTReducer)}const MAX_LINE_LENGTH=80,printDocASTReducer={Name:{leave:a=>a.value},Variable:{leave:a=>"$"+a.name},Document:{leave:a=>join$1(a.definitions,`

`)},OperationDefinition:{leave(a){const e=wrap("(",join$1(a.variableDefinitions,", "),")"),o=join$1([a.operation,join$1([a.name,e]),join$1(a.directives," ")]," ");return(o==="query"?"":o+" ")+a.selectionSet}},VariableDefinition:{leave:({variable:a,type:e,defaultValue:o,directives:c})=>a+": "+e+wrap(" = ",o)+wrap(" ",join$1(c," "))},SelectionSet:{leave:({selections:a})=>block(a)},Field:{leave({alias:a,name:e,arguments:o,directives:c,selectionSet:d}){const h=wrap("",a,": ")+e;let et=h+wrap("(",join$1(o,", "),")");return et.length>MAX_LINE_LENGTH&&(et=h+wrap(`(
`,indent(join$1(o,`
`)),`
)`)),join$1([et,join$1(c," "),d]," ")}},Argument:{leave:({name:a,value:e})=>a+": "+e},FragmentSpread:{leave:({name:a,directives:e})=>"..."+a+wrap(" ",join$1(e," "))},InlineFragment:{leave:({typeCondition:a,directives:e,selectionSet:o})=>join$1(["...",wrap("on ",a),join$1(e," "),o]," ")},FragmentDefinition:{leave:({name:a,typeCondition:e,variableDefinitions:o,directives:c,selectionSet:d})=>`fragment ${a}${wrap("(",join$1(o,", "),")")} on ${e} ${wrap("",join$1(c," ")," ")}`+d},IntValue:{leave:({value:a})=>a},FloatValue:{leave:({value:a})=>a},StringValue:{leave:({value:a,block:e})=>e?printBlockString(a):printString(a)},BooleanValue:{leave:({value:a})=>a?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:a})=>a},ListValue:{leave:({values:a})=>"["+join$1(a,", ")+"]"},ObjectValue:{leave:({fields:a})=>"{"+join$1(a,", ")+"}"},ObjectField:{leave:({name:a,value:e})=>a+": "+e},Directive:{leave:({name:a,arguments:e})=>"@"+a+wrap("(",join$1(e,", "),")")},NamedType:{leave:({name:a})=>a},ListType:{leave:({type:a})=>"["+a+"]"},NonNullType:{leave:({type:a})=>a+"!"},SchemaDefinition:{leave:({description:a,directives:e,operationTypes:o})=>wrap("",a,`
`)+join$1(["schema",join$1(e," "),block(o)]," ")},OperationTypeDefinition:{leave:({operation:a,type:e})=>a+": "+e},ScalarTypeDefinition:{leave:({description:a,name:e,directives:o})=>wrap("",a,`
`)+join$1(["scalar",e,join$1(o," ")]," ")},ObjectTypeDefinition:{leave:({description:a,name:e,interfaces:o,directives:c,fields:d})=>wrap("",a,`
`)+join$1(["type",e,wrap("implements ",join$1(o," & ")),join$1(c," "),block(d)]," ")},FieldDefinition:{leave:({description:a,name:e,arguments:o,type:c,directives:d})=>wrap("",a,`
`)+e+(hasMultilineItems(o)?wrap(`(
`,indent(join$1(o,`
`)),`
)`):wrap("(",join$1(o,", "),")"))+": "+c+wrap(" ",join$1(d," "))},InputValueDefinition:{leave:({description:a,name:e,type:o,defaultValue:c,directives:d})=>wrap("",a,`
`)+join$1([e+": "+o,wrap("= ",c),join$1(d," ")]," ")},InterfaceTypeDefinition:{leave:({description:a,name:e,interfaces:o,directives:c,fields:d})=>wrap("",a,`
`)+join$1(["interface",e,wrap("implements ",join$1(o," & ")),join$1(c," "),block(d)]," ")},UnionTypeDefinition:{leave:({description:a,name:e,directives:o,types:c})=>wrap("",a,`
`)+join$1(["union",e,join$1(o," "),wrap("= ",join$1(c," | "))]," ")},EnumTypeDefinition:{leave:({description:a,name:e,directives:o,values:c})=>wrap("",a,`
`)+join$1(["enum",e,join$1(o," "),block(c)]," ")},EnumValueDefinition:{leave:({description:a,name:e,directives:o})=>wrap("",a,`
`)+join$1([e,join$1(o," ")]," ")},InputObjectTypeDefinition:{leave:({description:a,name:e,directives:o,fields:c})=>wrap("",a,`
`)+join$1(["input",e,join$1(o," "),block(c)]," ")},DirectiveDefinition:{leave:({description:a,name:e,arguments:o,repeatable:c,locations:d})=>wrap("",a,`
`)+"directive @"+e+(hasMultilineItems(o)?wrap(`(
`,indent(join$1(o,`
`)),`
)`):wrap("(",join$1(o,", "),")"))+(c?" repeatable":"")+" on "+join$1(d," | ")},SchemaExtension:{leave:({directives:a,operationTypes:e})=>join$1(["extend schema",join$1(a," "),block(e)]," ")},ScalarTypeExtension:{leave:({name:a,directives:e})=>join$1(["extend scalar",a,join$1(e," ")]," ")},ObjectTypeExtension:{leave:({name:a,interfaces:e,directives:o,fields:c})=>join$1(["extend type",a,wrap("implements ",join$1(e," & ")),join$1(o," "),block(c)]," ")},InterfaceTypeExtension:{leave:({name:a,interfaces:e,directives:o,fields:c})=>join$1(["extend interface",a,wrap("implements ",join$1(e," & ")),join$1(o," "),block(c)]," ")},UnionTypeExtension:{leave:({name:a,directives:e,types:o})=>join$1(["extend union",a,join$1(e," "),wrap("= ",join$1(o," | "))]," ")},EnumTypeExtension:{leave:({name:a,directives:e,values:o})=>join$1(["extend enum",a,join$1(e," "),block(o)]," ")},InputObjectTypeExtension:{leave:({name:a,directives:e,fields:o})=>join$1(["extend input",a,join$1(e," "),block(o)]," ")}};function join$1(a,e=""){var o;return(o=a==null?void 0:a.filter(c=>c).join(e))!==null&&o!==void 0?o:""}function block(a){return wrap(`{
`,indent(join$1(a,`
`)),`
}`)}function wrap(a,e,o=""){return e!=null&&e!==""?a+e+o:""}function indent(a){return wrap("  ",a.replace(/\n/g,`
  `))}function hasMultilineItems(a){var e;return(e=a==null?void 0:a.some(o=>o.includes(`
`)))!==null&&e!==void 0?e:!1}const extractOperationName=a=>{var c,d;let e;const o=a.definitions.filter(h=>h.kind==="OperationDefinition");return o.length===1&&(e=(d=(c=o[0])==null?void 0:c.name)==null?void 0:d.value),e},resolveRequestDocument=a=>{if(typeof a=="string"){let o;try{const c=parse$3(a);o=extractOperationName(c)}catch{}return{query:a,operationName:o}}const e=extractOperationName(a);return{query:print(a),operationName:e}};class ClientError extends Error{constructor(e,o){const c=`${ClientError.extractMessage(e)}: ${JSON.stringify({response:e,request:o})}`;super(c),Object.setPrototypeOf(this,ClientError.prototype),this.response=e,this.request=o,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ClientError)}static extractMessage(e){var o,c;return((c=(o=e.errors)==null?void 0:o[0])==null?void 0:c.message)??`GraphQL Error (Code: ${e.status})`}}var browserPonyfill={exports:{}};(function(a,e){var o=typeof self<"u"?self:commonjsGlobal,c=function(){function h(){this.fetch=!1,this.DOMException=o.DOMException}return h.prototype=o,new h}();(function(h){(function(et){var tt={searchParams:"URLSearchParams"in h,iterable:"Symbol"in h&&"iterator"in Symbol,blob:"FileReader"in h&&"Blob"in h&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in h,arrayBuffer:"ArrayBuffer"in h};function ot(mt){return mt&&DataView.prototype.isPrototypeOf(mt)}if(tt.arrayBuffer)var ft=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],ht=ArrayBuffer.isView||function(mt){return mt&&ft.indexOf(Object.prototype.toString.call(mt))>-1};function yt(mt){if(typeof mt!="string"&&(mt=String(mt)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(mt))throw new TypeError("Invalid character in header field name");return mt.toLowerCase()}function gt(mt){return typeof mt!="string"&&(mt=String(mt)),mt}function wt(mt){var Tt={next:function(){var Rt=mt.shift();return{done:Rt===void 0,value:Rt}}};return tt.iterable&&(Tt[Symbol.iterator]=function(){return Tt}),Tt}function bt(mt){this.map={},mt instanceof bt?mt.forEach(function(Tt,Rt){this.append(Rt,Tt)},this):Array.isArray(mt)?mt.forEach(function(Tt){this.append(Tt[0],Tt[1])},this):mt&&Object.getOwnPropertyNames(mt).forEach(function(Tt){this.append(Tt,mt[Tt])},this)}bt.prototype.append=function(mt,Tt){mt=yt(mt),Tt=gt(Tt);var Rt=this.map[mt];this.map[mt]=Rt?Rt+", "+Tt:Tt},bt.prototype.delete=function(mt){delete this.map[yt(mt)]},bt.prototype.get=function(mt){return mt=yt(mt),this.has(mt)?this.map[mt]:null},bt.prototype.has=function(mt){return this.map.hasOwnProperty(yt(mt))},bt.prototype.set=function(mt,Tt){this.map[yt(mt)]=gt(Tt)},bt.prototype.forEach=function(mt,Tt){for(var Rt in this.map)this.map.hasOwnProperty(Rt)&&mt.call(Tt,this.map[Rt],Rt,this)},bt.prototype.keys=function(){var mt=[];return this.forEach(function(Tt,Rt){mt.push(Rt)}),wt(mt)},bt.prototype.values=function(){var mt=[];return this.forEach(function(Tt){mt.push(Tt)}),wt(mt)},bt.prototype.entries=function(){var mt=[];return this.forEach(function(Tt,Rt){mt.push([Rt,Tt])}),wt(mt)},tt.iterable&&(bt.prototype[Symbol.iterator]=bt.prototype.entries);function xt(mt){if(mt.bodyUsed)return Promise.reject(new TypeError("Already read"));mt.bodyUsed=!0}function Et(mt){return new Promise(function(Tt,Rt){mt.onload=function(){Tt(mt.result)},mt.onerror=function(){Rt(mt.error)}})}function vt(mt){var Tt=new FileReader,Rt=Et(Tt);return Tt.readAsArrayBuffer(mt),Rt}function $t(mt){var Tt=new FileReader,Rt=Et(Tt);return Tt.readAsText(mt),Rt}function At(mt){for(var Tt=new Uint8Array(mt),Rt=new Array(Tt.length),Ot=0;Ot<Tt.length;Ot++)Rt[Ot]=String.fromCharCode(Tt[Ot]);return Rt.join("")}function kt(mt){if(mt.slice)return mt.slice(0);var Tt=new Uint8Array(mt.byteLength);return Tt.set(new Uint8Array(mt)),Tt.buffer}function It(){return this.bodyUsed=!1,this._initBody=function(mt){this._bodyInit=mt,mt?typeof mt=="string"?this._bodyText=mt:tt.blob&&Blob.prototype.isPrototypeOf(mt)?this._bodyBlob=mt:tt.formData&&FormData.prototype.isPrototypeOf(mt)?this._bodyFormData=mt:tt.searchParams&&URLSearchParams.prototype.isPrototypeOf(mt)?this._bodyText=mt.toString():tt.arrayBuffer&&tt.blob&&ot(mt)?(this._bodyArrayBuffer=kt(mt.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):tt.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(mt)||ht(mt))?this._bodyArrayBuffer=kt(mt):this._bodyText=mt=Object.prototype.toString.call(mt):this._bodyText="",this.headers.get("content-type")||(typeof mt=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):tt.searchParams&&URLSearchParams.prototype.isPrototypeOf(mt)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},tt.blob&&(this.blob=function(){var mt=xt(this);if(mt)return mt;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?xt(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(vt)}),this.text=function(){var mt=xt(this);if(mt)return mt;if(this._bodyBlob)return $t(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(At(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},tt.formData&&(this.formData=function(){return this.text().then(Kt)}),this.json=function(){return this.text().then(JSON.parse)},this}var Dt=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Mt(mt){var Tt=mt.toUpperCase();return Dt.indexOf(Tt)>-1?Tt:mt}function zt(mt,Tt){Tt=Tt||{};var Rt=Tt.body;if(mt instanceof zt){if(mt.bodyUsed)throw new TypeError("Already read");this.url=mt.url,this.credentials=mt.credentials,Tt.headers||(this.headers=new bt(mt.headers)),this.method=mt.method,this.mode=mt.mode,this.signal=mt.signal,!Rt&&mt._bodyInit!=null&&(Rt=mt._bodyInit,mt.bodyUsed=!0)}else this.url=String(mt);if(this.credentials=Tt.credentials||this.credentials||"same-origin",(Tt.headers||!this.headers)&&(this.headers=new bt(Tt.headers)),this.method=Mt(Tt.method||this.method||"GET"),this.mode=Tt.mode||this.mode||null,this.signal=Tt.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Rt)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Rt)}zt.prototype.clone=function(){return new zt(this,{body:this._bodyInit})};function Kt(mt){var Tt=new FormData;return mt.trim().split("&").forEach(function(Rt){if(Rt){var Ot=Rt.split("="),Lt=Ot.shift().replace(/\+/g," "),Ut=Ot.join("=").replace(/\+/g," ");Tt.append(decodeURIComponent(Lt),decodeURIComponent(Ut))}}),Tt}function Yt(mt){var Tt=new bt,Rt=mt.replace(/\r?\n[\t ]+/g," ");return Rt.split(/\r?\n/).forEach(function(Ot){var Lt=Ot.split(":"),Ut=Lt.shift().trim();if(Ut){var Gt=Lt.join(":").trim();Tt.append(Ut,Gt)}}),Tt}It.call(zt.prototype);function er(mt,Tt){Tt||(Tt={}),this.type="default",this.status=Tt.status===void 0?200:Tt.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in Tt?Tt.statusText:"OK",this.headers=new bt(Tt.headers),this.url=Tt.url||"",this._initBody(mt)}It.call(er.prototype),er.prototype.clone=function(){return new er(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new bt(this.headers),url:this.url})},er.error=function(){var mt=new er(null,{status:0,statusText:""});return mt.type="error",mt};var qt=[301,302,303,307,308];er.redirect=function(mt,Tt){if(qt.indexOf(Tt)===-1)throw new RangeError("Invalid status code");return new er(null,{status:Tt,headers:{location:mt}})},et.DOMException=h.DOMException;try{new et.DOMException}catch{et.DOMException=function(Tt,Rt){this.message=Tt,this.name=Rt;var Ot=Error(Tt);this.stack=Ot.stack},et.DOMException.prototype=Object.create(Error.prototype),et.DOMException.prototype.constructor=et.DOMException}function Ft(mt,Tt){return new Promise(function(Rt,Ot){var Lt=new zt(mt,Tt);if(Lt.signal&&Lt.signal.aborted)return Ot(new et.DOMException("Aborted","AbortError"));var Ut=new XMLHttpRequest;function Gt(){Ut.abort()}Ut.onload=function(){var Bt={status:Ut.status,statusText:Ut.statusText,headers:Yt(Ut.getAllResponseHeaders()||"")};Bt.url="responseURL"in Ut?Ut.responseURL:Bt.headers.get("X-Request-URL");var St="response"in Ut?Ut.response:Ut.responseText;Rt(new er(St,Bt))},Ut.onerror=function(){Ot(new TypeError("Network request failed"))},Ut.ontimeout=function(){Ot(new TypeError("Network request failed"))},Ut.onabort=function(){Ot(new et.DOMException("Aborted","AbortError"))},Ut.open(Lt.method,Lt.url,!0),Lt.credentials==="include"?Ut.withCredentials=!0:Lt.credentials==="omit"&&(Ut.withCredentials=!1),"responseType"in Ut&&tt.blob&&(Ut.responseType="blob"),Lt.headers.forEach(function(Bt,St){Ut.setRequestHeader(St,Bt)}),Lt.signal&&(Lt.signal.addEventListener("abort",Gt),Ut.onreadystatechange=function(){Ut.readyState===4&&Lt.signal.removeEventListener("abort",Gt)}),Ut.send(typeof Lt._bodyInit>"u"?null:Lt._bodyInit)})}return Ft.polyfill=!0,h.fetch||(h.fetch=Ft,h.Headers=bt,h.Request=zt,h.Response=er),et.Headers=bt,et.Request=zt,et.Response=er,et.fetch=Ft,Object.defineProperty(et,"__esModule",{value:!0}),et})({})})(c),c.fetch.ponyfill=!0,delete c.fetch.polyfill;var d=c;e=d.fetch,e.default=d.fetch,e.fetch=d.fetch,e.Headers=d.Headers,e.Request=d.Request,e.Response=d.Response,a.exports=e})(browserPonyfill,browserPonyfill.exports);var browserPonyfillExports=browserPonyfill.exports;const crossFetch=getDefaultExportFromCjs(browserPonyfillExports),CrossFetch=_mergeNamespaces({__proto__:null,default:crossFetch},[browserPonyfillExports]),resolveHeaders=a=>{let e={};return a&&(typeof Headers<"u"&&a instanceof Headers||CrossFetch&&browserPonyfillExports.Headers&&a instanceof browserPonyfillExports.Headers?e=HeadersInstanceToPlainObject(a):Array.isArray(a)?a.forEach(([o,c])=>{o&&c!==void 0&&(e[o]=c)}):e=a),e},cleanQuery=a=>a.replace(/([\s,]|#[^\n\r]+)+/g," ").trim(),buildRequestConfig=a=>{if(!Array.isArray(a.query)){const c=a,d=[`query=${encodeURIComponent(cleanQuery(c.query))}`];return a.variables&&d.push(`variables=${encodeURIComponent(c.jsonSerializer.stringify(c.variables))}`),c.operationName&&d.push(`operationName=${encodeURIComponent(c.operationName)}`),d.join("&")}if(typeof a.variables<"u"&&!Array.isArray(a.variables))throw new Error("Cannot create query with given variable type, array expected");const e=a,o=a.query.reduce((c,d,h)=>(c.push({query:cleanQuery(d),variables:e.variables?e.jsonSerializer.stringify(e.variables[h]):void 0}),c),[]);return`query=${encodeURIComponent(e.jsonSerializer.stringify(o))}`},createHttpMethodFetcher=a=>async e=>{const{url:o,query:c,variables:d,operationName:h,fetch:et,fetchOptions:tt,middleware:ot}=e,ft={...e.headers};let ht="",yt;a==="POST"?(yt=createRequestBody(c,d,h,tt.jsonSerializer),typeof yt=="string"&&(ft["Content-Type"]="application/json")):ht=buildRequestConfig({query:c,variables:d,operationName:h,jsonSerializer:tt.jsonSerializer??defaultJsonSerializer});const gt={method:a,headers:ft,body:yt,...tt};let wt=o,bt=gt;if(ot){const xt=await Promise.resolve(ot({...gt,url:o,operationName:h,variables:d})),{url:Et,...vt}=xt;wt=Et,bt=vt}return ht&&(wt=`${wt}?${ht}`),await et(wt,bt)};class GraphQLClient{constructor(e,o={}){this.url=e,this.requestConfig=o,this.rawRequest=async(...c)=>{const[d,h,et]=c,tt=parseRawRequestArgs(d,h,et),{headers:ot,fetch:ft=crossFetch,method:ht="POST",requestMiddleware:yt,responseMiddleware:gt,...wt}=this.requestConfig,{url:bt}=this;tt.signal!==void 0&&(wt.signal=tt.signal);const{operationName:xt}=resolveRequestDocument(tt.query);return makeRequest({url:bt,query:tt.query,variables:tt.variables,headers:{...resolveHeaders(callOrIdentity(ot)),...resolveHeaders(tt.requestHeaders)},operationName:xt,fetch:ft,method:ht,fetchOptions:wt,middleware:yt}).then(Et=>(gt&&gt(Et),Et)).catch(Et=>{throw gt&&gt(Et),Et})}}async request(e,...o){const[c,d]=o,h=parseRequestArgs(e,c,d),{headers:et,fetch:tt=crossFetch,method:ot="POST",requestMiddleware:ft,responseMiddleware:ht,...yt}=this.requestConfig,{url:gt}=this;h.signal!==void 0&&(yt.signal=h.signal);const{query:wt,operationName:bt}=resolveRequestDocument(h.document);return makeRequest({url:gt,query:wt,variables:h.variables,headers:{...resolveHeaders(callOrIdentity(et)),...resolveHeaders(h.requestHeaders)},operationName:bt,fetch:tt,method:ot,fetchOptions:yt,middleware:ft}).then(xt=>(ht&&ht(xt),xt.data)).catch(xt=>{throw ht&&ht(xt),xt})}batchRequests(e,o){const c=parseBatchRequestArgs(e,o),{headers:d,...h}=this.requestConfig;c.signal!==void 0&&(h.signal=c.signal);const et=c.documents.map(({document:ot})=>resolveRequestDocument(ot).query),tt=c.documents.map(({variables:ot})=>ot);return makeRequest({url:this.url,query:et,variables:tt,headers:{...resolveHeaders(callOrIdentity(d)),...resolveHeaders(c.requestHeaders)},operationName:void 0,fetch:this.requestConfig.fetch??crossFetch,method:this.requestConfig.method||"POST",fetchOptions:h,middleware:this.requestConfig.requestMiddleware}).then(ot=>(this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(ot),ot.data)).catch(ot=>{throw this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(ot),ot})}setHeaders(e){return this.requestConfig.headers=e,this}setHeader(e,o){const{headers:c}=this.requestConfig;return c?c[e]=o:this.requestConfig.headers={[e]:o},this}setEndpoint(e){return this.url=e,this}}const makeRequest=async a=>{const{query:e,variables:o,fetchOptions:c}=a,d=createHttpMethodFetcher(uppercase(a.method??"post")),h=Array.isArray(a.query),et=await d(a),tt=await getResult(et,c.jsonSerializer??defaultJsonSerializer),ot=Array.isArray(tt)?!tt.some(({data:ht})=>!ht):!!tt.data,ft=Array.isArray(tt)||!tt.errors||Array.isArray(tt.errors)&&!tt.errors.length||c.errorPolicy==="all"||c.errorPolicy==="ignore";if(et.ok&&ft&&ot){const{errors:ht,...yt}=(Array.isArray(tt),tt),gt=c.errorPolicy==="ignore"?yt:tt;return{...h?{data:gt}:gt,headers:et.headers,status:et.status}}else{const ht=typeof tt=="string"?{error:tt}:tt;throw new ClientError({...ht,status:et.status,headers:et.headers},{query:e,variables:o})}},createRequestBody=(a,e,o,c)=>{const d=c??defaultJsonSerializer;if(!Array.isArray(a))return d.stringify({query:a,variables:e,operationName:o});if(typeof e<"u"&&!Array.isArray(e))throw new Error("Cannot create request body with given variable type, array expected");const h=a.reduce((et,tt,ot)=>(et.push({query:tt,variables:e?e[ot]:void 0}),et),[]);return d.stringify(h)},getResult=async(a,e)=>{let o;return a.headers.forEach((c,d)=>{d.toLowerCase()==="content-type"&&(o=c)}),o&&(o.toLowerCase().startsWith("application/json")||o.toLowerCase().startsWith("application/graphql+json")||o.toLowerCase().startsWith("application/graphql-response+json"))?e.parse(await a.text()):a.text()},callOrIdentity=a=>typeof a=="function"?a():a,gql=(a,...e)=>a.reduce((o,c,d)=>`${o}${c}${d in e?String(e[d]):""}`,"");var browser$1={exports:{}},ms,hasRequiredMs;function requireMs(){if(hasRequiredMs)return ms;hasRequiredMs=1;var a=1e3,e=a*60,o=e*60,c=o*24,d=c*7,h=c*365.25;ms=function(ht,yt){yt=yt||{};var gt=typeof ht;if(gt==="string"&&ht.length>0)return et(ht);if(gt==="number"&&isFinite(ht))return yt.long?ot(ht):tt(ht);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(ht))};function et(ht){if(ht=String(ht),!(ht.length>100)){var yt=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(ht);if(yt){var gt=parseFloat(yt[1]),wt=(yt[2]||"ms").toLowerCase();switch(wt){case"years":case"year":case"yrs":case"yr":case"y":return gt*h;case"weeks":case"week":case"w":return gt*d;case"days":case"day":case"d":return gt*c;case"hours":case"hour":case"hrs":case"hr":case"h":return gt*o;case"minutes":case"minute":case"mins":case"min":case"m":return gt*e;case"seconds":case"second":case"secs":case"sec":case"s":return gt*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return gt;default:return}}}}function tt(ht){var yt=Math.abs(ht);return yt>=c?Math.round(ht/c)+"d":yt>=o?Math.round(ht/o)+"h":yt>=e?Math.round(ht/e)+"m":yt>=a?Math.round(ht/a)+"s":ht+"ms"}function ot(ht){var yt=Math.abs(ht);return yt>=c?ft(ht,yt,c,"day"):yt>=o?ft(ht,yt,o,"hour"):yt>=e?ft(ht,yt,e,"minute"):yt>=a?ft(ht,yt,a,"second"):ht+" ms"}function ft(ht,yt,gt,wt){var bt=yt>=gt*1.5;return Math.round(ht/gt)+" "+wt+(bt?"s":"")}return ms}function setup(a){o.debug=o,o.default=o,o.coerce=ot,o.disable=h,o.enable=d,o.enabled=et,o.humanize=requireMs(),o.destroy=ft,Object.keys(a).forEach(ht=>{o[ht]=a[ht]}),o.names=[],o.skips=[],o.formatters={};function e(ht){let yt=0;for(let gt=0;gt<ht.length;gt++)yt=(yt<<5)-yt+ht.charCodeAt(gt),yt|=0;return o.colors[Math.abs(yt)%o.colors.length]}o.selectColor=e;function o(ht){let yt,gt=null,wt,bt;function xt(...Et){if(!xt.enabled)return;const vt=xt,$t=Number(new Date),At=$t-(yt||$t);vt.diff=At,vt.prev=yt,vt.curr=$t,yt=$t,Et[0]=o.coerce(Et[0]),typeof Et[0]!="string"&&Et.unshift("%O");let kt=0;Et[0]=Et[0].replace(/%([a-zA-Z%])/g,(Dt,Mt)=>{if(Dt==="%%")return"%";kt++;const zt=o.formatters[Mt];if(typeof zt=="function"){const Kt=Et[kt];Dt=zt.call(vt,Kt),Et.splice(kt,1),kt--}return Dt}),o.formatArgs.call(vt,Et),(vt.log||o.log).apply(vt,Et)}return xt.namespace=ht,xt.useColors=o.useColors(),xt.color=o.selectColor(ht),xt.extend=c,xt.destroy=o.destroy,Object.defineProperty(xt,"enabled",{enumerable:!0,configurable:!1,get:()=>gt!==null?gt:(wt!==o.namespaces&&(wt=o.namespaces,bt=o.enabled(ht)),bt),set:Et=>{gt=Et}}),typeof o.init=="function"&&o.init(xt),xt}function c(ht,yt){const gt=o(this.namespace+(typeof yt>"u"?":":yt)+ht);return gt.log=this.log,gt}function d(ht){o.save(ht),o.namespaces=ht,o.names=[],o.skips=[];let yt;const gt=(typeof ht=="string"?ht:"").split(/[\s,]+/),wt=gt.length;for(yt=0;yt<wt;yt++)gt[yt]&&(ht=gt[yt].replace(/\*/g,".*?"),ht[0]==="-"?o.skips.push(new RegExp("^"+ht.slice(1)+"$")):o.names.push(new RegExp("^"+ht+"$")))}function h(){const ht=[...o.names.map(tt),...o.skips.map(tt).map(yt=>"-"+yt)].join(",");return o.enable(""),ht}function et(ht){if(ht[ht.length-1]==="*")return!0;let yt,gt;for(yt=0,gt=o.skips.length;yt<gt;yt++)if(o.skips[yt].test(ht))return!1;for(yt=0,gt=o.names.length;yt<gt;yt++)if(o.names[yt].test(ht))return!0;return!1}function tt(ht){return ht.toString().substring(2,ht.toString().length-2).replace(/\.\*\?$/,"*")}function ot(ht){return ht instanceof Error?ht.stack||ht.message:ht}function ft(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o.enable(o.load()),o}var common=setup;(function(a,e){var o={};e.formatArgs=d,e.save=h,e.load=et,e.useColors=c,e.storage=tt(),e.destroy=(()=>{let ft=!1;return()=>{ft||(ft=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function c(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function d(ft){if(ft[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+ft[0]+(this.useColors?"%c ":" ")+"+"+a.exports.humanize(this.diff),!this.useColors)return;const ht="color: "+this.color;ft.splice(1,0,ht,"color: inherit");let yt=0,gt=0;ft[0].replace(/%[a-zA-Z%]/g,wt=>{wt!=="%%"&&(yt++,wt==="%c"&&(gt=yt))}),ft.splice(gt,0,ht)}e.log=console.debug||console.log||(()=>{});function h(ft){try{ft?e.storage.setItem("debug",ft):e.storage.removeItem("debug")}catch{}}function et(){let ft;try{ft=e.storage.getItem("debug")}catch{}return!ft&&typeof process<"u"&&"env"in process&&(ft=o.DEBUG),ft}function tt(){try{return localStorage}catch{}}a.exports=common(e);const{formatters:ot}=a.exports;ot.j=function(ft){try{return JSON.stringify(ft)}catch(ht){return"[UnexpectedJSONParseError]: "+ht.message}}})(browser$1,browser$1.exports);var browserExports=browser$1.exports;const Debug=getDefaultExportFromCjs(browserExports);var buffer$1={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code$8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code$8.length;i<len;++i)lookup[i]=code$8[i],revLookup[code$8.charCodeAt(i)]=i;revLookup[45]=62;revLookup[95]=63;function getLens(a){var e=a.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var o=a.indexOf("=");o===-1&&(o=e);var c=o===e?0:4-o%4;return[o,c]}function byteLength(a){var e=getLens(a),o=e[0],c=e[1];return(o+c)*3/4-c}function _byteLength(a,e,o){return(e+o)*3/4-o}function toByteArray(a){var e,o=getLens(a),c=o[0],d=o[1],h=new Arr(_byteLength(a,c,d)),et=0,tt=d>0?c-4:c,ot;for(ot=0;ot<tt;ot+=4)e=revLookup[a.charCodeAt(ot)]<<18|revLookup[a.charCodeAt(ot+1)]<<12|revLookup[a.charCodeAt(ot+2)]<<6|revLookup[a.charCodeAt(ot+3)],h[et++]=e>>16&255,h[et++]=e>>8&255,h[et++]=e&255;return d===2&&(e=revLookup[a.charCodeAt(ot)]<<2|revLookup[a.charCodeAt(ot+1)]>>4,h[et++]=e&255),d===1&&(e=revLookup[a.charCodeAt(ot)]<<10|revLookup[a.charCodeAt(ot+1)]<<4|revLookup[a.charCodeAt(ot+2)]>>2,h[et++]=e>>8&255,h[et++]=e&255),h}function tripletToBase64(a){return lookup[a>>18&63]+lookup[a>>12&63]+lookup[a>>6&63]+lookup[a&63]}function encodeChunk(a,e,o){for(var c,d=[],h=e;h<o;h+=3)c=(a[h]<<16&16711680)+(a[h+1]<<8&65280)+(a[h+2]&255),d.push(tripletToBase64(c));return d.join("")}function fromByteArray(a){for(var e,o=a.length,c=o%3,d=[],h=16383,et=0,tt=o-c;et<tt;et+=h)d.push(encodeChunk(a,et,et+h>tt?tt:et+h));return c===1?(e=a[o-1],d.push(lookup[e>>2]+lookup[e<<4&63]+"==")):c===2&&(e=(a[o-2]<<8)+a[o-1],d.push(lookup[e>>10]+lookup[e>>4&63]+lookup[e<<2&63]+"=")),d.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(a,e,o,c,d){var h,et,tt=d*8-c-1,ot=(1<<tt)-1,ft=ot>>1,ht=-7,yt=o?d-1:0,gt=o?-1:1,wt=a[e+yt];for(yt+=gt,h=wt&(1<<-ht)-1,wt>>=-ht,ht+=tt;ht>0;h=h*256+a[e+yt],yt+=gt,ht-=8);for(et=h&(1<<-ht)-1,h>>=-ht,ht+=c;ht>0;et=et*256+a[e+yt],yt+=gt,ht-=8);if(h===0)h=1-ft;else{if(h===ot)return et?NaN:(wt?-1:1)*(1/0);et=et+Math.pow(2,c),h=h-ft}return(wt?-1:1)*et*Math.pow(2,h-c)};ieee754.write=function(a,e,o,c,d,h){var et,tt,ot,ft=h*8-d-1,ht=(1<<ft)-1,yt=ht>>1,gt=d===23?Math.pow(2,-24)-Math.pow(2,-77):0,wt=c?0:h-1,bt=c?1:-1,xt=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(tt=isNaN(e)?1:0,et=ht):(et=Math.floor(Math.log(e)/Math.LN2),e*(ot=Math.pow(2,-et))<1&&(et--,ot*=2),et+yt>=1?e+=gt/ot:e+=gt*Math.pow(2,1-yt),e*ot>=2&&(et++,ot/=2),et+yt>=ht?(tt=0,et=ht):et+yt>=1?(tt=(e*ot-1)*Math.pow(2,d),et=et+yt):(tt=e*Math.pow(2,yt-1)*Math.pow(2,d),et=0));d>=8;a[o+wt]=tt&255,wt+=bt,tt/=256,d-=8);for(et=et<<d|tt,ft+=d;ft>0;a[o+wt]=et&255,wt+=bt,et/=256,ft-=8);a[o+wt-bt]|=xt*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(a){const e=base64Js,o=ieee754,c=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;a.Buffer=tt,a.SlowBuffer=$t,a.INSPECT_MAX_BYTES=50;const d=2147483647;a.kMaxLength=d,tt.TYPED_ARRAY_SUPPORT=h(),!tt.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function h(){try{const jt=new Uint8Array(1),Ct={foo:function(){return 42}};return Object.setPrototypeOf(Ct,Uint8Array.prototype),Object.setPrototypeOf(jt,Ct),jt.foo()===42}catch{return!1}}Object.defineProperty(tt.prototype,"parent",{enumerable:!0,get:function(){if(tt.isBuffer(this))return this.buffer}}),Object.defineProperty(tt.prototype,"offset",{enumerable:!0,get:function(){if(tt.isBuffer(this))return this.byteOffset}});function et(jt){if(jt>d)throw new RangeError('The value "'+jt+'" is invalid for option "size"');const Ct=new Uint8Array(jt);return Object.setPrototypeOf(Ct,tt.prototype),Ct}function tt(jt,Ct,_t){if(typeof jt=="number"){if(typeof Ct=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return yt(jt)}return ot(jt,Ct,_t)}tt.poolSize=8192;function ot(jt,Ct,_t){if(typeof jt=="string")return gt(jt,Ct);if(ArrayBuffer.isView(jt))return bt(jt);if(jt==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof jt);if(sr(jt,ArrayBuffer)||jt&&sr(jt.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(sr(jt,SharedArrayBuffer)||jt&&sr(jt.buffer,SharedArrayBuffer)))return xt(jt,Ct,_t);if(typeof jt=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Ht=jt.valueOf&&jt.valueOf();if(Ht!=null&&Ht!==jt)return tt.from(Ht,Ct,_t);const Zt=Et(jt);if(Zt)return Zt;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof jt[Symbol.toPrimitive]=="function")return tt.from(jt[Symbol.toPrimitive]("string"),Ct,_t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof jt)}tt.from=function(jt,Ct,_t){return ot(jt,Ct,_t)},Object.setPrototypeOf(tt.prototype,Uint8Array.prototype),Object.setPrototypeOf(tt,Uint8Array);function ft(jt){if(typeof jt!="number")throw new TypeError('"size" argument must be of type number');if(jt<0)throw new RangeError('The value "'+jt+'" is invalid for option "size"')}function ht(jt,Ct,_t){return ft(jt),jt<=0?et(jt):Ct!==void 0?typeof _t=="string"?et(jt).fill(Ct,_t):et(jt).fill(Ct):et(jt)}tt.alloc=function(jt,Ct,_t){return ht(jt,Ct,_t)};function yt(jt){return ft(jt),et(jt<0?0:vt(jt)|0)}tt.allocUnsafe=function(jt){return yt(jt)},tt.allocUnsafeSlow=function(jt){return yt(jt)};function gt(jt,Ct){if((typeof Ct!="string"||Ct==="")&&(Ct="utf8"),!tt.isEncoding(Ct))throw new TypeError("Unknown encoding: "+Ct);const _t=At(jt,Ct)|0;let Ht=et(_t);const Zt=Ht.write(jt,Ct);return Zt!==_t&&(Ht=Ht.slice(0,Zt)),Ht}function wt(jt){const Ct=jt.length<0?0:vt(jt.length)|0,_t=et(Ct);for(let Ht=0;Ht<Ct;Ht+=1)_t[Ht]=jt[Ht]&255;return _t}function bt(jt){if(sr(jt,Uint8Array)){const Ct=new Uint8Array(jt);return xt(Ct.buffer,Ct.byteOffset,Ct.byteLength)}return wt(jt)}function xt(jt,Ct,_t){if(Ct<0||jt.byteLength<Ct)throw new RangeError('"offset" is outside of buffer bounds');if(jt.byteLength<Ct+(_t||0))throw new RangeError('"length" is outside of buffer bounds');let Ht;return Ct===void 0&&_t===void 0?Ht=new Uint8Array(jt):_t===void 0?Ht=new Uint8Array(jt,Ct):Ht=new Uint8Array(jt,Ct,_t),Object.setPrototypeOf(Ht,tt.prototype),Ht}function Et(jt){if(tt.isBuffer(jt)){const Ct=vt(jt.length)|0,_t=et(Ct);return _t.length===0||jt.copy(_t,0,0,Ct),_t}if(jt.length!==void 0)return typeof jt.length!="number"||yr(jt.length)?et(0):wt(jt);if(jt.type==="Buffer"&&Array.isArray(jt.data))return wt(jt.data)}function vt(jt){if(jt>=d)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d.toString(16)+" bytes");return jt|0}function $t(jt){return+jt!=jt&&(jt=0),tt.alloc(+jt)}tt.isBuffer=function(Ct){return Ct!=null&&Ct._isBuffer===!0&&Ct!==tt.prototype},tt.compare=function(Ct,_t){if(sr(Ct,Uint8Array)&&(Ct=tt.from(Ct,Ct.offset,Ct.byteLength)),sr(_t,Uint8Array)&&(_t=tt.from(_t,_t.offset,_t.byteLength)),!tt.isBuffer(Ct)||!tt.isBuffer(_t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Ct===_t)return 0;let Ht=Ct.length,Zt=_t.length;for(let ar=0,ir=Math.min(Ht,Zt);ar<ir;++ar)if(Ct[ar]!==_t[ar]){Ht=Ct[ar],Zt=_t[ar];break}return Ht<Zt?-1:Zt<Ht?1:0},tt.isEncoding=function(Ct){switch(String(Ct).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},tt.concat=function(Ct,_t){if(!Array.isArray(Ct))throw new TypeError('"list" argument must be an Array of Buffers');if(Ct.length===0)return tt.alloc(0);let Ht;if(_t===void 0)for(_t=0,Ht=0;Ht<Ct.length;++Ht)_t+=Ct[Ht].length;const Zt=tt.allocUnsafe(_t);let ar=0;for(Ht=0;Ht<Ct.length;++Ht){let ir=Ct[Ht];if(sr(ir,Uint8Array))ar+ir.length>Zt.length?(tt.isBuffer(ir)||(ir=tt.from(ir)),ir.copy(Zt,ar)):Uint8Array.prototype.set.call(Zt,ir,ar);else if(tt.isBuffer(ir))ir.copy(Zt,ar);else throw new TypeError('"list" argument must be an Array of Buffers');ar+=ir.length}return Zt};function At(jt,Ct){if(tt.isBuffer(jt))return jt.length;if(ArrayBuffer.isView(jt)||sr(jt,ArrayBuffer))return jt.byteLength;if(typeof jt!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof jt);const _t=jt.length,Ht=arguments.length>2&&arguments[2]===!0;if(!Ht&&_t===0)return 0;let Zt=!1;for(;;)switch(Ct){case"ascii":case"latin1":case"binary":return _t;case"utf8":case"utf-8":return Xt(jt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _t*2;case"hex":return _t>>>1;case"base64":return fr(jt).length;default:if(Zt)return Ht?-1:Xt(jt).length;Ct=(""+Ct).toLowerCase(),Zt=!0}}tt.byteLength=At;function kt(jt,Ct,_t){let Ht=!1;if((Ct===void 0||Ct<0)&&(Ct=0),Ct>this.length||((_t===void 0||_t>this.length)&&(_t=this.length),_t<=0)||(_t>>>=0,Ct>>>=0,_t<=Ct))return"";for(jt||(jt="utf8");;)switch(jt){case"hex":return Ut(this,Ct,_t);case"utf8":case"utf-8":return mt(this,Ct,_t);case"ascii":return Ot(this,Ct,_t);case"latin1":case"binary":return Lt(this,Ct,_t);case"base64":return Ft(this,Ct,_t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Gt(this,Ct,_t);default:if(Ht)throw new TypeError("Unknown encoding: "+jt);jt=(jt+"").toLowerCase(),Ht=!0}}tt.prototype._isBuffer=!0;function It(jt,Ct,_t){const Ht=jt[Ct];jt[Ct]=jt[_t],jt[_t]=Ht}tt.prototype.swap16=function(){const Ct=this.length;if(Ct%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let _t=0;_t<Ct;_t+=2)It(this,_t,_t+1);return this},tt.prototype.swap32=function(){const Ct=this.length;if(Ct%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let _t=0;_t<Ct;_t+=4)It(this,_t,_t+3),It(this,_t+1,_t+2);return this},tt.prototype.swap64=function(){const Ct=this.length;if(Ct%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let _t=0;_t<Ct;_t+=8)It(this,_t,_t+7),It(this,_t+1,_t+6),It(this,_t+2,_t+5),It(this,_t+3,_t+4);return this},tt.prototype.toString=function(){const Ct=this.length;return Ct===0?"":arguments.length===0?mt(this,0,Ct):kt.apply(this,arguments)},tt.prototype.toLocaleString=tt.prototype.toString,tt.prototype.equals=function(Ct){if(!tt.isBuffer(Ct))throw new TypeError("Argument must be a Buffer");return this===Ct?!0:tt.compare(this,Ct)===0},tt.prototype.inspect=function(){let Ct="";const _t=a.INSPECT_MAX_BYTES;return Ct=this.toString("hex",0,_t).replace(/(.{2})/g,"$1 ").trim(),this.length>_t&&(Ct+=" ... "),"<Buffer "+Ct+">"},c&&(tt.prototype[c]=tt.prototype.inspect),tt.prototype.compare=function(Ct,_t,Ht,Zt,ar){if(sr(Ct,Uint8Array)&&(Ct=tt.from(Ct,Ct.offset,Ct.byteLength)),!tt.isBuffer(Ct))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Ct);if(_t===void 0&&(_t=0),Ht===void 0&&(Ht=Ct?Ct.length:0),Zt===void 0&&(Zt=0),ar===void 0&&(ar=this.length),_t<0||Ht>Ct.length||Zt<0||ar>this.length)throw new RangeError("out of range index");if(Zt>=ar&&_t>=Ht)return 0;if(Zt>=ar)return-1;if(_t>=Ht)return 1;if(_t>>>=0,Ht>>>=0,Zt>>>=0,ar>>>=0,this===Ct)return 0;let ir=ar-Zt,_r=Ht-_t;const Cr=Math.min(ir,_r),Er=this.slice(Zt,ar),Rr=Ct.slice(_t,Ht);for(let Ar=0;Ar<Cr;++Ar)if(Er[Ar]!==Rr[Ar]){ir=Er[Ar],_r=Rr[Ar];break}return ir<_r?-1:_r<ir?1:0};function Dt(jt,Ct,_t,Ht,Zt){if(jt.length===0)return-1;if(typeof _t=="string"?(Ht=_t,_t=0):_t>2147483647?_t=2147483647:_t<-2147483648&&(_t=-2147483648),_t=+_t,yr(_t)&&(_t=Zt?0:jt.length-1),_t<0&&(_t=jt.length+_t),_t>=jt.length){if(Zt)return-1;_t=jt.length-1}else if(_t<0)if(Zt)_t=0;else return-1;if(typeof Ct=="string"&&(Ct=tt.from(Ct,Ht)),tt.isBuffer(Ct))return Ct.length===0?-1:Mt(jt,Ct,_t,Ht,Zt);if(typeof Ct=="number")return Ct=Ct&255,typeof Uint8Array.prototype.indexOf=="function"?Zt?Uint8Array.prototype.indexOf.call(jt,Ct,_t):Uint8Array.prototype.lastIndexOf.call(jt,Ct,_t):Mt(jt,[Ct],_t,Ht,Zt);throw new TypeError("val must be string, number or Buffer")}function Mt(jt,Ct,_t,Ht,Zt){let ar=1,ir=jt.length,_r=Ct.length;if(Ht!==void 0&&(Ht=String(Ht).toLowerCase(),Ht==="ucs2"||Ht==="ucs-2"||Ht==="utf16le"||Ht==="utf-16le")){if(jt.length<2||Ct.length<2)return-1;ar=2,ir/=2,_r/=2,_t/=2}function Cr(Rr,Ar){return ar===1?Rr[Ar]:Rr.readUInt16BE(Ar*ar)}let Er;if(Zt){let Rr=-1;for(Er=_t;Er<ir;Er++)if(Cr(jt,Er)===Cr(Ct,Rr===-1?0:Er-Rr)){if(Rr===-1&&(Rr=Er),Er-Rr+1===_r)return Rr*ar}else Rr!==-1&&(Er-=Er-Rr),Rr=-1}else for(_t+_r>ir&&(_t=ir-_r),Er=_t;Er>=0;Er--){let Rr=!0;for(let Ar=0;Ar<_r;Ar++)if(Cr(jt,Er+Ar)!==Cr(Ct,Ar)){Rr=!1;break}if(Rr)return Er}return-1}tt.prototype.includes=function(Ct,_t,Ht){return this.indexOf(Ct,_t,Ht)!==-1},tt.prototype.indexOf=function(Ct,_t,Ht){return Dt(this,Ct,_t,Ht,!0)},tt.prototype.lastIndexOf=function(Ct,_t,Ht){return Dt(this,Ct,_t,Ht,!1)};function zt(jt,Ct,_t,Ht){_t=Number(_t)||0;const Zt=jt.length-_t;Ht?(Ht=Number(Ht),Ht>Zt&&(Ht=Zt)):Ht=Zt;const ar=Ct.length;Ht>ar/2&&(Ht=ar/2);let ir;for(ir=0;ir<Ht;++ir){const _r=parseInt(Ct.substr(ir*2,2),16);if(yr(_r))return ir;jt[_t+ir]=_r}return ir}function Kt(jt,Ct,_t,Ht){return pr(Xt(Ct,jt.length-_t),jt,_t,Ht)}function Yt(jt,Ct,_t,Ht){return pr(Wt(Ct),jt,_t,Ht)}function er(jt,Ct,_t,Ht){return pr(fr(Ct),jt,_t,Ht)}function qt(jt,Ct,_t,Ht){return pr(nr(Ct,jt.length-_t),jt,_t,Ht)}tt.prototype.write=function(Ct,_t,Ht,Zt){if(_t===void 0)Zt="utf8",Ht=this.length,_t=0;else if(Ht===void 0&&typeof _t=="string")Zt=_t,Ht=this.length,_t=0;else if(isFinite(_t))_t=_t>>>0,isFinite(Ht)?(Ht=Ht>>>0,Zt===void 0&&(Zt="utf8")):(Zt=Ht,Ht=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ar=this.length-_t;if((Ht===void 0||Ht>ar)&&(Ht=ar),Ct.length>0&&(Ht<0||_t<0)||_t>this.length)throw new RangeError("Attempt to write outside buffer bounds");Zt||(Zt="utf8");let ir=!1;for(;;)switch(Zt){case"hex":return zt(this,Ct,_t,Ht);case"utf8":case"utf-8":return Kt(this,Ct,_t,Ht);case"ascii":case"latin1":case"binary":return Yt(this,Ct,_t,Ht);case"base64":return er(this,Ct,_t,Ht);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return qt(this,Ct,_t,Ht);default:if(ir)throw new TypeError("Unknown encoding: "+Zt);Zt=(""+Zt).toLowerCase(),ir=!0}},tt.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Ft(jt,Ct,_t){return Ct===0&&_t===jt.length?e.fromByteArray(jt):e.fromByteArray(jt.slice(Ct,_t))}function mt(jt,Ct,_t){_t=Math.min(jt.length,_t);const Ht=[];let Zt=Ct;for(;Zt<_t;){const ar=jt[Zt];let ir=null,_r=ar>239?4:ar>223?3:ar>191?2:1;if(Zt+_r<=_t){let Cr,Er,Rr,Ar;switch(_r){case 1:ar<128&&(ir=ar);break;case 2:Cr=jt[Zt+1],(Cr&192)===128&&(Ar=(ar&31)<<6|Cr&63,Ar>127&&(ir=Ar));break;case 3:Cr=jt[Zt+1],Er=jt[Zt+2],(Cr&192)===128&&(Er&192)===128&&(Ar=(ar&15)<<12|(Cr&63)<<6|Er&63,Ar>2047&&(Ar<55296||Ar>57343)&&(ir=Ar));break;case 4:Cr=jt[Zt+1],Er=jt[Zt+2],Rr=jt[Zt+3],(Cr&192)===128&&(Er&192)===128&&(Rr&192)===128&&(Ar=(ar&15)<<18|(Cr&63)<<12|(Er&63)<<6|Rr&63,Ar>65535&&Ar<1114112&&(ir=Ar))}}ir===null?(ir=65533,_r=1):ir>65535&&(ir-=65536,Ht.push(ir>>>10&1023|55296),ir=56320|ir&1023),Ht.push(ir),Zt+=_r}return Rt(Ht)}const Tt=4096;function Rt(jt){const Ct=jt.length;if(Ct<=Tt)return String.fromCharCode.apply(String,jt);let _t="",Ht=0;for(;Ht<Ct;)_t+=String.fromCharCode.apply(String,jt.slice(Ht,Ht+=Tt));return _t}function Ot(jt,Ct,_t){let Ht="";_t=Math.min(jt.length,_t);for(let Zt=Ct;Zt<_t;++Zt)Ht+=String.fromCharCode(jt[Zt]&127);return Ht}function Lt(jt,Ct,_t){let Ht="";_t=Math.min(jt.length,_t);for(let Zt=Ct;Zt<_t;++Zt)Ht+=String.fromCharCode(jt[Zt]);return Ht}function Ut(jt,Ct,_t){const Ht=jt.length;(!Ct||Ct<0)&&(Ct=0),(!_t||_t<0||_t>Ht)&&(_t=Ht);let Zt="";for(let ar=Ct;ar<_t;++ar)Zt+=br[jt[ar]];return Zt}function Gt(jt,Ct,_t){const Ht=jt.slice(Ct,_t);let Zt="";for(let ar=0;ar<Ht.length-1;ar+=2)Zt+=String.fromCharCode(Ht[ar]+Ht[ar+1]*256);return Zt}tt.prototype.slice=function(Ct,_t){const Ht=this.length;Ct=~~Ct,_t=_t===void 0?Ht:~~_t,Ct<0?(Ct+=Ht,Ct<0&&(Ct=0)):Ct>Ht&&(Ct=Ht),_t<0?(_t+=Ht,_t<0&&(_t=0)):_t>Ht&&(_t=Ht),_t<Ct&&(_t=Ct);const Zt=this.subarray(Ct,_t);return Object.setPrototypeOf(Zt,tt.prototype),Zt};function Bt(jt,Ct,_t){if(jt%1!==0||jt<0)throw new RangeError("offset is not uint");if(jt+Ct>_t)throw new RangeError("Trying to access beyond buffer length")}tt.prototype.readUintLE=tt.prototype.readUIntLE=function(Ct,_t,Ht){Ct=Ct>>>0,_t=_t>>>0,Ht||Bt(Ct,_t,this.length);let Zt=this[Ct],ar=1,ir=0;for(;++ir<_t&&(ar*=256);)Zt+=this[Ct+ir]*ar;return Zt},tt.prototype.readUintBE=tt.prototype.readUIntBE=function(Ct,_t,Ht){Ct=Ct>>>0,_t=_t>>>0,Ht||Bt(Ct,_t,this.length);let Zt=this[Ct+--_t],ar=1;for(;_t>0&&(ar*=256);)Zt+=this[Ct+--_t]*ar;return Zt},tt.prototype.readUint8=tt.prototype.readUInt8=function(Ct,_t){return Ct=Ct>>>0,_t||Bt(Ct,1,this.length),this[Ct]},tt.prototype.readUint16LE=tt.prototype.readUInt16LE=function(Ct,_t){return Ct=Ct>>>0,_t||Bt(Ct,2,this.length),this[Ct]|this[Ct+1]<<8},tt.prototype.readUint16BE=tt.prototype.readUInt16BE=function(Ct,_t){return Ct=Ct>>>0,_t||Bt(Ct,2,this.length),this[Ct]<<8|this[Ct+1]},tt.prototype.readUint32LE=tt.prototype.readUInt32LE=function(Ct,_t){return Ct=Ct>>>0,_t||Bt(Ct,4,this.length),(this[Ct]|this[Ct+1]<<8|this[Ct+2]<<16)+this[Ct+3]*16777216},tt.prototype.readUint32BE=tt.prototype.readUInt32BE=function(Ct,_t){return Ct=Ct>>>0,_t||Bt(Ct,4,this.length),this[Ct]*16777216+(this[Ct+1]<<16|this[Ct+2]<<8|this[Ct+3])},tt.prototype.readBigUInt64LE=mr(function(Ct){Ct=Ct>>>0,Ir(Ct,"offset");const _t=this[Ct],Ht=this[Ct+7];(_t===void 0||Ht===void 0)&&Nt(Ct,this.length-8);const Zt=_t+this[++Ct]*2**8+this[++Ct]*2**16+this[++Ct]*2**24,ar=this[++Ct]+this[++Ct]*2**8+this[++Ct]*2**16+Ht*2**24;return BigInt(Zt)+(BigInt(ar)<<BigInt(32))}),tt.prototype.readBigUInt64BE=mr(function(Ct){Ct=Ct>>>0,Ir(Ct,"offset");const _t=this[Ct],Ht=this[Ct+7];(_t===void 0||Ht===void 0)&&Nt(Ct,this.length-8);const Zt=_t*2**24+this[++Ct]*2**16+this[++Ct]*2**8+this[++Ct],ar=this[++Ct]*2**24+this[++Ct]*2**16+this[++Ct]*2**8+Ht;return(BigInt(Zt)<<BigInt(32))+BigInt(ar)}),tt.prototype.readIntLE=function(Ct,_t,Ht){Ct=Ct>>>0,_t=_t>>>0,Ht||Bt(Ct,_t,this.length);let Zt=this[Ct],ar=1,ir=0;for(;++ir<_t&&(ar*=256);)Zt+=this[Ct+ir]*ar;return ar*=128,Zt>=ar&&(Zt-=Math.pow(2,8*_t)),Zt},tt.prototype.readIntBE=function(Ct,_t,Ht){Ct=Ct>>>0,_t=_t>>>0,Ht||Bt(Ct,_t,this.length);let Zt=_t,ar=1,ir=this[Ct+--Zt];for(;Zt>0&&(ar*=256);)ir+=this[Ct+--Zt]*ar;return ar*=128,ir>=ar&&(ir-=Math.pow(2,8*_t)),ir},tt.prototype.readInt8=function(Ct,_t){return Ct=Ct>>>0,_t||Bt(Ct,1,this.length),this[Ct]&128?(255-this[Ct]+1)*-1:this[Ct]},tt.prototype.readInt16LE=function(Ct,_t){Ct=Ct>>>0,_t||Bt(Ct,2,this.length);const Ht=this[Ct]|this[Ct+1]<<8;return Ht&32768?Ht|4294901760:Ht},tt.prototype.readInt16BE=function(Ct,_t){Ct=Ct>>>0,_t||Bt(Ct,2,this.length);const Ht=this[Ct+1]|this[Ct]<<8;return Ht&32768?Ht|4294901760:Ht},tt.prototype.readInt32LE=function(Ct,_t){return Ct=Ct>>>0,_t||Bt(Ct,4,this.length),this[Ct]|this[Ct+1]<<8|this[Ct+2]<<16|this[Ct+3]<<24},tt.prototype.readInt32BE=function(Ct,_t){return Ct=Ct>>>0,_t||Bt(Ct,4,this.length),this[Ct]<<24|this[Ct+1]<<16|this[Ct+2]<<8|this[Ct+3]},tt.prototype.readBigInt64LE=mr(function(Ct){Ct=Ct>>>0,Ir(Ct,"offset");const _t=this[Ct],Ht=this[Ct+7];(_t===void 0||Ht===void 0)&&Nt(Ct,this.length-8);const Zt=this[Ct+4]+this[Ct+5]*2**8+this[Ct+6]*2**16+(Ht<<24);return(BigInt(Zt)<<BigInt(32))+BigInt(_t+this[++Ct]*2**8+this[++Ct]*2**16+this[++Ct]*2**24)}),tt.prototype.readBigInt64BE=mr(function(Ct){Ct=Ct>>>0,Ir(Ct,"offset");const _t=this[Ct],Ht=this[Ct+7];(_t===void 0||Ht===void 0)&&Nt(Ct,this.length-8);const Zt=(_t<<24)+this[++Ct]*2**16+this[++Ct]*2**8+this[++Ct];return(BigInt(Zt)<<BigInt(32))+BigInt(this[++Ct]*2**24+this[++Ct]*2**16+this[++Ct]*2**8+Ht)}),tt.prototype.readFloatLE=function(Ct,_t){return Ct=Ct>>>0,_t||Bt(Ct,4,this.length),o.read(this,Ct,!0,23,4)},tt.prototype.readFloatBE=function(Ct,_t){return Ct=Ct>>>0,_t||Bt(Ct,4,this.length),o.read(this,Ct,!1,23,4)},tt.prototype.readDoubleLE=function(Ct,_t){return Ct=Ct>>>0,_t||Bt(Ct,8,this.length),o.read(this,Ct,!0,52,8)},tt.prototype.readDoubleBE=function(Ct,_t){return Ct=Ct>>>0,_t||Bt(Ct,8,this.length),o.read(this,Ct,!1,52,8)};function St(jt,Ct,_t,Ht,Zt,ar){if(!tt.isBuffer(jt))throw new TypeError('"buffer" argument must be a Buffer instance');if(Ct>Zt||Ct<ar)throw new RangeError('"value" argument is out of bounds');if(_t+Ht>jt.length)throw new RangeError("Index out of range")}tt.prototype.writeUintLE=tt.prototype.writeUIntLE=function(Ct,_t,Ht,Zt){if(Ct=+Ct,_t=_t>>>0,Ht=Ht>>>0,!Zt){const _r=Math.pow(2,8*Ht)-1;St(this,Ct,_t,Ht,_r,0)}let ar=1,ir=0;for(this[_t]=Ct&255;++ir<Ht&&(ar*=256);)this[_t+ir]=Ct/ar&255;return _t+Ht},tt.prototype.writeUintBE=tt.prototype.writeUIntBE=function(Ct,_t,Ht,Zt){if(Ct=+Ct,_t=_t>>>0,Ht=Ht>>>0,!Zt){const _r=Math.pow(2,8*Ht)-1;St(this,Ct,_t,Ht,_r,0)}let ar=Ht-1,ir=1;for(this[_t+ar]=Ct&255;--ar>=0&&(ir*=256);)this[_t+ar]=Ct/ir&255;return _t+Ht},tt.prototype.writeUint8=tt.prototype.writeUInt8=function(Ct,_t,Ht){return Ct=+Ct,_t=_t>>>0,Ht||St(this,Ct,_t,1,255,0),this[_t]=Ct&255,_t+1},tt.prototype.writeUint16LE=tt.prototype.writeUInt16LE=function(Ct,_t,Ht){return Ct=+Ct,_t=_t>>>0,Ht||St(this,Ct,_t,2,65535,0),this[_t]=Ct&255,this[_t+1]=Ct>>>8,_t+2},tt.prototype.writeUint16BE=tt.prototype.writeUInt16BE=function(Ct,_t,Ht){return Ct=+Ct,_t=_t>>>0,Ht||St(this,Ct,_t,2,65535,0),this[_t]=Ct>>>8,this[_t+1]=Ct&255,_t+2},tt.prototype.writeUint32LE=tt.prototype.writeUInt32LE=function(Ct,_t,Ht){return Ct=+Ct,_t=_t>>>0,Ht||St(this,Ct,_t,4,4294967295,0),this[_t+3]=Ct>>>24,this[_t+2]=Ct>>>16,this[_t+1]=Ct>>>8,this[_t]=Ct&255,_t+4},tt.prototype.writeUint32BE=tt.prototype.writeUInt32BE=function(Ct,_t,Ht){return Ct=+Ct,_t=_t>>>0,Ht||St(this,Ct,_t,4,4294967295,0),this[_t]=Ct>>>24,this[_t+1]=Ct>>>16,this[_t+2]=Ct>>>8,this[_t+3]=Ct&255,_t+4};function Vt(jt,Ct,_t,Ht,Zt){Sr(Ct,Ht,Zt,jt,_t,7);let ar=Number(Ct&BigInt(4294967295));jt[_t++]=ar,ar=ar>>8,jt[_t++]=ar,ar=ar>>8,jt[_t++]=ar,ar=ar>>8,jt[_t++]=ar;let ir=Number(Ct>>BigInt(32)&BigInt(4294967295));return jt[_t++]=ir,ir=ir>>8,jt[_t++]=ir,ir=ir>>8,jt[_t++]=ir,ir=ir>>8,jt[_t++]=ir,_t}function dr(jt,Ct,_t,Ht,Zt){Sr(Ct,Ht,Zt,jt,_t,7);let ar=Number(Ct&BigInt(4294967295));jt[_t+7]=ar,ar=ar>>8,jt[_t+6]=ar,ar=ar>>8,jt[_t+5]=ar,ar=ar>>8,jt[_t+4]=ar;let ir=Number(Ct>>BigInt(32)&BigInt(4294967295));return jt[_t+3]=ir,ir=ir>>8,jt[_t+2]=ir,ir=ir>>8,jt[_t+1]=ir,ir=ir>>8,jt[_t]=ir,_t+8}tt.prototype.writeBigUInt64LE=mr(function(Ct,_t=0){return Vt(this,Ct,_t,BigInt(0),BigInt("0xffffffffffffffff"))}),tt.prototype.writeBigUInt64BE=mr(function(Ct,_t=0){return dr(this,Ct,_t,BigInt(0),BigInt("0xffffffffffffffff"))}),tt.prototype.writeIntLE=function(Ct,_t,Ht,Zt){if(Ct=+Ct,_t=_t>>>0,!Zt){const Cr=Math.pow(2,8*Ht-1);St(this,Ct,_t,Ht,Cr-1,-Cr)}let ar=0,ir=1,_r=0;for(this[_t]=Ct&255;++ar<Ht&&(ir*=256);)Ct<0&&_r===0&&this[_t+ar-1]!==0&&(_r=1),this[_t+ar]=(Ct/ir>>0)-_r&255;return _t+Ht},tt.prototype.writeIntBE=function(Ct,_t,Ht,Zt){if(Ct=+Ct,_t=_t>>>0,!Zt){const Cr=Math.pow(2,8*Ht-1);St(this,Ct,_t,Ht,Cr-1,-Cr)}let ar=Ht-1,ir=1,_r=0;for(this[_t+ar]=Ct&255;--ar>=0&&(ir*=256);)Ct<0&&_r===0&&this[_t+ar+1]!==0&&(_r=1),this[_t+ar]=(Ct/ir>>0)-_r&255;return _t+Ht},tt.prototype.writeInt8=function(Ct,_t,Ht){return Ct=+Ct,_t=_t>>>0,Ht||St(this,Ct,_t,1,127,-128),Ct<0&&(Ct=255+Ct+1),this[_t]=Ct&255,_t+1},tt.prototype.writeInt16LE=function(Ct,_t,Ht){return Ct=+Ct,_t=_t>>>0,Ht||St(this,Ct,_t,2,32767,-32768),this[_t]=Ct&255,this[_t+1]=Ct>>>8,_t+2},tt.prototype.writeInt16BE=function(Ct,_t,Ht){return Ct=+Ct,_t=_t>>>0,Ht||St(this,Ct,_t,2,32767,-32768),this[_t]=Ct>>>8,this[_t+1]=Ct&255,_t+2},tt.prototype.writeInt32LE=function(Ct,_t,Ht){return Ct=+Ct,_t=_t>>>0,Ht||St(this,Ct,_t,4,2147483647,-2147483648),this[_t]=Ct&255,this[_t+1]=Ct>>>8,this[_t+2]=Ct>>>16,this[_t+3]=Ct>>>24,_t+4},tt.prototype.writeInt32BE=function(Ct,_t,Ht){return Ct=+Ct,_t=_t>>>0,Ht||St(this,Ct,_t,4,2147483647,-2147483648),Ct<0&&(Ct=4294967295+Ct+1),this[_t]=Ct>>>24,this[_t+1]=Ct>>>16,this[_t+2]=Ct>>>8,this[_t+3]=Ct&255,_t+4},tt.prototype.writeBigInt64LE=mr(function(Ct,_t=0){return Vt(this,Ct,_t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),tt.prototype.writeBigInt64BE=mr(function(Ct,_t=0){return dr(this,Ct,_t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function cr(jt,Ct,_t,Ht,Zt,ar){if(_t+Ht>jt.length)throw new RangeError("Index out of range");if(_t<0)throw new RangeError("Index out of range")}function gr(jt,Ct,_t,Ht,Zt){return Ct=+Ct,_t=_t>>>0,Zt||cr(jt,Ct,_t,4),o.write(jt,Ct,_t,Ht,23,4),_t+4}tt.prototype.writeFloatLE=function(Ct,_t,Ht){return gr(this,Ct,_t,!0,Ht)},tt.prototype.writeFloatBE=function(Ct,_t,Ht){return gr(this,Ct,_t,!1,Ht)};function $r(jt,Ct,_t,Ht,Zt){return Ct=+Ct,_t=_t>>>0,Zt||cr(jt,Ct,_t,8),o.write(jt,Ct,_t,Ht,52,8),_t+8}tt.prototype.writeDoubleLE=function(Ct,_t,Ht){return $r(this,Ct,_t,!0,Ht)},tt.prototype.writeDoubleBE=function(Ct,_t,Ht){return $r(this,Ct,_t,!1,Ht)},tt.prototype.copy=function(Ct,_t,Ht,Zt){if(!tt.isBuffer(Ct))throw new TypeError("argument should be a Buffer");if(Ht||(Ht=0),!Zt&&Zt!==0&&(Zt=this.length),_t>=Ct.length&&(_t=Ct.length),_t||(_t=0),Zt>0&&Zt<Ht&&(Zt=Ht),Zt===Ht||Ct.length===0||this.length===0)return 0;if(_t<0)throw new RangeError("targetStart out of bounds");if(Ht<0||Ht>=this.length)throw new RangeError("Index out of range");if(Zt<0)throw new RangeError("sourceEnd out of bounds");Zt>this.length&&(Zt=this.length),Ct.length-_t<Zt-Ht&&(Zt=Ct.length-_t+Ht);const ar=Zt-Ht;return this===Ct&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(_t,Ht,Zt):Uint8Array.prototype.set.call(Ct,this.subarray(Ht,Zt),_t),ar},tt.prototype.fill=function(Ct,_t,Ht,Zt){if(typeof Ct=="string"){if(typeof _t=="string"?(Zt=_t,_t=0,Ht=this.length):typeof Ht=="string"&&(Zt=Ht,Ht=this.length),Zt!==void 0&&typeof Zt!="string")throw new TypeError("encoding must be a string");if(typeof Zt=="string"&&!tt.isEncoding(Zt))throw new TypeError("Unknown encoding: "+Zt);if(Ct.length===1){const ir=Ct.charCodeAt(0);(Zt==="utf8"&&ir<128||Zt==="latin1")&&(Ct=ir)}}else typeof Ct=="number"?Ct=Ct&255:typeof Ct=="boolean"&&(Ct=Number(Ct));if(_t<0||this.length<_t||this.length<Ht)throw new RangeError("Out of range index");if(Ht<=_t)return this;_t=_t>>>0,Ht=Ht===void 0?this.length:Ht>>>0,Ct||(Ct=0);let ar;if(typeof Ct=="number")for(ar=_t;ar<Ht;++ar)this[ar]=Ct;else{const ir=tt.isBuffer(Ct)?Ct:tt.from(Ct,Zt),_r=ir.length;if(_r===0)throw new TypeError('The value "'+Ct+'" is invalid for argument "value"');for(ar=0;ar<Ht-_t;++ar)this[ar+_t]=ir[ar%_r]}return this};const xr={};function vr(jt,Ct,_t){xr[jt]=class extends _t{constructor(){super(),Object.defineProperty(this,"message",{value:Ct.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${jt}]`,this.stack,delete this.name}get code(){return jt}set code(Zt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Zt,writable:!0})}toString(){return`${this.name} [${jt}]: ${this.message}`}}}vr("ERR_BUFFER_OUT_OF_BOUNDS",function(jt){return jt?`${jt} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),vr("ERR_INVALID_ARG_TYPE",function(jt,Ct){return`The "${jt}" argument must be of type number. Received type ${typeof Ct}`},TypeError),vr("ERR_OUT_OF_RANGE",function(jt,Ct,_t){let Ht=`The value of "${jt}" is out of range.`,Zt=_t;return Number.isInteger(_t)&&Math.abs(_t)>2**32?Zt=kr(String(_t)):typeof _t=="bigint"&&(Zt=String(_t),(_t>BigInt(2)**BigInt(32)||_t<-(BigInt(2)**BigInt(32)))&&(Zt=kr(Zt)),Zt+="n"),Ht+=` It must be ${Ct}. Received ${Zt}`,Ht},RangeError);function kr(jt){let Ct="",_t=jt.length;const Ht=jt[0]==="-"?1:0;for(;_t>=Ht+4;_t-=3)Ct=`_${jt.slice(_t-3,_t)}${Ct}`;return`${jt.slice(0,_t)}${Ct}`}function Tr(jt,Ct,_t){Ir(Ct,"offset"),(jt[Ct]===void 0||jt[Ct+_t]===void 0)&&Nt(Ct,jt.length-(_t+1))}function Sr(jt,Ct,_t,Ht,Zt,ar){if(jt>_t||jt<Ct){const ir=typeof Ct=="bigint"?"n":"";let _r;throw ar>3?Ct===0||Ct===BigInt(0)?_r=`>= 0${ir} and < 2${ir} ** ${(ar+1)*8}${ir}`:_r=`>= -(2${ir} ** ${(ar+1)*8-1}${ir}) and < 2 ** ${(ar+1)*8-1}${ir}`:_r=`>= ${Ct}${ir} and <= ${_t}${ir}`,new xr.ERR_OUT_OF_RANGE("value",_r,jt)}Tr(Ht,Zt,ar)}function Ir(jt,Ct){if(typeof jt!="number")throw new xr.ERR_INVALID_ARG_TYPE(Ct,"number",jt)}function Nt(jt,Ct,_t){throw Math.floor(jt)!==jt?(Ir(jt,_t),new xr.ERR_OUT_OF_RANGE(_t||"offset","an integer",jt)):Ct<0?new xr.ERR_BUFFER_OUT_OF_BOUNDS:new xr.ERR_OUT_OF_RANGE(_t||"offset",`>= ${_t?1:0} and <= ${Ct}`,jt)}const ur=/[^+/0-9A-Za-z-_]/g;function lr(jt){if(jt=jt.split("=")[0],jt=jt.trim().replace(ur,""),jt.length<2)return"";for(;jt.length%4!==0;)jt=jt+"=";return jt}function Xt(jt,Ct){Ct=Ct||1/0;let _t;const Ht=jt.length;let Zt=null;const ar=[];for(let ir=0;ir<Ht;++ir){if(_t=jt.charCodeAt(ir),_t>55295&&_t<57344){if(!Zt){if(_t>56319){(Ct-=3)>-1&&ar.push(239,191,189);continue}else if(ir+1===Ht){(Ct-=3)>-1&&ar.push(239,191,189);continue}Zt=_t;continue}if(_t<56320){(Ct-=3)>-1&&ar.push(239,191,189),Zt=_t;continue}_t=(Zt-55296<<10|_t-56320)+65536}else Zt&&(Ct-=3)>-1&&ar.push(239,191,189);if(Zt=null,_t<128){if((Ct-=1)<0)break;ar.push(_t)}else if(_t<2048){if((Ct-=2)<0)break;ar.push(_t>>6|192,_t&63|128)}else if(_t<65536){if((Ct-=3)<0)break;ar.push(_t>>12|224,_t>>6&63|128,_t&63|128)}else if(_t<1114112){if((Ct-=4)<0)break;ar.push(_t>>18|240,_t>>12&63|128,_t>>6&63|128,_t&63|128)}else throw new Error("Invalid code point")}return ar}function Wt(jt){const Ct=[];for(let _t=0;_t<jt.length;++_t)Ct.push(jt.charCodeAt(_t)&255);return Ct}function nr(jt,Ct){let _t,Ht,Zt;const ar=[];for(let ir=0;ir<jt.length&&!((Ct-=2)<0);++ir)_t=jt.charCodeAt(ir),Ht=_t>>8,Zt=_t%256,ar.push(Zt),ar.push(Ht);return ar}function fr(jt){return e.toByteArray(lr(jt))}function pr(jt,Ct,_t,Ht){let Zt;for(Zt=0;Zt<Ht&&!(Zt+_t>=Ct.length||Zt>=jt.length);++Zt)Ct[Zt+_t]=jt[Zt];return Zt}function sr(jt,Ct){return jt instanceof Ct||jt!=null&&jt.constructor!=null&&jt.constructor.name!=null&&jt.constructor.name===Ct.name}function yr(jt){return jt!==jt}const br=function(){const jt="0123456789abcdef",Ct=new Array(256);for(let _t=0;_t<16;++_t){const Ht=_t*16;for(let Zt=0;Zt<16;++Zt)Ct[Ht+Zt]=jt[_t]+jt[Zt]}return Ct}();function mr(jt){return typeof BigInt>"u"?wr:jt}function wr(){throw new Error("BigInt not supported")}})(buffer$1);var bn={exports:{}};const globSourceImport={},__viteBrowserExternal=Object.freeze(Object.defineProperty({__proto__:null,default:globSourceImport},Symbol.toStringTag,{value:"Module"})),require$$8=getAugmentedNamespace(__viteBrowserExternal);bn.exports;(function(a){(function(e,o){function c(Ft,mt){if(!Ft)throw new Error(mt||"Assertion failed")}function d(Ft,mt){Ft.super_=mt;var Tt=function(){};Tt.prototype=mt.prototype,Ft.prototype=new Tt,Ft.prototype.constructor=Ft}function h(Ft,mt,Tt){if(h.isBN(Ft))return Ft;this.negative=0,this.words=null,this.length=0,this.red=null,Ft!==null&&((mt==="le"||mt==="be")&&(Tt=mt,mt=10),this._init(Ft||0,mt||10,Tt||"be"))}typeof e=="object"?e.exports=h:o.BN=h,h.BN=h,h.wordSize=26;var et;try{typeof window<"u"&&typeof window.Buffer<"u"?et=window.Buffer:et=require$$8.Buffer}catch{}h.isBN=function(mt){return mt instanceof h?!0:mt!==null&&typeof mt=="object"&&mt.constructor.wordSize===h.wordSize&&Array.isArray(mt.words)},h.max=function(mt,Tt){return mt.cmp(Tt)>0?mt:Tt},h.min=function(mt,Tt){return mt.cmp(Tt)<0?mt:Tt},h.prototype._init=function(mt,Tt,Rt){if(typeof mt=="number")return this._initNumber(mt,Tt,Rt);if(typeof mt=="object")return this._initArray(mt,Tt,Rt);Tt==="hex"&&(Tt=16),c(Tt===(Tt|0)&&Tt>=2&&Tt<=36),mt=mt.toString().replace(/\s+/g,"");var Ot=0;mt[0]==="-"&&(Ot++,this.negative=1),Ot<mt.length&&(Tt===16?this._parseHex(mt,Ot,Rt):(this._parseBase(mt,Tt,Ot),Rt==="le"&&this._initArray(this.toArray(),Tt,Rt)))},h.prototype._initNumber=function(mt,Tt,Rt){mt<0&&(this.negative=1,mt=-mt),mt<67108864?(this.words=[mt&67108863],this.length=1):mt<4503599627370496?(this.words=[mt&67108863,mt/67108864&67108863],this.length=2):(c(mt<9007199254740992),this.words=[mt&67108863,mt/67108864&67108863,1],this.length=3),Rt==="le"&&this._initArray(this.toArray(),Tt,Rt)},h.prototype._initArray=function(mt,Tt,Rt){if(c(typeof mt.length=="number"),mt.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(mt.length/3),this.words=new Array(this.length);for(var Ot=0;Ot<this.length;Ot++)this.words[Ot]=0;var Lt,Ut,Gt=0;if(Rt==="be")for(Ot=mt.length-1,Lt=0;Ot>=0;Ot-=3)Ut=mt[Ot]|mt[Ot-1]<<8|mt[Ot-2]<<16,this.words[Lt]|=Ut<<Gt&67108863,this.words[Lt+1]=Ut>>>26-Gt&67108863,Gt+=24,Gt>=26&&(Gt-=26,Lt++);else if(Rt==="le")for(Ot=0,Lt=0;Ot<mt.length;Ot+=3)Ut=mt[Ot]|mt[Ot+1]<<8|mt[Ot+2]<<16,this.words[Lt]|=Ut<<Gt&67108863,this.words[Lt+1]=Ut>>>26-Gt&67108863,Gt+=24,Gt>=26&&(Gt-=26,Lt++);return this._strip()};function tt(Ft,mt){var Tt=Ft.charCodeAt(mt);if(Tt>=48&&Tt<=57)return Tt-48;if(Tt>=65&&Tt<=70)return Tt-55;if(Tt>=97&&Tt<=102)return Tt-87;c(!1,"Invalid character in "+Ft)}function ot(Ft,mt,Tt){var Rt=tt(Ft,Tt);return Tt-1>=mt&&(Rt|=tt(Ft,Tt-1)<<4),Rt}h.prototype._parseHex=function(mt,Tt,Rt){this.length=Math.ceil((mt.length-Tt)/6),this.words=new Array(this.length);for(var Ot=0;Ot<this.length;Ot++)this.words[Ot]=0;var Lt=0,Ut=0,Gt;if(Rt==="be")for(Ot=mt.length-1;Ot>=Tt;Ot-=2)Gt=ot(mt,Tt,Ot)<<Lt,this.words[Ut]|=Gt&67108863,Lt>=18?(Lt-=18,Ut+=1,this.words[Ut]|=Gt>>>26):Lt+=8;else{var Bt=mt.length-Tt;for(Ot=Bt%2===0?Tt+1:Tt;Ot<mt.length;Ot+=2)Gt=ot(mt,Tt,Ot)<<Lt,this.words[Ut]|=Gt&67108863,Lt>=18?(Lt-=18,Ut+=1,this.words[Ut]|=Gt>>>26):Lt+=8}this._strip()};function ft(Ft,mt,Tt,Rt){for(var Ot=0,Lt=0,Ut=Math.min(Ft.length,Tt),Gt=mt;Gt<Ut;Gt++){var Bt=Ft.charCodeAt(Gt)-48;Ot*=Rt,Bt>=49?Lt=Bt-49+10:Bt>=17?Lt=Bt-17+10:Lt=Bt,c(Bt>=0&&Lt<Rt,"Invalid character"),Ot+=Lt}return Ot}h.prototype._parseBase=function(mt,Tt,Rt){this.words=[0],this.length=1;for(var Ot=0,Lt=1;Lt<=67108863;Lt*=Tt)Ot++;Ot--,Lt=Lt/Tt|0;for(var Ut=mt.length-Rt,Gt=Ut%Ot,Bt=Math.min(Ut,Ut-Gt)+Rt,St=0,Vt=Rt;Vt<Bt;Vt+=Ot)St=ft(mt,Vt,Vt+Ot,Tt),this.imuln(Lt),this.words[0]+St<67108864?this.words[0]+=St:this._iaddn(St);if(Gt!==0){var dr=1;for(St=ft(mt,Vt,mt.length,Tt),Vt=0;Vt<Gt;Vt++)dr*=Tt;this.imuln(dr),this.words[0]+St<67108864?this.words[0]+=St:this._iaddn(St)}this._strip()},h.prototype.copy=function(mt){mt.words=new Array(this.length);for(var Tt=0;Tt<this.length;Tt++)mt.words[Tt]=this.words[Tt];mt.length=this.length,mt.negative=this.negative,mt.red=this.red};function ht(Ft,mt){Ft.words=mt.words,Ft.length=mt.length,Ft.negative=mt.negative,Ft.red=mt.red}if(h.prototype._move=function(mt){ht(mt,this)},h.prototype.clone=function(){var mt=new h(null);return this.copy(mt),mt},h.prototype._expand=function(mt){for(;this.length<mt;)this.words[this.length++]=0;return this},h.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},h.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{h.prototype[Symbol.for("nodejs.util.inspect.custom")]=yt}catch{h.prototype.inspect=yt}else h.prototype.inspect=yt;function yt(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var gt=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],wt=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],bt=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];h.prototype.toString=function(mt,Tt){mt=mt||10,Tt=Tt|0||1;var Rt;if(mt===16||mt==="hex"){Rt="";for(var Ot=0,Lt=0,Ut=0;Ut<this.length;Ut++){var Gt=this.words[Ut],Bt=((Gt<<Ot|Lt)&16777215).toString(16);Lt=Gt>>>24-Ot&16777215,Ot+=2,Ot>=26&&(Ot-=26,Ut--),Lt!==0||Ut!==this.length-1?Rt=gt[6-Bt.length]+Bt+Rt:Rt=Bt+Rt}for(Lt!==0&&(Rt=Lt.toString(16)+Rt);Rt.length%Tt!==0;)Rt="0"+Rt;return this.negative!==0&&(Rt="-"+Rt),Rt}if(mt===(mt|0)&&mt>=2&&mt<=36){var St=wt[mt],Vt=bt[mt];Rt="";var dr=this.clone();for(dr.negative=0;!dr.isZero();){var cr=dr.modrn(Vt).toString(mt);dr=dr.idivn(Vt),dr.isZero()?Rt=cr+Rt:Rt=gt[St-cr.length]+cr+Rt}for(this.isZero()&&(Rt="0"+Rt);Rt.length%Tt!==0;)Rt="0"+Rt;return this.negative!==0&&(Rt="-"+Rt),Rt}c(!1,"Base should be between 2 and 36")},h.prototype.toNumber=function(){var mt=this.words[0];return this.length===2?mt+=this.words[1]*67108864:this.length===3&&this.words[2]===1?mt+=4503599627370496+this.words[1]*67108864:this.length>2&&c(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-mt:mt},h.prototype.toJSON=function(){return this.toString(16,2)},et&&(h.prototype.toBuffer=function(mt,Tt){return this.toArrayLike(et,mt,Tt)}),h.prototype.toArray=function(mt,Tt){return this.toArrayLike(Array,mt,Tt)};var xt=function(mt,Tt){return mt.allocUnsafe?mt.allocUnsafe(Tt):new mt(Tt)};h.prototype.toArrayLike=function(mt,Tt,Rt){this._strip();var Ot=this.byteLength(),Lt=Rt||Math.max(1,Ot);c(Ot<=Lt,"byte array longer than desired length"),c(Lt>0,"Requested array length <= 0");var Ut=xt(mt,Lt),Gt=Tt==="le"?"LE":"BE";return this["_toArrayLike"+Gt](Ut,Ot),Ut},h.prototype._toArrayLikeLE=function(mt,Tt){for(var Rt=0,Ot=0,Lt=0,Ut=0;Lt<this.length;Lt++){var Gt=this.words[Lt]<<Ut|Ot;mt[Rt++]=Gt&255,Rt<mt.length&&(mt[Rt++]=Gt>>8&255),Rt<mt.length&&(mt[Rt++]=Gt>>16&255),Ut===6?(Rt<mt.length&&(mt[Rt++]=Gt>>24&255),Ot=0,Ut=0):(Ot=Gt>>>24,Ut+=2)}if(Rt<mt.length)for(mt[Rt++]=Ot;Rt<mt.length;)mt[Rt++]=0},h.prototype._toArrayLikeBE=function(mt,Tt){for(var Rt=mt.length-1,Ot=0,Lt=0,Ut=0;Lt<this.length;Lt++){var Gt=this.words[Lt]<<Ut|Ot;mt[Rt--]=Gt&255,Rt>=0&&(mt[Rt--]=Gt>>8&255),Rt>=0&&(mt[Rt--]=Gt>>16&255),Ut===6?(Rt>=0&&(mt[Rt--]=Gt>>24&255),Ot=0,Ut=0):(Ot=Gt>>>24,Ut+=2)}if(Rt>=0)for(mt[Rt--]=Ot;Rt>=0;)mt[Rt--]=0},Math.clz32?h.prototype._countBits=function(mt){return 32-Math.clz32(mt)}:h.prototype._countBits=function(mt){var Tt=mt,Rt=0;return Tt>=4096&&(Rt+=13,Tt>>>=13),Tt>=64&&(Rt+=7,Tt>>>=7),Tt>=8&&(Rt+=4,Tt>>>=4),Tt>=2&&(Rt+=2,Tt>>>=2),Rt+Tt},h.prototype._zeroBits=function(mt){if(mt===0)return 26;var Tt=mt,Rt=0;return Tt&8191||(Rt+=13,Tt>>>=13),Tt&127||(Rt+=7,Tt>>>=7),Tt&15||(Rt+=4,Tt>>>=4),Tt&3||(Rt+=2,Tt>>>=2),Tt&1||Rt++,Rt},h.prototype.bitLength=function(){var mt=this.words[this.length-1],Tt=this._countBits(mt);return(this.length-1)*26+Tt};function Et(Ft){for(var mt=new Array(Ft.bitLength()),Tt=0;Tt<mt.length;Tt++){var Rt=Tt/26|0,Ot=Tt%26;mt[Tt]=Ft.words[Rt]>>>Ot&1}return mt}h.prototype.zeroBits=function(){if(this.isZero())return 0;for(var mt=0,Tt=0;Tt<this.length;Tt++){var Rt=this._zeroBits(this.words[Tt]);if(mt+=Rt,Rt!==26)break}return mt},h.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},h.prototype.toTwos=function(mt){return this.negative!==0?this.abs().inotn(mt).iaddn(1):this.clone()},h.prototype.fromTwos=function(mt){return this.testn(mt-1)?this.notn(mt).iaddn(1).ineg():this.clone()},h.prototype.isNeg=function(){return this.negative!==0},h.prototype.neg=function(){return this.clone().ineg()},h.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},h.prototype.iuor=function(mt){for(;this.length<mt.length;)this.words[this.length++]=0;for(var Tt=0;Tt<mt.length;Tt++)this.words[Tt]=this.words[Tt]|mt.words[Tt];return this._strip()},h.prototype.ior=function(mt){return c((this.negative|mt.negative)===0),this.iuor(mt)},h.prototype.or=function(mt){return this.length>mt.length?this.clone().ior(mt):mt.clone().ior(this)},h.prototype.uor=function(mt){return this.length>mt.length?this.clone().iuor(mt):mt.clone().iuor(this)},h.prototype.iuand=function(mt){var Tt;this.length>mt.length?Tt=mt:Tt=this;for(var Rt=0;Rt<Tt.length;Rt++)this.words[Rt]=this.words[Rt]&mt.words[Rt];return this.length=Tt.length,this._strip()},h.prototype.iand=function(mt){return c((this.negative|mt.negative)===0),this.iuand(mt)},h.prototype.and=function(mt){return this.length>mt.length?this.clone().iand(mt):mt.clone().iand(this)},h.prototype.uand=function(mt){return this.length>mt.length?this.clone().iuand(mt):mt.clone().iuand(this)},h.prototype.iuxor=function(mt){var Tt,Rt;this.length>mt.length?(Tt=this,Rt=mt):(Tt=mt,Rt=this);for(var Ot=0;Ot<Rt.length;Ot++)this.words[Ot]=Tt.words[Ot]^Rt.words[Ot];if(this!==Tt)for(;Ot<Tt.length;Ot++)this.words[Ot]=Tt.words[Ot];return this.length=Tt.length,this._strip()},h.prototype.ixor=function(mt){return c((this.negative|mt.negative)===0),this.iuxor(mt)},h.prototype.xor=function(mt){return this.length>mt.length?this.clone().ixor(mt):mt.clone().ixor(this)},h.prototype.uxor=function(mt){return this.length>mt.length?this.clone().iuxor(mt):mt.clone().iuxor(this)},h.prototype.inotn=function(mt){c(typeof mt=="number"&&mt>=0);var Tt=Math.ceil(mt/26)|0,Rt=mt%26;this._expand(Tt),Rt>0&&Tt--;for(var Ot=0;Ot<Tt;Ot++)this.words[Ot]=~this.words[Ot]&67108863;return Rt>0&&(this.words[Ot]=~this.words[Ot]&67108863>>26-Rt),this._strip()},h.prototype.notn=function(mt){return this.clone().inotn(mt)},h.prototype.setn=function(mt,Tt){c(typeof mt=="number"&&mt>=0);var Rt=mt/26|0,Ot=mt%26;return this._expand(Rt+1),Tt?this.words[Rt]=this.words[Rt]|1<<Ot:this.words[Rt]=this.words[Rt]&~(1<<Ot),this._strip()},h.prototype.iadd=function(mt){var Tt;if(this.negative!==0&&mt.negative===0)return this.negative=0,Tt=this.isub(mt),this.negative^=1,this._normSign();if(this.negative===0&&mt.negative!==0)return mt.negative=0,Tt=this.isub(mt),mt.negative=1,Tt._normSign();var Rt,Ot;this.length>mt.length?(Rt=this,Ot=mt):(Rt=mt,Ot=this);for(var Lt=0,Ut=0;Ut<Ot.length;Ut++)Tt=(Rt.words[Ut]|0)+(Ot.words[Ut]|0)+Lt,this.words[Ut]=Tt&67108863,Lt=Tt>>>26;for(;Lt!==0&&Ut<Rt.length;Ut++)Tt=(Rt.words[Ut]|0)+Lt,this.words[Ut]=Tt&67108863,Lt=Tt>>>26;if(this.length=Rt.length,Lt!==0)this.words[this.length]=Lt,this.length++;else if(Rt!==this)for(;Ut<Rt.length;Ut++)this.words[Ut]=Rt.words[Ut];return this},h.prototype.add=function(mt){var Tt;return mt.negative!==0&&this.negative===0?(mt.negative=0,Tt=this.sub(mt),mt.negative^=1,Tt):mt.negative===0&&this.negative!==0?(this.negative=0,Tt=mt.sub(this),this.negative=1,Tt):this.length>mt.length?this.clone().iadd(mt):mt.clone().iadd(this)},h.prototype.isub=function(mt){if(mt.negative!==0){mt.negative=0;var Tt=this.iadd(mt);return mt.negative=1,Tt._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(mt),this.negative=1,this._normSign();var Rt=this.cmp(mt);if(Rt===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Ot,Lt;Rt>0?(Ot=this,Lt=mt):(Ot=mt,Lt=this);for(var Ut=0,Gt=0;Gt<Lt.length;Gt++)Tt=(Ot.words[Gt]|0)-(Lt.words[Gt]|0)+Ut,Ut=Tt>>26,this.words[Gt]=Tt&67108863;for(;Ut!==0&&Gt<Ot.length;Gt++)Tt=(Ot.words[Gt]|0)+Ut,Ut=Tt>>26,this.words[Gt]=Tt&67108863;if(Ut===0&&Gt<Ot.length&&Ot!==this)for(;Gt<Ot.length;Gt++)this.words[Gt]=Ot.words[Gt];return this.length=Math.max(this.length,Gt),Ot!==this&&(this.negative=1),this._strip()},h.prototype.sub=function(mt){return this.clone().isub(mt)};function vt(Ft,mt,Tt){Tt.negative=mt.negative^Ft.negative;var Rt=Ft.length+mt.length|0;Tt.length=Rt,Rt=Rt-1|0;var Ot=Ft.words[0]|0,Lt=mt.words[0]|0,Ut=Ot*Lt,Gt=Ut&67108863,Bt=Ut/67108864|0;Tt.words[0]=Gt;for(var St=1;St<Rt;St++){for(var Vt=Bt>>>26,dr=Bt&67108863,cr=Math.min(St,mt.length-1),gr=Math.max(0,St-Ft.length+1);gr<=cr;gr++){var $r=St-gr|0;Ot=Ft.words[$r]|0,Lt=mt.words[gr]|0,Ut=Ot*Lt+dr,Vt+=Ut/67108864|0,dr=Ut&67108863}Tt.words[St]=dr|0,Bt=Vt|0}return Bt!==0?Tt.words[St]=Bt|0:Tt.length--,Tt._strip()}var $t=function(mt,Tt,Rt){var Ot=mt.words,Lt=Tt.words,Ut=Rt.words,Gt=0,Bt,St,Vt,dr=Ot[0]|0,cr=dr&8191,gr=dr>>>13,$r=Ot[1]|0,xr=$r&8191,vr=$r>>>13,kr=Ot[2]|0,Tr=kr&8191,Sr=kr>>>13,Ir=Ot[3]|0,Nt=Ir&8191,ur=Ir>>>13,lr=Ot[4]|0,Xt=lr&8191,Wt=lr>>>13,nr=Ot[5]|0,fr=nr&8191,pr=nr>>>13,sr=Ot[6]|0,yr=sr&8191,br=sr>>>13,mr=Ot[7]|0,wr=mr&8191,jt=mr>>>13,Ct=Ot[8]|0,_t=Ct&8191,Ht=Ct>>>13,Zt=Ot[9]|0,ar=Zt&8191,ir=Zt>>>13,_r=Lt[0]|0,Cr=_r&8191,Er=_r>>>13,Rr=Lt[1]|0,Ar=Rr&8191,Pr=Rr>>>13,du=Lt[2]|0,Or=du&8191,Nr=du>>>13,Es=Lt[3]|0,Dr=Es&8191,Mr=Es>>>13,yp=Lt[4]|0,Lr=yp&8191,Ur=yp>>>13,mp=Lt[5]|0,Fr=mp&8191,jr=mp>>>13,gp=Lt[6]|0,zr=gp&8191,Vr=gp>>>13,bp=Lt[7]|0,Hr=bp&8191,Gr=bp>>>13,xp=Lt[8]|0,Wr=xp&8191,qr=xp>>>13,wp=Lt[9]|0,Qr=wp&8191,Xr=wp>>>13;Rt.negative=mt.negative^Tt.negative,Rt.length=19,Bt=Math.imul(cr,Cr),St=Math.imul(cr,Er),St=St+Math.imul(gr,Cr)|0,Vt=Math.imul(gr,Er);var Iu=(Gt+Bt|0)+((St&8191)<<13)|0;Gt=(Vt+(St>>>13)|0)+(Iu>>>26)|0,Iu&=67108863,Bt=Math.imul(xr,Cr),St=Math.imul(xr,Er),St=St+Math.imul(vr,Cr)|0,Vt=Math.imul(vr,Er),Bt=Bt+Math.imul(cr,Ar)|0,St=St+Math.imul(cr,Pr)|0,St=St+Math.imul(gr,Ar)|0,Vt=Vt+Math.imul(gr,Pr)|0;var Ru=(Gt+Bt|0)+((St&8191)<<13)|0;Gt=(Vt+(St>>>13)|0)+(Ru>>>26)|0,Ru&=67108863,Bt=Math.imul(Tr,Cr),St=Math.imul(Tr,Er),St=St+Math.imul(Sr,Cr)|0,Vt=Math.imul(Sr,Er),Bt=Bt+Math.imul(xr,Ar)|0,St=St+Math.imul(xr,Pr)|0,St=St+Math.imul(vr,Ar)|0,Vt=Vt+Math.imul(vr,Pr)|0,Bt=Bt+Math.imul(cr,Or)|0,St=St+Math.imul(cr,Nr)|0,St=St+Math.imul(gr,Or)|0,Vt=Vt+Math.imul(gr,Nr)|0;var Bu=(Gt+Bt|0)+((St&8191)<<13)|0;Gt=(Vt+(St>>>13)|0)+(Bu>>>26)|0,Bu&=67108863,Bt=Math.imul(Nt,Cr),St=Math.imul(Nt,Er),St=St+Math.imul(ur,Cr)|0,Vt=Math.imul(ur,Er),Bt=Bt+Math.imul(Tr,Ar)|0,St=St+Math.imul(Tr,Pr)|0,St=St+Math.imul(Sr,Ar)|0,Vt=Vt+Math.imul(Sr,Pr)|0,Bt=Bt+Math.imul(xr,Or)|0,St=St+Math.imul(xr,Nr)|0,St=St+Math.imul(vr,Or)|0,Vt=Vt+Math.imul(vr,Nr)|0,Bt=Bt+Math.imul(cr,Dr)|0,St=St+Math.imul(cr,Mr)|0,St=St+Math.imul(gr,Dr)|0,Vt=Vt+Math.imul(gr,Mr)|0;var Nu=(Gt+Bt|0)+((St&8191)<<13)|0;Gt=(Vt+(St>>>13)|0)+(Nu>>>26)|0,Nu&=67108863,Bt=Math.imul(Xt,Cr),St=Math.imul(Xt,Er),St=St+Math.imul(Wt,Cr)|0,Vt=Math.imul(Wt,Er),Bt=Bt+Math.imul(Nt,Ar)|0,St=St+Math.imul(Nt,Pr)|0,St=St+Math.imul(ur,Ar)|0,Vt=Vt+Math.imul(ur,Pr)|0,Bt=Bt+Math.imul(Tr,Or)|0,St=St+Math.imul(Tr,Nr)|0,St=St+Math.imul(Sr,Or)|0,Vt=Vt+Math.imul(Sr,Nr)|0,Bt=Bt+Math.imul(xr,Dr)|0,St=St+Math.imul(xr,Mr)|0,St=St+Math.imul(vr,Dr)|0,Vt=Vt+Math.imul(vr,Mr)|0,Bt=Bt+Math.imul(cr,Lr)|0,St=St+Math.imul(cr,Ur)|0,St=St+Math.imul(gr,Lr)|0,Vt=Vt+Math.imul(gr,Ur)|0;var Ou=(Gt+Bt|0)+((St&8191)<<13)|0;Gt=(Vt+(St>>>13)|0)+(Ou>>>26)|0,Ou&=67108863,Bt=Math.imul(fr,Cr),St=Math.imul(fr,Er),St=St+Math.imul(pr,Cr)|0,Vt=Math.imul(pr,Er),Bt=Bt+Math.imul(Xt,Ar)|0,St=St+Math.imul(Xt,Pr)|0,St=St+Math.imul(Wt,Ar)|0,Vt=Vt+Math.imul(Wt,Pr)|0,Bt=Bt+Math.imul(Nt,Or)|0,St=St+Math.imul(Nt,Nr)|0,St=St+Math.imul(ur,Or)|0,Vt=Vt+Math.imul(ur,Nr)|0,Bt=Bt+Math.imul(Tr,Dr)|0,St=St+Math.imul(Tr,Mr)|0,St=St+Math.imul(Sr,Dr)|0,Vt=Vt+Math.imul(Sr,Mr)|0,Bt=Bt+Math.imul(xr,Lr)|0,St=St+Math.imul(xr,Ur)|0,St=St+Math.imul(vr,Lr)|0,Vt=Vt+Math.imul(vr,Ur)|0,Bt=Bt+Math.imul(cr,Fr)|0,St=St+Math.imul(cr,jr)|0,St=St+Math.imul(gr,Fr)|0,Vt=Vt+Math.imul(gr,jr)|0;var Pu=(Gt+Bt|0)+((St&8191)<<13)|0;Gt=(Vt+(St>>>13)|0)+(Pu>>>26)|0,Pu&=67108863,Bt=Math.imul(yr,Cr),St=Math.imul(yr,Er),St=St+Math.imul(br,Cr)|0,Vt=Math.imul(br,Er),Bt=Bt+Math.imul(fr,Ar)|0,St=St+Math.imul(fr,Pr)|0,St=St+Math.imul(pr,Ar)|0,Vt=Vt+Math.imul(pr,Pr)|0,Bt=Bt+Math.imul(Xt,Or)|0,St=St+Math.imul(Xt,Nr)|0,St=St+Math.imul(Wt,Or)|0,Vt=Vt+Math.imul(Wt,Nr)|0,Bt=Bt+Math.imul(Nt,Dr)|0,St=St+Math.imul(Nt,Mr)|0,St=St+Math.imul(ur,Dr)|0,Vt=Vt+Math.imul(ur,Mr)|0,Bt=Bt+Math.imul(Tr,Lr)|0,St=St+Math.imul(Tr,Ur)|0,St=St+Math.imul(Sr,Lr)|0,Vt=Vt+Math.imul(Sr,Ur)|0,Bt=Bt+Math.imul(xr,Fr)|0,St=St+Math.imul(xr,jr)|0,St=St+Math.imul(vr,Fr)|0,Vt=Vt+Math.imul(vr,jr)|0,Bt=Bt+Math.imul(cr,zr)|0,St=St+Math.imul(cr,Vr)|0,St=St+Math.imul(gr,zr)|0,Vt=Vt+Math.imul(gr,Vr)|0;var Du=(Gt+Bt|0)+((St&8191)<<13)|0;Gt=(Vt+(St>>>13)|0)+(Du>>>26)|0,Du&=67108863,Bt=Math.imul(wr,Cr),St=Math.imul(wr,Er),St=St+Math.imul(jt,Cr)|0,Vt=Math.imul(jt,Er),Bt=Bt+Math.imul(yr,Ar)|0,St=St+Math.imul(yr,Pr)|0,St=St+Math.imul(br,Ar)|0,Vt=Vt+Math.imul(br,Pr)|0,Bt=Bt+Math.imul(fr,Or)|0,St=St+Math.imul(fr,Nr)|0,St=St+Math.imul(pr,Or)|0,Vt=Vt+Math.imul(pr,Nr)|0,Bt=Bt+Math.imul(Xt,Dr)|0,St=St+Math.imul(Xt,Mr)|0,St=St+Math.imul(Wt,Dr)|0,Vt=Vt+Math.imul(Wt,Mr)|0,Bt=Bt+Math.imul(Nt,Lr)|0,St=St+Math.imul(Nt,Ur)|0,St=St+Math.imul(ur,Lr)|0,Vt=Vt+Math.imul(ur,Ur)|0,Bt=Bt+Math.imul(Tr,Fr)|0,St=St+Math.imul(Tr,jr)|0,St=St+Math.imul(Sr,Fr)|0,Vt=Vt+Math.imul(Sr,jr)|0,Bt=Bt+Math.imul(xr,zr)|0,St=St+Math.imul(xr,Vr)|0,St=St+Math.imul(vr,zr)|0,Vt=Vt+Math.imul(vr,Vr)|0,Bt=Bt+Math.imul(cr,Hr)|0,St=St+Math.imul(cr,Gr)|0,St=St+Math.imul(gr,Hr)|0,Vt=Vt+Math.imul(gr,Gr)|0;var Mu=(Gt+Bt|0)+((St&8191)<<13)|0;Gt=(Vt+(St>>>13)|0)+(Mu>>>26)|0,Mu&=67108863,Bt=Math.imul(_t,Cr),St=Math.imul(_t,Er),St=St+Math.imul(Ht,Cr)|0,Vt=Math.imul(Ht,Er),Bt=Bt+Math.imul(wr,Ar)|0,St=St+Math.imul(wr,Pr)|0,St=St+Math.imul(jt,Ar)|0,Vt=Vt+Math.imul(jt,Pr)|0,Bt=Bt+Math.imul(yr,Or)|0,St=St+Math.imul(yr,Nr)|0,St=St+Math.imul(br,Or)|0,Vt=Vt+Math.imul(br,Nr)|0,Bt=Bt+Math.imul(fr,Dr)|0,St=St+Math.imul(fr,Mr)|0,St=St+Math.imul(pr,Dr)|0,Vt=Vt+Math.imul(pr,Mr)|0,Bt=Bt+Math.imul(Xt,Lr)|0,St=St+Math.imul(Xt,Ur)|0,St=St+Math.imul(Wt,Lr)|0,Vt=Vt+Math.imul(Wt,Ur)|0,Bt=Bt+Math.imul(Nt,Fr)|0,St=St+Math.imul(Nt,jr)|0,St=St+Math.imul(ur,Fr)|0,Vt=Vt+Math.imul(ur,jr)|0,Bt=Bt+Math.imul(Tr,zr)|0,St=St+Math.imul(Tr,Vr)|0,St=St+Math.imul(Sr,zr)|0,Vt=Vt+Math.imul(Sr,Vr)|0,Bt=Bt+Math.imul(xr,Hr)|0,St=St+Math.imul(xr,Gr)|0,St=St+Math.imul(vr,Hr)|0,Vt=Vt+Math.imul(vr,Gr)|0,Bt=Bt+Math.imul(cr,Wr)|0,St=St+Math.imul(cr,qr)|0,St=St+Math.imul(gr,Wr)|0,Vt=Vt+Math.imul(gr,qr)|0;var Lu=(Gt+Bt|0)+((St&8191)<<13)|0;Gt=(Vt+(St>>>13)|0)+(Lu>>>26)|0,Lu&=67108863,Bt=Math.imul(ar,Cr),St=Math.imul(ar,Er),St=St+Math.imul(ir,Cr)|0,Vt=Math.imul(ir,Er),Bt=Bt+Math.imul(_t,Ar)|0,St=St+Math.imul(_t,Pr)|0,St=St+Math.imul(Ht,Ar)|0,Vt=Vt+Math.imul(Ht,Pr)|0,Bt=Bt+Math.imul(wr,Or)|0,St=St+Math.imul(wr,Nr)|0,St=St+Math.imul(jt,Or)|0,Vt=Vt+Math.imul(jt,Nr)|0,Bt=Bt+Math.imul(yr,Dr)|0,St=St+Math.imul(yr,Mr)|0,St=St+Math.imul(br,Dr)|0,Vt=Vt+Math.imul(br,Mr)|0,Bt=Bt+Math.imul(fr,Lr)|0,St=St+Math.imul(fr,Ur)|0,St=St+Math.imul(pr,Lr)|0,Vt=Vt+Math.imul(pr,Ur)|0,Bt=Bt+Math.imul(Xt,Fr)|0,St=St+Math.imul(Xt,jr)|0,St=St+Math.imul(Wt,Fr)|0,Vt=Vt+Math.imul(Wt,jr)|0,Bt=Bt+Math.imul(Nt,zr)|0,St=St+Math.imul(Nt,Vr)|0,St=St+Math.imul(ur,zr)|0,Vt=Vt+Math.imul(ur,Vr)|0,Bt=Bt+Math.imul(Tr,Hr)|0,St=St+Math.imul(Tr,Gr)|0,St=St+Math.imul(Sr,Hr)|0,Vt=Vt+Math.imul(Sr,Gr)|0,Bt=Bt+Math.imul(xr,Wr)|0,St=St+Math.imul(xr,qr)|0,St=St+Math.imul(vr,Wr)|0,Vt=Vt+Math.imul(vr,qr)|0,Bt=Bt+Math.imul(cr,Qr)|0,St=St+Math.imul(cr,Xr)|0,St=St+Math.imul(gr,Qr)|0,Vt=Vt+Math.imul(gr,Xr)|0;var Uu=(Gt+Bt|0)+((St&8191)<<13)|0;Gt=(Vt+(St>>>13)|0)+(Uu>>>26)|0,Uu&=67108863,Bt=Math.imul(ar,Ar),St=Math.imul(ar,Pr),St=St+Math.imul(ir,Ar)|0,Vt=Math.imul(ir,Pr),Bt=Bt+Math.imul(_t,Or)|0,St=St+Math.imul(_t,Nr)|0,St=St+Math.imul(Ht,Or)|0,Vt=Vt+Math.imul(Ht,Nr)|0,Bt=Bt+Math.imul(wr,Dr)|0,St=St+Math.imul(wr,Mr)|0,St=St+Math.imul(jt,Dr)|0,Vt=Vt+Math.imul(jt,Mr)|0,Bt=Bt+Math.imul(yr,Lr)|0,St=St+Math.imul(yr,Ur)|0,St=St+Math.imul(br,Lr)|0,Vt=Vt+Math.imul(br,Ur)|0,Bt=Bt+Math.imul(fr,Fr)|0,St=St+Math.imul(fr,jr)|0,St=St+Math.imul(pr,Fr)|0,Vt=Vt+Math.imul(pr,jr)|0,Bt=Bt+Math.imul(Xt,zr)|0,St=St+Math.imul(Xt,Vr)|0,St=St+Math.imul(Wt,zr)|0,Vt=Vt+Math.imul(Wt,Vr)|0,Bt=Bt+Math.imul(Nt,Hr)|0,St=St+Math.imul(Nt,Gr)|0,St=St+Math.imul(ur,Hr)|0,Vt=Vt+Math.imul(ur,Gr)|0,Bt=Bt+Math.imul(Tr,Wr)|0,St=St+Math.imul(Tr,qr)|0,St=St+Math.imul(Sr,Wr)|0,Vt=Vt+Math.imul(Sr,qr)|0,Bt=Bt+Math.imul(xr,Qr)|0,St=St+Math.imul(xr,Xr)|0,St=St+Math.imul(vr,Qr)|0,Vt=Vt+Math.imul(vr,Xr)|0;var Fu=(Gt+Bt|0)+((St&8191)<<13)|0;Gt=(Vt+(St>>>13)|0)+(Fu>>>26)|0,Fu&=67108863,Bt=Math.imul(ar,Or),St=Math.imul(ar,Nr),St=St+Math.imul(ir,Or)|0,Vt=Math.imul(ir,Nr),Bt=Bt+Math.imul(_t,Dr)|0,St=St+Math.imul(_t,Mr)|0,St=St+Math.imul(Ht,Dr)|0,Vt=Vt+Math.imul(Ht,Mr)|0,Bt=Bt+Math.imul(wr,Lr)|0,St=St+Math.imul(wr,Ur)|0,St=St+Math.imul(jt,Lr)|0,Vt=Vt+Math.imul(jt,Ur)|0,Bt=Bt+Math.imul(yr,Fr)|0,St=St+Math.imul(yr,jr)|0,St=St+Math.imul(br,Fr)|0,Vt=Vt+Math.imul(br,jr)|0,Bt=Bt+Math.imul(fr,zr)|0,St=St+Math.imul(fr,Vr)|0,St=St+Math.imul(pr,zr)|0,Vt=Vt+Math.imul(pr,Vr)|0,Bt=Bt+Math.imul(Xt,Hr)|0,St=St+Math.imul(Xt,Gr)|0,St=St+Math.imul(Wt,Hr)|0,Vt=Vt+Math.imul(Wt,Gr)|0,Bt=Bt+Math.imul(Nt,Wr)|0,St=St+Math.imul(Nt,qr)|0,St=St+Math.imul(ur,Wr)|0,Vt=Vt+Math.imul(ur,qr)|0,Bt=Bt+Math.imul(Tr,Qr)|0,St=St+Math.imul(Tr,Xr)|0,St=St+Math.imul(Sr,Qr)|0,Vt=Vt+Math.imul(Sr,Xr)|0;var ju=(Gt+Bt|0)+((St&8191)<<13)|0;Gt=(Vt+(St>>>13)|0)+(ju>>>26)|0,ju&=67108863,Bt=Math.imul(ar,Dr),St=Math.imul(ar,Mr),St=St+Math.imul(ir,Dr)|0,Vt=Math.imul(ir,Mr),Bt=Bt+Math.imul(_t,Lr)|0,St=St+Math.imul(_t,Ur)|0,St=St+Math.imul(Ht,Lr)|0,Vt=Vt+Math.imul(Ht,Ur)|0,Bt=Bt+Math.imul(wr,Fr)|0,St=St+Math.imul(wr,jr)|0,St=St+Math.imul(jt,Fr)|0,Vt=Vt+Math.imul(jt,jr)|0,Bt=Bt+Math.imul(yr,zr)|0,St=St+Math.imul(yr,Vr)|0,St=St+Math.imul(br,zr)|0,Vt=Vt+Math.imul(br,Vr)|0,Bt=Bt+Math.imul(fr,Hr)|0,St=St+Math.imul(fr,Gr)|0,St=St+Math.imul(pr,Hr)|0,Vt=Vt+Math.imul(pr,Gr)|0,Bt=Bt+Math.imul(Xt,Wr)|0,St=St+Math.imul(Xt,qr)|0,St=St+Math.imul(Wt,Wr)|0,Vt=Vt+Math.imul(Wt,qr)|0,Bt=Bt+Math.imul(Nt,Qr)|0,St=St+Math.imul(Nt,Xr)|0,St=St+Math.imul(ur,Qr)|0,Vt=Vt+Math.imul(ur,Xr)|0;var zu=(Gt+Bt|0)+((St&8191)<<13)|0;Gt=(Vt+(St>>>13)|0)+(zu>>>26)|0,zu&=67108863,Bt=Math.imul(ar,Lr),St=Math.imul(ar,Ur),St=St+Math.imul(ir,Lr)|0,Vt=Math.imul(ir,Ur),Bt=Bt+Math.imul(_t,Fr)|0,St=St+Math.imul(_t,jr)|0,St=St+Math.imul(Ht,Fr)|0,Vt=Vt+Math.imul(Ht,jr)|0,Bt=Bt+Math.imul(wr,zr)|0,St=St+Math.imul(wr,Vr)|0,St=St+Math.imul(jt,zr)|0,Vt=Vt+Math.imul(jt,Vr)|0,Bt=Bt+Math.imul(yr,Hr)|0,St=St+Math.imul(yr,Gr)|0,St=St+Math.imul(br,Hr)|0,Vt=Vt+Math.imul(br,Gr)|0,Bt=Bt+Math.imul(fr,Wr)|0,St=St+Math.imul(fr,qr)|0,St=St+Math.imul(pr,Wr)|0,Vt=Vt+Math.imul(pr,qr)|0,Bt=Bt+Math.imul(Xt,Qr)|0,St=St+Math.imul(Xt,Xr)|0,St=St+Math.imul(Wt,Qr)|0,Vt=Vt+Math.imul(Wt,Xr)|0;var Vu=(Gt+Bt|0)+((St&8191)<<13)|0;Gt=(Vt+(St>>>13)|0)+(Vu>>>26)|0,Vu&=67108863,Bt=Math.imul(ar,Fr),St=Math.imul(ar,jr),St=St+Math.imul(ir,Fr)|0,Vt=Math.imul(ir,jr),Bt=Bt+Math.imul(_t,zr)|0,St=St+Math.imul(_t,Vr)|0,St=St+Math.imul(Ht,zr)|0,Vt=Vt+Math.imul(Ht,Vr)|0,Bt=Bt+Math.imul(wr,Hr)|0,St=St+Math.imul(wr,Gr)|0,St=St+Math.imul(jt,Hr)|0,Vt=Vt+Math.imul(jt,Gr)|0,Bt=Bt+Math.imul(yr,Wr)|0,St=St+Math.imul(yr,qr)|0,St=St+Math.imul(br,Wr)|0,Vt=Vt+Math.imul(br,qr)|0,Bt=Bt+Math.imul(fr,Qr)|0,St=St+Math.imul(fr,Xr)|0,St=St+Math.imul(pr,Qr)|0,Vt=Vt+Math.imul(pr,Xr)|0;var Hu=(Gt+Bt|0)+((St&8191)<<13)|0;Gt=(Vt+(St>>>13)|0)+(Hu>>>26)|0,Hu&=67108863,Bt=Math.imul(ar,zr),St=Math.imul(ar,Vr),St=St+Math.imul(ir,zr)|0,Vt=Math.imul(ir,Vr),Bt=Bt+Math.imul(_t,Hr)|0,St=St+Math.imul(_t,Gr)|0,St=St+Math.imul(Ht,Hr)|0,Vt=Vt+Math.imul(Ht,Gr)|0,Bt=Bt+Math.imul(wr,Wr)|0,St=St+Math.imul(wr,qr)|0,St=St+Math.imul(jt,Wr)|0,Vt=Vt+Math.imul(jt,qr)|0,Bt=Bt+Math.imul(yr,Qr)|0,St=St+Math.imul(yr,Xr)|0,St=St+Math.imul(br,Qr)|0,Vt=Vt+Math.imul(br,Xr)|0;var Ku=(Gt+Bt|0)+((St&8191)<<13)|0;Gt=(Vt+(St>>>13)|0)+(Ku>>>26)|0,Ku&=67108863,Bt=Math.imul(ar,Hr),St=Math.imul(ar,Gr),St=St+Math.imul(ir,Hr)|0,Vt=Math.imul(ir,Gr),Bt=Bt+Math.imul(_t,Wr)|0,St=St+Math.imul(_t,qr)|0,St=St+Math.imul(Ht,Wr)|0,Vt=Vt+Math.imul(Ht,qr)|0,Bt=Bt+Math.imul(wr,Qr)|0,St=St+Math.imul(wr,Xr)|0,St=St+Math.imul(jt,Qr)|0,Vt=Vt+Math.imul(jt,Xr)|0;var Gu=(Gt+Bt|0)+((St&8191)<<13)|0;Gt=(Vt+(St>>>13)|0)+(Gu>>>26)|0,Gu&=67108863,Bt=Math.imul(ar,Wr),St=Math.imul(ar,qr),St=St+Math.imul(ir,Wr)|0,Vt=Math.imul(ir,qr),Bt=Bt+Math.imul(_t,Qr)|0,St=St+Math.imul(_t,Xr)|0,St=St+Math.imul(Ht,Qr)|0,Vt=Vt+Math.imul(Ht,Xr)|0;var Wu=(Gt+Bt|0)+((St&8191)<<13)|0;Gt=(Vt+(St>>>13)|0)+(Wu>>>26)|0,Wu&=67108863,Bt=Math.imul(ar,Qr),St=Math.imul(ar,Xr),St=St+Math.imul(ir,Qr)|0,Vt=Math.imul(ir,Xr);var qu=(Gt+Bt|0)+((St&8191)<<13)|0;return Gt=(Vt+(St>>>13)|0)+(qu>>>26)|0,qu&=67108863,Ut[0]=Iu,Ut[1]=Ru,Ut[2]=Bu,Ut[3]=Nu,Ut[4]=Ou,Ut[5]=Pu,Ut[6]=Du,Ut[7]=Mu,Ut[8]=Lu,Ut[9]=Uu,Ut[10]=Fu,Ut[11]=ju,Ut[12]=zu,Ut[13]=Vu,Ut[14]=Hu,Ut[15]=Ku,Ut[16]=Gu,Ut[17]=Wu,Ut[18]=qu,Gt!==0&&(Ut[19]=Gt,Rt.length++),Rt};Math.imul||($t=vt);function At(Ft,mt,Tt){Tt.negative=mt.negative^Ft.negative,Tt.length=Ft.length+mt.length;for(var Rt=0,Ot=0,Lt=0;Lt<Tt.length-1;Lt++){var Ut=Ot;Ot=0;for(var Gt=Rt&67108863,Bt=Math.min(Lt,mt.length-1),St=Math.max(0,Lt-Ft.length+1);St<=Bt;St++){var Vt=Lt-St,dr=Ft.words[Vt]|0,cr=mt.words[St]|0,gr=dr*cr,$r=gr&67108863;Ut=Ut+(gr/67108864|0)|0,$r=$r+Gt|0,Gt=$r&67108863,Ut=Ut+($r>>>26)|0,Ot+=Ut>>>26,Ut&=67108863}Tt.words[Lt]=Gt,Rt=Ut,Ut=Ot}return Rt!==0?Tt.words[Lt]=Rt:Tt.length--,Tt._strip()}function kt(Ft,mt,Tt){return At(Ft,mt,Tt)}h.prototype.mulTo=function(mt,Tt){var Rt,Ot=this.length+mt.length;return this.length===10&&mt.length===10?Rt=$t(this,mt,Tt):Ot<63?Rt=vt(this,mt,Tt):Ot<1024?Rt=At(this,mt,Tt):Rt=kt(this,mt,Tt),Rt},h.prototype.mul=function(mt){var Tt=new h(null);return Tt.words=new Array(this.length+mt.length),this.mulTo(mt,Tt)},h.prototype.mulf=function(mt){var Tt=new h(null);return Tt.words=new Array(this.length+mt.length),kt(this,mt,Tt)},h.prototype.imul=function(mt){return this.clone().mulTo(mt,this)},h.prototype.imuln=function(mt){var Tt=mt<0;Tt&&(mt=-mt),c(typeof mt=="number"),c(mt<67108864);for(var Rt=0,Ot=0;Ot<this.length;Ot++){var Lt=(this.words[Ot]|0)*mt,Ut=(Lt&67108863)+(Rt&67108863);Rt>>=26,Rt+=Lt/67108864|0,Rt+=Ut>>>26,this.words[Ot]=Ut&67108863}return Rt!==0&&(this.words[Ot]=Rt,this.length++),Tt?this.ineg():this},h.prototype.muln=function(mt){return this.clone().imuln(mt)},h.prototype.sqr=function(){return this.mul(this)},h.prototype.isqr=function(){return this.imul(this.clone())},h.prototype.pow=function(mt){var Tt=Et(mt);if(Tt.length===0)return new h(1);for(var Rt=this,Ot=0;Ot<Tt.length&&Tt[Ot]===0;Ot++,Rt=Rt.sqr());if(++Ot<Tt.length)for(var Lt=Rt.sqr();Ot<Tt.length;Ot++,Lt=Lt.sqr())Tt[Ot]!==0&&(Rt=Rt.mul(Lt));return Rt},h.prototype.iushln=function(mt){c(typeof mt=="number"&&mt>=0);var Tt=mt%26,Rt=(mt-Tt)/26,Ot=67108863>>>26-Tt<<26-Tt,Lt;if(Tt!==0){var Ut=0;for(Lt=0;Lt<this.length;Lt++){var Gt=this.words[Lt]&Ot,Bt=(this.words[Lt]|0)-Gt<<Tt;this.words[Lt]=Bt|Ut,Ut=Gt>>>26-Tt}Ut&&(this.words[Lt]=Ut,this.length++)}if(Rt!==0){for(Lt=this.length-1;Lt>=0;Lt--)this.words[Lt+Rt]=this.words[Lt];for(Lt=0;Lt<Rt;Lt++)this.words[Lt]=0;this.length+=Rt}return this._strip()},h.prototype.ishln=function(mt){return c(this.negative===0),this.iushln(mt)},h.prototype.iushrn=function(mt,Tt,Rt){c(typeof mt=="number"&&mt>=0);var Ot;Tt?Ot=(Tt-Tt%26)/26:Ot=0;var Lt=mt%26,Ut=Math.min((mt-Lt)/26,this.length),Gt=67108863^67108863>>>Lt<<Lt,Bt=Rt;if(Ot-=Ut,Ot=Math.max(0,Ot),Bt){for(var St=0;St<Ut;St++)Bt.words[St]=this.words[St];Bt.length=Ut}if(Ut!==0)if(this.length>Ut)for(this.length-=Ut,St=0;St<this.length;St++)this.words[St]=this.words[St+Ut];else this.words[0]=0,this.length=1;var Vt=0;for(St=this.length-1;St>=0&&(Vt!==0||St>=Ot);St--){var dr=this.words[St]|0;this.words[St]=Vt<<26-Lt|dr>>>Lt,Vt=dr&Gt}return Bt&&Vt!==0&&(Bt.words[Bt.length++]=Vt),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},h.prototype.ishrn=function(mt,Tt,Rt){return c(this.negative===0),this.iushrn(mt,Tt,Rt)},h.prototype.shln=function(mt){return this.clone().ishln(mt)},h.prototype.ushln=function(mt){return this.clone().iushln(mt)},h.prototype.shrn=function(mt){return this.clone().ishrn(mt)},h.prototype.ushrn=function(mt){return this.clone().iushrn(mt)},h.prototype.testn=function(mt){c(typeof mt=="number"&&mt>=0);var Tt=mt%26,Rt=(mt-Tt)/26,Ot=1<<Tt;if(this.length<=Rt)return!1;var Lt=this.words[Rt];return!!(Lt&Ot)},h.prototype.imaskn=function(mt){c(typeof mt=="number"&&mt>=0);var Tt=mt%26,Rt=(mt-Tt)/26;if(c(this.negative===0,"imaskn works only with positive numbers"),this.length<=Rt)return this;if(Tt!==0&&Rt++,this.length=Math.min(Rt,this.length),Tt!==0){var Ot=67108863^67108863>>>Tt<<Tt;this.words[this.length-1]&=Ot}return this._strip()},h.prototype.maskn=function(mt){return this.clone().imaskn(mt)},h.prototype.iaddn=function(mt){return c(typeof mt=="number"),c(mt<67108864),mt<0?this.isubn(-mt):this.negative!==0?this.length===1&&(this.words[0]|0)<=mt?(this.words[0]=mt-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(mt),this.negative=1,this):this._iaddn(mt)},h.prototype._iaddn=function(mt){this.words[0]+=mt;for(var Tt=0;Tt<this.length&&this.words[Tt]>=67108864;Tt++)this.words[Tt]-=67108864,Tt===this.length-1?this.words[Tt+1]=1:this.words[Tt+1]++;return this.length=Math.max(this.length,Tt+1),this},h.prototype.isubn=function(mt){if(c(typeof mt=="number"),c(mt<67108864),mt<0)return this.iaddn(-mt);if(this.negative!==0)return this.negative=0,this.iaddn(mt),this.negative=1,this;if(this.words[0]-=mt,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Tt=0;Tt<this.length&&this.words[Tt]<0;Tt++)this.words[Tt]+=67108864,this.words[Tt+1]-=1;return this._strip()},h.prototype.addn=function(mt){return this.clone().iaddn(mt)},h.prototype.subn=function(mt){return this.clone().isubn(mt)},h.prototype.iabs=function(){return this.negative=0,this},h.prototype.abs=function(){return this.clone().iabs()},h.prototype._ishlnsubmul=function(mt,Tt,Rt){var Ot=mt.length+Rt,Lt;this._expand(Ot);var Ut,Gt=0;for(Lt=0;Lt<mt.length;Lt++){Ut=(this.words[Lt+Rt]|0)+Gt;var Bt=(mt.words[Lt]|0)*Tt;Ut-=Bt&67108863,Gt=(Ut>>26)-(Bt/67108864|0),this.words[Lt+Rt]=Ut&67108863}for(;Lt<this.length-Rt;Lt++)Ut=(this.words[Lt+Rt]|0)+Gt,Gt=Ut>>26,this.words[Lt+Rt]=Ut&67108863;if(Gt===0)return this._strip();for(c(Gt===-1),Gt=0,Lt=0;Lt<this.length;Lt++)Ut=-(this.words[Lt]|0)+Gt,Gt=Ut>>26,this.words[Lt]=Ut&67108863;return this.negative=1,this._strip()},h.prototype._wordDiv=function(mt,Tt){var Rt=this.length-mt.length,Ot=this.clone(),Lt=mt,Ut=Lt.words[Lt.length-1]|0,Gt=this._countBits(Ut);Rt=26-Gt,Rt!==0&&(Lt=Lt.ushln(Rt),Ot.iushln(Rt),Ut=Lt.words[Lt.length-1]|0);var Bt=Ot.length-Lt.length,St;if(Tt!=="mod"){St=new h(null),St.length=Bt+1,St.words=new Array(St.length);for(var Vt=0;Vt<St.length;Vt++)St.words[Vt]=0}var dr=Ot.clone()._ishlnsubmul(Lt,1,Bt);dr.negative===0&&(Ot=dr,St&&(St.words[Bt]=1));for(var cr=Bt-1;cr>=0;cr--){var gr=(Ot.words[Lt.length+cr]|0)*67108864+(Ot.words[Lt.length+cr-1]|0);for(gr=Math.min(gr/Ut|0,67108863),Ot._ishlnsubmul(Lt,gr,cr);Ot.negative!==0;)gr--,Ot.negative=0,Ot._ishlnsubmul(Lt,1,cr),Ot.isZero()||(Ot.negative^=1);St&&(St.words[cr]=gr)}return St&&St._strip(),Ot._strip(),Tt!=="div"&&Rt!==0&&Ot.iushrn(Rt),{div:St||null,mod:Ot}},h.prototype.divmod=function(mt,Tt,Rt){if(c(!mt.isZero()),this.isZero())return{div:new h(0),mod:new h(0)};var Ot,Lt,Ut;return this.negative!==0&&mt.negative===0?(Ut=this.neg().divmod(mt,Tt),Tt!=="mod"&&(Ot=Ut.div.neg()),Tt!=="div"&&(Lt=Ut.mod.neg(),Rt&&Lt.negative!==0&&Lt.iadd(mt)),{div:Ot,mod:Lt}):this.negative===0&&mt.negative!==0?(Ut=this.divmod(mt.neg(),Tt),Tt!=="mod"&&(Ot=Ut.div.neg()),{div:Ot,mod:Ut.mod}):this.negative&mt.negative?(Ut=this.neg().divmod(mt.neg(),Tt),Tt!=="div"&&(Lt=Ut.mod.neg(),Rt&&Lt.negative!==0&&Lt.isub(mt)),{div:Ut.div,mod:Lt}):mt.length>this.length||this.cmp(mt)<0?{div:new h(0),mod:this}:mt.length===1?Tt==="div"?{div:this.divn(mt.words[0]),mod:null}:Tt==="mod"?{div:null,mod:new h(this.modrn(mt.words[0]))}:{div:this.divn(mt.words[0]),mod:new h(this.modrn(mt.words[0]))}:this._wordDiv(mt,Tt)},h.prototype.div=function(mt){return this.divmod(mt,"div",!1).div},h.prototype.mod=function(mt){return this.divmod(mt,"mod",!1).mod},h.prototype.umod=function(mt){return this.divmod(mt,"mod",!0).mod},h.prototype.divRound=function(mt){var Tt=this.divmod(mt);if(Tt.mod.isZero())return Tt.div;var Rt=Tt.div.negative!==0?Tt.mod.isub(mt):Tt.mod,Ot=mt.ushrn(1),Lt=mt.andln(1),Ut=Rt.cmp(Ot);return Ut<0||Lt===1&&Ut===0?Tt.div:Tt.div.negative!==0?Tt.div.isubn(1):Tt.div.iaddn(1)},h.prototype.modrn=function(mt){var Tt=mt<0;Tt&&(mt=-mt),c(mt<=67108863);for(var Rt=(1<<26)%mt,Ot=0,Lt=this.length-1;Lt>=0;Lt--)Ot=(Rt*Ot+(this.words[Lt]|0))%mt;return Tt?-Ot:Ot},h.prototype.modn=function(mt){return this.modrn(mt)},h.prototype.idivn=function(mt){var Tt=mt<0;Tt&&(mt=-mt),c(mt<=67108863);for(var Rt=0,Ot=this.length-1;Ot>=0;Ot--){var Lt=(this.words[Ot]|0)+Rt*67108864;this.words[Ot]=Lt/mt|0,Rt=Lt%mt}return this._strip(),Tt?this.ineg():this},h.prototype.divn=function(mt){return this.clone().idivn(mt)},h.prototype.egcd=function(mt){c(mt.negative===0),c(!mt.isZero());var Tt=this,Rt=mt.clone();Tt.negative!==0?Tt=Tt.umod(mt):Tt=Tt.clone();for(var Ot=new h(1),Lt=new h(0),Ut=new h(0),Gt=new h(1),Bt=0;Tt.isEven()&&Rt.isEven();)Tt.iushrn(1),Rt.iushrn(1),++Bt;for(var St=Rt.clone(),Vt=Tt.clone();!Tt.isZero();){for(var dr=0,cr=1;!(Tt.words[0]&cr)&&dr<26;++dr,cr<<=1);if(dr>0)for(Tt.iushrn(dr);dr-- >0;)(Ot.isOdd()||Lt.isOdd())&&(Ot.iadd(St),Lt.isub(Vt)),Ot.iushrn(1),Lt.iushrn(1);for(var gr=0,$r=1;!(Rt.words[0]&$r)&&gr<26;++gr,$r<<=1);if(gr>0)for(Rt.iushrn(gr);gr-- >0;)(Ut.isOdd()||Gt.isOdd())&&(Ut.iadd(St),Gt.isub(Vt)),Ut.iushrn(1),Gt.iushrn(1);Tt.cmp(Rt)>=0?(Tt.isub(Rt),Ot.isub(Ut),Lt.isub(Gt)):(Rt.isub(Tt),Ut.isub(Ot),Gt.isub(Lt))}return{a:Ut,b:Gt,gcd:Rt.iushln(Bt)}},h.prototype._invmp=function(mt){c(mt.negative===0),c(!mt.isZero());var Tt=this,Rt=mt.clone();Tt.negative!==0?Tt=Tt.umod(mt):Tt=Tt.clone();for(var Ot=new h(1),Lt=new h(0),Ut=Rt.clone();Tt.cmpn(1)>0&&Rt.cmpn(1)>0;){for(var Gt=0,Bt=1;!(Tt.words[0]&Bt)&&Gt<26;++Gt,Bt<<=1);if(Gt>0)for(Tt.iushrn(Gt);Gt-- >0;)Ot.isOdd()&&Ot.iadd(Ut),Ot.iushrn(1);for(var St=0,Vt=1;!(Rt.words[0]&Vt)&&St<26;++St,Vt<<=1);if(St>0)for(Rt.iushrn(St);St-- >0;)Lt.isOdd()&&Lt.iadd(Ut),Lt.iushrn(1);Tt.cmp(Rt)>=0?(Tt.isub(Rt),Ot.isub(Lt)):(Rt.isub(Tt),Lt.isub(Ot))}var dr;return Tt.cmpn(1)===0?dr=Ot:dr=Lt,dr.cmpn(0)<0&&dr.iadd(mt),dr},h.prototype.gcd=function(mt){if(this.isZero())return mt.abs();if(mt.isZero())return this.abs();var Tt=this.clone(),Rt=mt.clone();Tt.negative=0,Rt.negative=0;for(var Ot=0;Tt.isEven()&&Rt.isEven();Ot++)Tt.iushrn(1),Rt.iushrn(1);do{for(;Tt.isEven();)Tt.iushrn(1);for(;Rt.isEven();)Rt.iushrn(1);var Lt=Tt.cmp(Rt);if(Lt<0){var Ut=Tt;Tt=Rt,Rt=Ut}else if(Lt===0||Rt.cmpn(1)===0)break;Tt.isub(Rt)}while(!0);return Rt.iushln(Ot)},h.prototype.invm=function(mt){return this.egcd(mt).a.umod(mt)},h.prototype.isEven=function(){return(this.words[0]&1)===0},h.prototype.isOdd=function(){return(this.words[0]&1)===1},h.prototype.andln=function(mt){return this.words[0]&mt},h.prototype.bincn=function(mt){c(typeof mt=="number");var Tt=mt%26,Rt=(mt-Tt)/26,Ot=1<<Tt;if(this.length<=Rt)return this._expand(Rt+1),this.words[Rt]|=Ot,this;for(var Lt=Ot,Ut=Rt;Lt!==0&&Ut<this.length;Ut++){var Gt=this.words[Ut]|0;Gt+=Lt,Lt=Gt>>>26,Gt&=67108863,this.words[Ut]=Gt}return Lt!==0&&(this.words[Ut]=Lt,this.length++),this},h.prototype.isZero=function(){return this.length===1&&this.words[0]===0},h.prototype.cmpn=function(mt){var Tt=mt<0;if(this.negative!==0&&!Tt)return-1;if(this.negative===0&&Tt)return 1;this._strip();var Rt;if(this.length>1)Rt=1;else{Tt&&(mt=-mt),c(mt<=67108863,"Number is too big");var Ot=this.words[0]|0;Rt=Ot===mt?0:Ot<mt?-1:1}return this.negative!==0?-Rt|0:Rt},h.prototype.cmp=function(mt){if(this.negative!==0&&mt.negative===0)return-1;if(this.negative===0&&mt.negative!==0)return 1;var Tt=this.ucmp(mt);return this.negative!==0?-Tt|0:Tt},h.prototype.ucmp=function(mt){if(this.length>mt.length)return 1;if(this.length<mt.length)return-1;for(var Tt=0,Rt=this.length-1;Rt>=0;Rt--){var Ot=this.words[Rt]|0,Lt=mt.words[Rt]|0;if(Ot!==Lt){Ot<Lt?Tt=-1:Ot>Lt&&(Tt=1);break}}return Tt},h.prototype.gtn=function(mt){return this.cmpn(mt)===1},h.prototype.gt=function(mt){return this.cmp(mt)===1},h.prototype.gten=function(mt){return this.cmpn(mt)>=0},h.prototype.gte=function(mt){return this.cmp(mt)>=0},h.prototype.ltn=function(mt){return this.cmpn(mt)===-1},h.prototype.lt=function(mt){return this.cmp(mt)===-1},h.prototype.lten=function(mt){return this.cmpn(mt)<=0},h.prototype.lte=function(mt){return this.cmp(mt)<=0},h.prototype.eqn=function(mt){return this.cmpn(mt)===0},h.prototype.eq=function(mt){return this.cmp(mt)===0},h.red=function(mt){return new er(mt)},h.prototype.toRed=function(mt){return c(!this.red,"Already a number in reduction context"),c(this.negative===0,"red works only with positives"),mt.convertTo(this)._forceRed(mt)},h.prototype.fromRed=function(){return c(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},h.prototype._forceRed=function(mt){return this.red=mt,this},h.prototype.forceRed=function(mt){return c(!this.red,"Already a number in reduction context"),this._forceRed(mt)},h.prototype.redAdd=function(mt){return c(this.red,"redAdd works only with red numbers"),this.red.add(this,mt)},h.prototype.redIAdd=function(mt){return c(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,mt)},h.prototype.redSub=function(mt){return c(this.red,"redSub works only with red numbers"),this.red.sub(this,mt)},h.prototype.redISub=function(mt){return c(this.red,"redISub works only with red numbers"),this.red.isub(this,mt)},h.prototype.redShl=function(mt){return c(this.red,"redShl works only with red numbers"),this.red.shl(this,mt)},h.prototype.redMul=function(mt){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,mt),this.red.mul(this,mt)},h.prototype.redIMul=function(mt){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,mt),this.red.imul(this,mt)},h.prototype.redSqr=function(){return c(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},h.prototype.redISqr=function(){return c(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},h.prototype.redSqrt=function(){return c(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},h.prototype.redInvm=function(){return c(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},h.prototype.redNeg=function(){return c(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},h.prototype.redPow=function(mt){return c(this.red&&!mt.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,mt)};var It={k256:null,p224:null,p192:null,p25519:null};function Dt(Ft,mt){this.name=Ft,this.p=new h(mt,16),this.n=this.p.bitLength(),this.k=new h(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Dt.prototype._tmp=function(){var mt=new h(null);return mt.words=new Array(Math.ceil(this.n/13)),mt},Dt.prototype.ireduce=function(mt){var Tt=mt,Rt;do this.split(Tt,this.tmp),Tt=this.imulK(Tt),Tt=Tt.iadd(this.tmp),Rt=Tt.bitLength();while(Rt>this.n);var Ot=Rt<this.n?-1:Tt.ucmp(this.p);return Ot===0?(Tt.words[0]=0,Tt.length=1):Ot>0?Tt.isub(this.p):Tt.strip!==void 0?Tt.strip():Tt._strip(),Tt},Dt.prototype.split=function(mt,Tt){mt.iushrn(this.n,0,Tt)},Dt.prototype.imulK=function(mt){return mt.imul(this.k)};function Mt(){Dt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}d(Mt,Dt),Mt.prototype.split=function(mt,Tt){for(var Rt=4194303,Ot=Math.min(mt.length,9),Lt=0;Lt<Ot;Lt++)Tt.words[Lt]=mt.words[Lt];if(Tt.length=Ot,mt.length<=9){mt.words[0]=0,mt.length=1;return}var Ut=mt.words[9];for(Tt.words[Tt.length++]=Ut&Rt,Lt=10;Lt<mt.length;Lt++){var Gt=mt.words[Lt]|0;mt.words[Lt-10]=(Gt&Rt)<<4|Ut>>>22,Ut=Gt}Ut>>>=22,mt.words[Lt-10]=Ut,Ut===0&&mt.length>10?mt.length-=10:mt.length-=9},Mt.prototype.imulK=function(mt){mt.words[mt.length]=0,mt.words[mt.length+1]=0,mt.length+=2;for(var Tt=0,Rt=0;Rt<mt.length;Rt++){var Ot=mt.words[Rt]|0;Tt+=Ot*977,mt.words[Rt]=Tt&67108863,Tt=Ot*64+(Tt/67108864|0)}return mt.words[mt.length-1]===0&&(mt.length--,mt.words[mt.length-1]===0&&mt.length--),mt};function zt(){Dt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}d(zt,Dt);function Kt(){Dt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}d(Kt,Dt);function Yt(){Dt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}d(Yt,Dt),Yt.prototype.imulK=function(mt){for(var Tt=0,Rt=0;Rt<mt.length;Rt++){var Ot=(mt.words[Rt]|0)*19+Tt,Lt=Ot&67108863;Ot>>>=26,mt.words[Rt]=Lt,Tt=Ot}return Tt!==0&&(mt.words[mt.length++]=Tt),mt},h._prime=function(mt){if(It[mt])return It[mt];var Tt;if(mt==="k256")Tt=new Mt;else if(mt==="p224")Tt=new zt;else if(mt==="p192")Tt=new Kt;else if(mt==="p25519")Tt=new Yt;else throw new Error("Unknown prime "+mt);return It[mt]=Tt,Tt};function er(Ft){if(typeof Ft=="string"){var mt=h._prime(Ft);this.m=mt.p,this.prime=mt}else c(Ft.gtn(1),"modulus must be greater than 1"),this.m=Ft,this.prime=null}er.prototype._verify1=function(mt){c(mt.negative===0,"red works only with positives"),c(mt.red,"red works only with red numbers")},er.prototype._verify2=function(mt,Tt){c((mt.negative|Tt.negative)===0,"red works only with positives"),c(mt.red&&mt.red===Tt.red,"red works only with red numbers")},er.prototype.imod=function(mt){return this.prime?this.prime.ireduce(mt)._forceRed(this):(ht(mt,mt.umod(this.m)._forceRed(this)),mt)},er.prototype.neg=function(mt){return mt.isZero()?mt.clone():this.m.sub(mt)._forceRed(this)},er.prototype.add=function(mt,Tt){this._verify2(mt,Tt);var Rt=mt.add(Tt);return Rt.cmp(this.m)>=0&&Rt.isub(this.m),Rt._forceRed(this)},er.prototype.iadd=function(mt,Tt){this._verify2(mt,Tt);var Rt=mt.iadd(Tt);return Rt.cmp(this.m)>=0&&Rt.isub(this.m),Rt},er.prototype.sub=function(mt,Tt){this._verify2(mt,Tt);var Rt=mt.sub(Tt);return Rt.cmpn(0)<0&&Rt.iadd(this.m),Rt._forceRed(this)},er.prototype.isub=function(mt,Tt){this._verify2(mt,Tt);var Rt=mt.isub(Tt);return Rt.cmpn(0)<0&&Rt.iadd(this.m),Rt},er.prototype.shl=function(mt,Tt){return this._verify1(mt),this.imod(mt.ushln(Tt))},er.prototype.imul=function(mt,Tt){return this._verify2(mt,Tt),this.imod(mt.imul(Tt))},er.prototype.mul=function(mt,Tt){return this._verify2(mt,Tt),this.imod(mt.mul(Tt))},er.prototype.isqr=function(mt){return this.imul(mt,mt.clone())},er.prototype.sqr=function(mt){return this.mul(mt,mt)},er.prototype.sqrt=function(mt){if(mt.isZero())return mt.clone();var Tt=this.m.andln(3);if(c(Tt%2===1),Tt===3){var Rt=this.m.add(new h(1)).iushrn(2);return this.pow(mt,Rt)}for(var Ot=this.m.subn(1),Lt=0;!Ot.isZero()&&Ot.andln(1)===0;)Lt++,Ot.iushrn(1);c(!Ot.isZero());var Ut=new h(1).toRed(this),Gt=Ut.redNeg(),Bt=this.m.subn(1).iushrn(1),St=this.m.bitLength();for(St=new h(2*St*St).toRed(this);this.pow(St,Bt).cmp(Gt)!==0;)St.redIAdd(Gt);for(var Vt=this.pow(St,Ot),dr=this.pow(mt,Ot.addn(1).iushrn(1)),cr=this.pow(mt,Ot),gr=Lt;cr.cmp(Ut)!==0;){for(var $r=cr,xr=0;$r.cmp(Ut)!==0;xr++)$r=$r.redSqr();c(xr<gr);var vr=this.pow(Vt,new h(1).iushln(gr-xr-1));dr=dr.redMul(vr),Vt=vr.redSqr(),cr=cr.redMul(Vt),gr=xr}return dr},er.prototype.invm=function(mt){var Tt=mt._invmp(this.m);return Tt.negative!==0?(Tt.negative=0,this.imod(Tt).redNeg()):this.imod(Tt)},er.prototype.pow=function(mt,Tt){if(Tt.isZero())return new h(1).toRed(this);if(Tt.cmpn(1)===0)return mt.clone();var Rt=4,Ot=new Array(1<<Rt);Ot[0]=new h(1).toRed(this),Ot[1]=mt;for(var Lt=2;Lt<Ot.length;Lt++)Ot[Lt]=this.mul(Ot[Lt-1],mt);var Ut=Ot[0],Gt=0,Bt=0,St=Tt.bitLength()%26;for(St===0&&(St=26),Lt=Tt.length-1;Lt>=0;Lt--){for(var Vt=Tt.words[Lt],dr=St-1;dr>=0;dr--){var cr=Vt>>dr&1;if(Ut!==Ot[0]&&(Ut=this.sqr(Ut)),cr===0&&Gt===0){Bt=0;continue}Gt<<=1,Gt|=cr,Bt++,!(Bt!==Rt&&(Lt!==0||dr!==0))&&(Ut=this.mul(Ut,Ot[Gt]),Bt=0,Gt=0)}St=26}return Ut},er.prototype.convertTo=function(mt){var Tt=mt.umod(this.m);return Tt===mt?Tt.clone():Tt},er.prototype.convertFrom=function(mt){var Tt=mt.clone();return Tt.red=null,Tt},h.mont=function(mt){return new qt(mt)};function qt(Ft){er.call(this,Ft),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new h(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}d(qt,er),qt.prototype.convertTo=function(mt){return this.imod(mt.ushln(this.shift))},qt.prototype.convertFrom=function(mt){var Tt=this.imod(mt.mul(this.rinv));return Tt.red=null,Tt},qt.prototype.imul=function(mt,Tt){if(mt.isZero()||Tt.isZero())return mt.words[0]=0,mt.length=1,mt;var Rt=mt.imul(Tt),Ot=Rt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Lt=Rt.isub(Ot).iushrn(this.shift),Ut=Lt;return Lt.cmp(this.m)>=0?Ut=Lt.isub(this.m):Lt.cmpn(0)<0&&(Ut=Lt.iadd(this.m)),Ut._forceRed(this)},qt.prototype.mul=function(mt,Tt){if(mt.isZero()||Tt.isZero())return new h(0)._forceRed(this);var Rt=mt.mul(Tt),Ot=Rt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Lt=Rt.isub(Ot).iushrn(this.shift),Ut=Lt;return Lt.cmp(this.m)>=0?Ut=Lt.isub(this.m):Lt.cmpn(0)<0&&(Ut=Lt.iadd(this.m)),Ut._forceRed(this)},qt.prototype.invm=function(mt){var Tt=this.imod(mt._invmp(this.m).mul(this.r2));return Tt._forceRed(this)}})(a,commonjsGlobal)})(bn);var bnExports=bn.exports;const BN$1=getDefaultExportFromCjs(bnExports),version$5="6.11.1";function checkType(a,e,o){const c=e.split("|").map(h=>h.trim());for(let h=0;h<c.length;h++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof a===e)return}const d=new Error(`invalid value for type ${e}`);throw d.code="INVALID_ARGUMENT",d.argument=`value.${o}`,d.value=a,d}async function resolveProperties(a){const e=Object.keys(a);return(await Promise.all(e.map(c=>Promise.resolve(a[c])))).reduce((c,d,h)=>(c[e[h]]=d,c),{})}function defineProperties(a,e,o){for(let c in e){let d=e[c];const h=o?o[c]:null;h&&checkType(d,h,c),Object.defineProperty(a,c,{enumerable:!0,value:d,writable:!1})}}function stringify$3(a){if(a==null)return"null";if(Array.isArray(a))return"[ "+a.map(stringify$3).join(", ")+" ]";if(a instanceof Uint8Array){const e="0123456789abcdef";let o="0x";for(let c=0;c<a.length;c++)o+=e[a[c]>>4],o+=e[a[c]&15];return o}if(typeof a=="object"&&typeof a.toJSON=="function")return stringify$3(a.toJSON());switch(typeof a){case"boolean":case"symbol":return a.toString();case"bigint":return BigInt(a).toString();case"number":return a.toString();case"string":return JSON.stringify(a);case"object":{const e=Object.keys(a);return e.sort(),"{ "+e.map(o=>`${stringify$3(o)}: ${stringify$3(a[o])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function isError(a,e){return a&&a.code===e}function isCallException(a){return isError(a,"CALL_EXCEPTION")}function makeError(a,e,o){let c=a;{const h=[];if(o){if("message"in o||"code"in o||"name"in o)throw new Error(`value will overwrite populated values: ${stringify$3(o)}`);for(const et in o){if(et==="shortMessage")continue;const tt=o[et];h.push(et+"="+stringify$3(tt))}}h.push(`code=${e}`),h.push(`version=${version$5}`),h.length&&(a+=" ("+h.join(", ")+")")}let d;switch(e){case"INVALID_ARGUMENT":d=new TypeError(a);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":d=new RangeError(a);break;default:d=new Error(a)}return defineProperties(d,{code:e}),o&&Object.assign(d,o),d.shortMessage==null&&defineProperties(d,{shortMessage:c}),d}function assert(a,e,o,c){if(!a)throw makeError(e,o,c)}function assertArgument(a,e,o,c){assert(a,e,"INVALID_ARGUMENT",{argument:o,value:c})}function assertArgumentCount(a,e,o){o==null&&(o=""),o&&(o=": "+o),assert(a>=e,"missing arguemnt"+o,"MISSING_ARGUMENT",{count:a,expectedCount:e}),assert(a<=e,"too many arguments"+o,"UNEXPECTED_ARGUMENT",{count:a,expectedCount:e})}const _normalizeForms=["NFD","NFC","NFKD","NFKC"].reduce((a,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");a.push(e)}catch{}return a},[]);function assertNormalize(a){assert(_normalizeForms.indexOf(a)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:a}})}function assertPrivate(a,e,o){if(o==null&&(o=""),a!==e){let c=o,d="new";o&&(c+=".",d+=" "+o),assert(!1,`private constructor; use ${c}from* methods`,"UNSUPPORTED_OPERATION",{operation:d})}}function _getBytes(a,e,o){if(a instanceof Uint8Array)return o?new Uint8Array(a):a;if(typeof a=="string"&&a.match(/^0x([0-9a-f][0-9a-f])*$/i)){const c=new Uint8Array((a.length-2)/2);let d=2;for(let h=0;h<c.length;h++)c[h]=parseInt(a.substring(d,d+2),16),d+=2;return c}assertArgument(!1,"invalid BytesLike value",e||"value",a)}function getBytes(a,e){return _getBytes(a,e,!1)}function getBytesCopy(a,e){return _getBytes(a,e,!0)}function isHexString$1(a,e){return!(typeof a!="string"||!a.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&a.length!==2+2*e||e===!0&&a.length%2!==0)}function isBytesLike(a){return isHexString$1(a,!0)||a instanceof Uint8Array}const HexCharacters$1="0123456789abcdef";function hexlify$1(a){const e=getBytes(a);let o="0x";for(let c=0;c<e.length;c++){const d=e[c];o+=HexCharacters$1[(d&240)>>4]+HexCharacters$1[d&15]}return o}function concat$3(a){return"0x"+a.map(e=>hexlify$1(e).substring(2)).join("")}function dataLength(a){return isHexString$1(a,!0)?(a.length-2)/2:getBytes(a).length}function dataSlice(a,e,o){const c=getBytes(a);return o!=null&&o>c.length&&assert(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:c,length:c.length,offset:o}),hexlify$1(c.slice(e??0,o??c.length))}function zeroPad(a,e,o){const c=getBytes(a);assert(e>=c.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(c),length:e,offset:e+1});const d=new Uint8Array(e);return d.fill(0),o?d.set(c,e-c.length):d.set(c,0),hexlify$1(d)}function zeroPadValue(a,e){return zeroPad(a,e,!0)}function zeroPadBytes(a,e){return zeroPad(a,e,!1)}const BN_0$a=BigInt(0),BN_1$5=BigInt(1),maxValue=9007199254740991;function fromTwos(a,e){const o=getUint(a,"value"),c=BigInt(getNumber(e,"width"));if(assert(o>>c===BN_0$a,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:a}),o>>c-BN_1$5){const d=(BN_1$5<<c)-BN_1$5;return-((~o&d)+BN_1$5)}return o}function toTwos(a,e){let o=getBigInt(a,"value");const c=BigInt(getNumber(e,"width")),d=BN_1$5<<c-BN_1$5;if(o<BN_0$a){o=-o,assert(o<=d,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:a});const h=(BN_1$5<<c)-BN_1$5;return(~o&h)+BN_1$5}else assert(o<d,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:a});return o}function mask(a,e){const o=getUint(a,"value"),c=BigInt(getNumber(e,"bits"));return o&(BN_1$5<<c)-BN_1$5}function getBigInt(a,e){switch(typeof a){case"bigint":return a;case"number":return assertArgument(Number.isInteger(a),"underflow",e||"value",a),assertArgument(a>=-maxValue&&a<=maxValue,"overflow",e||"value",a),BigInt(a);case"string":try{if(a==="")throw new Error("empty string");return a[0]==="-"&&a[1]!=="-"?-BigInt(a.substring(1)):BigInt(a)}catch(o){assertArgument(!1,`invalid BigNumberish string: ${o.message}`,e||"value",a)}}assertArgument(!1,"invalid BigNumberish value",e||"value",a)}function getUint(a,e){const o=getBigInt(a,e);return assert(o>=BN_0$a,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:a}),o}const Nibbles$1="0123456789abcdef";function toBigInt(a){if(a instanceof Uint8Array){let e="0x0";for(const o of a)e+=Nibbles$1[o>>4],e+=Nibbles$1[o&15];return BigInt(e)}return getBigInt(a)}function getNumber(a,e){switch(typeof a){case"bigint":return assertArgument(a>=-maxValue&&a<=maxValue,"overflow",e||"value",a),Number(a);case"number":return assertArgument(Number.isInteger(a),"underflow",e||"value",a),assertArgument(a>=-maxValue&&a<=maxValue,"overflow",e||"value",a),a;case"string":try{if(a==="")throw new Error("empty string");return getNumber(BigInt(a),e)}catch(o){assertArgument(!1,`invalid numeric string: ${o.message}`,e||"value",a)}}assertArgument(!1,"invalid numeric value",e||"value",a)}function toNumber$1(a){return getNumber(toBigInt(a))}function toBeHex(a,e){let c=getUint(a,"value").toString(16);if(e==null)c.length%2&&(c="0"+c);else{const d=getNumber(e,"width");for(assert(d*2>=c.length,`value exceeds width (${d} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:a});c.length<d*2;)c="0"+c}return"0x"+c}function toBeArray(a){const e=getUint(a,"value");if(e===BN_0$a)return new Uint8Array([]);let o=e.toString(16);o.length%2&&(o="0"+o);const c=new Uint8Array(o.length/2);for(let d=0;d<c.length;d++){const h=d*2;c[d]=parseInt(o.substring(h,h+2),16)}return c}function toQuantity(a){let e=hexlify$1(isBytesLike(a)?a:toBeArray(a)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const Alphabet="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let Lookup=null;function getAlpha(a){if(Lookup==null){Lookup={};for(let o=0;o<Alphabet.length;o++)Lookup[Alphabet[o]]=BigInt(o)}const e=Lookup[a];return assertArgument(e!=null,"invalid base58 value","letter",a),e}const BN_0$9=BigInt(0),BN_58=BigInt(58);function encodeBase58(a){const e=getBytes(a);let o=toBigInt(e),c="";for(;o;)c=Alphabet[Number(o%BN_58)]+c,o/=BN_58;for(let d=0;d<e.length&&!e[d];d++)c=Alphabet[0]+c;return c}function decodeBase58(a){let e=BN_0$9;for(let o=0;o<a.length;o++)e*=BN_58,e+=getAlpha(a[o]);return e}function decodeBase64(a){a=atob(a);const e=new Uint8Array(a.length);for(let o=0;o<a.length;o++)e[o]=a.charCodeAt(o);return getBytes(e)}function encodeBase64(a){const e=getBytes(a);let o="";for(let c=0;c<e.length;c++)o+=String.fromCharCode(e[c]);return btoa(o)}var io;class EventPayload{constructor(e,o,c){Jt(this,"filter");Jt(this,"emitter");tr(this,io,void 0);Qt(this,io,o),defineProperties(this,{emitter:e,filter:c})}async removeListener(){Pt(this,io)!=null&&await this.emitter.off(this.filter,Pt(this,io))}}io=new WeakMap;function errorFunc(a,e,o,c,d){assertArgument(!1,`invalid codepoint at offset ${e}; ${a}`,"bytes",o)}function ignoreFunc(a,e,o,c,d){if(a==="BAD_PREFIX"||a==="UNEXPECTED_CONTINUE"){let h=0;for(let et=e+1;et<o.length&&o[et]>>6===2;et++)h++;return h}return a==="OVERRUN"?o.length-e-1:0}function replaceFunc(a,e,o,c,d){return a==="OVERLONG"?(assertArgument(typeof d=="number","invalid bad code point for replacement","badCodepoint",d),c.push(d),0):(c.push(65533),ignoreFunc(a,e,o))}const Utf8ErrorFuncs=Object.freeze({error:errorFunc,ignore:ignoreFunc,replace:replaceFunc});function getUtf8CodePoints(a,e){e==null&&(e=Utf8ErrorFuncs.error);const o=getBytes(a,"bytes"),c=[];let d=0;for(;d<o.length;){const h=o[d++];if(!(h>>7)){c.push(h);continue}let et=null,tt=null;if((h&224)===192)et=1,tt=127;else if((h&240)===224)et=2,tt=2047;else if((h&248)===240)et=3,tt=65535;else{(h&192)===128?d+=e("UNEXPECTED_CONTINUE",d-1,o,c):d+=e("BAD_PREFIX",d-1,o,c);continue}if(d-1+et>=o.length){d+=e("OVERRUN",d-1,o,c);continue}let ot=h&(1<<8-et-1)-1;for(let ft=0;ft<et;ft++){let ht=o[d];if((ht&192)!=128){d+=e("MISSING_CONTINUE",d,o,c),ot=null;break}ot=ot<<6|ht&63,d++}if(ot!==null){if(ot>1114111){d+=e("OUT_OF_RANGE",d-1-et,o,c,ot);continue}if(ot>=55296&&ot<=57343){d+=e("UTF16_SURROGATE",d-1-et,o,c,ot);continue}if(ot<=tt){d+=e("OVERLONG",d-1-et,o,c,ot);continue}c.push(ot)}}return c}function toUtf8Bytes(a,e){assertArgument(typeof a=="string","invalid string value","str",a),e!=null&&(assertNormalize(e),a=a.normalize(e));let o=[];for(let c=0;c<a.length;c++){const d=a.charCodeAt(c);if(d<128)o.push(d);else if(d<2048)o.push(d>>6|192),o.push(d&63|128);else if((d&64512)==55296){c++;const h=a.charCodeAt(c);assertArgument(c<a.length&&(h&64512)===56320,"invalid surrogate pair","str",a);const et=65536+((d&1023)<<10)+(h&1023);o.push(et>>18|240),o.push(et>>12&63|128),o.push(et>>6&63|128),o.push(et&63|128)}else o.push(d>>12|224),o.push(d>>6&63|128),o.push(d&63|128)}return new Uint8Array(o)}function _toUtf8String(a){return a.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function toUtf8String(a,e){return _toUtf8String(getUtf8CodePoints(a,e))}function createGetUrl(a){async function e(o,c){const d=o.url.split(":")[0].toLowerCase();assert(d==="http"||d==="https",`unsupported protocol ${d}`,"UNSUPPORTED_OPERATION",{info:{protocol:d},operation:"request"}),assert(d==="https"||!o.credentials||o.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let h;if(c){const yt=new AbortController;h=yt.signal,c.addListener(()=>{yt.abort()})}const et={method:o.method,headers:new Headers(Array.from(o)),body:o.body||void 0,signal:h},tt=await fetch(o.url,et),ot={};tt.headers.forEach((yt,gt)=>{ot[gt.toLowerCase()]=yt});const ft=await tt.arrayBuffer(),ht=ft==null?null:new Uint8Array(ft);return{statusCode:tt.status,statusMessage:tt.statusText,headers:ot,body:ht}}return e}const MAX_ATTEMPTS=12,SLOT_INTERVAL=250;let defaultGetUrlFunc=createGetUrl();const reData=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),reIpfs=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let locked$5=!1;async function dataGatewayFunc(a,e){try{const o=a.match(reData);if(!o)throw new Error("invalid data");return new FetchResponse(200,"OK",{"content-type":o[1]||"text/plain"},o[2]?decodeBase64(o[3]):unpercent(o[3]))}catch{return new FetchResponse(599,"BAD REQUEST (invalid data: URI)",{},null,new FetchRequest(a))}}function getIpfsGatewayFunc(a){async function e(o,c){try{const d=o.match(reIpfs);if(!d)throw new Error("invalid link");return new FetchRequest(`${a}${d[2]}`)}catch{return new FetchResponse(599,"BAD REQUEST (invalid IPFS URI)",{},null,new FetchRequest(o))}}return e}const Gateways={data:dataGatewayFunc,ipfs:getIpfsGatewayFunc("https://gateway.ipfs.io/ipfs/")},fetchSignals=new WeakMap;var _s,ts;class FetchCancelSignal{constructor(e){tr(this,_s,void 0);tr(this,ts,void 0);Qt(this,_s,[]),Qt(this,ts,!1),fetchSignals.set(e,()=>{if(!Pt(this,ts)){Qt(this,ts,!0);for(const o of Pt(this,_s))setTimeout(()=>{o()},0);Qt(this,_s,[])}})}addListener(e){assert(!Pt(this,ts),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),Pt(this,_s).push(e)}get cancelled(){return Pt(this,ts)}checkSignal(){assert(!this.cancelled,"cancelled","CANCELLED",{})}}_s=new WeakMap,ts=new WeakMap;function checkSignal(a){if(a==null)throw new Error("missing signal; should not happen");return a.checkSignal(),a}var oo,co,Cn,Hn,lo,uo,Jr,hn,Kn,ks,Is,Rs,Nn,Gn,rs,Bs,xl;const xu=class xu{constructor(e){tr(this,Bs);tr(this,oo,void 0);tr(this,co,void 0);tr(this,Cn,void 0);tr(this,Hn,void 0);tr(this,lo,void 0);tr(this,uo,void 0);tr(this,Jr,void 0);tr(this,hn,void 0);tr(this,Kn,void 0);tr(this,ks,void 0);tr(this,Is,void 0);tr(this,Rs,void 0);tr(this,Nn,void 0);tr(this,Gn,void 0);tr(this,rs,void 0);Qt(this,uo,String(e)),Qt(this,oo,!1),Qt(this,co,!0),Qt(this,Cn,{}),Qt(this,Hn,""),Qt(this,lo,3e5),Qt(this,Gn,{slotInterval:SLOT_INTERVAL,maxAttempts:MAX_ATTEMPTS}),Qt(this,rs,null)}get url(){return Pt(this,uo)}set url(e){Qt(this,uo,String(e))}get body(){return Pt(this,Jr)==null?null:new Uint8Array(Pt(this,Jr))}set body(e){if(e==null)Qt(this,Jr,void 0),Qt(this,hn,void 0);else if(typeof e=="string")Qt(this,Jr,toUtf8Bytes(e)),Qt(this,hn,"text/plain");else if(e instanceof Uint8Array)Qt(this,Jr,e),Qt(this,hn,"application/octet-stream");else if(typeof e=="object")Qt(this,Jr,toUtf8Bytes(JSON.stringify(e))),Qt(this,hn,"application/json");else throw new Error("invalid body")}hasBody(){return Pt(this,Jr)!=null}get method(){return Pt(this,Hn)?Pt(this,Hn):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),Qt(this,Hn,String(e).toUpperCase())}get headers(){const e=Object.assign({},Pt(this,Cn));return Pt(this,Kn)&&(e.authorization=`Basic ${encodeBase64(toUtf8Bytes(Pt(this,Kn)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&Pt(this,hn)&&(e["content-type"]=Pt(this,hn)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,o){Pt(this,Cn)[String(e).toLowerCase()]=String(o)}clearHeaders(){Qt(this,Cn,{})}[Symbol.iterator](){const e=this.headers,o=Object.keys(e);let c=0;return{next:()=>{if(c<o.length){const d=o[c++];return{value:[d,e[d]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return Pt(this,Kn)||null}setCredentials(e,o){assertArgument(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),Qt(this,Kn,`${e}:${o}`)}get allowGzip(){return Pt(this,co)}set allowGzip(e){Qt(this,co,!!e)}get allowInsecureAuthentication(){return!!Pt(this,oo)}set allowInsecureAuthentication(e){Qt(this,oo,!!e)}get timeout(){return Pt(this,lo)}set timeout(e){assertArgument(e>=0,"timeout must be non-zero","timeout",e),Qt(this,lo,e)}get preflightFunc(){return Pt(this,ks)||null}set preflightFunc(e){Qt(this,ks,e)}get processFunc(){return Pt(this,Is)||null}set processFunc(e){Qt(this,Is,e)}get retryFunc(){return Pt(this,Rs)||null}set retryFunc(e){Qt(this,Rs,e)}get getUrlFunc(){return Pt(this,rs)||defaultGetUrlFunc}set getUrlFunc(e){Qt(this,rs,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${Pt(this,Jr)?hexlify$1(Pt(this,Jr)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(Pt(this,Gn).slotInterval=e.slotInterval),e.maxAttempts!=null&&(Pt(this,Gn).maxAttempts=e.maxAttempts)}send(){return assert(Pt(this,Nn)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),Qt(this,Nn,new FetchCancelSignal(this)),hr(this,Bs,xl).call(this,0,getTime$2()+this.timeout,0,this,new FetchResponse(0,"",{},null,this))}cancel(){assert(Pt(this,Nn)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=fetchSignals.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const o=this.url.split(":")[0].toLowerCase(),c=e.split(":")[0].toLowerCase();assert(this.method==="GET"&&(o!=="https"||c!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const d=new xu(e);return d.method="GET",d.allowGzip=this.allowGzip,d.timeout=this.timeout,Qt(d,Cn,Object.assign({},Pt(this,Cn))),Pt(this,Jr)&&Qt(d,Jr,new Uint8Array(Pt(this,Jr))),Qt(d,hn,Pt(this,hn)),d}clone(){const e=new xu(this.url);return Qt(e,Hn,Pt(this,Hn)),Pt(this,Jr)&&Qt(e,Jr,Pt(this,Jr)),Qt(e,hn,Pt(this,hn)),Qt(e,Cn,Object.assign({},Pt(this,Cn))),Qt(e,Kn,Pt(this,Kn)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),Qt(e,ks,Pt(this,ks)),Qt(e,Is,Pt(this,Is)),Qt(e,Rs,Pt(this,Rs)),Qt(e,rs,Pt(this,rs)),e}static lockConfig(){locked$5=!0}static getGateway(e){return Gateways[e.toLowerCase()]||null}static registerGateway(e,o){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(locked$5)throw new Error("gateways locked");Gateways[e]=o}static registerGetUrl(e){if(locked$5)throw new Error("gateways locked");defaultGetUrlFunc=e}static createGetUrlFunc(e){return createGetUrl()}static createDataGateway(){return dataGatewayFunc}static createIpfsGatewayFunc(e){return getIpfsGatewayFunc(e)}};oo=new WeakMap,co=new WeakMap,Cn=new WeakMap,Hn=new WeakMap,lo=new WeakMap,uo=new WeakMap,Jr=new WeakMap,hn=new WeakMap,Kn=new WeakMap,ks=new WeakMap,Is=new WeakMap,Rs=new WeakMap,Nn=new WeakMap,Gn=new WeakMap,rs=new WeakMap,Bs=new WeakSet,xl=async function(e,o,c,d,h){var ht,yt,gt;if(e>=Pt(this,Gn).maxAttempts)return h.makeServerError("exceeded maximum retry limit");assert(getTime$2()<=o,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:d}),c>0&&await wait(c);let et=this.clone();const tt=(et.url.split(":")[0]||"").toLowerCase();if(tt in Gateways){const wt=await Gateways[tt](et.url,checkSignal(Pt(d,Nn)));if(wt instanceof FetchResponse){let bt=wt;if(this.processFunc){checkSignal(Pt(d,Nn));try{bt=await this.processFunc(et,bt)}catch(xt){(xt.throttle==null||typeof xt.stall!="number")&&bt.makeServerError("error in post-processing function",xt).assertOk()}}return bt}et=wt}this.preflightFunc&&(et=await this.preflightFunc(et));const ot=await this.getUrlFunc(et,checkSignal(Pt(d,Nn)));let ft=new FetchResponse(ot.statusCode,ot.statusMessage,ot.headers,ot.body,d);if(ft.statusCode===301||ft.statusCode===302){try{const wt=ft.headers.location||"";return hr(ht=et.redirect(wt),Bs,xl).call(ht,e+1,o,0,d,ft)}catch{}return ft}else if(ft.statusCode===429&&(this.retryFunc==null||await this.retryFunc(et,ft,e))){const wt=ft.headers["retry-after"];let bt=Pt(this,Gn).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof wt=="string"&&wt.match(/^[1-9][0-9]*$/)&&(bt=parseInt(wt)),hr(yt=et.clone(),Bs,xl).call(yt,e+1,o,bt,d,ft)}if(this.processFunc){checkSignal(Pt(d,Nn));try{ft=await this.processFunc(et,ft)}catch(wt){(wt.throttle==null||typeof wt.stall!="number")&&ft.makeServerError("error in post-processing function",wt).assertOk();let bt=Pt(this,Gn).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return wt.stall>=0&&(bt=wt.stall),hr(gt=et.clone(),Bs,xl).call(gt,e+1,o,bt,d,ft)}}return ft};let FetchRequest=xu;var Cl,_l,Il,yn,fo,Ns;const dp=class dp{constructor(e,o,c,d,h){tr(this,Cl,void 0);tr(this,_l,void 0);tr(this,Il,void 0);tr(this,yn,void 0);tr(this,fo,void 0);tr(this,Ns,void 0);Qt(this,Cl,e),Qt(this,_l,o),Qt(this,Il,Object.keys(c).reduce((et,tt)=>(et[tt.toLowerCase()]=String(c[tt]),et),{})),Qt(this,yn,d==null?null:new Uint8Array(d)),Qt(this,fo,h||null),Qt(this,Ns,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${Pt(this,yn)?hexlify$1(Pt(this,yn)):"null"}>`}get statusCode(){return Pt(this,Cl)}get statusMessage(){return Pt(this,_l)}get headers(){return Object.assign({},Pt(this,Il))}get body(){return Pt(this,yn)==null?null:new Uint8Array(Pt(this,yn))}get bodyText(){try{return Pt(this,yn)==null?"":toUtf8String(Pt(this,yn))}catch{assert(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{assert(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,o=Object.keys(e);let c=0;return{next:()=>{if(c<o.length){const d=o[c++];return{value:[d,e[d]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,o){let c;e?c=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,c=`CLIENT ESCALATED SERVER ERROR (${e})`);const d=new dp(599,c,this.headers,this.body,Pt(this,fo)||void 0);return Qt(d,Ns,{message:e,error:o}),d}throwThrottleError(e,o){o==null?o=-1:assertArgument(Number.isInteger(o)&&o>=0,"invalid stall timeout","stall",o);const c=new Error(e||"throttling requests");throw defineProperties(c,{stall:o,throttle:!0}),c}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return Pt(this,yn)!=null}get request(){return Pt(this,fo)}ok(){return Pt(this,Ns).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:o}=Pt(this,Ns);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let c=null;this.request&&(c=this.request.url);let d=null;try{Pt(this,yn)&&(d=toUtf8String(Pt(this,yn)))}catch{}assert(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:o,info:{requestUrl:c,responseBody:d,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};Cl=new WeakMap,_l=new WeakMap,Il=new WeakMap,yn=new WeakMap,fo=new WeakMap,Ns=new WeakMap;let FetchResponse=dp;function getTime$2(){return new Date().getTime()}function unpercent(a){return toUtf8Bytes(a.replace(/%([0-9a-f][0-9a-f])/gi,(e,o)=>String.fromCharCode(parseInt(o,16))))}function wait(a){return new Promise(e=>setTimeout(e,a))}const BN_N1=BigInt(-1),BN_0$8=BigInt(0),BN_1$4=BigInt(1),BN_5=BigInt(5),_guard$5={};let Zeros$1="0000";for(;Zeros$1.length<80;)Zeros$1+=Zeros$1;function getTens(a){let e=Zeros$1;for(;e.length<a;)e+=e;return BigInt("1"+e.substring(0,a))}function checkValue(a,e,o){const c=BigInt(e.width);if(e.signed){const d=BN_1$4<<c-BN_1$4;assert(o==null||a>=-d&&a<d,"overflow","NUMERIC_FAULT",{operation:o,fault:"overflow",value:a}),a>BN_0$8?a=fromTwos(mask(a,c),c):a=-fromTwos(mask(-a,c),c)}else{const d=BN_1$4<<c;assert(o==null||a>=0&&a<d,"overflow","NUMERIC_FAULT",{operation:o,fault:"overflow",value:a}),a=(a%d+d)%d&d-BN_1$4}return a}function getFormat(a){typeof a=="number"&&(a=`fixed128x${a}`);let e=!0,o=128,c=18;if(typeof a=="string"){if(a!=="fixed")if(a==="ufixed")e=!1;else{const h=a.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);assertArgument(h,"invalid fixed format","format",a),e=h[1]!=="u",o=parseInt(h[2]),c=parseInt(h[3])}}else if(a){const h=a,et=(tt,ot,ft)=>h[tt]==null?ft:(assertArgument(typeof h[tt]===ot,"invalid fixed format ("+tt+" not "+ot+")","format."+tt,h[tt]),h[tt]);e=et("signed","boolean",e),o=et("width","number",o),c=et("decimals","number",c)}assertArgument(o%8===0,"invalid FixedNumber width (not byte aligned)","format.width",o),assertArgument(c<=80,"invalid FixedNumber decimals (too large)","format.decimals",c);const d=(e?"":"u")+"fixed"+String(o)+"x"+String(c);return{signed:e,width:o,decimals:c,name:d}}function toString$d(a,e){let o="";a<BN_0$8&&(o="-",a*=BN_N1);let c=a.toString();if(e===0)return o+c;for(;c.length<=e;)c=Zeros$1+c;const d=c.length-e;for(c=c.substring(0,d)+"."+c.substring(d);c[0]==="0"&&c[1]!==".";)c=c.substring(1);for(;c[c.length-1]==="0"&&c[c.length-2]!==".";)c=c.substring(0,c.length-1);return o+c}var _n,Br,on,Wn,Ts,kn,jn,Rl,Xu,Nl,Ju,Ol,Yu,Pl,Zu;const es=class es{constructor(e,o,c){tr(this,Wn);tr(this,kn);tr(this,Rl);tr(this,Nl);tr(this,Ol);tr(this,Pl);Jt(this,"format");tr(this,_n,void 0);tr(this,Br,void 0);tr(this,on,void 0);Jt(this,"_value");assertPrivate(e,_guard$5,"FixedNumber"),Qt(this,Br,o),Qt(this,_n,c);const d=toString$d(o,c.decimals);defineProperties(this,{format:c.name,_value:d}),Qt(this,on,getTens(c.decimals))}get signed(){return Pt(this,_n).signed}get width(){return Pt(this,_n).width}get decimals(){return Pt(this,_n).decimals}get value(){return Pt(this,Br)}addUnsafe(e){return hr(this,Rl,Xu).call(this,e)}add(e){return hr(this,Rl,Xu).call(this,e,"add")}subUnsafe(e){return hr(this,Nl,Ju).call(this,e)}sub(e){return hr(this,Nl,Ju).call(this,e,"sub")}mulUnsafe(e){return hr(this,Ol,Yu).call(this,e)}mul(e){return hr(this,Ol,Yu).call(this,e,"mul")}mulSignal(e){hr(this,Wn,Ts).call(this,e);const o=Pt(this,Br)*Pt(e,Br);return assert(o%Pt(this,on)===BN_0$8,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),hr(this,kn,jn).call(this,o/Pt(this,on),"mulSignal")}divUnsafe(e){return hr(this,Pl,Zu).call(this,e)}div(e){return hr(this,Pl,Zu).call(this,e,"div")}divSignal(e){assert(Pt(e,Br)!==BN_0$8,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),hr(this,Wn,Ts).call(this,e);const o=Pt(this,Br)*Pt(this,on);return assert(o%Pt(e,Br)===BN_0$8,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),hr(this,kn,jn).call(this,o/Pt(e,Br),"divSignal")}cmp(e){let o=this.value,c=e.value;const d=this.decimals-e.decimals;return d>0?c*=getTens(d):d<0&&(o*=getTens(-d)),o<c?-1:o>c?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=Pt(this,Br);return Pt(this,Br)<BN_0$8&&(e-=Pt(this,on)-BN_1$4),e=Pt(this,Br)/Pt(this,on)*Pt(this,on),hr(this,kn,jn).call(this,e,"floor")}ceiling(){let e=Pt(this,Br);return Pt(this,Br)>BN_0$8&&(e+=Pt(this,on)-BN_1$4),e=Pt(this,Br)/Pt(this,on)*Pt(this,on),hr(this,kn,jn).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const o=this.decimals-e,c=BN_5*getTens(o-1);let d=this.value+c;const h=getTens(o);return d=d/h*h,checkValue(d,Pt(this,_n),"round"),new es(_guard$5,d,Pt(this,_n))}isZero(){return Pt(this,Br)===BN_0$8}isNegative(){return Pt(this,Br)<BN_0$8}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return es.fromString(this.toString(),e)}static fromValue(e,o,c){const d=o==null?0:getNumber(o),h=getFormat(c);let et=getBigInt(e,"value");const tt=d-h.decimals;if(tt>0){const ot=getTens(tt);assert(et%ot===BN_0$8,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),et/=ot}else tt<0&&(et*=getTens(-tt));return checkValue(et,h,"fromValue"),new es(_guard$5,et,h)}static fromString(e,o){const c=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);assertArgument(c&&c[2].length+c[3].length>0,"invalid FixedNumber string value","value",e);const d=getFormat(o);let h=c[2]||"0",et=c[3]||"";for(;et.length<d.decimals;)et+=Zeros$1;assert(et.substring(d.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),et=et.substring(0,d.decimals);const tt=BigInt(c[1]+h+et);return checkValue(tt,d,"fromString"),new es(_guard$5,tt,d)}static fromBytes(e,o){let c=toBigInt(getBytes(e,"value"));const d=getFormat(o);return d.signed&&(c=fromTwos(c,d.width)),checkValue(c,d,"fromBytes"),new es(_guard$5,c,d)}};_n=new WeakMap,Br=new WeakMap,on=new WeakMap,Wn=new WeakSet,Ts=function(e){assertArgument(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},kn=new WeakSet,jn=function(e,o){return e=checkValue(e,Pt(this,_n),o),new es(_guard$5,e,Pt(this,_n))},Rl=new WeakSet,Xu=function(e,o){return hr(this,Wn,Ts).call(this,e),hr(this,kn,jn).call(this,Pt(this,Br)+Pt(e,Br),o)},Nl=new WeakSet,Ju=function(e,o){return hr(this,Wn,Ts).call(this,e),hr(this,kn,jn).call(this,Pt(this,Br)-Pt(e,Br),o)},Ol=new WeakSet,Yu=function(e,o){return hr(this,Wn,Ts).call(this,e),hr(this,kn,jn).call(this,Pt(this,Br)*Pt(e,Br)/Pt(this,on),o)},Pl=new WeakSet,Zu=function(e,o){return assert(Pt(e,Br)!==BN_0$8,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),hr(this,Wn,Ts).call(this,e),hr(this,kn,jn).call(this,Pt(this,Br)*Pt(this,on)/Pt(e,Br),o)};let FixedNumber=es;function hexlifyByte(a){let e=a.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function unarrayifyInteger(a,e,o){let c=0;for(let d=0;d<o;d++)c=c*256+a[e+d];return c}function _decodeChildren(a,e,o,c){const d=[];for(;o<e+1+c;){const h=_decode(a,o);d.push(h.result),o+=h.consumed,assert(o<=e+1+c,"child data too short","BUFFER_OVERRUN",{buffer:a,length:c,offset:e})}return{consumed:1+c,result:d}}function _decode(a,e){assert(a.length!==0,"data too short","BUFFER_OVERRUN",{buffer:a,length:0,offset:1});const o=c=>{assert(c<=a.length,"data short segment too short","BUFFER_OVERRUN",{buffer:a,length:a.length,offset:c})};if(a[e]>=248){const c=a[e]-247;o(e+1+c);const d=unarrayifyInteger(a,e+1,c);return o(e+1+c+d),_decodeChildren(a,e,e+1+c,c+d)}else if(a[e]>=192){const c=a[e]-192;return o(e+1+c),_decodeChildren(a,e,e+1,c)}else if(a[e]>=184){const c=a[e]-183;o(e+1+c);const d=unarrayifyInteger(a,e+1,c);o(e+1+c+d);const h=hexlify$1(a.slice(e+1+c,e+1+c+d));return{consumed:1+c+d,result:h}}else if(a[e]>=128){const c=a[e]-128;o(e+1+c);const d=hexlify$1(a.slice(e+1,e+1+c));return{consumed:1+c,result:d}}return{consumed:1,result:hexlifyByte(a[e])}}function decodeRlp(a){const e=getBytes(a,"data"),o=_decode(e,0);return assertArgument(o.consumed===e.length,"unexpected junk after rlp payload","data",a),o.result}function arrayifyInteger(a){const e=[];for(;a;)e.unshift(a&255),a>>=8;return e}function _encode(a){if(Array.isArray(a)){let c=[];if(a.forEach(function(h){c=c.concat(_encode(h))}),c.length<=55)return c.unshift(192+c.length),c;const d=arrayifyInteger(c.length);return d.unshift(247+d.length),d.concat(c)}const e=Array.prototype.slice.call(getBytes(a,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const o=arrayifyInteger(e.length);return o.unshift(183+o.length),o.concat(e)}const nibbles="0123456789abcdef";function encodeRlp(a){let e="0x";for(const o of _encode(a))e+=nibbles[o>>4],e+=nibbles[o&15];return e}const names$2=["wei","kwei","mwei","gwei","szabo","finney","ether"];function formatUnits(a,e){let o=18;if(typeof e=="string"){const c=names$2.indexOf(e);assertArgument(c>=0,"invalid unit","unit",e),o=3*c}else e!=null&&(o=getNumber(e,"unit"));return FixedNumber.fromValue(a,o,{decimals:o,width:512}).toString()}function parseUnits$1(a,e){assertArgument(typeof a=="string","value must be a string","value",a);let o=18;if(typeof e=="string"){const c=names$2.indexOf(e);assertArgument(c>=0,"invalid unit","unit",e),o=3*c}else e!=null&&(o=getNumber(e,"unit"));return FixedNumber.fromString(a,{decimals:o,width:512}).value}function uuidV4(a){const e=getBytes(a,"randomBytes");e[6]=e[6]&15|64,e[8]=e[8]&63|128;const o=hexlify$1(e);return[o.substring(2,10),o.substring(10,14),o.substring(14,18),o.substring(18,22),o.substring(22,34)].join("-")}const WordSize=32,Padding=new Uint8Array(WordSize),passProperties$1=["then"],_guard$4={};function throwError(a,e){const o=new Error(`deferred error during ABI decoding triggered accessing ${a}`);throw o.error=e,o}var ns;const Sl=class Sl extends Array{constructor(...o){const c=o[0];let d=o[1],h=(o[2]||[]).slice(),et=!0;c!==_guard$4&&(d=o,h=[],et=!1);super(d.length);tr(this,ns,void 0);d.forEach((ot,ft)=>{this[ft]=ot});const tt=h.reduce((ot,ft)=>(typeof ft=="string"&&ot.set(ft,(ot.get(ft)||0)+1),ot),new Map);if(Qt(this,ns,Object.freeze(d.map((ot,ft)=>{const ht=h[ft];return ht!=null&&tt.get(ht)===1?ht:null}))),!!et)return Object.freeze(this),new Proxy(this,{get:(ot,ft,ht)=>{if(typeof ft=="string"){if(ft.match(/^[0-9]+$/)){const gt=getNumber(ft,"%index");if(gt<0||gt>=this.length)throw new RangeError("out of result range");const wt=ot[gt];return wt instanceof Error&&throwError(`index ${gt}`,wt),wt}if(passProperties$1.indexOf(ft)>=0)return Reflect.get(ot,ft,ht);const yt=ot[ft];if(yt instanceof Function)return function(...gt){return yt.apply(this===ht?ot:this,gt)};if(!(ft in ot))return ot.getValue.apply(this===ht?ot:this,[ft])}return Reflect.get(ot,ft,ht)}})}toArray(){const o=[];return this.forEach((c,d)=>{c instanceof Error&&throwError(`index ${d}`,c),o.push(c)}),o}toObject(){return Pt(this,ns).reduce((o,c,d)=>(assert(c!=null,"value at index ${ index } unnamed","UNSUPPORTED_OPERATION",{operation:"toObject()"}),c in o||(o[c]=this.getValue(c)),o),{})}slice(o,c){o==null&&(o=0),o<0&&(o+=this.length,o<0&&(o=0)),c==null&&(c=this.length),c<0&&(c+=this.length,c<0&&(c=0)),c>this.length&&(c=this.length);const d=[],h=[];for(let et=o;et<c;et++)d.push(this[et]),h.push(Pt(this,ns)[et]);return new Sl(_guard$4,d,h)}filter(o,c){const d=[],h=[];for(let et=0;et<this.length;et++){const tt=this[et];tt instanceof Error&&throwError(`index ${et}`,tt),o.call(c,tt,et,this)&&(d.push(tt),h.push(Pt(this,ns)[et]))}return new Sl(_guard$4,d,h)}map(o,c){const d=[];for(let h=0;h<this.length;h++){const et=this[h];et instanceof Error&&throwError(`index ${h}`,et),d.push(o.call(c,et,h,this))}return d}getValue(o){const c=Pt(this,ns).indexOf(o);if(c===-1)return;const d=this[c];return d instanceof Error&&throwError(`property ${JSON.stringify(o)}`,d.error),d}static fromItems(o,c){return new Sl(_guard$4,o,c)}};ns=new WeakMap;let Result=Sl;function getValue$1(a){let e=toBeArray(a);return assert(e.length<=WordSize,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:WordSize,offset:e.length}),e.length!==WordSize&&(e=getBytesCopy(concat$3([Padding.slice(e.length%WordSize),e]))),e}class Coder{constructor(e,o,c,d){Jt(this,"name");Jt(this,"type");Jt(this,"localName");Jt(this,"dynamic");defineProperties(this,{name:e,type:o,localName:c,dynamic:d},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,o){assertArgument(!1,e,this.localName,o)}}var qn,Os,po,fu,vp;let Writer$2=(vp=class{constructor(){tr(this,po);tr(this,qn,void 0);tr(this,Os,void 0);Qt(this,qn,[]),Qt(this,Os,0)}get data(){return concat$3(Pt(this,qn))}get length(){return Pt(this,Os)}appendWriter(e){return hr(this,po,fu).call(this,getBytesCopy(e.data))}writeBytes(e){let o=getBytesCopy(e);const c=o.length%WordSize;return c&&(o=getBytesCopy(concat$3([o,Padding.slice(c)]))),hr(this,po,fu).call(this,o)}writeValue(e){return hr(this,po,fu).call(this,getValue$1(e))}writeUpdatableValue(){const e=Pt(this,qn).length;return Pt(this,qn).push(Padding),Qt(this,Os,Pt(this,Os)+WordSize),o=>{Pt(this,qn)[e]=getValue$1(o)}}},qn=new WeakMap,Os=new WeakMap,po=new WeakSet,fu=function(e){return Pt(this,qn).push(e),Qt(this,Os,Pt(this,Os)+e.length),e.length},vp);var ln,mn,Ps,Ds,as,Dl,_d,wu,$p,Ml;let Reader$2=(Ml=class{constructor(e,o,c){tr(this,Dl);tr(this,wu);Jt(this,"allowLoose");tr(this,ln,void 0);tr(this,mn,void 0);tr(this,Ps,void 0);tr(this,Ds,void 0);tr(this,as,void 0);defineProperties(this,{allowLoose:!!o}),Qt(this,ln,getBytesCopy(e)),Qt(this,Ps,0),Qt(this,Ds,null),Qt(this,as,c??1024),Qt(this,mn,0)}get data(){return hexlify$1(Pt(this,ln))}get dataLength(){return Pt(this,ln).length}get consumed(){return Pt(this,mn)}get bytes(){return new Uint8Array(Pt(this,ln))}subReader(e){const o=new Ml(Pt(this,ln).slice(Pt(this,mn)+e),this.allowLoose,Pt(this,as));return Qt(o,Ds,this),o}readBytes(e,o){let c=hr(this,wu,$p).call(this,0,e,!!o);return hr(this,Dl,_d).call(this,e),Qt(this,mn,Pt(this,mn)+c.length),c.slice(0,e)}readValue(){return toBigInt(this.readBytes(WordSize))}readIndex(){return toNumber$1(this.readBytes(WordSize))}},ln=new WeakMap,mn=new WeakMap,Ps=new WeakMap,Ds=new WeakMap,as=new WeakMap,Dl=new WeakSet,_d=function(e){var o;if(Pt(this,Ds))return hr(o=Pt(this,Ds),Dl,_d).call(o,e);Qt(this,Ps,Pt(this,Ps)+e),assert(Pt(this,as)<1||Pt(this,Ps)<=Pt(this,as)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${Pt(this,as)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:getBytesCopy(Pt(this,ln)),offset:Pt(this,mn),length:e,info:{bytesRead:Pt(this,Ps),dataLength:this.dataLength}})},wu=new WeakSet,$p=function(e,o,c){let d=Math.ceil(o/WordSize)*WordSize;return Pt(this,mn)+d>Pt(this,ln).length&&(this.allowLoose&&c&&Pt(this,mn)+o<=Pt(this,ln).length?d=o:assert(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:getBytesCopy(Pt(this,ln)),length:Pt(this,ln).length,offset:Pt(this,mn)+d})),Pt(this,ln).slice(Pt(this,mn),Pt(this,mn)+d)},Ml);function number$1(a){if(!Number.isSafeInteger(a)||a<0)throw new Error(`Wrong positive integer: ${a}`)}function bytes(a,...e){if(!(a instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(a.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${a.length}`)}function hash$1(a){if(typeof a!="function"||typeof a.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number$1(a.outputLen),number$1(a.blockLen)}function exists(a,e=!0){if(a.destroyed)throw new Error("Hash instance has been destroyed");if(e&&a.finished)throw new Error("Hash#digest() has already been called")}function output(a,e){bytes(a);const o=e.outputLen;if(a.length<o)throw new Error(`digestInto() expects output buffer of length at least ${o}`)}const crypto$4=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u8a$1=a=>a instanceof Uint8Array,u32=a=>new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4)),createView=a=>new DataView(a.buffer,a.byteOffset,a.byteLength),rotr=(a,e)=>a<<32-e|a>>>e,isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!isLE)throw new Error("Non little-endian hardware is not supported");const nextTick=async()=>{};async function asyncLoop(a,e,o){let c=Date.now();for(let d=0;d<a;d++){o(d);const h=Date.now()-c;h>=0&&h<e||(await nextTick(),c+=h)}}function utf8ToBytes$2(a){if(typeof a!="string")throw new Error(`utf8ToBytes expected string, got ${typeof a}`);return new Uint8Array(new TextEncoder().encode(a))}function toBytes$3(a){if(typeof a=="string"&&(a=utf8ToBytes$2(a)),!u8a$1(a))throw new Error(`expected Uint8Array, got ${typeof a}`);return a}function concatBytes$1(...a){const e=new Uint8Array(a.reduce((c,d)=>c+d.length,0));let o=0;return a.forEach(c=>{if(!u8a$1(c))throw new Error("Uint8Array expected");e.set(c,o),o+=c.length}),e}class Hash{clone(){return this._cloneInto()}}const toStr={}.toString;function checkOpts(a,e){if(e!==void 0&&toStr.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(a,e)}function wrapConstructor(a){const e=c=>a().update(toBytes$3(c)).digest(),o=a();return e.outputLen=o.outputLen,e.blockLen=o.blockLen,e.create=()=>a(),e}function randomBytes$3(a=32){if(crypto$4&&typeof crypto$4.getRandomValues=="function")return crypto$4.getRandomValues(new Uint8Array(a));throw new Error("crypto.getRandomValues must be defined")}class HMAC extends Hash{constructor(e,o){super(),this.finished=!1,this.destroyed=!1,hash$1(e);const c=toBytes$3(o);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const d=this.blockLen,h=new Uint8Array(d);h.set(c.length>d?e.create().update(c).digest():c);for(let et=0;et<h.length;et++)h[et]^=54;this.iHash.update(h),this.oHash=e.create();for(let et=0;et<h.length;et++)h[et]^=106;this.oHash.update(h),h.fill(0)}update(e){return exists(this),this.iHash.update(e),this}digestInto(e){exists(this),bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:o,iHash:c,finished:d,destroyed:h,blockLen:et,outputLen:tt}=this;return e=e,e.finished=d,e.destroyed=h,e.blockLen=et,e.outputLen=tt,e.oHash=o._cloneInto(e.oHash),e.iHash=c._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac$1=(a,e,o)=>new HMAC(a,e).update(o).digest();hmac$1.create=(a,e)=>new HMAC(a,e);function pbkdf2Init(a,e,o,c){hash$1(a);const d=checkOpts({dkLen:32,asyncTick:10},c),{c:h,dkLen:et,asyncTick:tt}=d;if(number$1(h),number$1(et),number$1(tt),h<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const ot=toBytes$3(e),ft=toBytes$3(o),ht=new Uint8Array(et),yt=hmac$1.create(a,ot),gt=yt._cloneInto().update(ft);return{c:h,dkLen:et,asyncTick:tt,DK:ht,PRF:yt,PRFSalt:gt}}function pbkdf2Output(a,e,o,c,d){return a.destroy(),e.destroy(),c&&c.destroy(),d.fill(0),o}function pbkdf2$1(a,e,o,c){const{c:d,dkLen:h,DK:et,PRF:tt,PRFSalt:ot}=pbkdf2Init(a,e,o,c);let ft;const ht=new Uint8Array(4),yt=createView(ht),gt=new Uint8Array(tt.outputLen);for(let wt=1,bt=0;bt<h;wt++,bt+=tt.outputLen){const xt=et.subarray(bt,bt+tt.outputLen);yt.setInt32(0,wt,!1),(ft=ot._cloneInto(ft)).update(ht).digestInto(gt),xt.set(gt.subarray(0,xt.length));for(let Et=1;Et<d;Et++){tt._cloneInto(ft).update(gt).digestInto(gt);for(let vt=0;vt<xt.length;vt++)xt[vt]^=gt[vt]}}return pbkdf2Output(tt,ot,et,ft,gt)}function setBigUint64(a,e,o,c){if(typeof a.setBigUint64=="function")return a.setBigUint64(e,o,c);const d=BigInt(32),h=BigInt(4294967295),et=Number(o>>d&h),tt=Number(o&h),ot=c?4:0,ft=c?0:4;a.setUint32(e+ot,et,c),a.setUint32(e+ft,tt,c)}class SHA2 extends Hash{constructor(e,o,c,d){super(),this.blockLen=e,this.outputLen=o,this.padOffset=c,this.isLE=d,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=createView(this.buffer)}update(e){exists(this);const{view:o,buffer:c,blockLen:d}=this;e=toBytes$3(e);const h=e.length;for(let et=0;et<h;){const tt=Math.min(d-this.pos,h-et);if(tt===d){const ot=createView(e);for(;d<=h-et;et+=d)this.process(ot,et);continue}c.set(e.subarray(et,et+tt),this.pos),this.pos+=tt,et+=tt,this.pos===d&&(this.process(o,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){exists(this),output(e,this),this.finished=!0;const{buffer:o,view:c,blockLen:d,isLE:h}=this;let{pos:et}=this;o[et++]=128,this.buffer.subarray(et).fill(0),this.padOffset>d-et&&(this.process(c,0),et=0);for(let yt=et;yt<d;yt++)o[yt]=0;setBigUint64(c,d-8,BigInt(this.length*8),h),this.process(c,0);const tt=createView(e),ot=this.outputLen;if(ot%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const ft=ot/4,ht=this.get();if(ft>ht.length)throw new Error("_sha2: outputLen bigger than state");for(let yt=0;yt<ft;yt++)tt.setUint32(4*yt,ht[yt],h)}digest(){const{buffer:e,outputLen:o}=this;this.digestInto(e);const c=e.slice(0,o);return this.destroy(),c}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:o,buffer:c,length:d,finished:h,destroyed:et,pos:tt}=this;return e.length=d,e.pos=tt,e.finished=h,e.destroyed=et,d%o&&e.buffer.set(c),e}}const Chi=(a,e,o)=>a&e^~a&o,Maj=(a,e,o)=>a&e^a&o^e&o,SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);class SHA256 extends SHA2{constructor(){super(64,32,8,!1),this.A=IV[0]|0,this.B=IV[1]|0,this.C=IV[2]|0,this.D=IV[3]|0,this.E=IV[4]|0,this.F=IV[5]|0,this.G=IV[6]|0,this.H=IV[7]|0}get(){const{A:e,B:o,C:c,D:d,E:h,F:et,G:tt,H:ot}=this;return[e,o,c,d,h,et,tt,ot]}set(e,o,c,d,h,et,tt,ot){this.A=e|0,this.B=o|0,this.C=c|0,this.D=d|0,this.E=h|0,this.F=et|0,this.G=tt|0,this.H=ot|0}process(e,o){for(let yt=0;yt<16;yt++,o+=4)SHA256_W[yt]=e.getUint32(o,!1);for(let yt=16;yt<64;yt++){const gt=SHA256_W[yt-15],wt=SHA256_W[yt-2],bt=rotr(gt,7)^rotr(gt,18)^gt>>>3,xt=rotr(wt,17)^rotr(wt,19)^wt>>>10;SHA256_W[yt]=xt+SHA256_W[yt-7]+bt+SHA256_W[yt-16]|0}let{A:c,B:d,C:h,D:et,E:tt,F:ot,G:ft,H:ht}=this;for(let yt=0;yt<64;yt++){const gt=rotr(tt,6)^rotr(tt,11)^rotr(tt,25),wt=ht+gt+Chi(tt,ot,ft)+SHA256_K[yt]+SHA256_W[yt]|0,xt=(rotr(c,2)^rotr(c,13)^rotr(c,22))+Maj(c,d,h)|0;ht=ft,ft=ot,ot=tt,tt=et+wt|0,et=h,h=d,d=c,c=wt+xt|0}c=c+this.A|0,d=d+this.B|0,h=h+this.C|0,et=et+this.D|0,tt=tt+this.E|0,ot=ot+this.F|0,ft=ft+this.G|0,ht=ht+this.H|0,this.set(c,d,h,et,tt,ot,ft,ht)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const sha256$4=wrapConstructor(()=>new SHA256),U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(a,e=!1){return e?{h:Number(a&U32_MASK64),l:Number(a>>_32n&U32_MASK64)}:{h:Number(a>>_32n&U32_MASK64)|0,l:Number(a&U32_MASK64)|0}}function split$2(a,e=!1){let o=new Uint32Array(a.length),c=new Uint32Array(a.length);for(let d=0;d<a.length;d++){const{h,l:et}=fromBig(a[d],e);[o[d],c[d]]=[h,et]}return[o,c]}const toBig=(a,e)=>BigInt(a>>>0)<<_32n|BigInt(e>>>0),shrSH=(a,e,o)=>a>>>o,shrSL=(a,e,o)=>a<<32-o|e>>>o,rotrSH=(a,e,o)=>a>>>o|e<<32-o,rotrSL=(a,e,o)=>a<<32-o|e>>>o,rotrBH=(a,e,o)=>a<<64-o|e>>>o-32,rotrBL=(a,e,o)=>a>>>o-32|e<<64-o,rotr32H=(a,e)=>e,rotr32L=(a,e)=>a,rotlSH=(a,e,o)=>a<<o|e>>>32-o,rotlSL=(a,e,o)=>e<<o|a>>>32-o,rotlBH=(a,e,o)=>e<<o-32|a>>>64-o,rotlBL=(a,e,o)=>a<<o-32|e>>>64-o;function add$2(a,e,o,c){const d=(e>>>0)+(c>>>0);return{h:a+o+(d/2**32|0)|0,l:d|0}}const add3L=(a,e,o)=>(a>>>0)+(e>>>0)+(o>>>0),add3H=(a,e,o,c)=>e+o+c+(a/2**32|0)|0,add4L=(a,e,o,c)=>(a>>>0)+(e>>>0)+(o>>>0)+(c>>>0),add4H=(a,e,o,c,d)=>e+o+c+d+(a/2**32|0)|0,add5L=(a,e,o,c,d)=>(a>>>0)+(e>>>0)+(o>>>0)+(c>>>0)+(d>>>0),add5H=(a,e,o,c,d,h)=>e+o+c+d+h+(a/2**32|0)|0,u64={fromBig,split:split$2,toBig,shrSH,shrSL,rotrSH,rotrSL,rotrBH,rotrBL,rotr32H,rotr32L,rotlSH,rotlSL,rotlBH,rotlBL,add:add$2,add3L,add3H,add4L,add4H,add5H,add5L},[SHA512_Kh,SHA512_Kl]=u64.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(a=>BigInt(a))),SHA512_W_H=new Uint32Array(80),SHA512_W_L=new Uint32Array(80);class SHA512 extends SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:o,Bh:c,Bl:d,Ch:h,Cl:et,Dh:tt,Dl:ot,Eh:ft,El:ht,Fh:yt,Fl:gt,Gh:wt,Gl:bt,Hh:xt,Hl:Et}=this;return[e,o,c,d,h,et,tt,ot,ft,ht,yt,gt,wt,bt,xt,Et]}set(e,o,c,d,h,et,tt,ot,ft,ht,yt,gt,wt,bt,xt,Et){this.Ah=e|0,this.Al=o|0,this.Bh=c|0,this.Bl=d|0,this.Ch=h|0,this.Cl=et|0,this.Dh=tt|0,this.Dl=ot|0,this.Eh=ft|0,this.El=ht|0,this.Fh=yt|0,this.Fl=gt|0,this.Gh=wt|0,this.Gl=bt|0,this.Hh=xt|0,this.Hl=Et|0}process(e,o){for(let At=0;At<16;At++,o+=4)SHA512_W_H[At]=e.getUint32(o),SHA512_W_L[At]=e.getUint32(o+=4);for(let At=16;At<80;At++){const kt=SHA512_W_H[At-15]|0,It=SHA512_W_L[At-15]|0,Dt=u64.rotrSH(kt,It,1)^u64.rotrSH(kt,It,8)^u64.shrSH(kt,It,7),Mt=u64.rotrSL(kt,It,1)^u64.rotrSL(kt,It,8)^u64.shrSL(kt,It,7),zt=SHA512_W_H[At-2]|0,Kt=SHA512_W_L[At-2]|0,Yt=u64.rotrSH(zt,Kt,19)^u64.rotrBH(zt,Kt,61)^u64.shrSH(zt,Kt,6),er=u64.rotrSL(zt,Kt,19)^u64.rotrBL(zt,Kt,61)^u64.shrSL(zt,Kt,6),qt=u64.add4L(Mt,er,SHA512_W_L[At-7],SHA512_W_L[At-16]),Ft=u64.add4H(qt,Dt,Yt,SHA512_W_H[At-7],SHA512_W_H[At-16]);SHA512_W_H[At]=Ft|0,SHA512_W_L[At]=qt|0}let{Ah:c,Al:d,Bh:h,Bl:et,Ch:tt,Cl:ot,Dh:ft,Dl:ht,Eh:yt,El:gt,Fh:wt,Fl:bt,Gh:xt,Gl:Et,Hh:vt,Hl:$t}=this;for(let At=0;At<80;At++){const kt=u64.rotrSH(yt,gt,14)^u64.rotrSH(yt,gt,18)^u64.rotrBH(yt,gt,41),It=u64.rotrSL(yt,gt,14)^u64.rotrSL(yt,gt,18)^u64.rotrBL(yt,gt,41),Dt=yt&wt^~yt&xt,Mt=gt&bt^~gt&Et,zt=u64.add5L($t,It,Mt,SHA512_Kl[At],SHA512_W_L[At]),Kt=u64.add5H(zt,vt,kt,Dt,SHA512_Kh[At],SHA512_W_H[At]),Yt=zt|0,er=u64.rotrSH(c,d,28)^u64.rotrBH(c,d,34)^u64.rotrBH(c,d,39),qt=u64.rotrSL(c,d,28)^u64.rotrBL(c,d,34)^u64.rotrBL(c,d,39),Ft=c&h^c&tt^h&tt,mt=d&et^d&ot^et&ot;vt=xt|0,$t=Et|0,xt=wt|0,Et=bt|0,wt=yt|0,bt=gt|0,{h:yt,l:gt}=u64.add(ft|0,ht|0,Kt|0,Yt|0),ft=tt|0,ht=ot|0,tt=h|0,ot=et|0,h=c|0,et=d|0;const Tt=u64.add3L(Yt,qt,mt);c=u64.add3H(Tt,Kt,er,Ft),d=Tt|0}({h:c,l:d}=u64.add(this.Ah|0,this.Al|0,c|0,d|0)),{h,l:et}=u64.add(this.Bh|0,this.Bl|0,h|0,et|0),{h:tt,l:ot}=u64.add(this.Ch|0,this.Cl|0,tt|0,ot|0),{h:ft,l:ht}=u64.add(this.Dh|0,this.Dl|0,ft|0,ht|0),{h:yt,l:gt}=u64.add(this.Eh|0,this.El|0,yt|0,gt|0),{h:wt,l:bt}=u64.add(this.Fh|0,this.Fl|0,wt|0,bt|0),{h:xt,l:Et}=u64.add(this.Gh|0,this.Gl|0,xt|0,Et|0),{h:vt,l:$t}=u64.add(this.Hh|0,this.Hl|0,vt|0,$t|0),this.set(c,d,h,et,tt,ot,ft,ht,yt,gt,wt,bt,xt,Et,vt,$t)}roundClean(){SHA512_W_H.fill(0),SHA512_W_L.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const sha512$1=wrapConstructor(()=>new SHA512);function getGlobal$2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const anyGlobal$1=getGlobal$2(),crypto$3=anyGlobal$1.crypto||anyGlobal$1.msCrypto;function createHash(a){switch(a){case"sha256":return sha256$4.create();case"sha512":return sha512$1.create()}assertArgument(!1,"invalid hashing algorithm name","algorithm",a)}function createHmac(a,e){const o={sha256:sha256$4,sha512:sha512$1}[a];return assertArgument(o!=null,"invalid hmac algorithm","algorithm",a),hmac$1.create(o,e)}function pbkdf2Sync(a,e,o,c,d){const h={sha256:sha256$4,sha512:sha512$1}[d];return assertArgument(h!=null,"invalid pbkdf2 algorithm","algorithm",d),pbkdf2$1(h,a,e,{c:o,dkLen:c})}function randomBytes$2(a){assert(crypto$3!=null,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),assertArgument(Number.isInteger(a)&&a>0&&a<=1024,"invalid length","length",a);const e=new Uint8Array(a);return crypto$3.getRandomValues(e),e}let locked$4=!1;const _computeHmac=function(a,e,o){return createHmac(a,e).update(o).digest()};let __computeHmac=_computeHmac;function computeHmac(a,e,o){const c=getBytes(e,"key"),d=getBytes(o,"data");return hexlify$1(__computeHmac(a,c,d))}computeHmac._=_computeHmac;computeHmac.lock=function(){locked$4=!0};computeHmac.register=function(a){if(locked$4)throw new Error("computeHmac is locked");__computeHmac=a};Object.freeze(computeHmac);const[SHA3_PI,SHA3_ROTL,_SHA3_IOTA]=[[],[],[]],_0n$4=BigInt(0),_1n$5=BigInt(1),_2n$3=BigInt(2),_7n=BigInt(7),_256n=BigInt(256),_0x71n=BigInt(113);for(let a=0,e=_1n$5,o=1,c=0;a<24;a++){[o,c]=[c,(2*o+3*c)%5],SHA3_PI.push(2*(5*c+o)),SHA3_ROTL.push((a+1)*(a+2)/2%64);let d=_0n$4;for(let h=0;h<7;h++)e=(e<<_1n$5^(e>>_7n)*_0x71n)%_256n,e&_2n$3&&(d^=_1n$5<<(_1n$5<<BigInt(h))-_1n$5);_SHA3_IOTA.push(d)}const[SHA3_IOTA_H,SHA3_IOTA_L]=split$2(_SHA3_IOTA,!0),rotlH=(a,e,o)=>o>32?rotlBH(a,e,o):rotlSH(a,e,o),rotlL=(a,e,o)=>o>32?rotlBL(a,e,o):rotlSL(a,e,o);function keccakP(a,e=24){const o=new Uint32Array(10);for(let c=24-e;c<24;c++){for(let et=0;et<10;et++)o[et]=a[et]^a[et+10]^a[et+20]^a[et+30]^a[et+40];for(let et=0;et<10;et+=2){const tt=(et+8)%10,ot=(et+2)%10,ft=o[ot],ht=o[ot+1],yt=rotlH(ft,ht,1)^o[tt],gt=rotlL(ft,ht,1)^o[tt+1];for(let wt=0;wt<50;wt+=10)a[et+wt]^=yt,a[et+wt+1]^=gt}let d=a[2],h=a[3];for(let et=0;et<24;et++){const tt=SHA3_ROTL[et],ot=rotlH(d,h,tt),ft=rotlL(d,h,tt),ht=SHA3_PI[et];d=a[ht],h=a[ht+1],a[ht]=ot,a[ht+1]=ft}for(let et=0;et<50;et+=10){for(let tt=0;tt<10;tt++)o[tt]=a[et+tt];for(let tt=0;tt<10;tt++)a[et+tt]^=~o[(tt+2)%10]&o[(tt+4)%10]}a[0]^=SHA3_IOTA_H[c],a[1]^=SHA3_IOTA_L[c]}o.fill(0)}class Keccak extends Hash{constructor(e,o,c,d=!1,h=24){if(super(),this.blockLen=e,this.suffix=o,this.outputLen=c,this.enableXOF=d,this.rounds=h,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,number$1(c),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=u32(this.state)}keccak(){keccakP(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){exists(this);const{blockLen:o,state:c}=this;e=toBytes$3(e);const d=e.length;for(let h=0;h<d;){const et=Math.min(o-this.pos,d-h);for(let tt=0;tt<et;tt++)c[this.pos++]^=e[h++];this.pos===o&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:o,pos:c,blockLen:d}=this;e[c]^=o,o&128&&c===d-1&&this.keccak(),e[d-1]^=128,this.keccak()}writeInto(e){exists(this,!1),bytes(e),this.finish();const o=this.state,{blockLen:c}=this;for(let d=0,h=e.length;d<h;){this.posOut>=c&&this.keccak();const et=Math.min(c-this.posOut,h-d);e.set(o.subarray(this.posOut,this.posOut+et),d),this.posOut+=et,d+=et}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return number$1(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:o,suffix:c,outputLen:d,rounds:h,enableXOF:et}=this;return e||(e=new Keccak(o,c,d,et,h)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=h,e.suffix=c,e.outputLen=d,e.enableXOF=et,e.destroyed=this.destroyed,e}}const gen=(a,e,o)=>wrapConstructor(()=>new Keccak(e,a,o)),keccak_256=gen(1,136,256/8);let locked$3=!1;const _keccak256=function(a){return keccak_256(a)};let __keccak256=_keccak256;function keccak256(a){const e=getBytes(a,"data");return hexlify$1(__keccak256(e))}keccak256._=_keccak256;keccak256.lock=function(){locked$3=!0};keccak256.register=function(a){if(locked$3)throw new TypeError("keccak256 is locked");__keccak256=a};Object.freeze(keccak256);const Rho=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Id=Uint8Array.from({length:16},(a,e)=>e),Pi=Id.map(a=>(9*a+5)%16);let idxL=[Id],idxR=[Pi];for(let a=0;a<4;a++)for(let e of[idxL,idxR])e.push(e[a].map(o=>Rho[o]));const shifts=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(a=>new Uint8Array(a)),shiftsL=idxL.map((a,e)=>a.map(o=>shifts[e][o])),shiftsR=idxR.map((a,e)=>a.map(o=>shifts[e][o])),Kl=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Kr=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),rotl$1=(a,e)=>a<<e|a>>>32-e;function f(a,e,o,c){return a===0?e^o^c:a===1?e&o|~e&c:a===2?(e|~o)^c:a===3?e&c|o&~c:e^(o|~c)}const BUF=new Uint32Array(16);class RIPEMD160 extends SHA2{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:o,h2:c,h3:d,h4:h}=this;return[e,o,c,d,h]}set(e,o,c,d,h){this.h0=e|0,this.h1=o|0,this.h2=c|0,this.h3=d|0,this.h4=h|0}process(e,o){for(let wt=0;wt<16;wt++,o+=4)BUF[wt]=e.getUint32(o,!0);let c=this.h0|0,d=c,h=this.h1|0,et=h,tt=this.h2|0,ot=tt,ft=this.h3|0,ht=ft,yt=this.h4|0,gt=yt;for(let wt=0;wt<5;wt++){const bt=4-wt,xt=Kl[wt],Et=Kr[wt],vt=idxL[wt],$t=idxR[wt],At=shiftsL[wt],kt=shiftsR[wt];for(let It=0;It<16;It++){const Dt=rotl$1(c+f(wt,h,tt,ft)+BUF[vt[It]]+xt,At[It])+yt|0;c=yt,yt=ft,ft=rotl$1(tt,10)|0,tt=h,h=Dt}for(let It=0;It<16;It++){const Dt=rotl$1(d+f(bt,et,ot,ht)+BUF[$t[It]]+Et,kt[It])+gt|0;d=gt,gt=ht,ht=rotl$1(ot,10)|0,ot=et,et=Dt}}this.set(this.h1+tt+ht|0,this.h2+ft+gt|0,this.h3+yt+d|0,this.h4+c+et|0,this.h0+h+ot|0)}roundClean(){BUF.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const ripemd160$1=wrapConstructor(()=>new RIPEMD160);let locked$2=!1;const _ripemd160=function(a){return ripemd160$1(a)};let __ripemd160=_ripemd160;function ripemd160(a){const e=getBytes(a,"data");return hexlify$1(__ripemd160(e))}ripemd160._=_ripemd160;ripemd160.lock=function(){locked$2=!0};ripemd160.register=function(a){if(locked$2)throw new TypeError("ripemd160 is locked");__ripemd160=a};Object.freeze(ripemd160);let locked$1=!1;const _pbkdf2=function(a,e,o,c,d){return pbkdf2Sync(a,e,o,c,d)};let __pbkdf2=_pbkdf2;function pbkdf2(a,e,o,c,d){const h=getBytes(a,"password"),et=getBytes(e,"salt");return hexlify$1(__pbkdf2(h,et,o,c,d))}pbkdf2._=_pbkdf2;pbkdf2.lock=function(){locked$1=!0};pbkdf2.register=function(a){if(locked$1)throw new Error("pbkdf2 is locked");__pbkdf2=a};Object.freeze(pbkdf2);let locked=!1;const _randomBytes=function(a){return new Uint8Array(randomBytes$2(a))};let __randomBytes=_randomBytes;function randomBytes$1(a){return __randomBytes(a)}randomBytes$1._=_randomBytes;randomBytes$1.lock=function(){locked=!0};randomBytes$1.register=function(a){if(locked)throw new Error("randomBytes is locked");__randomBytes=a};Object.freeze(randomBytes$1);const rotl=(a,e)=>a<<e|a>>>32-e;function XorAndSalsa(a,e,o,c,d,h){let et=a[e++]^o[c++],tt=a[e++]^o[c++],ot=a[e++]^o[c++],ft=a[e++]^o[c++],ht=a[e++]^o[c++],yt=a[e++]^o[c++],gt=a[e++]^o[c++],wt=a[e++]^o[c++],bt=a[e++]^o[c++],xt=a[e++]^o[c++],Et=a[e++]^o[c++],vt=a[e++]^o[c++],$t=a[e++]^o[c++],At=a[e++]^o[c++],kt=a[e++]^o[c++],It=a[e++]^o[c++],Dt=et,Mt=tt,zt=ot,Kt=ft,Yt=ht,er=yt,qt=gt,Ft=wt,mt=bt,Tt=xt,Rt=Et,Ot=vt,Lt=$t,Ut=At,Gt=kt,Bt=It;for(let St=0;St<8;St+=2)Yt^=rotl(Dt+Lt|0,7),mt^=rotl(Yt+Dt|0,9),Lt^=rotl(mt+Yt|0,13),Dt^=rotl(Lt+mt|0,18),Tt^=rotl(er+Mt|0,7),Ut^=rotl(Tt+er|0,9),Mt^=rotl(Ut+Tt|0,13),er^=rotl(Mt+Ut|0,18),Gt^=rotl(Rt+qt|0,7),zt^=rotl(Gt+Rt|0,9),qt^=rotl(zt+Gt|0,13),Rt^=rotl(qt+zt|0,18),Kt^=rotl(Bt+Ot|0,7),Ft^=rotl(Kt+Bt|0,9),Ot^=rotl(Ft+Kt|0,13),Bt^=rotl(Ot+Ft|0,18),Mt^=rotl(Dt+Kt|0,7),zt^=rotl(Mt+Dt|0,9),Kt^=rotl(zt+Mt|0,13),Dt^=rotl(Kt+zt|0,18),qt^=rotl(er+Yt|0,7),Ft^=rotl(qt+er|0,9),Yt^=rotl(Ft+qt|0,13),er^=rotl(Yt+Ft|0,18),Ot^=rotl(Rt+Tt|0,7),mt^=rotl(Ot+Rt|0,9),Tt^=rotl(mt+Ot|0,13),Rt^=rotl(Tt+mt|0,18),Lt^=rotl(Bt+Gt|0,7),Ut^=rotl(Lt+Bt|0,9),Gt^=rotl(Ut+Lt|0,13),Bt^=rotl(Gt+Ut|0,18);d[h++]=et+Dt|0,d[h++]=tt+Mt|0,d[h++]=ot+zt|0,d[h++]=ft+Kt|0,d[h++]=ht+Yt|0,d[h++]=yt+er|0,d[h++]=gt+qt|0,d[h++]=wt+Ft|0,d[h++]=bt+mt|0,d[h++]=xt+Tt|0,d[h++]=Et+Rt|0,d[h++]=vt+Ot|0,d[h++]=$t+Lt|0,d[h++]=At+Ut|0,d[h++]=kt+Gt|0,d[h++]=It+Bt|0}function BlockMix(a,e,o,c,d){let h=c+0,et=c+16*d;for(let tt=0;tt<16;tt++)o[et+tt]=a[e+(2*d-1)*16+tt];for(let tt=0;tt<d;tt++,h+=16,e+=16)XorAndSalsa(o,et,a,e,o,h),tt>0&&(et+=16),XorAndSalsa(o,h,a,e+=16,o,et)}function scryptInit(a,e,o){const c=checkOpts({dkLen:32,asyncTick:10,maxmem:1073742848},o),{N:d,r:h,p:et,dkLen:tt,asyncTick:ot,maxmem:ft,onProgress:ht}=c;if(number$1(d),number$1(h),number$1(et),number$1(tt),number$1(ot),number$1(ft),ht!==void 0&&typeof ht!="function")throw new Error("progressCb should be function");const yt=128*h,gt=yt/4;if(d<=1||d&d-1||d>=2**(yt/8)||d>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(et<0||et>(2**32-1)*32/yt)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(tt<0||tt>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const wt=yt*(d+et);if(wt>ft)throw new Error(`Scrypt: parameters too large, ${wt} (128 * r * (N + p)) > ${ft} (maxmem)`);const bt=pbkdf2$1(sha256$4,a,e,{c:1,dkLen:yt*et}),xt=u32(bt),Et=u32(new Uint8Array(yt*d)),vt=u32(new Uint8Array(yt));let $t=()=>{};if(ht){const At=2*d*et,kt=Math.max(Math.floor(At/1e4),1);let It=0;$t=()=>{It++,ht&&(!(It%kt)||It===At)&&ht(It/At)}}return{N:d,r:h,p:et,dkLen:tt,blockSize32:gt,V:Et,B32:xt,B:bt,tmp:vt,blockMixCb:$t,asyncTick:ot}}function scryptOutput(a,e,o,c,d){const h=pbkdf2$1(sha256$4,a,o,{c:1,dkLen:e});return o.fill(0),c.fill(0),d.fill(0),h}function scrypt$1(a,e,o){const{N:c,r:d,p:h,dkLen:et,blockSize32:tt,V:ot,B32:ft,B:ht,tmp:yt,blockMixCb:gt}=scryptInit(a,e,o);for(let wt=0;wt<h;wt++){const bt=tt*wt;for(let xt=0;xt<tt;xt++)ot[xt]=ft[bt+xt];for(let xt=0,Et=0;xt<c-1;xt++)BlockMix(ot,Et,ot,Et+=tt,d),gt();BlockMix(ot,(c-1)*tt,ft,bt,d),gt();for(let xt=0;xt<c;xt++){const Et=ft[bt+tt-16]%c;for(let vt=0;vt<tt;vt++)yt[vt]=ft[bt+vt]^ot[Et*tt+vt];BlockMix(yt,0,ft,bt,d),gt()}}return scryptOutput(a,et,ht,ot,yt)}async function scryptAsync(a,e,o){const{N:c,r:d,p:h,dkLen:et,blockSize32:tt,V:ot,B32:ft,B:ht,tmp:yt,blockMixCb:gt,asyncTick:wt}=scryptInit(a,e,o);for(let bt=0;bt<h;bt++){const xt=tt*bt;for(let vt=0;vt<tt;vt++)ot[vt]=ft[xt+vt];let Et=0;await asyncLoop(c-1,wt,()=>{BlockMix(ot,Et,ot,Et+=tt,d),gt()}),BlockMix(ot,(c-1)*tt,ft,xt,d),gt(),await asyncLoop(c,wt,()=>{const vt=ft[xt+tt-16]%c;for(let $t=0;$t<tt;$t++)yt[$t]=ft[xt+$t]^ot[vt*tt+$t];BlockMix(yt,0,ft,xt,d),gt()})}return scryptOutput(a,et,ht,ot,yt)}let lockedSync=!1,lockedAsync=!1;const _scryptAsync=async function(a,e,o,c,d,h,et){return await scryptAsync(a,e,{N:o,r:c,p:d,dkLen:h,onProgress:et})},_scryptSync=function(a,e,o,c,d,h){return scrypt$1(a,e,{N:o,r:c,p:d,dkLen:h})};let __scryptAsync=_scryptAsync,__scryptSync=_scryptSync;async function scrypt(a,e,o,c,d,h,et){const tt=getBytes(a,"passwd"),ot=getBytes(e,"salt");return hexlify$1(await __scryptAsync(tt,ot,o,c,d,h,et))}scrypt._=_scryptAsync;scrypt.lock=function(){lockedAsync=!0};scrypt.register=function(a){if(lockedAsync)throw new Error("scrypt is locked");__scryptAsync=a};Object.freeze(scrypt);function scryptSync(a,e,o,c,d,h){const et=getBytes(a,"passwd"),tt=getBytes(e,"salt");return hexlify$1(__scryptSync(et,tt,o,c,d,h))}scryptSync._=_scryptSync;scryptSync.lock=function(){lockedSync=!0};scryptSync.register=function(a){if(lockedSync)throw new Error("scryptSync is locked");__scryptSync=a};Object.freeze(scryptSync);const _sha256=function(a){return createHash("sha256").update(a).digest()};let __sha256=_sha256,locked256=!1;function sha256$3(a){const e=getBytes(a,"data");return hexlify$1(__sha256(e))}sha256$3._=_sha256;sha256$3.lock=function(){locked256=!0};sha256$3.register=function(a){if(locked256)throw new Error("sha256 is locked");__sha256=a};Object.freeze(sha256$3);Object.freeze(sha256$3);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$3=BigInt(0),_1n$4=BigInt(1),_2n$2=BigInt(2),u8a=a=>a instanceof Uint8Array,hexes=Array.from({length:256},(a,e)=>e.toString(16).padStart(2,"0"));function bytesToHex(a){if(!u8a(a))throw new Error("Uint8Array expected");let e="";for(let o=0;o<a.length;o++)e+=hexes[a[o]];return e}function numberToHexUnpadded(a){const e=a.toString(16);return e.length&1?`0${e}`:e}function hexToNumber(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);return BigInt(a===""?"0":`0x${a}`)}function hexToBytes(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);const e=a.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const o=new Uint8Array(e/2);for(let c=0;c<o.length;c++){const d=c*2,h=a.slice(d,d+2),et=Number.parseInt(h,16);if(Number.isNaN(et)||et<0)throw new Error("Invalid byte sequence");o[c]=et}return o}function bytesToNumberBE(a){return hexToNumber(bytesToHex(a))}function bytesToNumberLE(a){if(!u8a(a))throw new Error("Uint8Array expected");return hexToNumber(bytesToHex(Uint8Array.from(a).reverse()))}function numberToBytesBE(a,e){return hexToBytes(a.toString(16).padStart(e*2,"0"))}function numberToBytesLE(a,e){return numberToBytesBE(a,e).reverse()}function numberToVarBytesBE(a){return hexToBytes(numberToHexUnpadded(a))}function ensureBytes(a,e,o){let c;if(typeof e=="string")try{c=hexToBytes(e)}catch(h){throw new Error(`${a} must be valid hex string, got "${e}". Cause: ${h}`)}else if(u8a(e))c=Uint8Array.from(e);else throw new Error(`${a} must be hex string or Uint8Array`);const d=c.length;if(typeof o=="number"&&d!==o)throw new Error(`${a} expected ${o} bytes, got ${d}`);return c}function concatBytes(...a){const e=new Uint8Array(a.reduce((c,d)=>c+d.length,0));let o=0;return a.forEach(c=>{if(!u8a(c))throw new Error("Uint8Array expected");e.set(c,o),o+=c.length}),e}function equalBytes(a,e){if(a.length!==e.length)return!1;for(let o=0;o<a.length;o++)if(a[o]!==e[o])return!1;return!0}function utf8ToBytes$1(a){if(typeof a!="string")throw new Error(`utf8ToBytes expected string, got ${typeof a}`);return new Uint8Array(new TextEncoder().encode(a))}function bitLen(a){let e;for(e=0;a>_0n$3;a>>=_1n$4,e+=1);return e}function bitGet(a,e){return a>>BigInt(e)&_1n$4}const bitSet=(a,e,o)=>a|(o?_1n$4:_0n$3)<<BigInt(e),bitMask=a=>(_2n$2<<BigInt(a-1))-_1n$4,u8n=a=>new Uint8Array(a),u8fr=a=>Uint8Array.from(a);function createHmacDrbg(a,e,o){if(typeof a!="number"||a<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof o!="function")throw new Error("hmacFn must be a function");let c=u8n(a),d=u8n(a),h=0;const et=()=>{c.fill(1),d.fill(0),h=0},tt=(...yt)=>o(d,c,...yt),ot=(yt=u8n())=>{d=tt(u8fr([0]),yt),c=tt(),yt.length!==0&&(d=tt(u8fr([1]),yt),c=tt())},ft=()=>{if(h++>=1e3)throw new Error("drbg: tried 1000 values");let yt=0;const gt=[];for(;yt<e;){c=tt();const wt=c.slice();gt.push(wt),yt+=c.length}return concatBytes(...gt)};return(yt,gt)=>{et(),ot(yt);let wt;for(;!(wt=gt(ft()));)ot();return et(),wt}}const validatorFns={bigint:a=>typeof a=="bigint",function:a=>typeof a=="function",boolean:a=>typeof a=="boolean",string:a=>typeof a=="string",stringOrUint8Array:a=>typeof a=="string"||a instanceof Uint8Array,isSafeInteger:a=>Number.isSafeInteger(a),array:a=>Array.isArray(a),field:(a,e)=>e.Fp.isValid(a),hash:a=>typeof a=="function"&&Number.isSafeInteger(a.outputLen)};function validateObject(a,e,o={}){const c=(d,h,et)=>{const tt=validatorFns[h];if(typeof tt!="function")throw new Error(`Invalid validator "${h}", expected function`);const ot=a[d];if(!(et&&ot===void 0)&&!tt(ot,a))throw new Error(`Invalid param ${String(d)}=${ot} (${typeof ot}), expected ${h}`)};for(const[d,h]of Object.entries(e))c(d,h,!1);for(const[d,h]of Object.entries(o))c(d,h,!0);return a}const ut=Object.freeze(Object.defineProperty({__proto__:null,bitGet,bitLen,bitMask,bitSet,bytesToHex,bytesToNumberBE,bytesToNumberLE,concatBytes,createHmacDrbg,ensureBytes,equalBytes,hexToBytes,hexToNumber,numberToBytesBE,numberToBytesLE,numberToHexUnpadded,numberToVarBytesBE,utf8ToBytes:utf8ToBytes$1,validateObject},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$2=BigInt(0),_1n$3=BigInt(1),_2n$1=BigInt(2),_3n$1=BigInt(3),_4n=BigInt(4),_5n=BigInt(5),_8n=BigInt(8);BigInt(9);BigInt(16);function mod(a,e){const o=a%e;return o>=_0n$2?o:e+o}function pow(a,e,o){if(o<=_0n$2||e<_0n$2)throw new Error("Expected power/modulo > 0");if(o===_1n$3)return _0n$2;let c=_1n$3;for(;e>_0n$2;)e&_1n$3&&(c=c*a%o),a=a*a%o,e>>=_1n$3;return c}function pow2(a,e,o){let c=a;for(;e-- >_0n$2;)c*=c,c%=o;return c}function invert(a,e){if(a===_0n$2||e<=_0n$2)throw new Error(`invert: expected positive integers, got n=${a} mod=${e}`);let o=mod(a,e),c=e,d=_0n$2,h=_1n$3;for(;o!==_0n$2;){const tt=c/o,ot=c%o,ft=d-h*tt;c=o,o=ot,d=h,h=ft}if(c!==_1n$3)throw new Error("invert: does not exist");return mod(d,e)}function tonelliShanks(a){const e=(a-_1n$3)/_2n$1;let o,c,d;for(o=a-_1n$3,c=0;o%_2n$1===_0n$2;o/=_2n$1,c++);for(d=_2n$1;d<a&&pow(d,e,a)!==a-_1n$3;d++);if(c===1){const et=(a+_1n$3)/_4n;return function(ot,ft){const ht=ot.pow(ft,et);if(!ot.eql(ot.sqr(ht),ft))throw new Error("Cannot find square root");return ht}}const h=(o+_1n$3)/_2n$1;return function(tt,ot){if(tt.pow(ot,e)===tt.neg(tt.ONE))throw new Error("Cannot find square root");let ft=c,ht=tt.pow(tt.mul(tt.ONE,d),o),yt=tt.pow(ot,h),gt=tt.pow(ot,o);for(;!tt.eql(gt,tt.ONE);){if(tt.eql(gt,tt.ZERO))return tt.ZERO;let wt=1;for(let xt=tt.sqr(gt);wt<ft&&!tt.eql(xt,tt.ONE);wt++)xt=tt.sqr(xt);const bt=tt.pow(ht,_1n$3<<BigInt(ft-wt-1));ht=tt.sqr(bt),yt=tt.mul(yt,bt),gt=tt.mul(gt,ht),ft=wt}return yt}}function FpSqrt(a){if(a%_4n===_3n$1){const e=(a+_1n$3)/_4n;return function(c,d){const h=c.pow(d,e);if(!c.eql(c.sqr(h),d))throw new Error("Cannot find square root");return h}}if(a%_8n===_5n){const e=(a-_5n)/_8n;return function(c,d){const h=c.mul(d,_2n$1),et=c.pow(h,e),tt=c.mul(d,et),ot=c.mul(c.mul(tt,_2n$1),et),ft=c.mul(tt,c.sub(ot,c.ONE));if(!c.eql(c.sqr(ft),d))throw new Error("Cannot find square root");return ft}}return tonelliShanks(a)}const FIELD_FIELDS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField(a){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},o=FIELD_FIELDS.reduce((c,d)=>(c[d]="function",c),e);return validateObject(a,o)}function FpPow(a,e,o){if(o<_0n$2)throw new Error("Expected power > 0");if(o===_0n$2)return a.ONE;if(o===_1n$3)return e;let c=a.ONE,d=e;for(;o>_0n$2;)o&_1n$3&&(c=a.mul(c,d)),d=a.sqr(d),o>>=_1n$3;return c}function FpInvertBatch(a,e){const o=new Array(e.length),c=e.reduce((h,et,tt)=>a.is0(et)?h:(o[tt]=h,a.mul(h,et)),a.ONE),d=a.inv(c);return e.reduceRight((h,et,tt)=>a.is0(et)?h:(o[tt]=a.mul(h,o[tt]),a.mul(h,et)),d),o}function nLength(a,e){const o=e!==void 0?e:a.toString(2).length,c=Math.ceil(o/8);return{nBitLength:o,nByteLength:c}}function Field(a,e,o=!1,c={}){if(a<=_0n$2)throw new Error(`Expected Field ORDER > 0, got ${a}`);const{nBitLength:d,nByteLength:h}=nLength(a,e);if(h>2048)throw new Error("Field lengths over 2048 bytes are not supported");const et=FpSqrt(a),tt=Object.freeze({ORDER:a,BITS:d,BYTES:h,MASK:bitMask(d),ZERO:_0n$2,ONE:_1n$3,create:ot=>mod(ot,a),isValid:ot=>{if(typeof ot!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof ot}`);return _0n$2<=ot&&ot<a},is0:ot=>ot===_0n$2,isOdd:ot=>(ot&_1n$3)===_1n$3,neg:ot=>mod(-ot,a),eql:(ot,ft)=>ot===ft,sqr:ot=>mod(ot*ot,a),add:(ot,ft)=>mod(ot+ft,a),sub:(ot,ft)=>mod(ot-ft,a),mul:(ot,ft)=>mod(ot*ft,a),pow:(ot,ft)=>FpPow(tt,ot,ft),div:(ot,ft)=>mod(ot*invert(ft,a),a),sqrN:ot=>ot*ot,addN:(ot,ft)=>ot+ft,subN:(ot,ft)=>ot-ft,mulN:(ot,ft)=>ot*ft,inv:ot=>invert(ot,a),sqrt:c.sqrt||(ot=>et(tt,ot)),invertBatch:ot=>FpInvertBatch(tt,ot),cmov:(ot,ft,ht)=>ht?ft:ot,toBytes:ot=>o?numberToBytesLE(ot,h):numberToBytesBE(ot,h),fromBytes:ot=>{if(ot.length!==h)throw new Error(`Fp.fromBytes: expected ${h}, got ${ot.length}`);return o?bytesToNumberLE(ot):bytesToNumberBE(ot)}});return Object.freeze(tt)}function getFieldBytesLength(a){if(typeof a!="bigint")throw new Error("field order must be bigint");const e=a.toString(2).length;return Math.ceil(e/8)}function getMinHashLength(a){const e=getFieldBytesLength(a);return e+Math.ceil(e/2)}function mapHashToField(a,e,o=!1){const c=a.length,d=getFieldBytesLength(e),h=getMinHashLength(e);if(c<16||c<h||c>1024)throw new Error(`expected ${h}-1024 bytes of input, got ${c}`);const et=o?bytesToNumberBE(a):bytesToNumberLE(a),tt=mod(et,e-_1n$3)+_1n$3;return o?numberToBytesLE(tt,d):numberToBytesBE(tt,d)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$1=BigInt(0),_1n$2=BigInt(1);function wNAF(a,e){const o=(d,h)=>{const et=h.negate();return d?et:h},c=d=>{const h=Math.ceil(e/d)+1,et=2**(d-1);return{windows:h,windowSize:et}};return{constTimeNegate:o,unsafeLadder(d,h){let et=a.ZERO,tt=d;for(;h>_0n$1;)h&_1n$2&&(et=et.add(tt)),tt=tt.double(),h>>=_1n$2;return et},precomputeWindow(d,h){const{windows:et,windowSize:tt}=c(h),ot=[];let ft=d,ht=ft;for(let yt=0;yt<et;yt++){ht=ft,ot.push(ht);for(let gt=1;gt<tt;gt++)ht=ht.add(ft),ot.push(ht);ft=ht.double()}return ot},wNAF(d,h,et){const{windows:tt,windowSize:ot}=c(d);let ft=a.ZERO,ht=a.BASE;const yt=BigInt(2**d-1),gt=2**d,wt=BigInt(d);for(let bt=0;bt<tt;bt++){const xt=bt*ot;let Et=Number(et&yt);et>>=wt,Et>ot&&(Et-=gt,et+=_1n$2);const vt=xt,$t=xt+Math.abs(Et)-1,At=bt%2!==0,kt=Et<0;Et===0?ht=ht.add(o(At,h[vt])):ft=ft.add(o(kt,h[$t]))}return{p:ft,f:ht}},wNAFCached(d,h,et,tt){const ot=d._WINDOW_SIZE||1;let ft=h.get(d);return ft||(ft=this.precomputeWindow(d,ot),ot!==1&&h.set(d,tt(ft))),this.wNAF(ot,ft,et)}}}function validateBasic(a){return validateField(a.Fp),validateObject(a,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength(a.n,a.nBitLength),...a,p:a.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function validatePointOpts(a){const e=validateBasic(a);validateObject(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:o,Fp:c,a:d}=e;if(o){if(!c.eql(d,c.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof o!="object"||typeof o.beta!="bigint"||typeof o.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:b2n,hexToBytes:h2b}=ut,DER={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(a){const{Err:e}=DER;if(a.length<2||a[0]!==2)throw new e("Invalid signature integer tag");const o=a[1],c=a.subarray(2,o+2);if(!o||c.length!==o)throw new e("Invalid signature integer: wrong length");if(c[0]&128)throw new e("Invalid signature integer: negative");if(c[0]===0&&!(c[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:b2n(c),l:a.subarray(o+2)}},toSig(a){const{Err:e}=DER,o=typeof a=="string"?h2b(a):a;if(!(o instanceof Uint8Array))throw new Error("ui8a expected");let c=o.length;if(c<2||o[0]!=48)throw new e("Invalid signature tag");if(o[1]!==c-2)throw new e("Invalid signature: incorrect length");const{d,l:h}=DER._parseInt(o.subarray(2)),{d:et,l:tt}=DER._parseInt(h);if(tt.length)throw new e("Invalid signature: left bytes after parsing");return{r:d,s:et}},hexFromSig(a){const e=ft=>Number.parseInt(ft[0],16)&8?"00"+ft:ft,o=ft=>{const ht=ft.toString(16);return ht.length&1?`0${ht}`:ht},c=e(o(a.s)),d=e(o(a.r)),h=c.length/2,et=d.length/2,tt=o(h),ot=o(et);return`30${o(et+h+4)}02${ot}${d}02${tt}${c}`}},_0n=BigInt(0),_1n$1=BigInt(1);BigInt(2);const _3n=BigInt(3);BigInt(4);function weierstrassPoints(a){const e=validatePointOpts(a),{Fp:o}=e,c=e.toBytes||((bt,xt,Et)=>{const vt=xt.toAffine();return concatBytes(Uint8Array.from([4]),o.toBytes(vt.x),o.toBytes(vt.y))}),d=e.fromBytes||(bt=>{const xt=bt.subarray(1),Et=o.fromBytes(xt.subarray(0,o.BYTES)),vt=o.fromBytes(xt.subarray(o.BYTES,2*o.BYTES));return{x:Et,y:vt}});function h(bt){const{a:xt,b:Et}=e,vt=o.sqr(bt),$t=o.mul(vt,bt);return o.add(o.add($t,o.mul(bt,xt)),Et)}if(!o.eql(o.sqr(e.Gy),h(e.Gx)))throw new Error("bad generator point: equation left != right");function et(bt){return typeof bt=="bigint"&&_0n<bt&&bt<e.n}function tt(bt){if(!et(bt))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function ot(bt){const{allowedPrivateKeyLengths:xt,nByteLength:Et,wrapPrivateKey:vt,n:$t}=e;if(xt&&typeof bt!="bigint"){if(bt instanceof Uint8Array&&(bt=bytesToHex(bt)),typeof bt!="string"||!xt.includes(bt.length))throw new Error("Invalid key");bt=bt.padStart(Et*2,"0")}let At;try{At=typeof bt=="bigint"?bt:bytesToNumberBE(ensureBytes("private key",bt,Et))}catch{throw new Error(`private key must be ${Et} bytes, hex or bigint, not ${typeof bt}`)}return vt&&(At=mod(At,$t)),tt(At),At}const ft=new Map;function ht(bt){if(!(bt instanceof yt))throw new Error("ProjectivePoint expected")}class yt{constructor(xt,Et,vt){if(this.px=xt,this.py=Et,this.pz=vt,xt==null||!o.isValid(xt))throw new Error("x required");if(Et==null||!o.isValid(Et))throw new Error("y required");if(vt==null||!o.isValid(vt))throw new Error("z required")}static fromAffine(xt){const{x:Et,y:vt}=xt||{};if(!xt||!o.isValid(Et)||!o.isValid(vt))throw new Error("invalid affine point");if(xt instanceof yt)throw new Error("projective point not allowed");const $t=At=>o.eql(At,o.ZERO);return $t(Et)&&$t(vt)?yt.ZERO:new yt(Et,vt,o.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(xt){const Et=o.invertBatch(xt.map(vt=>vt.pz));return xt.map((vt,$t)=>vt.toAffine(Et[$t])).map(yt.fromAffine)}static fromHex(xt){const Et=yt.fromAffine(d(ensureBytes("pointHex",xt)));return Et.assertValidity(),Et}static fromPrivateKey(xt){return yt.BASE.multiply(ot(xt))}_setWindowSize(xt){this._WINDOW_SIZE=xt,ft.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!o.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:xt,y:Et}=this.toAffine();if(!o.isValid(xt)||!o.isValid(Et))throw new Error("bad point: x or y not FE");const vt=o.sqr(Et),$t=h(xt);if(!o.eql(vt,$t))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:xt}=this.toAffine();if(o.isOdd)return!o.isOdd(xt);throw new Error("Field doesn't support isOdd")}equals(xt){ht(xt);const{px:Et,py:vt,pz:$t}=this,{px:At,py:kt,pz:It}=xt,Dt=o.eql(o.mul(Et,It),o.mul(At,$t)),Mt=o.eql(o.mul(vt,It),o.mul(kt,$t));return Dt&&Mt}negate(){return new yt(this.px,o.neg(this.py),this.pz)}double(){const{a:xt,b:Et}=e,vt=o.mul(Et,_3n),{px:$t,py:At,pz:kt}=this;let It=o.ZERO,Dt=o.ZERO,Mt=o.ZERO,zt=o.mul($t,$t),Kt=o.mul(At,At),Yt=o.mul(kt,kt),er=o.mul($t,At);return er=o.add(er,er),Mt=o.mul($t,kt),Mt=o.add(Mt,Mt),It=o.mul(xt,Mt),Dt=o.mul(vt,Yt),Dt=o.add(It,Dt),It=o.sub(Kt,Dt),Dt=o.add(Kt,Dt),Dt=o.mul(It,Dt),It=o.mul(er,It),Mt=o.mul(vt,Mt),Yt=o.mul(xt,Yt),er=o.sub(zt,Yt),er=o.mul(xt,er),er=o.add(er,Mt),Mt=o.add(zt,zt),zt=o.add(Mt,zt),zt=o.add(zt,Yt),zt=o.mul(zt,er),Dt=o.add(Dt,zt),Yt=o.mul(At,kt),Yt=o.add(Yt,Yt),zt=o.mul(Yt,er),It=o.sub(It,zt),Mt=o.mul(Yt,Kt),Mt=o.add(Mt,Mt),Mt=o.add(Mt,Mt),new yt(It,Dt,Mt)}add(xt){ht(xt);const{px:Et,py:vt,pz:$t}=this,{px:At,py:kt,pz:It}=xt;let Dt=o.ZERO,Mt=o.ZERO,zt=o.ZERO;const Kt=e.a,Yt=o.mul(e.b,_3n);let er=o.mul(Et,At),qt=o.mul(vt,kt),Ft=o.mul($t,It),mt=o.add(Et,vt),Tt=o.add(At,kt);mt=o.mul(mt,Tt),Tt=o.add(er,qt),mt=o.sub(mt,Tt),Tt=o.add(Et,$t);let Rt=o.add(At,It);return Tt=o.mul(Tt,Rt),Rt=o.add(er,Ft),Tt=o.sub(Tt,Rt),Rt=o.add(vt,$t),Dt=o.add(kt,It),Rt=o.mul(Rt,Dt),Dt=o.add(qt,Ft),Rt=o.sub(Rt,Dt),zt=o.mul(Kt,Tt),Dt=o.mul(Yt,Ft),zt=o.add(Dt,zt),Dt=o.sub(qt,zt),zt=o.add(qt,zt),Mt=o.mul(Dt,zt),qt=o.add(er,er),qt=o.add(qt,er),Ft=o.mul(Kt,Ft),Tt=o.mul(Yt,Tt),qt=o.add(qt,Ft),Ft=o.sub(er,Ft),Ft=o.mul(Kt,Ft),Tt=o.add(Tt,Ft),er=o.mul(qt,Tt),Mt=o.add(Mt,er),er=o.mul(Rt,Tt),Dt=o.mul(mt,Dt),Dt=o.sub(Dt,er),er=o.mul(mt,qt),zt=o.mul(Rt,zt),zt=o.add(zt,er),new yt(Dt,Mt,zt)}subtract(xt){return this.add(xt.negate())}is0(){return this.equals(yt.ZERO)}wNAF(xt){return wt.wNAFCached(this,ft,xt,Et=>{const vt=o.invertBatch(Et.map($t=>$t.pz));return Et.map(($t,At)=>$t.toAffine(vt[At])).map(yt.fromAffine)})}multiplyUnsafe(xt){const Et=yt.ZERO;if(xt===_0n)return Et;if(tt(xt),xt===_1n$1)return this;const{endo:vt}=e;if(!vt)return wt.unsafeLadder(this,xt);let{k1neg:$t,k1:At,k2neg:kt,k2:It}=vt.splitScalar(xt),Dt=Et,Mt=Et,zt=this;for(;At>_0n||It>_0n;)At&_1n$1&&(Dt=Dt.add(zt)),It&_1n$1&&(Mt=Mt.add(zt)),zt=zt.double(),At>>=_1n$1,It>>=_1n$1;return $t&&(Dt=Dt.negate()),kt&&(Mt=Mt.negate()),Mt=new yt(o.mul(Mt.px,vt.beta),Mt.py,Mt.pz),Dt.add(Mt)}multiply(xt){tt(xt);let Et=xt,vt,$t;const{endo:At}=e;if(At){const{k1neg:kt,k1:It,k2neg:Dt,k2:Mt}=At.splitScalar(Et);let{p:zt,f:Kt}=this.wNAF(It),{p:Yt,f:er}=this.wNAF(Mt);zt=wt.constTimeNegate(kt,zt),Yt=wt.constTimeNegate(Dt,Yt),Yt=new yt(o.mul(Yt.px,At.beta),Yt.py,Yt.pz),vt=zt.add(Yt),$t=Kt.add(er)}else{const{p:kt,f:It}=this.wNAF(Et);vt=kt,$t=It}return yt.normalizeZ([vt,$t])[0]}multiplyAndAddUnsafe(xt,Et,vt){const $t=yt.BASE,At=(It,Dt)=>Dt===_0n||Dt===_1n$1||!It.equals($t)?It.multiplyUnsafe(Dt):It.multiply(Dt),kt=At(this,Et).add(At(xt,vt));return kt.is0()?void 0:kt}toAffine(xt){const{px:Et,py:vt,pz:$t}=this,At=this.is0();xt==null&&(xt=At?o.ONE:o.inv($t));const kt=o.mul(Et,xt),It=o.mul(vt,xt),Dt=o.mul($t,xt);if(At)return{x:o.ZERO,y:o.ZERO};if(!o.eql(Dt,o.ONE))throw new Error("invZ was invalid");return{x:kt,y:It}}isTorsionFree(){const{h:xt,isTorsionFree:Et}=e;if(xt===_1n$1)return!0;if(Et)return Et(yt,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:xt,clearCofactor:Et}=e;return xt===_1n$1?this:Et?Et(yt,this):this.multiplyUnsafe(e.h)}toRawBytes(xt=!0){return this.assertValidity(),c(yt,this,xt)}toHex(xt=!0){return bytesToHex(this.toRawBytes(xt))}}yt.BASE=new yt(e.Gx,e.Gy,o.ONE),yt.ZERO=new yt(o.ZERO,o.ONE,o.ZERO);const gt=e.nBitLength,wt=wNAF(yt,e.endo?Math.ceil(gt/2):gt);return{CURVE:e,ProjectivePoint:yt,normPrivateKeyToScalar:ot,weierstrassEquation:h,isWithinCurveOrder:et}}function validateOpts(a){const e=validateBasic(a);return validateObject(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function weierstrass(a){const e=validateOpts(a),{Fp:o,n:c}=e,d=o.BYTES+1,h=2*o.BYTES+1;function et(Tt){return _0n<Tt&&Tt<o.ORDER}function tt(Tt){return mod(Tt,c)}function ot(Tt){return invert(Tt,c)}const{ProjectivePoint:ft,normPrivateKeyToScalar:ht,weierstrassEquation:yt,isWithinCurveOrder:gt}=weierstrassPoints({...e,toBytes(Tt,Rt,Ot){const Lt=Rt.toAffine(),Ut=o.toBytes(Lt.x),Gt=concatBytes;return Ot?Gt(Uint8Array.from([Rt.hasEvenY()?2:3]),Ut):Gt(Uint8Array.from([4]),Ut,o.toBytes(Lt.y))},fromBytes(Tt){const Rt=Tt.length,Ot=Tt[0],Lt=Tt.subarray(1);if(Rt===d&&(Ot===2||Ot===3)){const Ut=bytesToNumberBE(Lt);if(!et(Ut))throw new Error("Point is not on curve");const Gt=yt(Ut);let Bt=o.sqrt(Gt);const St=(Bt&_1n$1)===_1n$1;return(Ot&1)===1!==St&&(Bt=o.neg(Bt)),{x:Ut,y:Bt}}else if(Rt===h&&Ot===4){const Ut=o.fromBytes(Lt.subarray(0,o.BYTES)),Gt=o.fromBytes(Lt.subarray(o.BYTES,2*o.BYTES));return{x:Ut,y:Gt}}else throw new Error(`Point of length ${Rt} was invalid. Expected ${d} compressed bytes or ${h} uncompressed bytes`)}}),wt=Tt=>bytesToHex(numberToBytesBE(Tt,e.nByteLength));function bt(Tt){const Rt=c>>_1n$1;return Tt>Rt}function xt(Tt){return bt(Tt)?tt(-Tt):Tt}const Et=(Tt,Rt,Ot)=>bytesToNumberBE(Tt.slice(Rt,Ot));class vt{constructor(Rt,Ot,Lt){this.r=Rt,this.s=Ot,this.recovery=Lt,this.assertValidity()}static fromCompact(Rt){const Ot=e.nByteLength;return Rt=ensureBytes("compactSignature",Rt,Ot*2),new vt(Et(Rt,0,Ot),Et(Rt,Ot,2*Ot))}static fromDER(Rt){const{r:Ot,s:Lt}=DER.toSig(ensureBytes("DER",Rt));return new vt(Ot,Lt)}assertValidity(){if(!gt(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!gt(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(Rt){return new vt(this.r,this.s,Rt)}recoverPublicKey(Rt){const{r:Ot,s:Lt,recovery:Ut}=this,Gt=Mt(ensureBytes("msgHash",Rt));if(Ut==null||![0,1,2,3].includes(Ut))throw new Error("recovery id invalid");const Bt=Ut===2||Ut===3?Ot+e.n:Ot;if(Bt>=o.ORDER)throw new Error("recovery id 2 or 3 invalid");const St=Ut&1?"03":"02",Vt=ft.fromHex(St+wt(Bt)),dr=ot(Bt),cr=tt(-Gt*dr),gr=tt(Lt*dr),$r=ft.BASE.multiplyAndAddUnsafe(Vt,cr,gr);if(!$r)throw new Error("point at infinify");return $r.assertValidity(),$r}hasHighS(){return bt(this.s)}normalizeS(){return this.hasHighS()?new vt(this.r,tt(-this.s),this.recovery):this}toDERRawBytes(){return hexToBytes(this.toDERHex())}toDERHex(){return DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return hexToBytes(this.toCompactHex())}toCompactHex(){return wt(this.r)+wt(this.s)}}const $t={isValidPrivateKey(Tt){try{return ht(Tt),!0}catch{return!1}},normPrivateKeyToScalar:ht,randomPrivateKey:()=>{const Tt=getMinHashLength(e.n);return mapHashToField(e.randomBytes(Tt),e.n)},precompute(Tt=8,Rt=ft.BASE){return Rt._setWindowSize(Tt),Rt.multiply(BigInt(3)),Rt}};function At(Tt,Rt=!0){return ft.fromPrivateKey(Tt).toRawBytes(Rt)}function kt(Tt){const Rt=Tt instanceof Uint8Array,Ot=typeof Tt=="string",Lt=(Rt||Ot)&&Tt.length;return Rt?Lt===d||Lt===h:Ot?Lt===2*d||Lt===2*h:Tt instanceof ft}function It(Tt,Rt,Ot=!0){if(kt(Tt))throw new Error("first arg must be private key");if(!kt(Rt))throw new Error("second arg must be public key");return ft.fromHex(Rt).multiply(ht(Tt)).toRawBytes(Ot)}const Dt=e.bits2int||function(Tt){const Rt=bytesToNumberBE(Tt),Ot=Tt.length*8-e.nBitLength;return Ot>0?Rt>>BigInt(Ot):Rt},Mt=e.bits2int_modN||function(Tt){return tt(Dt(Tt))},zt=bitMask(e.nBitLength);function Kt(Tt){if(typeof Tt!="bigint")throw new Error("bigint expected");if(!(_0n<=Tt&&Tt<zt))throw new Error(`bigint expected < 2^${e.nBitLength}`);return numberToBytesBE(Tt,e.nByteLength)}function Yt(Tt,Rt,Ot=er){if(["recovered","canonical"].some(vr=>vr in Ot))throw new Error("sign() legacy options not supported");const{hash:Lt,randomBytes:Ut}=e;let{lowS:Gt,prehash:Bt,extraEntropy:St}=Ot;Gt==null&&(Gt=!0),Tt=ensureBytes("msgHash",Tt),Bt&&(Tt=ensureBytes("prehashed msgHash",Lt(Tt)));const Vt=Mt(Tt),dr=ht(Rt),cr=[Kt(dr),Kt(Vt)];if(St!=null){const vr=St===!0?Ut(o.BYTES):St;cr.push(ensureBytes("extraEntropy",vr))}const gr=concatBytes(...cr),$r=Vt;function xr(vr){const kr=Dt(vr);if(!gt(kr))return;const Tr=ot(kr),Sr=ft.BASE.multiply(kr).toAffine(),Ir=tt(Sr.x);if(Ir===_0n)return;const Nt=tt(Tr*tt($r+Ir*dr));if(Nt===_0n)return;let ur=(Sr.x===Ir?0:2)|Number(Sr.y&_1n$1),lr=Nt;return Gt&&bt(Nt)&&(lr=xt(Nt),ur^=1),new vt(Ir,lr,ur)}return{seed:gr,k2sig:xr}}const er={lowS:e.lowS,prehash:!1},qt={lowS:e.lowS,prehash:!1};function Ft(Tt,Rt,Ot=er){const{seed:Lt,k2sig:Ut}=Yt(Tt,Rt,Ot),Gt=e;return createHmacDrbg(Gt.hash.outputLen,Gt.nByteLength,Gt.hmac)(Lt,Ut)}ft.BASE._setWindowSize(8);function mt(Tt,Rt,Ot,Lt=qt){var Sr;const Ut=Tt;if(Rt=ensureBytes("msgHash",Rt),Ot=ensureBytes("publicKey",Ot),"strict"in Lt)throw new Error("options.strict was renamed to lowS");const{lowS:Gt,prehash:Bt}=Lt;let St,Vt;try{if(typeof Ut=="string"||Ut instanceof Uint8Array)try{St=vt.fromDER(Ut)}catch(Ir){if(!(Ir instanceof DER.Err))throw Ir;St=vt.fromCompact(Ut)}else if(typeof Ut=="object"&&typeof Ut.r=="bigint"&&typeof Ut.s=="bigint"){const{r:Ir,s:Nt}=Ut;St=new vt(Ir,Nt)}else throw new Error("PARSE");Vt=ft.fromHex(Ot)}catch(Ir){if(Ir.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Gt&&St.hasHighS())return!1;Bt&&(Rt=e.hash(Rt));const{r:dr,s:cr}=St,gr=Mt(Rt),$r=ot(cr),xr=tt(gr*$r),vr=tt(dr*$r),kr=(Sr=ft.BASE.multiplyAndAddUnsafe(Vt,xr,vr))==null?void 0:Sr.toAffine();return kr?tt(kr.x)===dr:!1}return{CURVE:e,getPublicKey:At,getSharedSecret:It,sign:Ft,verify:mt,ProjectivePoint:ft,Signature:vt,utils:$t}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function getHash$1(a){return{hash:a,hmac:(e,...o)=>hmac$1(a,e,concatBytes$1(...o)),randomBytes:randomBytes$3}}function createCurve(a,e){const o=c=>weierstrass({...a,...getHash$1(c)});return Object.freeze({...o(e),create:o})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const secp256k1P=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),secp256k1N=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_1n=BigInt(1),_2n=BigInt(2),divNearest=(a,e)=>(a+e/_2n)/e;function sqrtMod(a){const e=secp256k1P,o=BigInt(3),c=BigInt(6),d=BigInt(11),h=BigInt(22),et=BigInt(23),tt=BigInt(44),ot=BigInt(88),ft=a*a*a%e,ht=ft*ft*a%e,yt=pow2(ht,o,e)*ht%e,gt=pow2(yt,o,e)*ht%e,wt=pow2(gt,_2n,e)*ft%e,bt=pow2(wt,d,e)*wt%e,xt=pow2(bt,h,e)*bt%e,Et=pow2(xt,tt,e)*xt%e,vt=pow2(Et,ot,e)*Et%e,$t=pow2(vt,tt,e)*xt%e,At=pow2($t,o,e)*ht%e,kt=pow2(At,et,e)*bt%e,It=pow2(kt,c,e)*ft%e,Dt=pow2(It,_2n,e);if(!Fp.eql(Fp.sqr(Dt),a))throw new Error("Cannot find square root");return Dt}const Fp=Field(secp256k1P,void 0,void 0,{sqrt:sqrtMod}),secp256k1=createCurve({a:BigInt(0),b:BigInt(7),Fp,n:secp256k1N,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:a=>{const e=secp256k1N,o=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),c=-_1n*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),d=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),h=o,et=BigInt("0x100000000000000000000000000000000"),tt=divNearest(h*a,e),ot=divNearest(-c*a,e);let ft=mod(a-tt*o-ot*d,e),ht=mod(-tt*c-ot*h,e);const yt=ft>et,gt=ht>et;if(yt&&(ft=e-ft),gt&&(ht=e-ht),ft>et||ht>et)throw new Error("splitScalar: Endomorphism failed, k="+a);return{k1neg:yt,k1:ft,k2neg:gt,k2:ht}}}},sha256$4);BigInt(0);secp256k1.ProjectivePoint;const ZeroAddress="0x0000000000000000000000000000000000000000",ZeroHash="0x0000000000000000000000000000000000000000000000000000000000000000",MessagePrefix=`Ethereum Signed Message:
`,BN_0$7=BigInt(0),BN_1$3=BigInt(1),BN_2$3=BigInt(2),BN_27$1=BigInt(27),BN_28$1=BigInt(28),BN_35$1=BigInt(35),_guard$3={};function toUint256(a){return zeroPadValue(toBeArray(a),32)}var ho,yo,mo,Ms;const Sn=class Sn{constructor(e,o,c,d){tr(this,ho,void 0);tr(this,yo,void 0);tr(this,mo,void 0);tr(this,Ms,void 0);assertPrivate(e,_guard$3,"Signature"),Qt(this,ho,o),Qt(this,yo,c),Qt(this,mo,d),Qt(this,Ms,null)}get r(){return Pt(this,ho)}set r(e){assertArgument(dataLength(e)===32,"invalid r","value",e),Qt(this,ho,hexlify$1(e))}get s(){return Pt(this,yo)}set s(e){assertArgument(dataLength(e)===32,"invalid s","value",e);const o=hexlify$1(e);assertArgument(parseInt(o.substring(0,3))<8,"non-canonical s","value",o),Qt(this,yo,o)}get v(){return Pt(this,mo)}set v(e){const o=getNumber(e,"value");assertArgument(o===27||o===28,"invalid v","v",e),Qt(this,mo,o)}get networkV(){return Pt(this,Ms)}get legacyChainId(){const e=this.networkV;return e==null?null:Sn.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=getBytes(this.s);return this.yParity&&(e[0]|=128),hexlify$1(e)}get compactSerialized(){return concat$3([this.r,this.yParityAndS])}get serialized(){return concat$3([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new Sn(_guard$3,this.r,this.s,this.v);return this.networkV&&Qt(e,Ms,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const o=getBigInt(e,"v");return o==BN_27$1||o==BN_28$1?BN_0$7:(assertArgument(o>=BN_35$1,"invalid EIP-155 v","v",e),(o-BN_35$1)/BN_2$3)}static getChainIdV(e,o){return getBigInt(e)*BN_2$3+BigInt(35+o-27)}static getNormalizedV(e){const o=getBigInt(e);return o===BN_0$7||o===BN_27$1?27:o===BN_1$3||o===BN_28$1?28:(assertArgument(o>=BN_35$1,"invalid v","v",e),o&BN_1$3?27:28)}static from(e){function o(ft,ht){assertArgument(ft,ht,"signature",e)}if(e==null)return new Sn(_guard$3,ZeroHash,ZeroHash,27);if(typeof e=="string"){const ft=getBytes(e,"signature");if(ft.length===64){const ht=hexlify$1(ft.slice(0,32)),yt=ft.slice(32,64),gt=yt[0]&128?28:27;return yt[0]&=127,new Sn(_guard$3,ht,hexlify$1(yt),gt)}if(ft.length===65){const ht=hexlify$1(ft.slice(0,32)),yt=ft.slice(32,64);o((yt[0]&128)===0,"non-canonical s");const gt=Sn.getNormalizedV(ft[64]);return new Sn(_guard$3,ht,hexlify$1(yt),gt)}o(!1,"invalid raw signature length")}if(e instanceof Sn)return e.clone();const c=e.r;o(c!=null,"missing r");const d=toUint256(c),h=function(ft,ht){if(ft!=null)return toUint256(ft);if(ht!=null){o(isHexString$1(ht,32),"invalid yParityAndS");const yt=getBytes(ht);return yt[0]&=127,hexlify$1(yt)}o(!1,"missing s")}(e.s,e.yParityAndS);o((getBytes(h)[0]&128)==0,"non-canonical s");const{networkV:et,v:tt}=function(ft,ht,yt){if(ft!=null){const gt=getBigInt(ft);return{networkV:gt>=BN_35$1?gt:void 0,v:Sn.getNormalizedV(gt)}}if(ht!=null)return o(isHexString$1(ht,32),"invalid yParityAndS"),{v:getBytes(ht)[0]&128?28:27};if(yt!=null){switch(getNumber(yt,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}o(!1,"invalid yParity")}o(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),ot=new Sn(_guard$3,d,h,tt);return et&&Qt(ot,Ms,et),o(e.yParity==null||getNumber(e.yParity,"sig.yParity")===ot.yParity,"yParity mismatch"),o(e.yParityAndS==null||e.yParityAndS===ot.yParityAndS,"yParityAndS mismatch"),ot}};ho=new WeakMap,yo=new WeakMap,mo=new WeakMap,Ms=new WeakMap;let Signature=Sn;var Qn;const Ss=class Ss{constructor(e){tr(this,Qn,void 0);assertArgument(dataLength(e)===32,"invalid private key","privateKey","[REDACTED]"),Qt(this,Qn,hexlify$1(e))}get privateKey(){return Pt(this,Qn)}get publicKey(){return Ss.computePublicKey(Pt(this,Qn))}get compressedPublicKey(){return Ss.computePublicKey(Pt(this,Qn),!0)}sign(e){assertArgument(dataLength(e)===32,"invalid digest length","digest",e);const o=secp256k1.sign(getBytesCopy(e),getBytesCopy(Pt(this,Qn)),{lowS:!0});return Signature.from({r:toBeHex(o.r,32),s:toBeHex(o.s,32),v:o.recovery?28:27})}computeSharedSecret(e){const o=Ss.computePublicKey(e);return hexlify$1(secp256k1.getSharedSecret(getBytesCopy(Pt(this,Qn)),getBytes(o),!1))}static computePublicKey(e,o){let c=getBytes(e,"key");if(c.length===32){const h=secp256k1.getPublicKey(c,!!o);return hexlify$1(h)}if(c.length===64){const h=new Uint8Array(65);h[0]=4,h.set(c,1),c=h}const d=secp256k1.ProjectivePoint.fromHex(c);return hexlify$1(d.toRawBytes(o))}static recoverPublicKey(e,o){assertArgument(dataLength(e)===32,"invalid digest length","digest",e);const c=Signature.from(o);let d=secp256k1.Signature.fromCompact(getBytesCopy(concat$3([c.r,c.s])));d=d.addRecoveryBit(c.yParity);const h=d.recoverPublicKey(getBytesCopy(e));return assertArgument(h!=null,"invalid signautre for digest","signature",o),"0x"+h.toHex(!1)}static addPoints(e,o,c){const d=secp256k1.ProjectivePoint.fromHex(Ss.computePublicKey(e).substring(2)),h=secp256k1.ProjectivePoint.fromHex(Ss.computePublicKey(o).substring(2));return"0x"+d.add(h).toHex(!!c)}};Qn=new WeakMap;let SigningKey=Ss;const BN_0$6=BigInt(0),BN_36=BigInt(36);function getChecksumAddress(a){a=a.toLowerCase();const e=a.substring(2).split(""),o=new Uint8Array(40);for(let d=0;d<40;d++)o[d]=e[d].charCodeAt(0);const c=getBytes(keccak256(o));for(let d=0;d<40;d+=2)c[d>>1]>>4>=8&&(e[d]=e[d].toUpperCase()),(c[d>>1]&15)>=8&&(e[d+1]=e[d+1].toUpperCase());return"0x"+e.join("")}const ibanLookup={};for(let a=0;a<10;a++)ibanLookup[String(a)]=String(a);for(let a=0;a<26;a++)ibanLookup[String.fromCharCode(65+a)]=String(10+a);const safeDigits=15;function ibanChecksum(a){a=a.toUpperCase(),a=a.substring(4)+a.substring(0,2)+"00";let e=a.split("").map(c=>ibanLookup[c]).join("");for(;e.length>=safeDigits;){let c=e.substring(0,safeDigits);e=parseInt(c,10)%97+e.substring(c.length)}let o=String(98-parseInt(e,10)%97);for(;o.length<2;)o="0"+o;return o}const Base36=function(){const a={};for(let e=0;e<36;e++){const o="0123456789abcdefghijklmnopqrstuvwxyz"[e];a[o]=BigInt(e)}return a}();function fromBase36(a){a=a.toLowerCase();let e=BN_0$6;for(let o=0;o<a.length;o++)e=e*BN_36+Base36[a[o]];return e}function getAddress$1(a){if(assertArgument(typeof a=="string","invalid address","address",a),a.match(/^(0x)?[0-9a-fA-F]{40}$/)){a.startsWith("0x")||(a="0x"+a);const e=getChecksumAddress(a);return assertArgument(!a.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===a,"bad address checksum","address",a),e}if(a.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){assertArgument(a.substring(2,4)===ibanChecksum(a),"bad icap checksum","address",a);let e=fromBase36(a.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return getChecksumAddress("0x"+e)}assertArgument(!1,"invalid address","address",a)}function getCreateAddress(a){const e=getAddress$1(a.from);let c=getBigInt(a.nonce,"tx.nonce").toString(16);return c==="0"?c="0x":c.length%2?c="0x0"+c:c="0x"+c,getAddress$1(dataSlice(keccak256(encodeRlp([e,c])),12))}function isAddressable(a){return a&&typeof a.getAddress=="function"}function isAddress(a){try{return getAddress$1(a),!0}catch{}return!1}async function checkAddress(a,e){const o=await e;return(o==null||o==="0x0000000000000000000000000000000000000000")&&(assert(typeof a!="string","unconfigured name","UNCONFIGURED_NAME",{value:a}),assertArgument(!1,"invalid AddressLike value; did not resolve to a value address","target",a)),getAddress$1(o)}function resolveAddress(a,e){if(typeof a=="string")return a.match(/^0x[0-9a-f]{40}$/i)?getAddress$1(a):(assert(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),checkAddress(a,e.resolveName(a)));if(isAddressable(a))return checkAddress(a,a.getAddress());if(a&&typeof a.then=="function")return checkAddress(a,a);assertArgument(!1,"unsupported addressable value","target",a)}const _gaurd={};function n(a,e){let o=!1;return e<0&&(o=!0,e*=-1),new Typed(_gaurd,`${o?"":"u"}int${e}`,a,{signed:o,width:e})}function b(a,e){return new Typed(_gaurd,`bytes${e||""}`,a,{size:e})}const _typedSymbol=Symbol.for("_ethers_typed");var Ls;const zn=class zn{constructor(e,o,c,d){Jt(this,"type");Jt(this,"value");tr(this,Ls,void 0);Jt(this,"_typedSymbol");d==null&&(d=null),assertPrivate(_gaurd,e,"Typed"),defineProperties(this,{_typedSymbol,type:o,value:c}),Qt(this,Ls,d),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return Pt(this,Ls)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return Pt(this,Ls)===!0?-1:Pt(this,Ls)===!1?this.value.length:null}static from(e,o){return new zn(_gaurd,e,o)}static uint8(e){return n(e,8)}static uint16(e){return n(e,16)}static uint24(e){return n(e,24)}static uint32(e){return n(e,32)}static uint40(e){return n(e,40)}static uint48(e){return n(e,48)}static uint56(e){return n(e,56)}static uint64(e){return n(e,64)}static uint72(e){return n(e,72)}static uint80(e){return n(e,80)}static uint88(e){return n(e,88)}static uint96(e){return n(e,96)}static uint104(e){return n(e,104)}static uint112(e){return n(e,112)}static uint120(e){return n(e,120)}static uint128(e){return n(e,128)}static uint136(e){return n(e,136)}static uint144(e){return n(e,144)}static uint152(e){return n(e,152)}static uint160(e){return n(e,160)}static uint168(e){return n(e,168)}static uint176(e){return n(e,176)}static uint184(e){return n(e,184)}static uint192(e){return n(e,192)}static uint200(e){return n(e,200)}static uint208(e){return n(e,208)}static uint216(e){return n(e,216)}static uint224(e){return n(e,224)}static uint232(e){return n(e,232)}static uint240(e){return n(e,240)}static uint248(e){return n(e,248)}static uint256(e){return n(e,256)}static uint(e){return n(e,256)}static int8(e){return n(e,-8)}static int16(e){return n(e,-16)}static int24(e){return n(e,-24)}static int32(e){return n(e,-32)}static int40(e){return n(e,-40)}static int48(e){return n(e,-48)}static int56(e){return n(e,-56)}static int64(e){return n(e,-64)}static int72(e){return n(e,-72)}static int80(e){return n(e,-80)}static int88(e){return n(e,-88)}static int96(e){return n(e,-96)}static int104(e){return n(e,-104)}static int112(e){return n(e,-112)}static int120(e){return n(e,-120)}static int128(e){return n(e,-128)}static int136(e){return n(e,-136)}static int144(e){return n(e,-144)}static int152(e){return n(e,-152)}static int160(e){return n(e,-160)}static int168(e){return n(e,-168)}static int176(e){return n(e,-176)}static int184(e){return n(e,-184)}static int192(e){return n(e,-192)}static int200(e){return n(e,-200)}static int208(e){return n(e,-208)}static int216(e){return n(e,-216)}static int224(e){return n(e,-224)}static int232(e){return n(e,-232)}static int240(e){return n(e,-240)}static int248(e){return n(e,-248)}static int256(e){return n(e,-256)}static int(e){return n(e,-256)}static bytes1(e){return b(e,1)}static bytes2(e){return b(e,2)}static bytes3(e){return b(e,3)}static bytes4(e){return b(e,4)}static bytes5(e){return b(e,5)}static bytes6(e){return b(e,6)}static bytes7(e){return b(e,7)}static bytes8(e){return b(e,8)}static bytes9(e){return b(e,9)}static bytes10(e){return b(e,10)}static bytes11(e){return b(e,11)}static bytes12(e){return b(e,12)}static bytes13(e){return b(e,13)}static bytes14(e){return b(e,14)}static bytes15(e){return b(e,15)}static bytes16(e){return b(e,16)}static bytes17(e){return b(e,17)}static bytes18(e){return b(e,18)}static bytes19(e){return b(e,19)}static bytes20(e){return b(e,20)}static bytes21(e){return b(e,21)}static bytes22(e){return b(e,22)}static bytes23(e){return b(e,23)}static bytes24(e){return b(e,24)}static bytes25(e){return b(e,25)}static bytes26(e){return b(e,26)}static bytes27(e){return b(e,27)}static bytes28(e){return b(e,28)}static bytes29(e){return b(e,29)}static bytes30(e){return b(e,30)}static bytes31(e){return b(e,31)}static bytes32(e){return b(e,32)}static address(e){return new zn(_gaurd,"address",e)}static bool(e){return new zn(_gaurd,"bool",!!e)}static bytes(e){return new zn(_gaurd,"bytes",e)}static string(e){return new zn(_gaurd,"string",e)}static array(e,o){throw new Error("not implemented yet")}static tuple(e,o){throw new Error("not implemented yet")}static overrides(e){return new zn(_gaurd,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===_typedSymbol}static dereference(e,o){if(zn.isTyped(e)){if(e.type!==o)throw new Error(`invalid type: expecetd ${o}, got ${e.type}`);return e.value}return e}};Ls=new WeakMap;let Typed=zn;class AddressCoder extends Coder{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,o){let c=Typed.dereference(o,"string");try{c=getAddress$1(c)}catch(d){return this._throwError(d.message,o)}return e.writeValue(c)}decode(e){return getAddress$1(toBeHex(e.readValue(),20))}}class AnonymousCoder extends Coder{constructor(o){super(o.name,o.type,"_",o.dynamic);Jt(this,"coder");this.coder=o}defaultValue(){return this.coder.defaultValue()}encode(o,c){return this.coder.encode(o,c)}decode(o){return this.coder.decode(o)}}function pack(a,e,o){let c=[];if(Array.isArray(o))c=o;else if(o&&typeof o=="object"){let ot={};c=e.map(ft=>{const ht=ft.localName;return assert(ht,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:ft},value:o}),assert(!ot[ht],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:ft},value:o}),ot[ht]=!0,o[ht]})}else assertArgument(!1,"invalid tuple value","tuple",o);assertArgument(e.length===c.length,"types/value length mismatch","tuple",o);let d=new Writer$2,h=new Writer$2,et=[];e.forEach((ot,ft)=>{let ht=c[ft];if(ot.dynamic){let yt=h.length;ot.encode(h,ht);let gt=d.writeUpdatableValue();et.push(wt=>{gt(wt+yt)})}else ot.encode(d,ht)}),et.forEach(ot=>{ot(d.length)});let tt=a.appendWriter(d);return tt+=a.appendWriter(h),tt}function unpack(a,e){let o=[],c=[],d=a.subReader(0);return e.forEach(h=>{let et=null;if(h.dynamic){let tt=a.readIndex(),ot=d.subReader(tt);try{et=h.decode(ot)}catch(ft){if(isError(ft,"BUFFER_OVERRUN"))throw ft;et=ft,et.baseType=h.name,et.name=h.localName,et.type=h.type}}else try{et=h.decode(a)}catch(tt){if(isError(tt,"BUFFER_OVERRUN"))throw tt;et=tt,et.baseType=h.name,et.name=h.localName,et.type=h.type}if(et==null)throw new Error("investigate");o.push(et),c.push(h.localName||null)}),Result.fromItems(o,c)}class ArrayCoder extends Coder{constructor(o,c,d){const h=o.type+"["+(c>=0?c:"")+"]",et=c===-1||o.dynamic;super("array",h,d,et);Jt(this,"coder");Jt(this,"length");defineProperties(this,{coder:o,length:c})}defaultValue(){const o=this.coder.defaultValue(),c=[];for(let d=0;d<this.length;d++)c.push(o);return c}encode(o,c){const d=Typed.dereference(c,"array");Array.isArray(d)||this._throwError("expected array value",d);let h=this.length;h===-1&&(h=d.length,o.writeValue(d.length)),assertArgumentCount(d.length,h,"coder array"+(this.localName?" "+this.localName:""));let et=[];for(let tt=0;tt<d.length;tt++)et.push(this.coder);return pack(o,et,d)}decode(o){let c=this.length;c===-1&&(c=o.readIndex(),assert(c*WordSize<=o.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:o.bytes,offset:c*WordSize,length:o.dataLength}));let d=[];for(let h=0;h<c;h++)d.push(new AnonymousCoder(this.coder));return unpack(o,d)}}class BooleanCoder extends Coder{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,o){const c=Typed.dereference(o,"bool");return e.writeValue(c?1:0)}decode(e){return!!e.readValue()}}class DynamicBytesCoder extends Coder{constructor(e,o){super(e,e,o,!0)}defaultValue(){return"0x"}encode(e,o){o=getBytesCopy(o);let c=e.writeValue(o.length);return c+=e.writeBytes(o),c}decode(e){return e.readBytes(e.readIndex(),!0)}}class BytesCoder extends DynamicBytesCoder{constructor(e){super("bytes",e)}decode(e){return hexlify$1(super.decode(e))}}class FixedBytesCoder extends Coder{constructor(o,c){let d="bytes"+String(o);super(d,d,c,!1);Jt(this,"size");defineProperties(this,{size:o},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(o,c){let d=getBytesCopy(Typed.dereference(c,this.type));return d.length!==this.size&&this._throwError("incorrect data length",c),o.writeBytes(d)}decode(o){return hexlify$1(o.readBytes(this.size))}}const Empty=new Uint8Array([]);class NullCoder extends Coder{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,o){return o!=null&&this._throwError("not null",o),e.writeBytes(Empty)}decode(e){return e.readBytes(0),null}}const BN_0$5=BigInt(0),BN_1$2=BigInt(1),BN_MAX_UINT256$1=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class NumberCoder extends Coder{constructor(o,c,d){const h=(c?"int":"uint")+o*8;super(h,h,d,!1);Jt(this,"size");Jt(this,"signed");defineProperties(this,{size:o,signed:c},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(o,c){let d=getBigInt(Typed.dereference(c,this.type)),h=mask(BN_MAX_UINT256$1,WordSize*8);if(this.signed){let et=mask(h,this.size*8-1);(d>et||d<-(et+BN_1$2))&&this._throwError("value out-of-bounds",c),d=toTwos(d,8*WordSize)}else(d<BN_0$5||d>mask(h,this.size*8))&&this._throwError("value out-of-bounds",c);return o.writeValue(d)}decode(o){let c=mask(o.readValue(),this.size*8);return this.signed&&(c=fromTwos(c,this.size*8)),c}}class StringCoder extends DynamicBytesCoder{constructor(e){super("string",e)}defaultValue(){return""}encode(e,o){return super.encode(e,toUtf8Bytes(Typed.dereference(o,"string")))}decode(e){return toUtf8String(super.decode(e))}}class TupleCoder extends Coder{constructor(o,c){let d=!1;const h=[];o.forEach(tt=>{tt.dynamic&&(d=!0),h.push(tt.type)});const et="tuple("+h.join(",")+")";super("tuple",et,c,d);Jt(this,"coders");defineProperties(this,{coders:Object.freeze(o.slice())})}defaultValue(){const o=[];this.coders.forEach(d=>{o.push(d.defaultValue())});const c=this.coders.reduce((d,h)=>{const et=h.localName;return et&&(d[et]||(d[et]=0),d[et]++),d},{});return this.coders.forEach((d,h)=>{let et=d.localName;!et||c[et]!==1||(et==="length"&&(et="_length"),o[et]==null&&(o[et]=o[h]))}),Object.freeze(o)}encode(o,c){const d=Typed.dereference(c,"tuple");return pack(o,this.coders,d)}decode(o){return unpack(o,this.coders)}}function id(a){return keccak256(toUtf8Bytes(a))}var COMPRESSED$1="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const FENCED=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),NSM_MAX=4;function decode_arithmetic(a){let e=0;function o(){return a[e++]<<8|a[e++]}let c=o(),d=1,h=[0,1];for(let It=1;It<c;It++)h.push(d+=o());let et=o(),tt=e;e+=et;let ot=0,ft=0;function ht(){return ot==0&&(ft=ft<<8|a[e++],ot=8),ft>>--ot&1}const yt=31,gt=2**yt,wt=gt>>>1,bt=wt>>1,xt=gt-1;let Et=0;for(let It=0;It<yt;It++)Et=Et<<1|ht();let vt=[],$t=0,At=gt;for(;;){let It=Math.floor(((Et-$t+1)*d-1)/At),Dt=0,Mt=c;for(;Mt-Dt>1;){let Yt=Dt+Mt>>>1;It<h[Yt]?Mt=Yt:Dt=Yt}if(Dt==0)break;vt.push(Dt);let zt=$t+Math.floor(At*h[Dt]/d),Kt=$t+Math.floor(At*h[Dt+1]/d)-1;for(;!((zt^Kt)&wt);)Et=Et<<1&xt|ht(),zt=zt<<1&xt,Kt=Kt<<1&xt|1;for(;zt&~Kt&bt;)Et=Et&wt|Et<<1&xt>>>1|ht(),zt=zt<<1^wt,Kt=(Kt^wt)<<1|wt|1;$t=zt,At=1+Kt-zt}let kt=c-4;return vt.map(It=>{switch(It-kt){case 3:return kt+65792+(a[tt++]<<16|a[tt++]<<8|a[tt++]);case 2:return kt+256+(a[tt++]<<8|a[tt++]);case 1:return kt+a[tt++];default:return It-1}})}function read_payload(a){let e=0;return()=>a[e++]}function read_compressed_payload(a){return read_payload(decode_arithmetic(unsafe_atob(a)))}function unsafe_atob(a){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((d,h)=>e[d.charCodeAt(0)]=h);let o=a.length,c=new Uint8Array(6*o>>3);for(let d=0,h=0,et=0,tt=0;d<o;d++)tt=tt<<6|e[a.charCodeAt(d)],et+=6,et>=8&&(c[h++]=tt>>(et-=8));return c}function signed$1(a){return a&1?~a>>1:a>>1}function read_deltas(a,e){let o=Array(a);for(let c=0,d=0;c<a;c++)o[c]=d+=signed$1(e());return o}function read_sorted(a,e=0){let o=[];for(;;){let c=a(),d=a();if(!d)break;e+=c;for(let h=0;h<d;h++)o.push(e+h);e+=d+1}return o}function read_sorted_arrays(a){return read_array_while(()=>{let e=read_sorted(a);if(e.length)return e})}function read_mapped(a){let e=[];for(;;){let o=a();if(o==0)break;e.push(read_linear_table(o,a))}for(;;){let o=a()-1;if(o<0)break;e.push(read_replacement_table(o,a))}return e.flat()}function read_array_while(a){let e=[];for(;;){let o=a(e.length);if(!o)break;e.push(o)}return e}function read_transposed(a,e,o){let c=Array(a).fill().map(()=>[]);for(let d=0;d<e;d++)read_deltas(a,o).forEach((h,et)=>c[et].push(h));return c}function read_linear_table(a,e){let o=1+e(),c=e(),d=read_array_while(e);return read_transposed(d.length,1+a,e).flatMap((et,tt)=>{let[ot,...ft]=et;return Array(d[tt]).fill().map((ht,yt)=>{let gt=yt*c;return[ot+yt*o,ft.map(wt=>wt+gt)]})})}function read_replacement_table(a,e){let o=1+e();return read_transposed(o,1+a,e).map(d=>[d[0],d.slice(1)])}function read_trie(a){let e=[],o=read_sorted(a);return d(c([]),[]),e;function c(h){let et=a(),tt=read_array_while(()=>{let ot=read_sorted(a).map(ft=>o[ft]);if(ot.length)return c(ot)});return{S:et,B:tt,Q:h}}function d({S:h,B:et},tt,ot){if(!(h&4&&ot===tt[tt.length-1])){h&2&&(ot=tt[tt.length-1]),h&1&&e.push(tt);for(let ft of et)for(let ht of ft.Q)d(ft,[...tt,ht],ot)}}}function hex_cp(a){return a.toString(16).toUpperCase().padStart(2,"0")}function quote_cp(a){return`{${hex_cp(a)}}`}function explode_cp(a){let e=[];for(let o=0,c=a.length;o<c;){let d=a.codePointAt(o);o+=d<65536?1:2,e.push(d)}return e}function str_from_cps(a){let o=a.length;if(o<4096)return String.fromCodePoint(...a);let c=[];for(let d=0;d<o;)c.push(String.fromCodePoint(...a.slice(d,d+=4096)));return c.join("")}function compare_arrays(a,e){let o=a.length,c=o-e.length;for(let d=0;c==0&&d<o;d++)c=a[d]-e[d];return c}var COMPRESSED="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const S0=44032,L0=4352,V0=4449,T0=4519,L_COUNT=19,V_COUNT=21,T_COUNT=28,N_COUNT=V_COUNT*T_COUNT,S_COUNT=L_COUNT*N_COUNT,S1=S0+S_COUNT,L1=L0+L_COUNT,V1=V0+V_COUNT,T1$1=T0+T_COUNT;function unpack_cc(a){return a>>24&255}function unpack_cp(a){return a&16777215}let SHIFTED_RANK,EXCLUSIONS,DECOMP,RECOMP;function init$1(){let a=read_compressed_payload(COMPRESSED);SHIFTED_RANK=new Map(read_sorted_arrays(a).flatMap((e,o)=>e.map(c=>[c,o+1<<24]))),EXCLUSIONS=new Set(read_sorted(a)),DECOMP=new Map,RECOMP=new Map;for(let[e,o]of read_mapped(a)){if(!EXCLUSIONS.has(e)&&o.length==2){let[c,d]=o,h=RECOMP.get(c);h||(h=new Map,RECOMP.set(c,h)),h.set(d,e)}DECOMP.set(e,o.reverse())}}function is_hangul(a){return a>=S0&&a<S1}function compose_pair(a,e){if(a>=L0&&a<L1&&e>=V0&&e<V1)return S0+(a-L0)*N_COUNT+(e-V0)*T_COUNT;if(is_hangul(a)&&e>T0&&e<T1$1&&(a-S0)%T_COUNT==0)return a+(e-T0);{let o=RECOMP.get(a);return o&&(o=o.get(e),o)?o:-1}}function decomposed(a){SHIFTED_RANK||init$1();let e=[],o=[],c=!1;function d(h){let et=SHIFTED_RANK.get(h);et&&(c=!0,h|=et),e.push(h)}for(let h of a)for(;;){if(h<128)e.push(h);else if(is_hangul(h)){let et=h-S0,tt=et/N_COUNT|0,ot=et%N_COUNT/T_COUNT|0,ft=et%T_COUNT;d(L0+tt),d(V0+ot),ft>0&&d(T0+ft)}else{let et=DECOMP.get(h);et?o.push(...et):d(h)}if(!o.length)break;h=o.pop()}if(c&&e.length>1){let h=unpack_cc(e[0]);for(let et=1;et<e.length;et++){let tt=unpack_cc(e[et]);if(tt==0||h<=tt){h=tt;continue}let ot=et-1;for(;;){let ft=e[ot+1];if(e[ot+1]=e[ot],e[ot]=ft,!ot||(h=unpack_cc(e[--ot]),h<=tt))break}h=unpack_cc(e[et])}}return e}function composed_from_decomposed(a){let e=[],o=[],c=-1,d=0;for(let h of a){let et=unpack_cc(h),tt=unpack_cp(h);if(c==-1)et==0?c=tt:e.push(tt);else if(d>0&&d>=et)et==0?(e.push(c,...o),o.length=0,c=tt):o.push(tt),d=et;else{let ot=compose_pair(c,tt);ot>=0?c=ot:d==0&&et==0?(e.push(c),c=tt):(o.push(tt),d=et)}}return c>=0&&e.push(c,...o),e}function nfd(a){return decomposed(a).map(unpack_cp)}function nfc(a){return composed_from_decomposed(decomposed(a))}const HYPHEN=45,STOP_CH=".",FE0F=65039,UNIQUE_PH=1,Array_from=a=>Array.from(a);function group_has_cp(a,e){return a.P.has(e)||a.Q.has(e)}class Emoji extends Array{get is_emoji(){return!0}}let MAPPED,IGNORED,CM,NSM,ESCAPE,GROUPS,WHOLE_VALID,WHOLE_MAP,VALID,EMOJI_LIST,EMOJI_ROOT;function init$2(){if(MAPPED)return;let a=read_compressed_payload(COMPRESSED$1);const e=()=>read_sorted(a),o=()=>new Set(e()),c=(ht,yt)=>yt.forEach(gt=>ht.add(gt));MAPPED=new Map(read_mapped(a)),IGNORED=o(),CM=e(),NSM=new Set(e().map(ht=>CM[ht])),CM=new Set(CM),ESCAPE=o(),o();let d=read_sorted_arrays(a),h=a();const et=()=>{let ht=new Set;return e().forEach(yt=>c(ht,d[yt])),c(ht,e()),ht};GROUPS=read_array_while(ht=>{let yt=read_array_while(a).map(gt=>gt+96);if(yt.length){let gt=ht>=h;yt[0]-=32,yt=str_from_cps(yt),gt&&(yt=`Restricted[${yt}]`);let wt=et(),bt=et(),xt=!a();return{N:yt,P:wt,Q:bt,M:xt,R:gt}}}),WHOLE_VALID=o(),WHOLE_MAP=new Map;let tt=e().concat(Array_from(WHOLE_VALID)).sort((ht,yt)=>ht-yt);tt.forEach((ht,yt)=>{let gt=a(),wt=tt[yt]=gt?tt[yt-gt]:{V:[],M:new Map};wt.V.push(ht),WHOLE_VALID.has(ht)||WHOLE_MAP.set(ht,wt)});for(let{V:ht,M:yt}of new Set(WHOLE_MAP.values())){let gt=[];for(let bt of ht){let xt=GROUPS.filter(vt=>group_has_cp(vt,bt)),Et=gt.find(({G:vt})=>xt.some($t=>vt.has($t)));Et||(Et={G:new Set,V:[]},gt.push(Et)),Et.V.push(bt),c(Et.G,xt)}let wt=gt.flatMap(bt=>Array_from(bt.G));for(let{G:bt,V:xt}of gt){let Et=new Set(wt.filter(vt=>!bt.has(vt)));for(let vt of xt)yt.set(vt,Et)}}VALID=new Set;let ot=new Set;const ft=ht=>VALID.has(ht)?ot.add(ht):VALID.add(ht);for(let ht of GROUPS){for(let yt of ht.P)ft(yt);for(let yt of ht.Q)ft(yt)}for(let ht of VALID)!WHOLE_MAP.has(ht)&&!ot.has(ht)&&WHOLE_MAP.set(ht,UNIQUE_PH);c(VALID,nfd(VALID)),EMOJI_LIST=read_trie(a).map(ht=>Emoji.from(ht)).sort(compare_arrays),EMOJI_ROOT=new Map;for(let ht of EMOJI_LIST){let yt=[EMOJI_ROOT];for(let gt of ht){let wt=yt.map(bt=>{let xt=bt.get(gt);return xt||(xt=new Map,bt.set(gt,xt)),xt});gt===FE0F?yt.push(...wt):yt=wt}for(let gt of yt)gt.V=ht}}function quoted_cp(a){return(should_escape(a)?"":`${bidi_qq(safe_str_from_cps([a]))} `)+quote_cp(a)}function bidi_qq(a){return`"${a}"`}function check_label_extension(a){if(a.length>=4&&a[2]==HYPHEN&&a[3]==HYPHEN)throw new Error(`invalid label extension: "${str_from_cps(a.slice(0,4))}"`)}function check_leading_underscore(a){for(let o=a.lastIndexOf(95);o>0;)if(a[--o]!==95)throw new Error("underscore allowed only at start")}function check_fenced(a){let e=a[0],o=FENCED.get(e);if(o)throw error_placement(`leading ${o}`);let c=a.length,d=-1;for(let h=1;h<c;h++){e=a[h];let et=FENCED.get(e);if(et){if(d==h)throw error_placement(`${o} + ${et}`);d=h+1,o=et}}if(d==c)throw error_placement(`trailing ${o}`)}function safe_str_from_cps(a,e=1/0,o=quote_cp){let c=[];is_combining_mark(a[0])&&c.push(""),a.length>e&&(e>>=1,a=[...a.slice(0,e),8230,...a.slice(-e)]);let d=0,h=a.length;for(let et=0;et<h;et++){let tt=a[et];should_escape(tt)&&(c.push(str_from_cps(a.slice(d,et))),c.push(o(tt)),d=et+1)}return c.push(str_from_cps(a.slice(d,h))),c.join("")}function is_combining_mark(a){return init$2(),CM.has(a)}function should_escape(a){return init$2(),ESCAPE.has(a)}function ens_normalize(a){return flatten(split$1(a,nfc,filter_fe0f))}function split$1(a,e,o){if(!a)return[];init$2();let c=0;return a.split(STOP_CH).map(d=>{let h=explode_cp(d),et={input:h,offset:c};c+=h.length+1;try{let tt=et.tokens=tokens_from_str(h,e,o),ot=tt.length,ft;if(!ot)throw new Error("empty label");let ht=et.output=tt.flat();if(check_leading_underscore(ht),!(et.emoji=ot>1||tt[0].is_emoji)&&ht.every(gt=>gt<128))check_label_extension(ht),ft="ASCII";else{let gt=tt.flatMap(wt=>wt.is_emoji?[]:wt);if(!gt.length)ft="Emoji";else{if(CM.has(ht[0]))throw error_placement("leading combining mark");for(let xt=1;xt<ot;xt++){let Et=tt[xt];if(!Et.is_emoji&&CM.has(Et[0]))throw error_placement(`emoji + combining mark: "${str_from_cps(tt[xt-1])} + ${safe_str_from_cps([Et[0]])}"`)}check_fenced(ht);let wt=Array_from(new Set(gt)),[bt]=determine_group(wt);check_group(bt,gt),check_whole(bt,wt),ft=bt.N}}et.type=ft}catch(tt){et.error=tt}return et})}function check_whole(a,e){let o,c=[];for(let d of e){let h=WHOLE_MAP.get(d);if(h===UNIQUE_PH)return;if(h){let et=h.M.get(d);if(o=o?o.filter(tt=>et.has(tt)):Array_from(et),!o.length)return}else c.push(d)}if(o){for(let d of o)if(c.every(h=>group_has_cp(d,h)))throw new Error(`whole-script confusable: ${a.N}/${d.N}`)}}function determine_group(a){let e=GROUPS;for(let o of a){let c=e.filter(d=>group_has_cp(d,o));if(!c.length)throw GROUPS.some(d=>group_has_cp(d,o))?error_group_member(e[0],o):error_disallowed(o);if(e=c,c.length==1)break}return e}function flatten(a){return a.map(({input:e,error:o,output:c})=>{if(o){let d=o.message;throw new Error(a.length==1?d:`Invalid label ${bidi_qq(safe_str_from_cps(e,63))}: ${d}`)}return str_from_cps(c)}).join(STOP_CH)}function error_disallowed(a){return new Error(`disallowed character: ${quoted_cp(a)}`)}function error_group_member(a,e){let o=quoted_cp(e),c=GROUPS.find(d=>d.P.has(e));return c&&(o=`${c.N} ${o}`),new Error(`illegal mixture: ${a.N} + ${o}`)}function error_placement(a){return new Error(`illegal placement: ${a}`)}function check_group(a,e){for(let o of e)if(!group_has_cp(a,o))throw error_group_member(a,o);if(a.M){let o=nfd(e);for(let c=1,d=o.length;c<d;c++)if(NSM.has(o[c])){let h=c+1;for(let et;h<d&&NSM.has(et=o[h]);h++)for(let tt=c;tt<h;tt++)if(o[tt]==et)throw new Error(`duplicate non-spacing marks: ${quoted_cp(et)}`);if(h-c>NSM_MAX)throw new Error(`excessive non-spacing marks: ${bidi_qq(safe_str_from_cps(o.slice(c-1,h)))} (${h-c}/${NSM_MAX})`);c=h}}}function tokens_from_str(a,e,o){let c=[],d=[];for(a=a.slice().reverse();a.length;){let h=consume_emoji_reversed(a);if(h)d.length&&(c.push(e(d)),d=[]),c.push(o(h));else{let et=a.pop();if(VALID.has(et))d.push(et);else{let tt=MAPPED.get(et);if(tt)d.push(...tt);else if(!IGNORED.has(et))throw error_disallowed(et)}}}return d.length&&c.push(e(d)),c}function filter_fe0f(a){return a.filter(e=>e!=FE0F)}function consume_emoji_reversed(a,e){let o=EMOJI_ROOT,c,d=a.length;for(;d&&(o=o.get(a[--d]),!!o);){let{V:h}=o;h&&(c=h,e&&e.push(...a.slice(d).reverse()),a.length=d)}return c}const Zeros=new Uint8Array(32);Zeros.fill(0);function checkComponent(a){return assertArgument(a.length!==0,"invalid ENS name; empty component","comp",a),a}function ensNameSplit(a){const e=toUtf8Bytes(ensNormalize(a)),o=[];if(a.length===0)return o;let c=0;for(let d=0;d<e.length;d++)e[d]===46&&(o.push(checkComponent(e.slice(c,d))),c=d+1);return assertArgument(c<e.length,"invalid ENS name; empty component","name",a),o.push(checkComponent(e.slice(c))),o}function ensNormalize(a){try{if(a.length===0)throw new Error("empty label");return ens_normalize(a)}catch(e){assertArgument(!1,`invalid ENS name (${e.message})`,"name",a)}}function namehash(a){assertArgument(typeof a=="string","invalid ENS name; not a string","name",a),assertArgument(a.length,"invalid ENS name (empty label)","name",a);let e=Zeros;const o=ensNameSplit(a);for(;o.length;)e=keccak256(concat$3([e,keccak256(o.pop())]));return hexlify$1(e)}function dnsEncode(a,e){const o=e??63;return assertArgument(o<=255,"DNS encoded label cannot exceed 255","length",o),hexlify$1(concat$3(ensNameSplit(a).map(c=>{assertArgument(c.length<=o,`label ${JSON.stringify(a)} exceeds ${o} bytes`,"name",a);const d=new Uint8Array(c.length+1);return d.set(c,1),d[0]=d.length-1,d})))+"00"}function accessSetify(a,e){return{address:getAddress$1(a),storageKeys:e.map((o,c)=>(assertArgument(isHexString$1(o,32),"invalid slot",`storageKeys[${c}]`,o),o.toLowerCase()))}}function accessListify(a){if(Array.isArray(a))return a.map((o,c)=>Array.isArray(o)?(assertArgument(o.length===2,"invalid slot set",`value[${c}]`,o),accessSetify(o[0],o[1])):(assertArgument(o!=null&&typeof o=="object","invalid address-slot set","value",a),accessSetify(o.address,o.storageKeys)));assertArgument(a!=null&&typeof a=="object","invalid access list","value",a);const e=Object.keys(a).map(o=>{const c=a[o].reduce((d,h)=>(d[h]=!0,d),{});return accessSetify(o,Object.keys(c).sort())});return e.sort((o,c)=>o.address.localeCompare(c.address)),e}function computeAddress(a){let e;return typeof a=="string"?e=SigningKey.computePublicKey(a,!1):e=a.publicKey,getAddress$1(keccak256("0x"+e.substring(4)).substring(26))}function recoverAddress(a,e){return computeAddress(SigningKey.recoverPublicKey(a,e))}const BN_0$4=BigInt(0),BN_2$2=BigInt(2),BN_27=BigInt(27),BN_28=BigInt(28),BN_35=BigInt(35),BN_MAX_UINT=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function handleAddress(a){return a==="0x"?null:getAddress$1(a)}function handleAccessList(a,e){try{return accessListify(a)}catch(o){assertArgument(!1,o.message,e,a)}}function handleNumber(a,e){return a==="0x"?0:getNumber(a,e)}function handleUint(a,e){if(a==="0x")return BN_0$4;const o=getBigInt(a,e);return assertArgument(o<=BN_MAX_UINT,"value exceeds uint size",e,o),o}function formatNumber(a,e){const o=getBigInt(a,"value"),c=toBeArray(o);return assertArgument(c.length<=32,"value too large",`tx.${e}`,o),c}function formatAccessList(a){return accessListify(a).map(e=>[e.address,e.storageKeys])}function formatHashes(a,e){assertArgument(Array.isArray(a),`invalid ${e}`,"value",a);for(let o=0;o<a.length;o++)assertArgument(isHexString$1(a[o],32),"invalid ${ param } hash",`value[${o}]`,a[o]);return a}function _parseLegacy(a){const e=decodeRlp(a);assertArgument(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",a);const o={type:0,nonce:handleNumber(e[0],"nonce"),gasPrice:handleUint(e[1],"gasPrice"),gasLimit:handleUint(e[2],"gasLimit"),to:handleAddress(e[3]),value:handleUint(e[4],"value"),data:hexlify$1(e[5]),chainId:BN_0$4};if(e.length===6)return o;const c=handleUint(e[6],"v"),d=handleUint(e[7],"r"),h=handleUint(e[8],"s");if(d===BN_0$4&&h===BN_0$4)o.chainId=c;else{let et=(c-BN_35)/BN_2$2;et<BN_0$4&&(et=BN_0$4),o.chainId=et,assertArgument(et!==BN_0$4||c===BN_27||c===BN_28,"non-canonical legacy v","v",e[6]),o.signature=Signature.from({r:zeroPadValue(e[7],32),s:zeroPadValue(e[8],32),v:c}),o.hash=keccak256(a)}return o}function _serializeLegacy(a,e){const o=[formatNumber(a.nonce,"nonce"),formatNumber(a.gasPrice||0,"gasPrice"),formatNumber(a.gasLimit,"gasLimit"),a.to||"0x",formatNumber(a.value,"value"),a.data];let c=BN_0$4;if(a.chainId!=BN_0$4)c=getBigInt(a.chainId,"tx.chainId"),assertArgument(!e||e.networkV==null||e.legacyChainId===c,"tx.chainId/sig.v mismatch","sig",e);else if(a.signature){const h=a.signature.legacyChainId;h!=null&&(c=h)}if(!e)return c!==BN_0$4&&(o.push(toBeArray(c)),o.push("0x"),o.push("0x")),encodeRlp(o);let d=BigInt(27+e.yParity);return c!==BN_0$4?d=Signature.getChainIdV(c,e.v):BigInt(e.v)!==d&&assertArgument(!1,"tx.chainId/sig.v mismatch","sig",e),o.push(toBeArray(d)),o.push(toBeArray(e.r)),o.push(toBeArray(e.s)),encodeRlp(o)}function _parseEipSignature(a,e){let o;try{if(o=handleNumber(e[0],"yParity"),o!==0&&o!==1)throw new Error("bad yParity")}catch{assertArgument(!1,"invalid yParity","yParity",e[0])}const c=zeroPadValue(e[1],32),d=zeroPadValue(e[2],32),h=Signature.from({r:c,s:d,yParity:o});a.signature=h}function _parseEip1559(a){const e=decodeRlp(getBytes(a).slice(1));assertArgument(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",hexlify$1(a));const o={type:2,chainId:handleUint(e[0],"chainId"),nonce:handleNumber(e[1],"nonce"),maxPriorityFeePerGas:handleUint(e[2],"maxPriorityFeePerGas"),maxFeePerGas:handleUint(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:handleUint(e[4],"gasLimit"),to:handleAddress(e[5]),value:handleUint(e[6],"value"),data:hexlify$1(e[7]),accessList:handleAccessList(e[8],"accessList")};return e.length===9||(o.hash=keccak256(a),_parseEipSignature(o,e.slice(9))),o}function _serializeEip1559(a,e){const o=[formatNumber(a.chainId,"chainId"),formatNumber(a.nonce,"nonce"),formatNumber(a.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),formatNumber(a.maxFeePerGas||0,"maxFeePerGas"),formatNumber(a.gasLimit,"gasLimit"),a.to||"0x",formatNumber(a.value,"value"),a.data,formatAccessList(a.accessList||[])];return e&&(o.push(formatNumber(e.yParity,"yParity")),o.push(toBeArray(e.r)),o.push(toBeArray(e.s))),concat$3(["0x02",encodeRlp(o)])}function _parseEip2930(a){const e=decodeRlp(getBytes(a).slice(1));assertArgument(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",hexlify$1(a));const o={type:1,chainId:handleUint(e[0],"chainId"),nonce:handleNumber(e[1],"nonce"),gasPrice:handleUint(e[2],"gasPrice"),gasLimit:handleUint(e[3],"gasLimit"),to:handleAddress(e[4]),value:handleUint(e[5],"value"),data:hexlify$1(e[6]),accessList:handleAccessList(e[7],"accessList")};return e.length===8||(o.hash=keccak256(a),_parseEipSignature(o,e.slice(8))),o}function _serializeEip2930(a,e){const o=[formatNumber(a.chainId,"chainId"),formatNumber(a.nonce,"nonce"),formatNumber(a.gasPrice||0,"gasPrice"),formatNumber(a.gasLimit,"gasLimit"),a.to||"0x",formatNumber(a.value,"value"),a.data,formatAccessList(a.accessList||[])];return e&&(o.push(formatNumber(e.yParity,"recoveryParam")),o.push(toBeArray(e.r)),o.push(toBeArray(e.s))),concat$3(["0x01",encodeRlp(o)])}function _parseEip4844(a){const e=decodeRlp(getBytes(a).slice(1));assertArgument(Array.isArray(e)&&(e.length===11||e.length===14),"invalid field count for transaction type: 3","data",hexlify$1(a));const o={type:3,chainId:handleUint(e[0],"chainId"),nonce:handleNumber(e[1],"nonce"),maxPriorityFeePerGas:handleUint(e[2],"maxPriorityFeePerGas"),maxFeePerGas:handleUint(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:handleUint(e[4],"gasLimit"),to:handleAddress(e[5]),value:handleUint(e[6],"value"),data:hexlify$1(e[7]),accessList:handleAccessList(e[8],"accessList"),maxFeePerBlobGas:handleUint(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};assertArgument(o.to!=null,"invalid address for transaction type: 3","data",a),assertArgument(Array.isArray(o.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",a);for(let c=0;c<o.blobVersionedHashes.length;c++)assertArgument(isHexString$1(o.blobVersionedHashes[c],32),`invalid blobVersionedHash at index ${c}: must be length 32`,"data",a);return e.length===11||(o.hash=keccak256(a),_parseEipSignature(o,e.slice(11))),o}function _serializeEip4844(a,e){const o=[formatNumber(a.chainId,"chainId"),formatNumber(a.nonce,"nonce"),formatNumber(a.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),formatNumber(a.maxFeePerGas||0,"maxFeePerGas"),formatNumber(a.gasLimit,"gasLimit"),a.to||ZeroAddress,formatNumber(a.value,"value"),a.data,formatAccessList(a.accessList||[]),formatNumber(a.maxFeePerBlobGas||0,"maxFeePerBlobGas"),formatHashes(a.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(o.push(formatNumber(e.yParity,"yParity")),o.push(toBeArray(e.r)),o.push(toBeArray(e.s))),concat$3(["0x03",encodeRlp(o)])}var On,go,bo,xo,wo,vo,$o,Eo,To,So,Ao,Co,Us,Fs;const Vn=class Vn{constructor(){tr(this,On,void 0);tr(this,go,void 0);tr(this,bo,void 0);tr(this,xo,void 0);tr(this,wo,void 0);tr(this,vo,void 0);tr(this,$o,void 0);tr(this,Eo,void 0);tr(this,To,void 0);tr(this,So,void 0);tr(this,Ao,void 0);tr(this,Co,void 0);tr(this,Us,void 0);tr(this,Fs,void 0);Qt(this,On,null),Qt(this,go,null),Qt(this,xo,0),Qt(this,wo,BN_0$4),Qt(this,vo,null),Qt(this,$o,null),Qt(this,Eo,null),Qt(this,bo,"0x"),Qt(this,To,BN_0$4),Qt(this,So,BN_0$4),Qt(this,Ao,null),Qt(this,Co,null),Qt(this,Us,null),Qt(this,Fs,null)}get type(){return Pt(this,On)}set type(e){switch(e){case null:Qt(this,On,null);break;case 0:case"legacy":Qt(this,On,0);break;case 1:case"berlin":case"eip-2930":Qt(this,On,1);break;case 2:case"london":case"eip-1559":Qt(this,On,2);break;case 3:case"cancun":case"eip-4844":Qt(this,On,3);break;default:assertArgument(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){const e=Pt(this,go);return e==null&&this.type===3?ZeroAddress:e}set to(e){Qt(this,go,e==null?null:getAddress$1(e))}get nonce(){return Pt(this,xo)}set nonce(e){Qt(this,xo,getNumber(e,"value"))}get gasLimit(){return Pt(this,wo)}set gasLimit(e){Qt(this,wo,getBigInt(e))}get gasPrice(){const e=Pt(this,vo);return e==null&&(this.type===0||this.type===1)?BN_0$4:e}set gasPrice(e){Qt(this,vo,e==null?null:getBigInt(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=Pt(this,$o);return e??(this.type===2||this.type===3?BN_0$4:null)}set maxPriorityFeePerGas(e){Qt(this,$o,e==null?null:getBigInt(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=Pt(this,Eo);return e??(this.type===2||this.type===3?BN_0$4:null)}set maxFeePerGas(e){Qt(this,Eo,e==null?null:getBigInt(e,"maxFeePerGas"))}get data(){return Pt(this,bo)}set data(e){Qt(this,bo,hexlify$1(e))}get value(){return Pt(this,To)}set value(e){Qt(this,To,getBigInt(e,"value"))}get chainId(){return Pt(this,So)}set chainId(e){Qt(this,So,getBigInt(e))}get signature(){return Pt(this,Ao)||null}set signature(e){Qt(this,Ao,e==null?null:Signature.from(e))}get accessList(){const e=Pt(this,Co)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){Qt(this,Co,e==null?null:accessListify(e))}get maxFeePerBlobGas(){const e=Pt(this,Us);return e==null&&this.type===3?BN_0$4:e}set maxFeePerBlobGas(e){Qt(this,Us,e==null?null:getBigInt(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=Pt(this,Fs);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){assertArgument(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let o=0;o<e.length;o++)assertArgument(isHexString$1(e[o],32),"invalid blobVersionedHash",`value[${o}]`,e[o])}Qt(this,Fs,e)}get hash(){return this.signature==null?null:keccak256(this.serialized)}get unsignedHash(){return keccak256(this.unsignedSerialized)}get from(){return this.signature==null?null:recoverAddress(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:SigningKey.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){switch(assert(this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"}),this.inferType()){case 0:return _serializeLegacy(this,this.signature);case 1:return _serializeEip2930(this,this.signature);case 2:return _serializeEip1559(this,this.signature);case 3:return _serializeEip4844(this,this.signature)}assert(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get unsignedSerialized(){switch(this.inferType()){case 0:return _serializeLegacy(this);case 1:return _serializeEip2930(this);case 2:return _serializeEip1559(this);case 3:return _serializeEip4844(this)}assert(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".unsignedSerialized"})}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,o=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,c=this.accessList!=null,d=Pt(this,Us)!=null||Pt(this,Fs);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&assert(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),assert(!o||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),assert(this.type!==0||!c,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const h=[];return this.type!=null?h.push(this.type):o?h.push(2):e?(h.push(1),c||h.push(0)):c?(h.push(1),h.push(2)):(d&&this.to||(h.push(0),h.push(1),h.push(2)),h.push(3)),h.sort(),h}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Vn.from(this)}toJSON(){const e=o=>o==null?null:o.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new Vn;if(typeof e=="string"){const c=getBytes(e);if(c[0]>=127)return Vn.from(_parseLegacy(c));switch(c[0]){case 1:return Vn.from(_parseEip2930(c));case 2:return Vn.from(_parseEip1559(c));case 3:return Vn.from(_parseEip4844(c))}assert(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const o=new Vn;return e.type!=null&&(o.type=e.type),e.to!=null&&(o.to=e.to),e.nonce!=null&&(o.nonce=e.nonce),e.gasLimit!=null&&(o.gasLimit=e.gasLimit),e.gasPrice!=null&&(o.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(o.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(o.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(o.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(o.data=e.data),e.value!=null&&(o.value=e.value),e.chainId!=null&&(o.chainId=e.chainId),e.signature!=null&&(o.signature=Signature.from(e.signature)),e.accessList!=null&&(o.accessList=e.accessList),e.blobVersionedHashes!=null&&(o.blobVersionedHashes=e.blobVersionedHashes),e.hash!=null&&(assertArgument(o.isSigned(),"unsigned transaction cannot define hash","tx",e),assertArgument(o.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(assertArgument(o.isSigned(),"unsigned transaction cannot define from","tx",e),assertArgument(o.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),o}};On=new WeakMap,go=new WeakMap,bo=new WeakMap,xo=new WeakMap,wo=new WeakMap,vo=new WeakMap,$o=new WeakMap,Eo=new WeakMap,To=new WeakMap,So=new WeakMap,Ao=new WeakMap,Co=new WeakMap,Us=new WeakMap,Fs=new WeakMap;let Transaction=Vn;function hashMessage(a){return typeof a=="string"&&(a=toUtf8Bytes(a)),keccak256(concat$3([toUtf8Bytes(MessagePrefix),toUtf8Bytes(String(a.length)),a]))}const padding=new Uint8Array(32);padding.fill(0);const BN__1=BigInt(-1),BN_0$3=BigInt(0),BN_1$1=BigInt(1),BN_MAX_UINT256=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function hexPadRight(a){const e=getBytes(a),o=e.length%32;return o?concat$3([e,padding.slice(o)]):hexlify$1(e)}const hexTrue=toBeHex(BN_1$1,32),hexFalse=toBeHex(BN_0$3,32),domainFieldTypes={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},domainFieldNames=["name","version","chainId","verifyingContract","salt"];function checkString(a){return function(e){return assertArgument(typeof e=="string",`invalid domain value for ${JSON.stringify(a)}`,`domain.${a}`,e),e}}const domainChecks={name:checkString("name"),version:checkString("version"),chainId:function(a){const e=getBigInt(a,"domain.chainId");return assertArgument(e>=0,"invalid chain ID","domain.chainId",a),Number.isSafeInteger(e)?Number(e):toQuantity(e)},verifyingContract:function(a){try{return getAddress$1(a).toLowerCase()}catch{}assertArgument(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",a)},salt:function(a){const e=getBytes(a,"domain.salt");return assertArgument(e.length===32,'invalid domain value "salt"',"domain.salt",a),hexlify$1(e)}};function getBaseEncoder(a){{const e=a.match(/^(u?)int(\d+)$/);if(e){const o=e[1]==="",c=parseInt(e[2]);assertArgument(c%8===0&&c!==0&&c<=256&&e[2]===String(c),"invalid numeric width","type",a);const d=mask(BN_MAX_UINT256,o?c-1:c),h=o?(d+BN_1$1)*BN__1:BN_0$3;return function(et){const tt=getBigInt(et,"value");return assertArgument(tt>=h&&tt<=d,`value out-of-bounds for ${a}`,"value",tt),toBeHex(o?toTwos(tt,256):tt,32)}}}{const e=a.match(/^bytes(\d+)$/);if(e){const o=parseInt(e[1]);return assertArgument(o!==0&&o<=32&&e[1]===String(o),"invalid bytes width","type",a),function(c){const d=getBytes(c);return assertArgument(d.length===o,`invalid length for ${a}`,"value",c),hexPadRight(c)}}}switch(a){case"address":return function(e){return zeroPadValue(getAddress$1(e),32)};case"bool":return function(e){return e?hexTrue:hexFalse};case"bytes":return function(e){return keccak256(e)};case"string":return function(e){return id(e)}}return null}function encodeType(a,e){return`${a}(${e.map(({name:o,type:c})=>c+" "+o).join(",")})`}function splitArray(a){const e=a.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:a}}var Ll,Xn,_o,vu,Ep;const xn=class xn{constructor(e){tr(this,vu);Jt(this,"primaryType");tr(this,Ll,void 0);tr(this,Xn,void 0);tr(this,_o,void 0);Qt(this,Xn,new Map),Qt(this,_o,new Map);const o=new Map,c=new Map,d=new Map,h={};Object.keys(e).forEach(ot=>{h[ot]=e[ot].map(({name:ft,type:ht})=>{let{base:yt,index:gt}=splitArray(ht);return yt==="int"&&!e.int&&(yt="int256"),yt==="uint"&&!e.uint&&(yt="uint256"),{name:ft,type:yt+(gt||"")}}),o.set(ot,new Set),c.set(ot,[]),d.set(ot,new Set)}),Qt(this,Ll,JSON.stringify(h));for(const ot in h){const ft=new Set;for(const ht of h[ot]){assertArgument(!ft.has(ht.name),`duplicate variable name ${JSON.stringify(ht.name)} in ${JSON.stringify(ot)}`,"types",e),ft.add(ht.name);const yt=splitArray(ht.type).base;assertArgument(yt!==ot,`circular type reference to ${JSON.stringify(yt)}`,"types",e),!getBaseEncoder(yt)&&(assertArgument(c.has(yt),`unknown type ${JSON.stringify(yt)}`,"types",e),c.get(yt).push(ot),o.get(ot).add(yt))}}const et=Array.from(c.keys()).filter(ot=>c.get(ot).length===0);assertArgument(et.length!==0,"missing primary type","types",e),assertArgument(et.length===1,`ambiguous primary types or unused types: ${et.map(ot=>JSON.stringify(ot)).join(", ")}`,"types",e),defineProperties(this,{primaryType:et[0]});function tt(ot,ft){assertArgument(!ft.has(ot),`circular type reference to ${JSON.stringify(ot)}`,"types",e),ft.add(ot);for(const ht of o.get(ot))if(c.has(ht)){tt(ht,ft);for(const yt of ft)d.get(yt).add(ht)}ft.delete(ot)}tt(this.primaryType,new Set);for(const[ot,ft]of d){const ht=Array.from(ft);ht.sort(),Pt(this,Xn).set(ot,encodeType(ot,h[ot])+ht.map(yt=>encodeType(yt,h[yt])).join(""))}}get types(){return JSON.parse(Pt(this,Ll))}getEncoder(e){let o=Pt(this,_o).get(e);return o||(o=hr(this,vu,Ep).call(this,e),Pt(this,_o).set(e,o)),o}encodeType(e){const o=Pt(this,Xn).get(e);return assertArgument(o,`unknown type: ${JSON.stringify(e)}`,"name",e),o}encodeData(e,o){return this.getEncoder(e)(o)}hashStruct(e,o){return keccak256(this.encodeData(e,o))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,o,c){if(getBaseEncoder(e))return c(e,o);const d=splitArray(e).array;if(d)return assertArgument(d.count===-1||d.count===o.length,`array length mismatch; expected length ${d.count}`,"value",o),o.map(et=>this._visit(d.prefix,et,c));const h=this.types[e];if(h)return h.reduce((et,{name:tt,type:ot})=>(et[tt]=this._visit(ot,o[tt],c),et),{});assertArgument(!1,`unknown type: ${e}`,"type",e)}visit(e,o){return this._visit(this.primaryType,e,o)}static from(e){return new xn(e)}static getPrimaryType(e){return xn.from(e).primaryType}static hashStruct(e,o,c){return xn.from(o).hashStruct(e,c)}static hashDomain(e){const o=[];for(const c in e){if(e[c]==null)continue;const d=domainFieldTypes[c];assertArgument(d,`invalid typed-data domain key: ${JSON.stringify(c)}`,"domain",e),o.push({name:c,type:d})}return o.sort((c,d)=>domainFieldNames.indexOf(c.name)-domainFieldNames.indexOf(d.name)),xn.hashStruct("EIP712Domain",{EIP712Domain:o},e)}static encode(e,o,c){return concat$3(["0x1901",xn.hashDomain(e),xn.from(o).hash(c)])}static hash(e,o,c){return keccak256(xn.encode(e,o,c))}static async resolveNames(e,o,c,d){e=Object.assign({},e);for(const tt in e)e[tt]==null&&delete e[tt];const h={};e.verifyingContract&&!isHexString$1(e.verifyingContract,20)&&(h[e.verifyingContract]="0x");const et=xn.from(o);et.visit(c,(tt,ot)=>(tt==="address"&&!isHexString$1(ot,20)&&(h[ot]="0x"),ot));for(const tt in h)h[tt]=await d(tt);return e.verifyingContract&&h[e.verifyingContract]&&(e.verifyingContract=h[e.verifyingContract]),c=et.visit(c,(tt,ot)=>tt==="address"&&h[ot]?h[ot]:ot),{domain:e,value:c}}static getPayload(e,o,c){xn.hashDomain(e);const d={},h=[];domainFieldNames.forEach(ot=>{const ft=e[ot];ft!=null&&(d[ot]=domainChecks[ot](ft),h.push({name:ot,type:domainFieldTypes[ot]}))});const et=xn.from(o);o=et.types;const tt=Object.assign({},o);return assertArgument(tt.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",o),tt.EIP712Domain=h,et.encode(c),{types:tt,domain:d,primaryType:et.primaryType,message:et.visit(c,(ot,ft)=>{if(ot.match(/^bytes(\d*)/))return hexlify$1(getBytes(ft));if(ot.match(/^u?int/))return getBigInt(ft).toString();switch(ot){case"address":return ft.toLowerCase();case"bool":return!!ft;case"string":return assertArgument(typeof ft=="string","invalid string","value",ft),ft}assertArgument(!1,"unsupported type","type",ot)})}}};Ll=new WeakMap,Xn=new WeakMap,_o=new WeakMap,vu=new WeakSet,Ep=function(e){{const d=getBaseEncoder(e);if(d)return d}const o=splitArray(e).array;if(o){const d=o.prefix,h=this.getEncoder(d);return et=>{assertArgument(o.count===-1||o.count===et.length,`array length mismatch; expected length ${o.count}`,"value",et);let tt=et.map(h);return Pt(this,Xn).has(d)&&(tt=tt.map(keccak256)),keccak256(concat$3(tt))}}const c=this.types[e];if(c){const d=id(Pt(this,Xn).get(e));return h=>{const et=c.map(({name:tt,type:ot})=>{const ft=this.getEncoder(ot)(h[tt]);return Pt(this,Xn).has(ot)?keccak256(ft):ft});return et.unshift(d),concat$3(et)}}assertArgument(!1,`unknown type: ${e}`,"type",e)};let TypedDataEncoder=xn;function setify(a){const e=new Set;return a.forEach(o=>e.add(o)),Object.freeze(e)}const _kwVisibDeploy="external public payable override",KwVisibDeploy=setify(_kwVisibDeploy.split(" ")),_kwVisib="constant external internal payable private public pure view override",KwVisib=setify(_kwVisib.split(" ")),_kwTypes="constructor error event fallback function receive struct",KwTypes=setify(_kwTypes.split(" ")),_kwModifiers="calldata memory storage payable indexed",KwModifiers=setify(_kwModifiers.split(" ")),_kwOther="tuple returns",_keywords=[_kwTypes,_kwModifiers,_kwOther,_kwVisib].join(" "),Keywords=setify(_keywords.split(" ")),SimpleTokens={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},regexWhitespacePrefix=new RegExp("^(\\s*)"),regexNumberPrefix=new RegExp("^([0-9]+)"),regexIdPrefix=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),regexId=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),regexType=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var Yr,In,Ul,_f;const $u=class $u{constructor(e){tr(this,Ul);tr(this,Yr,void 0);tr(this,In,void 0);Qt(this,Yr,0),Qt(this,In,e.slice())}get offset(){return Pt(this,Yr)}get length(){return Pt(this,In).length-Pt(this,Yr)}clone(){return new $u(Pt(this,In))}reset(){Qt(this,Yr,0)}popKeyword(e){const o=this.peek();if(o.type!=="KEYWORD"||!e.has(o.text))throw new Error(`expected keyword ${o.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const o=this.peek();throw new Error(`expected ${e}; got ${o.type} ${JSON.stringify(o.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const o=hr(this,Ul,_f).call(this,Pt(this,Yr)+1,e.match+1);return Qt(this,Yr,e.match+1),o}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const o=[];for(;Pt(this,Yr)<e.match-1;){const c=this.peek().linkNext;o.push(hr(this,Ul,_f).call(this,Pt(this,Yr)+1,c)),Qt(this,Yr,c)}return Qt(this,Yr,e.match+1),o}peek(){if(Pt(this,Yr)>=Pt(this,In).length)throw new Error("out-of-bounds");return Pt(this,In)[Pt(this,Yr)]}peekKeyword(e){const o=this.peekType("KEYWORD");return o!=null&&e.has(o)?o:null}peekType(e){if(this.length===0)return null;const o=this.peek();return o.type===e?o.text:null}pop(){const e=this.peek();return yl(this,Yr)._++,e}toString(){const e=[];for(let o=Pt(this,Yr);o<Pt(this,In).length;o++){const c=Pt(this,In)[o];e.push(`${c.type}:${c.text}`)}return`<TokenString ${e.join(" ")}>`}};Yr=new WeakMap,In=new WeakMap,Ul=new WeakSet,_f=function(e=0,o=0){return new $u(Pt(this,In).slice(e,o).map(c=>Object.freeze(Object.assign({},c,{match:c.match-e,linkBack:c.linkBack-e,linkNext:c.linkNext-e}))))};let TokenString=$u;function lex(a){const e=[],o=et=>{const tt=h<a.length?JSON.stringify(a[h]):"$EOI";throw new Error(`invalid token ${tt} at ${h}: ${et}`)};let c=[],d=[],h=0;for(;h<a.length;){let et=a.substring(h),tt=et.match(regexWhitespacePrefix);tt&&(h+=tt[1].length,et=a.substring(h));const ot={depth:c.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:h,value:-1};e.push(ot);let ft=SimpleTokens[et[0]]||"";if(ft){if(ot.type=ft,ot.text=et[0],h++,ft==="OPEN_PAREN")c.push(e.length-1),d.push(e.length-1);else if(ft=="CLOSE_PAREN")c.length===0&&o("no matching open bracket"),ot.match=c.pop(),e[ot.match].match=e.length-1,ot.depth--,ot.linkBack=d.pop(),e[ot.linkBack].linkNext=e.length-1;else if(ft==="COMMA")ot.linkBack=d.pop(),e[ot.linkBack].linkNext=e.length-1,d.push(e.length-1);else if(ft==="OPEN_BRACKET")ot.type="BRACKET";else if(ft==="CLOSE_BRACKET"){let ht=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const yt=e.pop().text;ht=yt+ht,e[e.length-1].value=getNumber(yt)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=ht}continue}if(tt=et.match(regexIdPrefix),tt){if(ot.text=tt[1],h+=ot.text.length,Keywords.has(ot.text)){ot.type="KEYWORD";continue}if(ot.text.match(regexType)){ot.type="TYPE";continue}ot.type="ID";continue}if(tt=et.match(regexNumberPrefix),tt){ot.text=tt[1],ot.type="NUMBER",h+=ot.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(et[0])} at position ${h}`)}return new TokenString(e.map(et=>Object.freeze(et)))}function allowSingle(a,e){let o=[];for(const c in e.keys())a.has(c)&&o.push(c);if(o.length>1)throw new Error(`conflicting types: ${o.join(", ")}`)}function consumeName(a,e){if(e.peekKeyword(KwTypes)){const o=e.pop().text;if(o!==a)throw new Error(`expected ${a}, got ${o}`)}return e.popType("ID")}function consumeKeywords(a,e){const o=new Set;for(;;){const c=a.peekType("KEYWORD");if(c==null||e&&!e.has(c))break;if(a.pop(),o.has(c))throw new Error(`duplicate keywords: ${JSON.stringify(c)}`);o.add(c)}return Object.freeze(o)}function consumeMutability(a){let e=consumeKeywords(a,KwVisib);return allowSingle(e,setify("constant payable nonpayable".split(" "))),allowSingle(e,setify("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function consumeParams(a,e){return a.popParams().map(o=>ParamType.from(o,e))}function consumeGas(a){if(a.peekType("AT")){if(a.pop(),a.peekType("NUMBER"))return getBigInt(a.pop().text);throw new Error("invalid gas")}return null}function consumeEoi(a){if(a.length)throw new Error(`unexpected tokens at offset ${a.offset}: ${a.toString()}`)}const regexArrayType=new RegExp(/^(.*)\[([0-9]*)\]$/);function verifyBasicType(a){const e=a.match(regexType);if(assertArgument(e,"invalid type","type",a),a==="uint")return"uint256";if(a==="int")return"int256";if(e[2]){const o=parseInt(e[2]);assertArgument(o!==0&&o<=32,"invalid bytes length","type",a)}else if(e[3]){const o=parseInt(e[3]);assertArgument(o!==0&&o<=256&&o%8===0,"invalid numeric width","type",a)}return a}const _guard$2={},internal$1=Symbol.for("_ethers_internal"),ParamTypeInternal="_ParamTypeInternal",ErrorFragmentInternal="_ErrorInternal",EventFragmentInternal="_EventInternal",ConstructorFragmentInternal="_ConstructorInternal",FallbackFragmentInternal="_FallbackInternal",FunctionFragmentInternal="_FunctionInternal",StructFragmentInternal="_StructInternal";var ko,pu;const wn=class wn{constructor(e,o,c,d,h,et,tt,ot){tr(this,ko);Jt(this,"name");Jt(this,"type");Jt(this,"baseType");Jt(this,"indexed");Jt(this,"components");Jt(this,"arrayLength");Jt(this,"arrayChildren");if(assertPrivate(e,_guard$2,"ParamType"),Object.defineProperty(this,internal$1,{value:ParamTypeInternal}),et&&(et=Object.freeze(et.slice())),d==="array"){if(tt==null||ot==null)throw new Error("")}else if(tt!=null||ot!=null)throw new Error("");if(d==="tuple"){if(et==null)throw new Error("")}else if(et!=null)throw new Error("");defineProperties(this,{name:o,type:c,baseType:d,indexed:h,components:et,arrayLength:tt,arrayChildren:ot})}format(e){if(e==null&&(e="sighash"),e==="json"){const c=this.name||"";if(this.isArray()){const h=JSON.parse(this.arrayChildren.format("json"));return h.name=c,h.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(h)}const d={type:this.baseType==="tuple"?"tuple":this.type,name:c};return typeof this.indexed=="boolean"&&(d.indexed=this.indexed),this.isTuple()&&(d.components=this.components.map(h=>JSON.parse(h.format(e)))),JSON.stringify(d)}let o="";return this.isArray()?(o+=this.arrayChildren.format(e),o+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?o+="("+this.components.map(c=>c.format(e)).join(e==="full"?", ":",")+")":o+=this.type,e!=="sighash"&&(this.indexed===!0&&(o+=" indexed"),e==="full"&&this.name&&(o+=" "+this.name)),o}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,o){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const c=this;return e.map(d=>c.arrayChildren.walk(d,o))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const c=this;return e.map((d,h)=>c.components[h].walk(d,o))}return o(this.type,e)}async walkAsync(e,o){const c=[],d=[e];return hr(this,ko,pu).call(this,c,e,o,h=>{d[0]=h}),c.length&&await Promise.all(c),d[0]}static from(e,o){if(wn.isParamType(e))return e;if(typeof e=="string")try{return wn.from(lex(e),o)}catch{assertArgument(!1,"invalid param type","obj",e)}else if(e instanceof TokenString){let tt="",ot="",ft=null;consumeKeywords(e,setify(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(ot="tuple",ft=e.popParams().map(xt=>wn.from(xt)),tt=`tuple(${ft.map(xt=>xt.format()).join(",")})`):(tt=verifyBasicType(e.popType("TYPE")),ot=tt);let ht=null,yt=null;for(;e.length&&e.peekType("BRACKET");){const xt=e.pop();ht=new wn(_guard$2,"",tt,ot,null,ft,yt,ht),yt=xt.value,tt+=xt.text,ot="array",ft=null}let gt=null;if(consumeKeywords(e,KwModifiers).has("indexed")){if(!o)throw new Error("");gt=!0}const bt=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new wn(_guard$2,bt,tt,ot,gt,ft,yt,ht)}const c=e.name;assertArgument(!c||typeof c=="string"&&c.match(regexId),"invalid name","obj.name",c);let d=e.indexed;d!=null&&(assertArgument(o,"parameter cannot be indexed","obj.indexed",e.indexed),d=!!d);let h=e.type,et=h.match(regexArrayType);if(et){const tt=parseInt(et[2]||"-1"),ot=wn.from({type:et[1],components:e.components});return new wn(_guard$2,c||"",h,"array",d,null,tt,ot)}if(h==="tuple"||h.startsWith("tuple(")||h.startsWith("(")){const tt=e.components!=null?e.components.map(ft=>wn.from(ft)):null;return new wn(_guard$2,c||"",h,"tuple",d,tt,null,null)}return h=verifyBasicType(e.type),new wn(_guard$2,c||"",h,h,d,null,null,null)}static isParamType(e){return e&&e[internal$1]===ParamTypeInternal}};ko=new WeakSet,pu=function(e,o,c,d){if(this.isArray()){if(!Array.isArray(o))throw new Error("invalid array value");if(this.arrayLength!==-1&&o.length!==this.arrayLength)throw new Error("array is wrong length");const et=this.arrayChildren,tt=o.slice();tt.forEach((ot,ft)=>{var ht;hr(ht=et,ko,pu).call(ht,e,ot,c,yt=>{tt[ft]=yt})}),d(tt);return}if(this.isTuple()){const et=this.components;let tt;if(Array.isArray(o))tt=o.slice();else{if(o==null||typeof o!="object")throw new Error("invalid tuple value");tt=et.map(ot=>{if(!ot.name)throw new Error("cannot use object value with unnamed components");if(!(ot.name in o))throw new Error(`missing value for component ${ot.name}`);return o[ot.name]})}if(tt.length!==this.components.length)throw new Error("array is wrong length");tt.forEach((ot,ft)=>{var ht;hr(ht=et[ft],ko,pu).call(ht,e,ot,c,yt=>{tt[ft]=yt})}),d(tt);return}const h=c(this.type,o);h.then?e.push(async function(){d(await h)}()):d(h)};let ParamType=wn;class Fragment{constructor(e,o,c){Jt(this,"type");Jt(this,"inputs");assertPrivate(e,_guard$2,"Fragment"),c=Object.freeze(c.slice()),defineProperties(this,{type:o,inputs:c})}static from(e){if(typeof e=="string"){try{Fragment.from(JSON.parse(e))}catch{}return Fragment.from(lex(e))}if(e instanceof TokenString)switch(e.peekKeyword(KwTypes)){case"constructor":return ConstructorFragment.from(e);case"error":return ErrorFragment.from(e);case"event":return EventFragment.from(e);case"fallback":case"receive":return FallbackFragment.from(e);case"function":return FunctionFragment.from(e);case"struct":return StructFragment.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return ConstructorFragment.from(e);case"error":return ErrorFragment.from(e);case"event":return EventFragment.from(e);case"fallback":case"receive":return FallbackFragment.from(e);case"function":return FunctionFragment.from(e);case"struct":return StructFragment.from(e)}assert(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}assertArgument(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return ConstructorFragment.isFragment(e)}static isError(e){return ErrorFragment.isFragment(e)}static isEvent(e){return EventFragment.isFragment(e)}static isFunction(e){return FunctionFragment.isFragment(e)}static isStruct(e){return StructFragment.isFragment(e)}}class NamedFragment extends Fragment{constructor(o,c,d,h){super(o,c,h);Jt(this,"name");assertArgument(typeof d=="string"&&d.match(regexId),"invalid identifier","name",d),h=Object.freeze(h.slice()),defineProperties(this,{name:d})}}function joinParams(a,e){return"("+e.map(o=>o.format(a)).join(a==="full"?", ":",")+")"}class ErrorFragment extends NamedFragment{constructor(e,o,c){super(e,"error",o,c),Object.defineProperty(this,internal$1,{value:ErrorFragmentInternal})}get selector(){return id(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(c=>JSON.parse(c.format(e)))});const o=[];return e!=="sighash"&&o.push("error"),o.push(this.name+joinParams(e,this.inputs)),o.join(" ")}static from(e){if(ErrorFragment.isFragment(e))return e;if(typeof e=="string")return ErrorFragment.from(lex(e));if(e instanceof TokenString){const o=consumeName("error",e),c=consumeParams(e);return consumeEoi(e),new ErrorFragment(_guard$2,o,c)}return new ErrorFragment(_guard$2,e.name,e.inputs?e.inputs.map(ParamType.from):[])}static isFragment(e){return e&&e[internal$1]===ErrorFragmentInternal}}class EventFragment extends NamedFragment{constructor(o,c,d,h){super(o,"event",c,d);Jt(this,"anonymous");Object.defineProperty(this,internal$1,{value:EventFragmentInternal}),defineProperties(this,{anonymous:h})}get topicHash(){return id(this.format("sighash"))}format(o){if(o==null&&(o="sighash"),o==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(d=>JSON.parse(d.format(o)))});const c=[];return o!=="sighash"&&c.push("event"),c.push(this.name+joinParams(o,this.inputs)),o!=="sighash"&&this.anonymous&&c.push("anonymous"),c.join(" ")}static getTopicHash(o,c){return c=(c||[]).map(h=>ParamType.from(h)),new EventFragment(_guard$2,o,c,!1).topicHash}static from(o){if(EventFragment.isFragment(o))return o;if(typeof o=="string")try{return EventFragment.from(lex(o))}catch{assertArgument(!1,"invalid event fragment","obj",o)}else if(o instanceof TokenString){const c=consumeName("event",o),d=consumeParams(o,!0),h=!!consumeKeywords(o,setify(["anonymous"])).has("anonymous");return consumeEoi(o),new EventFragment(_guard$2,c,d,h)}return new EventFragment(_guard$2,o.name,o.inputs?o.inputs.map(c=>ParamType.from(c,!0)):[],!!o.anonymous)}static isFragment(o){return o&&o[internal$1]===EventFragmentInternal}}class ConstructorFragment extends Fragment{constructor(o,c,d,h,et){super(o,c,d);Jt(this,"payable");Jt(this,"gas");Object.defineProperty(this,internal$1,{value:ConstructorFragmentInternal}),defineProperties(this,{payable:h,gas:et})}format(o){if(assert(o!=null&&o!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),o==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(d=>JSON.parse(d.format(o)))});const c=[`constructor${joinParams(o,this.inputs)}`];return this.payable&&c.push("payable"),this.gas!=null&&c.push(`@${this.gas.toString()}`),c.join(" ")}static from(o){if(ConstructorFragment.isFragment(o))return o;if(typeof o=="string")try{return ConstructorFragment.from(lex(o))}catch{assertArgument(!1,"invalid constuctor fragment","obj",o)}else if(o instanceof TokenString){consumeKeywords(o,setify(["constructor"]));const c=consumeParams(o),d=!!consumeKeywords(o,KwVisibDeploy).has("payable"),h=consumeGas(o);return consumeEoi(o),new ConstructorFragment(_guard$2,"constructor",c,d,h)}return new ConstructorFragment(_guard$2,"constructor",o.inputs?o.inputs.map(ParamType.from):[],!!o.payable,o.gas!=null?o.gas:null)}static isFragment(o){return o&&o[internal$1]===ConstructorFragmentInternal}}class FallbackFragment extends Fragment{constructor(o,c,d){super(o,"fallback",c);Jt(this,"payable");Object.defineProperty(this,internal$1,{value:FallbackFragmentInternal}),defineProperties(this,{payable:d})}format(o){const c=this.inputs.length===0?"receive":"fallback";if(o==="json"){const d=this.payable?"payable":"nonpayable";return JSON.stringify({type:c,stateMutability:d})}return`${c}()${this.payable?" payable":""}`}static from(o){if(FallbackFragment.isFragment(o))return o;if(typeof o=="string")try{return FallbackFragment.from(lex(o))}catch{assertArgument(!1,"invalid fallback fragment","obj",o)}else if(o instanceof TokenString){const c=o.toString(),d=o.peekKeyword(setify(["fallback","receive"]));if(assertArgument(d,"type must be fallback or receive","obj",c),o.popKeyword(setify(["fallback","receive"]))==="receive"){const ot=consumeParams(o);return assertArgument(ot.length===0,"receive cannot have arguments","obj.inputs",ot),consumeKeywords(o,setify(["payable"])),consumeEoi(o),new FallbackFragment(_guard$2,[],!0)}let et=consumeParams(o);et.length?assertArgument(et.length===1&&et[0].type==="bytes","invalid fallback inputs","obj.inputs",et.map(ot=>ot.format("minimal")).join(", ")):et=[ParamType.from("bytes")];const tt=consumeMutability(o);if(assertArgument(tt==="nonpayable"||tt==="payable","fallback cannot be constants","obj.stateMutability",tt),consumeKeywords(o,setify(["returns"])).has("returns")){const ot=consumeParams(o);assertArgument(ot.length===1&&ot[0].type==="bytes","invalid fallback outputs","obj.outputs",ot.map(ft=>ft.format("minimal")).join(", "))}return consumeEoi(o),new FallbackFragment(_guard$2,et,tt==="payable")}if(o.type==="receive")return new FallbackFragment(_guard$2,[],!0);if(o.type==="fallback"){const c=[ParamType.from("bytes")],d=o.stateMutability==="payable";return new FallbackFragment(_guard$2,c,d)}assertArgument(!1,"invalid fallback description","obj",o)}static isFragment(o){return o&&o[internal$1]===FallbackFragmentInternal}}class FunctionFragment extends NamedFragment{constructor(o,c,d,h,et,tt){super(o,"function",c,h);Jt(this,"constant");Jt(this,"outputs");Jt(this,"stateMutability");Jt(this,"payable");Jt(this,"gas");Object.defineProperty(this,internal$1,{value:FunctionFragmentInternal}),et=Object.freeze(et.slice()),defineProperties(this,{constant:d==="view"||d==="pure",gas:tt,outputs:et,payable:d==="payable",stateMutability:d})}get selector(){return id(this.format("sighash")).substring(0,10)}format(o){if(o==null&&(o="sighash"),o==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(d=>JSON.parse(d.format(o))),outputs:this.outputs.map(d=>JSON.parse(d.format(o)))});const c=[];return o!=="sighash"&&c.push("function"),c.push(this.name+joinParams(o,this.inputs)),o!=="sighash"&&(this.stateMutability!=="nonpayable"&&c.push(this.stateMutability),this.outputs&&this.outputs.length&&(c.push("returns"),c.push(joinParams(o,this.outputs))),this.gas!=null&&c.push(`@${this.gas.toString()}`)),c.join(" ")}static getSelector(o,c){return c=(c||[]).map(h=>ParamType.from(h)),new FunctionFragment(_guard$2,o,"view",c,[],null).selector}static from(o){if(FunctionFragment.isFragment(o))return o;if(typeof o=="string")try{return FunctionFragment.from(lex(o))}catch{assertArgument(!1,"invalid function fragment","obj",o)}else if(o instanceof TokenString){const d=consumeName("function",o),h=consumeParams(o),et=consumeMutability(o);let tt=[];consumeKeywords(o,setify(["returns"])).has("returns")&&(tt=consumeParams(o));const ot=consumeGas(o);return consumeEoi(o),new FunctionFragment(_guard$2,d,et,h,tt,ot)}let c=o.stateMutability;return c==null&&(c="payable",typeof o.constant=="boolean"?(c="view",o.constant||(c="payable",typeof o.payable=="boolean"&&!o.payable&&(c="nonpayable"))):typeof o.payable=="boolean"&&!o.payable&&(c="nonpayable")),new FunctionFragment(_guard$2,o.name,c,o.inputs?o.inputs.map(ParamType.from):[],o.outputs?o.outputs.map(ParamType.from):[],o.gas!=null?o.gas:null)}static isFragment(o){return o&&o[internal$1]===FunctionFragmentInternal}}class StructFragment extends NamedFragment{constructor(e,o,c){super(e,"struct",o,c),Object.defineProperty(this,internal$1,{value:StructFragmentInternal})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return StructFragment.from(lex(e))}catch{assertArgument(!1,"invalid struct fragment","obj",e)}else if(e instanceof TokenString){const o=consumeName("struct",e),c=consumeParams(e);return consumeEoi(e),new StructFragment(_guard$2,o,c)}return new StructFragment(_guard$2,e.name,e.inputs?e.inputs.map(ParamType.from):[])}static isFragment(e){return e&&e[internal$1]===StructFragmentInternal}}const PanicReasons$1=new Map;PanicReasons$1.set(0,"GENERIC_PANIC");PanicReasons$1.set(1,"ASSERT_FALSE");PanicReasons$1.set(17,"OVERFLOW");PanicReasons$1.set(18,"DIVIDE_BY_ZERO");PanicReasons$1.set(33,"ENUM_RANGE_ERROR");PanicReasons$1.set(34,"BAD_STORAGE_DATA");PanicReasons$1.set(49,"STACK_UNDERFLOW");PanicReasons$1.set(50,"ARRAY_RANGE_ERROR");PanicReasons$1.set(65,"OUT_OF_MEMORY");PanicReasons$1.set(81,"UNINITIALIZED_FUNCTION_CALL");const paramTypeBytes=new RegExp(/^bytes([0-9]*)$/),paramTypeNumber=new RegExp(/^(u?int)([0-9]*)$/);let defaultCoder=null,defaultMaxInflation=1024;function getBuiltinCallException(a,e,o,c){let d="missing revert data",h=null;const et=null;let tt=null;if(o){d="execution reverted";const ft=getBytes(o);if(o=hexlify$1(o),ft.length===0)d+=" (no data present; likely require(false) occurred",h="require(false)";else if(ft.length%32!==4)d+=" (could not decode reason; invalid data length)";else if(hexlify$1(ft.slice(0,4))==="0x08c379a0")try{h=c.decode(["string"],ft.slice(4))[0],tt={signature:"Error(string)",name:"Error",args:[h]},d+=`: ${JSON.stringify(h)}`}catch{d+=" (could not decode reason; invalid string data)"}else if(hexlify$1(ft.slice(0,4))==="0x4e487b71")try{const ht=Number(c.decode(["uint256"],ft.slice(4))[0]);tt={signature:"Panic(uint256)",name:"Panic",args:[ht]},h=`Panic due to ${PanicReasons$1.get(ht)||"UNKNOWN"}(${ht})`,d+=`: ${h}`}catch{d+=" (could not decode panic code)"}else d+=" (unknown custom error)"}const ot={to:e.to?getAddress$1(e.to):null,data:e.data||"0x"};return e.from&&(ot.from=getAddress$1(e.from)),makeError(d,"CALL_EXCEPTION",{action:a,data:o,reason:h,transaction:ot,invocation:et,revert:tt})}var ss,to;const Eu=class Eu{constructor(){tr(this,ss)}getDefaultValue(e){const o=e.map(d=>hr(this,ss,to).call(this,ParamType.from(d)));return new TupleCoder(o,"_").defaultValue()}encode(e,o){assertArgumentCount(o.length,e.length,"types/values length mismatch");const c=e.map(et=>hr(this,ss,to).call(this,ParamType.from(et))),d=new TupleCoder(c,"_"),h=new Writer$2;return d.encode(h,o),h.data}decode(e,o,c){const d=e.map(et=>hr(this,ss,to).call(this,ParamType.from(et)));return new TupleCoder(d,"_").decode(new Reader$2(o,c,defaultMaxInflation))}static _setDefaultMaxInflation(e){assertArgument(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),defaultMaxInflation=e}static defaultAbiCoder(){return defaultCoder==null&&(defaultCoder=new Eu),defaultCoder}static getBuiltinCallException(e,o,c){return getBuiltinCallException(e,o,c,Eu.defaultAbiCoder())}};ss=new WeakSet,to=function(e){if(e.isArray())return new ArrayCoder(hr(this,ss,to).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new TupleCoder(e.components.map(c=>hr(this,ss,to).call(this,c)),e.name);switch(e.baseType){case"address":return new AddressCoder(e.name);case"bool":return new BooleanCoder(e.name);case"string":return new StringCoder(e.name);case"bytes":return new BytesCoder(e.name);case"":return new NullCoder(e.name)}let o=e.type.match(paramTypeNumber);if(o){let c=parseInt(o[2]||"256");return assertArgument(c!==0&&c<=256&&c%8===0,"invalid "+o[1]+" bit length","param",e),new NumberCoder(c/8,o[1]==="int",e.name)}if(o=e.type.match(paramTypeBytes),o){let c=parseInt(o[1]);return assertArgument(c!==0&&c<=32,"invalid bytes length","param",e),new FixedBytesCoder(c,e.name)}assertArgument(!1,"invalid type","type",e.type)};let AbiCoder=Eu;class LogDescription{constructor(e,o,c){Jt(this,"fragment");Jt(this,"name");Jt(this,"signature");Jt(this,"topic");Jt(this,"args");const d=e.name,h=e.format();defineProperties(this,{fragment:e,name:d,signature:h,topic:o,args:c})}}class TransactionDescription{constructor(e,o,c,d){Jt(this,"fragment");Jt(this,"name");Jt(this,"args");Jt(this,"signature");Jt(this,"selector");Jt(this,"value");const h=e.name,et=e.format();defineProperties(this,{fragment:e,name:h,args:c,signature:et,selector:o,value:d})}}class ErrorDescription{constructor(e,o,c){Jt(this,"fragment");Jt(this,"name");Jt(this,"args");Jt(this,"signature");Jt(this,"selector");const d=e.name,h=e.format();defineProperties(this,{fragment:e,name:d,args:c,signature:h,selector:o})}}class Indexed{constructor(e){Jt(this,"hash");Jt(this,"_isIndexed");defineProperties(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const PanicReasons={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},BuiltinErrors={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:a=>`reverted with reason string ${JSON.stringify(a)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:a=>{let e="unknown panic code";return a>=0&&a<=255&&PanicReasons[a.toString()]&&(e=PanicReasons[a.toString()]),`reverted with panic code 0x${a.toString(16)} (${e})`}}};var Pn,Dn,Mn,nn,Io,hu,Ro,yu;const no=class no{constructor(e){tr(this,Io);tr(this,Ro);Jt(this,"fragments");Jt(this,"deploy");Jt(this,"fallback");Jt(this,"receive");tr(this,Pn,void 0);tr(this,Dn,void 0);tr(this,Mn,void 0);tr(this,nn,void 0);let o=[];typeof e=="string"?o=JSON.parse(e):o=e,Qt(this,Mn,new Map),Qt(this,Pn,new Map),Qt(this,Dn,new Map);const c=[];for(const et of o)try{c.push(Fragment.from(et))}catch(tt){console.log(`[Warning] Invalid Fragment ${JSON.stringify(et)}:`,tt.message)}defineProperties(this,{fragments:Object.freeze(c)});let d=null,h=!1;Qt(this,nn,this.getAbiCoder()),this.fragments.forEach((et,tt)=>{let ot;switch(et.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}defineProperties(this,{deploy:et});return;case"fallback":et.inputs.length===0?h=!0:(assertArgument(!d||et.payable!==d.payable,"conflicting fallback fragments",`fragments[${tt}]`,et),d=et,h=d.payable);return;case"function":ot=Pt(this,Mn);break;case"event":ot=Pt(this,Dn);break;case"error":ot=Pt(this,Pn);break;default:return}const ft=et.format();ot.has(ft)||ot.set(ft,et)}),this.deploy||defineProperties(this,{deploy:ConstructorFragment.from("constructor()")}),defineProperties(this,{fallback:d,receive:h})}format(e){const o=e?"minimal":"full";return this.fragments.map(d=>d.format(o))}formatJson(){const e=this.fragments.map(o=>o.format("json"));return JSON.stringify(e.map(o=>JSON.parse(o)))}getAbiCoder(){return AbiCoder.defaultAbiCoder()}getFunctionName(e){const o=hr(this,Io,hu).call(this,e,null,!1);return assertArgument(o,"no matching function","key",e),o.name}hasFunction(e){return!!hr(this,Io,hu).call(this,e,null,!1)}getFunction(e,o){return hr(this,Io,hu).call(this,e,o||null,!0)}forEachFunction(e){const o=Array.from(Pt(this,Mn).keys());o.sort((c,d)=>c.localeCompare(d));for(let c=0;c<o.length;c++){const d=o[c];e(Pt(this,Mn).get(d),c)}}getEventName(e){const o=hr(this,Ro,yu).call(this,e,null,!1);return assertArgument(o,"no matching event","key",e),o.name}hasEvent(e){return!!hr(this,Ro,yu).call(this,e,null,!1)}getEvent(e,o){return hr(this,Ro,yu).call(this,e,o||null,!0)}forEachEvent(e){const o=Array.from(Pt(this,Dn).keys());o.sort((c,d)=>c.localeCompare(d));for(let c=0;c<o.length;c++){const d=o[c];e(Pt(this,Dn).get(d),c)}}getError(e,o){if(isHexString$1(e)){const d=e.toLowerCase();if(BuiltinErrors[d])return ErrorFragment.from(BuiltinErrors[d].signature);for(const h of Pt(this,Pn).values())if(d===h.selector)return h;return null}if(e.indexOf("(")===-1){const d=[];for(const[h,et]of Pt(this,Pn))h.split("(")[0]===e&&d.push(et);if(d.length===0)return e==="Error"?ErrorFragment.from("error Error(string)"):e==="Panic"?ErrorFragment.from("error Panic(uint256)"):null;if(d.length>1){const h=d.map(et=>JSON.stringify(et.format())).join(", ");assertArgument(!1,`ambiguous error description (i.e. ${h})`,"name",e)}return d[0]}if(e=ErrorFragment.from(e).format(),e==="Error(string)")return ErrorFragment.from("error Error(string)");if(e==="Panic(uint256)")return ErrorFragment.from("error Panic(uint256)");const c=Pt(this,Pn).get(e);return c||null}forEachError(e){const o=Array.from(Pt(this,Pn).keys());o.sort((c,d)=>c.localeCompare(d));for(let c=0;c<o.length;c++){const d=o[c];e(Pt(this,Pn).get(d),c)}}_decodeParams(e,o){return Pt(this,nn).decode(e,o)}_encodeParams(e,o){return Pt(this,nn).encode(e,o)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,o){if(typeof e=="string"){const c=this.getError(e);assertArgument(c,"unknown error","fragment",e),e=c}return assertArgument(dataSlice(o,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",o),this._decodeParams(e.inputs,dataSlice(o,4))}encodeErrorResult(e,o){if(typeof e=="string"){const c=this.getError(e);assertArgument(c,"unknown error","fragment",e),e=c}return concat$3([e.selector,this._encodeParams(e.inputs,o||[])])}decodeFunctionData(e,o){if(typeof e=="string"){const c=this.getFunction(e);assertArgument(c,"unknown function","fragment",e),e=c}return assertArgument(dataSlice(o,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",o),this._decodeParams(e.inputs,dataSlice(o,4))}encodeFunctionData(e,o){if(typeof e=="string"){const c=this.getFunction(e);assertArgument(c,"unknown function","fragment",e),e=c}return concat$3([e.selector,this._encodeParams(e.inputs,o||[])])}decodeFunctionResult(e,o){if(typeof e=="string"){const h=this.getFunction(e);assertArgument(h,"unknown function","fragment",e),e=h}let c="invalid length for result data";const d=getBytesCopy(o);if(d.length%32===0)try{return Pt(this,nn).decode(e.outputs,d)}catch{c="could not decode result data"}assert(!1,c,"BAD_DATA",{value:hexlify$1(d),info:{method:e.name,signature:e.format()}})}makeError(e,o){const c=getBytes(e,"data"),d=AbiCoder.getBuiltinCallException("call",o,c);if(d.message.startsWith("execution reverted (unknown custom error)")){const tt=hexlify$1(c.slice(0,4)),ot=this.getError(tt);if(ot)try{const ft=Pt(this,nn).decode(ot.inputs,c.slice(4));d.revert={name:ot.name,signature:ot.format(),args:ft},d.reason=d.revert.signature,d.message=`execution reverted: ${d.reason}`}catch{d.message="execution reverted (coult not decode custom error)"}}const et=this.parseTransaction(o);return et&&(d.invocation={method:et.name,signature:et.signature,args:et.args}),d}encodeFunctionResult(e,o){if(typeof e=="string"){const c=this.getFunction(e);assertArgument(c,"unknown function","fragment",e),e=c}return hexlify$1(Pt(this,nn).encode(e.outputs,o||[]))}encodeFilterTopics(e,o){if(typeof e=="string"){const h=this.getEvent(e);assertArgument(h,"unknown event","eventFragment",e),e=h}assert(o.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:o.length,expectedCount:e.inputs.length});const c=[];e.anonymous||c.push(e.topicHash);const d=(h,et)=>h.type==="string"?id(et):h.type==="bytes"?keccak256(hexlify$1(et)):(h.type==="bool"&&typeof et=="boolean"?et=et?"0x01":"0x00":h.type.match(/^u?int/)?et=toBeHex(et):h.type.match(/^bytes/)?et=zeroPadBytes(et,32):h.type==="address"&&Pt(this,nn).encode(["address"],[et]),zeroPadValue(hexlify$1(et),32));for(o.forEach((h,et)=>{const tt=e.inputs[et];if(!tt.indexed){assertArgument(h==null,"cannot filter non-indexed parameters; must be null","contract."+tt.name,h);return}h==null?c.push(null):tt.baseType==="array"||tt.baseType==="tuple"?assertArgument(!1,"filtering with tuples or arrays not supported","contract."+tt.name,h):Array.isArray(h)?c.push(h.map(ot=>d(tt,ot))):c.push(d(tt,h))});c.length&&c[c.length-1]===null;)c.pop();return c}encodeEventLog(e,o){if(typeof e=="string"){const et=this.getEvent(e);assertArgument(et,"unknown event","eventFragment",e),e=et}const c=[],d=[],h=[];return e.anonymous||c.push(e.topicHash),assertArgument(o.length===e.inputs.length,"event arguments/values mismatch","values",o),e.inputs.forEach((et,tt)=>{const ot=o[tt];if(et.indexed)if(et.type==="string")c.push(id(ot));else if(et.type==="bytes")c.push(keccak256(ot));else{if(et.baseType==="tuple"||et.baseType==="array")throw new Error("not implemented");c.push(Pt(this,nn).encode([et.type],[ot]))}else d.push(et),h.push(ot)}),{data:Pt(this,nn).encode(d,h),topics:c}}decodeEventLog(e,o,c){if(typeof e=="string"){const wt=this.getEvent(e);assertArgument(wt,"unknown event","eventFragment",e),e=wt}if(c!=null&&!e.anonymous){const wt=e.topicHash;assertArgument(isHexString$1(c[0],32)&&c[0].toLowerCase()===wt,"fragment/topic mismatch","topics[0]",c[0]),c=c.slice(1)}const d=[],h=[],et=[];e.inputs.forEach((wt,bt)=>{wt.indexed?wt.type==="string"||wt.type==="bytes"||wt.baseType==="tuple"||wt.baseType==="array"?(d.push(ParamType.from({type:"bytes32",name:wt.name})),et.push(!0)):(d.push(wt),et.push(!1)):(h.push(wt),et.push(!1))});const tt=c!=null?Pt(this,nn).decode(d,concat$3(c)):null,ot=Pt(this,nn).decode(h,o,!0),ft=[],ht=[];let yt=0,gt=0;return e.inputs.forEach((wt,bt)=>{let xt=null;if(wt.indexed)if(tt==null)xt=new Indexed(null);else if(et[bt])xt=new Indexed(tt[gt++]);else try{xt=tt[gt++]}catch(Et){xt=Et}else try{xt=ot[yt++]}catch(Et){xt=Et}ft.push(xt),ht.push(wt.name||null)}),Result.fromItems(ft,ht)}parseTransaction(e){const o=getBytes(e.data,"tx.data"),c=getBigInt(e.value!=null?e.value:0,"tx.value"),d=this.getFunction(hexlify$1(o.slice(0,4)));if(!d)return null;const h=Pt(this,nn).decode(d.inputs,o.slice(4));return new TransactionDescription(d,d.selector,h,c)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const o=this.getEvent(e.topics[0]);return!o||o.anonymous?null:new LogDescription(o,o.topicHash,this.decodeEventLog(o,e.data,e.topics))}parseError(e){const o=hexlify$1(e),c=this.getError(dataSlice(o,0,4));if(!c)return null;const d=Pt(this,nn).decode(c.inputs,dataSlice(o,4));return new ErrorDescription(c,c.selector,d)}static from(e){return e instanceof no?e:typeof e=="string"?new no(JSON.parse(e)):typeof e.format=="function"?new no(e.format("json")):new no(e)}};Pn=new WeakMap,Dn=new WeakMap,Mn=new WeakMap,nn=new WeakMap,Io=new WeakSet,hu=function(e,o,c){if(isHexString$1(e)){const h=e.toLowerCase();for(const et of Pt(this,Mn).values())if(h===et.selector)return et;return null}if(e.indexOf("(")===-1){const h=[];for(const[et,tt]of Pt(this,Mn))et.split("(")[0]===e&&h.push(tt);if(o){const et=o.length>0?o[o.length-1]:null;let tt=o.length,ot=!0;Typed.isTyped(et)&&et.type==="overrides"&&(ot=!1,tt--);for(let ft=h.length-1;ft>=0;ft--){const ht=h[ft].inputs.length;ht!==tt&&(!ot||ht!==tt-1)&&h.splice(ft,1)}for(let ft=h.length-1;ft>=0;ft--){const ht=h[ft].inputs;for(let yt=0;yt<o.length;yt++)if(Typed.isTyped(o[yt])){if(yt>=ht.length){if(o[yt].type==="overrides")continue;h.splice(ft,1);break}if(o[yt].type!==ht[yt].baseType){h.splice(ft,1);break}}}}if(h.length===1&&o&&o.length!==h[0].inputs.length){const et=o[o.length-1];(et==null||Array.isArray(et)||typeof et!="object")&&h.splice(0,1)}if(h.length===0)return null;if(h.length>1&&c){const et=h.map(tt=>JSON.stringify(tt.format())).join(", ");assertArgument(!1,`ambiguous function description (i.e. matches ${et})`,"key",e)}return h[0]}const d=Pt(this,Mn).get(FunctionFragment.from(e).format());return d||null},Ro=new WeakSet,yu=function(e,o,c){if(isHexString$1(e)){const h=e.toLowerCase();for(const et of Pt(this,Dn).values())if(h===et.topicHash)return et;return null}if(e.indexOf("(")===-1){const h=[];for(const[et,tt]of Pt(this,Dn))et.split("(")[0]===e&&h.push(tt);if(o){for(let et=h.length-1;et>=0;et--)h[et].inputs.length<o.length&&h.splice(et,1);for(let et=h.length-1;et>=0;et--){const tt=h[et].inputs;for(let ot=0;ot<o.length;ot++)if(Typed.isTyped(o[ot])&&o[ot].type!==tt[ot].baseType){h.splice(et,1);break}}}if(h.length===0)return null;if(h.length>1&&c){const et=h.map(tt=>JSON.stringify(tt.format())).join(", ");assertArgument(!1,`ambiguous event description (i.e. matches ${et})`,"key",e)}return h[0]}const d=Pt(this,Dn).get(EventFragment.from(e).format());return d||null};let Interface=no;const BN_0$2=BigInt(0);function getValue(a){return a??null}function toJson(a){return a==null?null:a.toString()}class FeeData{constructor(e,o,c){Jt(this,"gasPrice");Jt(this,"maxFeePerGas");Jt(this,"maxPriorityFeePerGas");defineProperties(this,{gasPrice:getValue(e),maxFeePerGas:getValue(o),maxPriorityFeePerGas:getValue(c)})}toJSON(){const{gasPrice:e,maxFeePerGas:o,maxPriorityFeePerGas:c}=this;return{_type:"FeeData",gasPrice:toJson(e),maxFeePerGas:toJson(o),maxPriorityFeePerGas:toJson(c)}}}function copyRequest(a){const e={};a.to&&(e.to=a.to),a.from&&(e.from=a.from),a.data&&(e.data=hexlify$1(a.data));const o="chainId,gasLimit,gasPrice,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const d of o)!(d in a)||a[d]==null||(e[d]=getBigInt(a[d],`request.${d}`));const c="type,nonce".split(/,/);for(const d of c)!(d in a)||a[d]==null||(e[d]=getNumber(a[d],`request.${d}`));return a.accessList&&(e.accessList=accessListify(a.accessList)),"blockTag"in a&&(e.blockTag=a.blockTag),"enableCcipRead"in a&&(e.enableCcipRead=!!a.enableCcipRead),"customData"in a&&(e.customData=a.customData),e}var Jn;class Block{constructor(e,o){Jt(this,"provider");Jt(this,"number");Jt(this,"hash");Jt(this,"timestamp");Jt(this,"parentHash");Jt(this,"parentBeaconBlockRoot");Jt(this,"nonce");Jt(this,"difficulty");Jt(this,"gasLimit");Jt(this,"gasUsed");Jt(this,"stateRoot");Jt(this,"receiptsRoot");Jt(this,"blobGasUsed");Jt(this,"excessBlobGas");Jt(this,"miner");Jt(this,"extraData");Jt(this,"baseFeePerGas");tr(this,Jn,void 0);Qt(this,Jn,e.transactions.map(c=>typeof c!="string"?new TransactionResponse(c,o):c)),defineProperties(this,{provider:o,hash:getValue(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,extraData:e.extraData,baseFeePerGas:getValue(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return Pt(this,Jn).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=Pt(this,Jn).slice();return e.length===0?[]:(assert(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:o,extraData:c,gasLimit:d,gasUsed:h,hash:et,miner:tt,nonce:ot,number:ft,parentHash:ht,parentBeaconBlockRoot:yt,stateRoot:gt,receiptsRoot:wt,timestamp:bt,transactions:xt}=this;return{_type:"Block",baseFeePerGas:toJson(e),difficulty:toJson(o),extraData:c,gasLimit:toJson(d),gasUsed:toJson(h),blobGasUsed:toJson(this.blobGasUsed),excessBlobGas:toJson(this.excessBlobGas),hash:et,miner:tt,nonce:ot,number:ft,parentHash:ht,timestamp:bt,parentBeaconBlockRoot:yt,stateRoot:gt,receiptsRoot:wt,transactions:xt}}[Symbol.iterator](){let e=0;const o=this.transactions;return{next:()=>e<this.length?{value:o[e++],done:!1}:{value:void 0,done:!0}}}get length(){return Pt(this,Jn).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let o;if(typeof e=="number")o=Pt(this,Jn)[e];else{const c=e.toLowerCase();for(const d of Pt(this,Jn))if(typeof d=="string"){if(d!==c)continue;o=d;break}else{if(d.hash===c)continue;o=d;break}}if(o==null)throw new Error("no such tx");return typeof o=="string"?await this.provider.getTransaction(o):o}getPrefetchedTransaction(e){const o=this.prefetchedTransactions;if(typeof e=="number")return o[e];e=e.toLowerCase();for(const c of o)if(c.hash===e)return c;assertArgument(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return createOrphanedBlockFilter(this)}}Jn=new WeakMap;class Log{constructor(e,o){Jt(this,"provider");Jt(this,"transactionHash");Jt(this,"blockHash");Jt(this,"blockNumber");Jt(this,"removed");Jt(this,"address");Jt(this,"data");Jt(this,"topics");Jt(this,"index");Jt(this,"transactionIndex");this.provider=o;const c=Object.freeze(e.topics.slice());defineProperties(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:c,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:o,blockNumber:c,data:d,index:h,removed:et,topics:tt,transactionHash:ot,transactionIndex:ft}=this;return{_type:"log",address:e,blockHash:o,blockNumber:c,data:d,index:h,removed:et,topics:tt,transactionHash:ot,transactionIndex:ft}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return assert(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return assert(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return assert(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return createRemovedLogFilter(this)}}var Fl;class TransactionReceipt{constructor(e,o){Jt(this,"provider");Jt(this,"to");Jt(this,"from");Jt(this,"contractAddress");Jt(this,"hash");Jt(this,"index");Jt(this,"blockHash");Jt(this,"blockNumber");Jt(this,"logsBloom");Jt(this,"gasUsed");Jt(this,"blobGasUsed");Jt(this,"cumulativeGasUsed");Jt(this,"gasPrice");Jt(this,"blobGasPrice");Jt(this,"type");Jt(this,"status");Jt(this,"root");tr(this,Fl,void 0);Qt(this,Fl,Object.freeze(e.logs.map(d=>new Log(d,o))));let c=BN_0$2;e.effectiveGasPrice!=null?c=e.effectiveGasPrice:e.gasPrice!=null&&(c=e.gasPrice),defineProperties(this,{provider:o,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:c,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return Pt(this,Fl)}toJSON(){const{to:e,from:o,contractAddress:c,hash:d,index:h,blockHash:et,blockNumber:tt,logsBloom:ot,logs:ft,status:ht,root:yt}=this;return{_type:"TransactionReceipt",blockHash:et,blockNumber:tt,contractAddress:c,cumulativeGasUsed:toJson(this.cumulativeGasUsed),from:o,gasPrice:toJson(this.gasPrice),blobGasUsed:toJson(this.blobGasUsed),blobGasPrice:toJson(this.blobGasPrice),gasUsed:toJson(this.gasUsed),hash:d,index:h,logs:ft,logsBloom:ot,root:yt,status:ht,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return createRemovedTransactionFilter(this)}reorderedEvent(e){return assert(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),createReorderedTransactionFilter(this,e)}}Fl=new WeakMap;var os;const fp=class fp{constructor(e,o){Jt(this,"provider");Jt(this,"blockNumber");Jt(this,"blockHash");Jt(this,"index");Jt(this,"hash");Jt(this,"type");Jt(this,"to");Jt(this,"from");Jt(this,"nonce");Jt(this,"gasLimit");Jt(this,"gasPrice");Jt(this,"maxPriorityFeePerGas");Jt(this,"maxFeePerGas");Jt(this,"maxFeePerBlobGas");Jt(this,"data");Jt(this,"value");Jt(this,"chainId");Jt(this,"signature");Jt(this,"accessList");Jt(this,"blobVersionedHashes");tr(this,os,void 0);this.provider=o,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,Qt(this,os,-1)}toJSON(){const{blockNumber:e,blockHash:o,index:c,hash:d,type:h,to:et,from:tt,nonce:ot,data:ft,signature:ht,accessList:yt,blobVersionedHashes:gt}=this;return{_type:"TransactionResponse",accessList:yt,blockNumber:e,blockHash:o,blobVersionedHashes:gt,chainId:toJson(this.chainId),data:ft,from:tt,gasLimit:toJson(this.gasLimit),gasPrice:toJson(this.gasPrice),hash:d,maxFeePerGas:toJson(this.maxFeePerGas),maxPriorityFeePerGas:toJson(this.maxPriorityFeePerGas),maxFeePerBlobGas:toJson(this.maxFeePerBlobGas),nonce:ot,signature:ht,to:et,index:c,type:h,value:toJson(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const c=await this.getTransaction();c&&(e=c.blockNumber)}if(e==null)return null;const o=this.provider.getBlock(e);if(o==null)throw new Error("TODO");return o}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:o,blockNumber:c}=await resolveProperties({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return o==null||o.blockNumber==null?0:c-o.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,o){const c=e??1,d=o??0;let h=Pt(this,os),et=-1,tt=h===-1;const ot=async()=>{if(tt)return null;const{blockNumber:gt,nonce:wt}=await resolveProperties({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(wt<this.nonce){h=gt;return}if(tt)return null;const bt=await this.getTransaction();if(!(bt&&bt.blockNumber!=null))for(et===-1&&(et=h-3,et<Pt(this,os)&&(et=Pt(this,os)));et<=gt;){if(tt)return null;const xt=await this.provider.getBlock(et,!0);if(xt==null)return;for(const Et of xt)if(Et===this.hash)return;for(let Et=0;Et<xt.length;Et++){const vt=await xt.getTransaction(Et);if(vt.from===this.from&&vt.nonce===this.nonce){if(tt)return null;const $t=await this.provider.getTransactionReceipt(vt.hash);if($t==null||gt-$t.blockNumber+1<c)return;let At="replaced";vt.data===this.data&&vt.to===this.to&&vt.value===this.value?At="repriced":vt.data==="0x"&&vt.from===vt.to&&vt.value===BN_0$2&&(At="cancelled"),assert(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:At==="replaced"||At==="cancelled",reason:At,replacement:vt.replaceableTransaction(h),hash:vt.hash,receipt:$t})}}et++}},ft=gt=>{if(gt==null||gt.status!==0)return gt;assert(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:gt.to,from:gt.from,data:""},receipt:gt})},ht=await this.provider.getTransactionReceipt(this.hash);if(c===0)return ft(ht);if(ht){if(await ht.confirmations()>=c)return ft(ht)}else if(await ot(),c===0)return null;return await new Promise((gt,wt)=>{const bt=[],xt=()=>{bt.forEach(vt=>vt())};if(bt.push(()=>{tt=!0}),d>0){const vt=setTimeout(()=>{xt(),wt(makeError("wait for transaction timeout","TIMEOUT"))},d);bt.push(()=>{clearTimeout(vt)})}const Et=async vt=>{if(await vt.confirmations()>=c){xt();try{gt(ft(vt))}catch($t){wt($t)}}};if(bt.push(()=>{this.provider.off(this.hash,Et)}),this.provider.on(this.hash,Et),h>=0){const vt=async()=>{try{await ot()}catch($t){if(isError($t,"TRANSACTION_REPLACED")){xt(),wt($t);return}}tt||this.provider.once("block",vt)};bt.push(()=>{this.provider.off("block",vt)}),this.provider.once("block",vt)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return assert(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),createRemovedTransactionFilter(this)}reorderedEvent(e){return assert(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),assert(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),createReorderedTransactionFilter(this,e)}replaceableTransaction(e){assertArgument(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const o=new fp(this,this.provider);return Qt(o,os,e),o}};os=new WeakMap;let TransactionResponse=fp;function createOrphanedBlockFilter(a){return{orphan:"drop-block",hash:a.hash,number:a.number}}function createReorderedTransactionFilter(a,e){return{orphan:"reorder-transaction",tx:a,other:e}}function createRemovedTransactionFilter(a){return{orphan:"drop-transaction",tx:a}}function createRemovedLogFilter(a){return{orphan:"drop-log",log:{transactionHash:a.transactionHash,blockHash:a.blockHash,blockNumber:a.blockNumber,address:a.address,data:a.data,topics:Object.freeze(a.topics.slice()),index:a.index}}}class EventLog extends Log{constructor(o,c,d){super(o,o.provider);Jt(this,"interface");Jt(this,"fragment");Jt(this,"args");const h=c.decodeEventLog(d,o.data,o.topics);defineProperties(this,{args:h,fragment:d,interface:c})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class UndecodedEventLog extends Log{constructor(o,c){super(o,o.provider);Jt(this,"error");defineProperties(this,{error:c})}}var Bo;class ContractTransactionReceipt extends TransactionReceipt{constructor(o,c,d){super(d,c);tr(this,Bo,void 0);Qt(this,Bo,o)}get logs(){return super.logs.map(o=>{const c=o.topics.length?Pt(this,Bo).getEvent(o.topics[0]):null;if(c)try{return new EventLog(o,Pt(this,Bo),c)}catch(d){return new UndecodedEventLog(o,d)}return o})}}Bo=new WeakMap;var zl;class ContractTransactionResponse extends TransactionResponse{constructor(o,c,d){super(d,c);tr(this,zl,void 0);Qt(this,zl,o)}async wait(o,c){const d=await super.wait(o,c);return d==null?null:new ContractTransactionReceipt(Pt(this,zl),this.provider,d)}}zl=new WeakMap;class ContractUnknownEventPayload extends EventPayload{constructor(o,c,d,h){super(o,c,d);Jt(this,"log");defineProperties(this,{log:h})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class ContractEventPayload extends ContractUnknownEventPayload{constructor(e,o,c,d,h){super(e,o,c,new EventLog(h,e.interface,d));const et=e.interface.decodeEventLog(d,this.log.data,this.log.topics);defineProperties(this,{args:et,fragment:d})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const BN_0$1=BigInt(0);function canCall(a){return a&&typeof a.call=="function"}function canEstimate(a){return a&&typeof a.estimateGas=="function"}function canResolve(a){return a&&typeof a.resolveName=="function"}function canSend(a){return a&&typeof a.sendTransaction=="function"}function getResolver(a){if(a!=null){if(canResolve(a))return a;if(a.provider)return a.provider}}var Vl;class PreparedTopicFilter{constructor(e,o,c){tr(this,Vl,void 0);Jt(this,"fragment");if(defineProperties(this,{fragment:o}),o.inputs.length<c.length)throw new Error("too many arguments");const d=getRunner(e.runner,"resolveName"),h=canResolve(d)?d:null;Qt(this,Vl,async function(){const et=await Promise.all(o.inputs.map((tt,ot)=>c[ot]==null?null:tt.walkAsync(c[ot],(ht,yt)=>ht==="address"?Array.isArray(yt)?Promise.all(yt.map(gt=>resolveAddress(gt,h))):resolveAddress(yt,h):yt)));return e.interface.encodeFilterTopics(o,et)}())}getTopicFilter(){return Pt(this,Vl)}}Vl=new WeakMap;function getRunner(a,e){return a==null?null:typeof a[e]=="function"?a:a.provider&&typeof a.provider[e]=="function"?a.provider:null}function getProvider(a){return a==null?null:a.provider||null}async function copyOverrides(a,e){const o=Typed.dereference(a,"overrides");assertArgument(typeof o=="object","invalid overrides parameter","overrides",a);const c=copyRequest(o);return assertArgument(c.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",c.to),assertArgument(c.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",c.data),c.from&&(c.from=c.from),c}async function resolveArgs(a,e,o){const c=getRunner(a,"resolveName"),d=canResolve(c)?c:null;return await Promise.all(e.map((h,et)=>h.walkAsync(o[et],(tt,ot)=>(ot=Typed.dereference(ot,tt),tt==="address"?resolveAddress(ot,d):ot))))}function buildWrappedFallback(a){const e=async function(et){const tt=await copyOverrides(et,["data"]);tt.to=await a.getAddress(),tt.from&&(tt.from=await resolveAddress(tt.from,getResolver(a.runner)));const ot=a.interface,ft=getBigInt(tt.value||BN_0$1,"overrides.value")===BN_0$1,ht=(tt.data||"0x")==="0x";ot.fallback&&!ot.fallback.payable&&ot.receive&&!ht&&!ft&&assertArgument(!1,"cannot send data to receive or send value to non-payable fallback","overrides",et),assertArgument(ot.fallback||ht,"cannot send data to receive-only contract","overrides.data",tt.data);const yt=ot.receive||ot.fallback&&ot.fallback.payable;return assertArgument(yt||ft,"cannot send value to non-payable fallback","overrides.value",tt.value),assertArgument(ot.fallback||ht,"cannot send data to receive-only contract","overrides.data",tt.data),tt},o=async function(et){const tt=getRunner(a.runner,"call");assert(canCall(tt),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const ot=await e(et);try{return await tt.call(ot)}catch(ft){throw isCallException(ft)&&ft.data?a.interface.makeError(ft.data,ot):ft}},c=async function(et){const tt=a.runner;assert(canSend(tt),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const ot=await tt.sendTransaction(await e(et)),ft=getProvider(a.runner);return new ContractTransactionResponse(a.interface,ft,ot)},d=async function(et){const tt=getRunner(a.runner,"estimateGas");return assert(canEstimate(tt),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await tt.estimateGas(await e(et))},h=async et=>await c(et);return defineProperties(h,{_contract:a,estimateGas:d,populateTransaction:e,send:c,staticCall:o}),h}function buildWrappedMethod(a,e){const o=function(...ft){const ht=a.interface.getFunction(e,ft);return assert(ht,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:ft}}),ht},c=async function(...ft){const ht=o(...ft);let yt={};if(ht.inputs.length+1===ft.length&&(yt=await copyOverrides(ft.pop()),yt.from&&(yt.from=await resolveAddress(yt.from,getResolver(a.runner)))),ht.inputs.length!==ft.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const gt=await resolveArgs(a.runner,ht.inputs,ft);return Object.assign({},yt,await resolveProperties({to:a.getAddress(),data:a.interface.encodeFunctionData(ht,gt)}))},d=async function(...ft){const ht=await tt(...ft);return ht.length===1?ht[0]:ht},h=async function(...ft){const ht=a.runner;assert(canSend(ht),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const yt=await ht.sendTransaction(await c(...ft)),gt=getProvider(a.runner);return new ContractTransactionResponse(a.interface,gt,yt)},et=async function(...ft){const ht=getRunner(a.runner,"estimateGas");return assert(canEstimate(ht),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await ht.estimateGas(await c(...ft))},tt=async function(...ft){const ht=getRunner(a.runner,"call");assert(canCall(ht),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const yt=await c(...ft);let gt="0x";try{gt=await ht.call(yt)}catch(bt){throw isCallException(bt)&&bt.data?a.interface.makeError(bt.data,yt):bt}const wt=o(...ft);return a.interface.decodeFunctionResult(wt,gt)},ot=async(...ft)=>o(...ft).constant?await d(...ft):await h(...ft);return defineProperties(ot,{name:a.interface.getFunctionName(e),_contract:a,_key:e,getFragment:o,estimateGas:et,populateTransaction:c,send:h,staticCall:d,staticCallResult:tt}),Object.defineProperty(ot,"fragment",{configurable:!1,enumerable:!0,get:()=>{const ft=a.interface.getFunction(e);return assert(ft,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),ft}}),ot}function buildWrappedEvent(a,e){const o=function(...d){const h=a.interface.getEvent(e,d);return assert(h,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:d}}),h},c=function(...d){return new PreparedTopicFilter(a,o(...d),d)};return defineProperties(c,{name:a.interface.getEventName(e),_contract:a,_key:e,getFragment:o}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{const d=a.interface.getEvent(e);return assert(d,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),d}}),c}const internal=Symbol.for("_ethersInternal_contract"),internalValues=new WeakMap;function setInternal(a,e){internalValues.set(a[internal],e)}function getInternal(a){return internalValues.get(a[internal])}function isDeferred(a){return a&&typeof a=="object"&&"getTopicFilter"in a&&typeof a.getTopicFilter=="function"&&a.fragment}async function getSubInfo(a,e){let o,c=null;if(Array.isArray(e)){const h=function(et){if(isHexString$1(et,32))return et;const tt=a.interface.getEvent(et);return assertArgument(tt,"unknown fragment","name",et),tt.topicHash};o=e.map(et=>et==null?null:Array.isArray(et)?et.map(h):h(et))}else e==="*"?o=[null]:typeof e=="string"?isHexString$1(e,32)?o=[e]:(c=a.interface.getEvent(e),assertArgument(c,"unknown fragment","event",e),o=[c.topicHash]):isDeferred(e)?o=await e.getTopicFilter():"fragment"in e?(c=e.fragment,o=[c.topicHash]):assertArgument(!1,"unknown event name","event",e);o=o.map(h=>{if(h==null)return null;if(Array.isArray(h)){const et=Array.from(new Set(h.map(tt=>tt.toLowerCase())).values());return et.length===1?et[0]:(et.sort(),et)}return h.toLowerCase()});const d=o.map(h=>h==null?"null":Array.isArray(h)?h.join("|"):h).join("&");return{fragment:c,tag:d,topics:o}}async function hasSub(a,e){const{subs:o}=getInternal(a);return o.get((await getSubInfo(a,e)).tag)||null}async function getSub(a,e,o){const c=getProvider(a.runner);assert(c,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:d,tag:h,topics:et}=await getSubInfo(a,o),{addr:tt,subs:ot}=getInternal(a);let ft=ot.get(h);if(!ft){const yt={address:tt||a,topics:et},gt=Et=>{let vt=d;if(vt==null)try{vt=a.interface.getEvent(Et.topics[0])}catch{}if(vt){const $t=vt,At=d?a.interface.decodeEventLog(d,Et.data,Et.topics):[];emit(a,o,At,kt=>new ContractEventPayload(a,kt,o,$t,Et))}else emit(a,o,[],$t=>new ContractUnknownEventPayload(a,$t,o,Et))};let wt=[];ft={tag:h,listeners:[],start:()=>{wt.length||wt.push(c.on(yt,gt))},stop:async()=>{if(wt.length==0)return;let Et=wt;wt=[],await Promise.all(Et),c.off(yt,gt)}},ot.set(h,ft)}return ft}let lastEmit=Promise.resolve();async function _emit(a,e,o,c){await lastEmit;const d=await hasSub(a,e);if(!d)return!1;const h=d.listeners.length;return d.listeners=d.listeners.filter(({listener:et,once:tt})=>{const ot=Array.from(o);c&&ot.push(c(tt?null:et));try{et.call(a,...ot)}catch{}return!tt}),d.listeners.length===0&&(d.stop(),getInternal(a).subs.delete(d.tag)),h>0}async function emit(a,e,o,c){try{await lastEmit}catch{}const d=_emit(a,e,o,c);return lastEmit=d,await d}const passProperties=["then"];var Rp;const Al=class Al{constructor(e,o,c,d){Jt(this,"target");Jt(this,"interface");Jt(this,"runner");Jt(this,"filters");Jt(this,Rp);Jt(this,"fallback");assertArgument(typeof e=="string"||isAddressable(e),"invalid value for Contract target","target",e),c==null&&(c=null);const h=Interface.from(o);defineProperties(this,{target:e,runner:c,interface:h}),Object.defineProperty(this,internal,{value:{}});let et,tt=null,ot=null;if(d){const yt=getProvider(c);ot=new ContractTransactionResponse(this.interface,yt,d)}let ft=new Map;if(typeof e=="string")if(isHexString$1(e))tt=e,et=Promise.resolve(e);else{const yt=getRunner(c,"resolveName");if(!canResolve(yt))throw makeError("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});et=yt.resolveName(e).then(gt=>{if(gt==null)throw makeError("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return getInternal(this).addr=gt,gt})}else et=e.getAddress().then(yt=>{if(yt==null)throw new Error("TODO");return getInternal(this).addr=yt,yt});setInternal(this,{addrPromise:et,addr:tt,deployTx:ot,subs:ft});const ht=new Proxy({},{get:(yt,gt,wt)=>{if(typeof gt=="symbol"||passProperties.indexOf(gt)>=0)return Reflect.get(yt,gt,wt);try{return this.getEvent(gt)}catch(bt){if(!isError(bt,"INVALID_ARGUMENT")||bt.argument!=="key")throw bt}},has:(yt,gt)=>passProperties.indexOf(gt)>=0?Reflect.has(yt,gt):Reflect.has(yt,gt)||this.interface.hasEvent(String(gt))});return defineProperties(this,{filters:ht}),defineProperties(this,{fallback:h.receive||h.fallback?buildWrappedFallback(this):null}),new Proxy(this,{get:(yt,gt,wt)=>{if(typeof gt=="symbol"||gt in yt||passProperties.indexOf(gt)>=0)return Reflect.get(yt,gt,wt);try{return yt.getFunction(gt)}catch(bt){if(!isError(bt,"INVALID_ARGUMENT")||bt.argument!=="key")throw bt}},has:(yt,gt)=>typeof gt=="symbol"||gt in yt||passProperties.indexOf(gt)>=0?Reflect.has(yt,gt):yt.interface.hasFunction(gt)})}connect(e){return new Al(this.target,this.interface,e)}attach(e){return new Al(e,this.interface,this.runner)}async getAddress(){return await getInternal(this).addrPromise}async getDeployedCode(){const e=getProvider(this.runner);assert(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const o=await e.getCode(await this.getAddress());return o==="0x"?null:o}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const c=getProvider(this.runner);return assert(c!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((d,h)=>{const et=async()=>{try{if(await this.getDeployedCode()!=null)return d(this);c.once("block",et)}catch(tt){h(tt)}};et()})}deploymentTransaction(){return getInternal(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),buildWrappedMethod(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),buildWrappedEvent(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,o,c){o==null&&(o=0),c==null&&(c="latest");const{addr:d,addrPromise:h}=getInternal(this),et=d||await h,{fragment:tt,topics:ot}=await getSubInfo(this,e),ft={address:et,topics:ot,fromBlock:o,toBlock:c},ht=getProvider(this.runner);return assert(ht,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await ht.getLogs(ft)).map(yt=>{let gt=tt;if(gt==null)try{gt=this.interface.getEvent(yt.topics[0])}catch{}if(gt)try{return new EventLog(yt,this.interface,gt)}catch(wt){return new UndecodedEventLog(yt,wt)}return new Log(yt,ht)})}async on(e,o){const c=await getSub(this,"on",e);return c.listeners.push({listener:o,once:!1}),c.start(),this}async once(e,o){const c=await getSub(this,"once",e);return c.listeners.push({listener:o,once:!0}),c.start(),this}async emit(e,...o){return await emit(this,e,o,null)}async listenerCount(e){if(e){const d=await hasSub(this,e);return d?d.listeners.length:0}const{subs:o}=getInternal(this);let c=0;for(const{listeners:d}of o.values())c+=d.length;return c}async listeners(e){if(e){const d=await hasSub(this,e);return d?d.listeners.map(({listener:h})=>h):[]}const{subs:o}=getInternal(this);let c=[];for(const{listeners:d}of o.values())c=c.concat(d.map(({listener:h})=>h));return c}async off(e,o){const c=await hasSub(this,e);if(!c)return this;if(o){const d=c.listeners.map(({listener:h})=>h).indexOf(o);d>=0&&c.listeners.splice(d,1)}return(o==null||c.listeners.length===0)&&(c.stop(),getInternal(this).subs.delete(c.tag)),this}async removeAllListeners(e){if(e){const o=await hasSub(this,e);if(!o)return this;o.stop(),getInternal(this).subs.delete(o.tag)}else{const{subs:o}=getInternal(this);for(const{tag:c,stop:d}of o.values())d(),o.delete(c)}return this}async addListener(e,o){return await this.on(e,o)}async removeListener(e,o){return await this.off(e,o)}static buildClass(e){class o extends Al{constructor(d,h=null){super(d,e,h)}}return o}static from(e,o,c){return c==null&&(c=null),new this(e,o,c)}};Rp=internal;let BaseContract=Al;function _ContractBase(){return BaseContract}class Contract extends _ContractBase(){}function getIpfsLink(a){return a.match(/^ipfs:\/\/ipfs\//i)?a=a.substring(12):a.match(/^ipfs:\/\//i)?a=a.substring(7):assertArgument(!1,"unsupported IPFS format","link",a),`https://gateway.ipfs.io/ipfs/${a}`}class MulticoinProviderPlugin{constructor(e){Jt(this,"name");defineProperties(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,o){throw new Error("unsupported coin")}async decodeAddress(e,o){throw new Error("unsupported coin")}}const matcherIpfs=new RegExp("^(ipfs)://(.*)$","i"),matchers=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),matcherIpfs,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var cs,js,ls,ro,Tu,Tp;const ao=class ao{constructor(e,o,c){tr(this,ls);Jt(this,"provider");Jt(this,"address");Jt(this,"name");tr(this,cs,void 0);tr(this,js,void 0);defineProperties(this,{provider:e,address:o,name:c}),Qt(this,cs,null),Qt(this,js,new Contract(o,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return Pt(this,cs)==null&&Qt(this,cs,(async()=>{try{return await Pt(this,js).supportsInterface("0x9061b923")}catch(e){if(isError(e,"CALL_EXCEPTION"))return!1;throw Qt(this,cs,null),e}})()),await Pt(this,cs)}async getAddress(e){if(e==null&&(e=60),e===60)try{const h=await hr(this,ls,ro).call(this,"addr(bytes32)");return h==null||h===ZeroAddress?null:h}catch(h){if(isError(h,"CALL_EXCEPTION"))return null;throw h}if(e>=0&&e<2147483648){let h=e+2147483648;const et=await hr(this,ls,ro).call(this,"addr(bytes32,uint)",[h]);if(isHexString$1(et,20))return getAddress$1(et)}let o=null;for(const h of this.provider.plugins)if(h instanceof MulticoinProviderPlugin&&h.supportsCoinType(e)){o=h;break}if(o==null)return null;const c=await hr(this,ls,ro).call(this,"addr(bytes32,uint)",[e]);if(c==null||c==="0x")return null;const d=await o.decodeAddress(e,c);if(d!=null)return d;assert(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:c}})}async getText(e){const o=await hr(this,ls,ro).call(this,"text(bytes32,string)",[e]);return o==null||o==="0x"?null:o}async getContentHash(){const e=await hr(this,ls,ro).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const o=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(o){const d=o[1]==="e3010170"?"ipfs":"ipns",h=parseInt(o[4],16);if(o[5].length===h*2)return`${d}://${encodeBase58("0x"+o[2])}`}const c=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(c&&c[1].length===64)return`bzz://${c[1]}`;assert(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const o=await this.getText("avatar");if(o==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:o});for(let c=0;c<matchers.length;c++){const d=o.match(matchers[c]);if(d==null)continue;const h=d[1].toLowerCase();switch(h){case"https":case"data":return e.push({type:"url",value:o}),{linkage:e,url:o};case"ipfs":{const et=getIpfsLink(o);return e.push({type:"ipfs",value:o}),e.push({type:"url",value:et}),{linkage:e,url:et}}case"erc721":case"erc1155":{const et=h==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:h,value:o});const tt=await this.getAddress();if(tt==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const ot=(d[2]||"").split("/");if(ot.length!==2)return e.push({type:`!${h}caip`,value:d[2]||""}),{url:null,linkage:e};const ft=ot[1],ht=new Contract(ot[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(h==="erc721"){const xt=await ht.ownerOf(ft);if(tt!==xt)return e.push({type:"!owner",value:xt}),{url:null,linkage:e};e.push({type:"owner",value:xt})}else if(h==="erc1155"){const xt=await ht.balanceOf(tt,ft);if(!xt)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:xt.toString()})}let yt=await ht[et](ft);if(yt==null||yt==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:yt}),h==="erc1155"&&(yt=yt.replace("{id}",toBeHex(ft,32).substring(2)),e.push({type:"metadata-url-expanded",value:yt})),yt.match(/^ipfs:/i)&&(yt=getIpfsLink(yt)),e.push({type:"metadata-url",value:yt});let gt={};const wt=await new FetchRequest(yt).send();wt.assertOk();try{gt=wt.bodyJson}catch{try{e.push({type:"!metadata",value:wt.bodyText})}catch{const vt=wt.body;return vt&&e.push({type:"!metadata",value:hexlify$1(vt)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!gt)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(gt)});let bt=gt.image;if(typeof bt!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!bt.match(/^(https:\/\/|data:)/i)){if(bt.match(matcherIpfs)==null)return e.push({type:"!imageUrl-ipfs",value:bt}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:bt}),bt=getIpfsLink(bt)}return e.push({type:"url",value:bt}),{linkage:e,url:bt}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const o=await e.getNetwork(),c=o.getPlugin("org.ethers.plugins.network.Ens");return assert(c,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:o}}),c.address}static async fromName(e,o){var d;let c=o;for(;;){if(c===""||c==="."||o!=="eth"&&c==="eth")return null;const h=await hr(d=ao,Tu,Tp).call(d,e,c);if(h!=null){const et=new ao(e,h,o);return c!==o&&!await et.supportsWildcard()?null:et}c=c.split(".").slice(1).join(".")}}};cs=new WeakMap,js=new WeakMap,ls=new WeakSet,ro=async function(e,o){o=(o||[]).slice();const c=Pt(this,js).interface;o.unshift(namehash(this.name));let d=null;await this.supportsWildcard()&&(d=c.getFunction(e),assert(d,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),o=[dnsEncode(this.name,255),c.encodeFunctionData(d,o)],e="resolve(bytes,bytes)"),o.push({enableCcipRead:!0});try{const h=await Pt(this,js)[e](...o);return d?c.decodeFunctionResult(d,h)[0]:h}catch(h){if(!isError(h,"CALL_EXCEPTION"))throw h}return null},Tu=new WeakSet,Tp=async function(e,o){const c=await ao.getEnsAddress(e);try{const h=await new Contract(c,["function resolver(bytes32) view returns (address)"],e).resolver(namehash(o),{enableCcipRead:!0});return h===ZeroAddress?null:h}catch(d){throw d}return null},tr(ao,Tu);let EnsResolver=ao;const BN_0=BigInt(0);function allowNull(a,e){return function(o){return o==null?e:a(o)}}function arrayOf(a,e){return o=>{if(e&&o==null)return null;if(!Array.isArray(o))throw new Error("not an array");return o.map(c=>a(c))}}function object$1(a,e){return o=>{const c={};for(const d in a){let h=d;if(e&&d in e&&!(h in o)){for(const et of e[d])if(et in o){h=et;break}}try{const et=a[d](o[h]);et!==void 0&&(c[d]=et)}catch(et){const tt=et instanceof Error?et.message:"not-an-error";assert(!1,`invalid value for value.${d} (${tt})`,"BAD_DATA",{value:o})}}return c}}function formatBoolean(a){switch(a){case!0:case"true":return!0;case!1:case"false":return!1}assertArgument(!1,`invalid boolean; ${JSON.stringify(a)}`,"value",a)}function formatData(a){return assertArgument(isHexString$1(a,!0),"invalid data","value",a),a}function formatHash(a){return assertArgument(isHexString$1(a,32),"invalid hash","value",a),a}const _formatLog=object$1({address:getAddress$1,blockHash:formatHash,blockNumber:getNumber,data:formatData,index:getNumber,removed:allowNull(formatBoolean,!1),topics:arrayOf(formatHash),transactionHash:formatHash,transactionIndex:getNumber},{index:["logIndex"]});function formatLog(a){return _formatLog(a)}const _formatBlock=object$1({hash:allowNull(formatHash),parentHash:formatHash,parentBeaconBlockRoot:allowNull(formatHash,null),number:getNumber,timestamp:getNumber,nonce:allowNull(formatData),difficulty:getBigInt,gasLimit:getBigInt,gasUsed:getBigInt,stateRoot:allowNull(formatHash,null),receiptsRoot:allowNull(formatHash,null),blobGasUsed:allowNull(getBigInt,null),excessBlobGas:allowNull(getBigInt,null),miner:allowNull(getAddress$1),extraData:formatData,baseFeePerGas:allowNull(getBigInt)});function formatBlock(a){const e=_formatBlock(a);return e.transactions=a.transactions.map(o=>typeof o=="string"?o:formatTransactionResponse(o)),e}const _formatReceiptLog=object$1({transactionIndex:getNumber,blockNumber:getNumber,transactionHash:formatHash,address:getAddress$1,topics:arrayOf(formatHash),data:formatData,index:getNumber,blockHash:formatHash},{index:["logIndex"]});function formatReceiptLog(a){return _formatReceiptLog(a)}const _formatTransactionReceipt=object$1({to:allowNull(getAddress$1,null),from:allowNull(getAddress$1,null),contractAddress:allowNull(getAddress$1,null),index:getNumber,root:allowNull(hexlify$1),gasUsed:getBigInt,blobGasUsed:allowNull(getBigInt,null),logsBloom:allowNull(formatData),blockHash:formatHash,hash:formatHash,logs:arrayOf(formatReceiptLog),blockNumber:getNumber,cumulativeGasUsed:getBigInt,effectiveGasPrice:allowNull(getBigInt),blobGasPrice:allowNull(getBigInt,null),status:allowNull(getNumber),type:allowNull(getNumber,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function formatTransactionReceipt(a){return _formatTransactionReceipt(a)}function formatTransactionResponse(a){a.to&&getBigInt(a.to)===BN_0&&(a.to="0x0000000000000000000000000000000000000000");const e=object$1({hash:formatHash,index:allowNull(getNumber,void 0),type:o=>o==="0x"||o==null?0:getNumber(o),accessList:allowNull(accessListify,null),blobVersionedHashes:allowNull(arrayOf(formatHash,!0),null),blockHash:allowNull(formatHash,null),blockNumber:allowNull(getNumber,null),transactionIndex:allowNull(getNumber,null),from:getAddress$1,gasPrice:allowNull(getBigInt),maxPriorityFeePerGas:allowNull(getBigInt),maxFeePerGas:allowNull(getBigInt),maxFeePerBlobGas:allowNull(getBigInt,null),gasLimit:getBigInt,to:allowNull(getAddress$1,null),value:getBigInt,nonce:getNumber,data:formatData,creates:allowNull(getAddress$1,null),chainId:allowNull(getBigInt,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(a);if(e.to==null&&e.creates==null&&(e.creates=getCreateAddress(e)),(a.type===1||a.type===2)&&a.accessList==null&&(e.accessList=[]),a.signature?e.signature=Signature.from(a.signature):e.signature=Signature.from(a),e.chainId==null){const o=e.signature.legacyChainId;o!=null&&(e.chainId=o)}return e.blockHash&&getBigInt(e.blockHash)===BN_0&&(e.blockHash=null),e}const EnsAddress="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class NetworkPlugin{constructor(e){Jt(this,"name");defineProperties(this,{name:e})}clone(){return new NetworkPlugin(this.name)}}class GasCostPlugin extends NetworkPlugin{constructor(o,c){o==null&&(o=0);super(`org.ethers.network.plugins.GasCost#${o||0}`);Jt(this,"effectiveBlock");Jt(this,"txBase");Jt(this,"txCreate");Jt(this,"txDataZero");Jt(this,"txDataNonzero");Jt(this,"txAccessListStorageKey");Jt(this,"txAccessListAddress");const d={effectiveBlock:o};function h(et,tt){let ot=(c||{})[et];ot==null&&(ot=tt),assertArgument(typeof ot=="number",`invalud value for ${et}`,"costs",c),d[et]=ot}h("txBase",21e3),h("txCreate",32e3),h("txDataZero",4),h("txDataNonzero",16),h("txAccessListStorageKey",1900),h("txAccessListAddress",2400),defineProperties(this,d)}clone(){return new GasCostPlugin(this.effectiveBlock,this)}}class EnsPlugin extends NetworkPlugin{constructor(o,c){super("org.ethers.plugins.network.Ens");Jt(this,"address");Jt(this,"targetNetwork");defineProperties(this,{address:o||EnsAddress,targetNetwork:c??1})}clone(){return new EnsPlugin(this.address,this.targetNetwork)}}var Hl,Gl;class FetchUrlFeeDataNetworkPlugin extends NetworkPlugin{constructor(o,c){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");tr(this,Hl,void 0);tr(this,Gl,void 0);Qt(this,Hl,o),Qt(this,Gl,c)}get url(){return Pt(this,Hl)}get processFunc(){return Pt(this,Gl)}clone(){return this}}Hl=new WeakMap,Gl=new WeakMap;const Networks=new Map;var No,Oo,us;const so=class so{constructor(e,o){tr(this,No,void 0);tr(this,Oo,void 0);tr(this,us,void 0);Qt(this,No,e),Qt(this,Oo,getBigInt(o)),Qt(this,us,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return Pt(this,No)}set name(e){Qt(this,No,e)}get chainId(){return Pt(this,Oo)}set chainId(e){Qt(this,Oo,getBigInt(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===getBigInt(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===getBigInt(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===getBigInt(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(Pt(this,us).values())}attachPlugin(e){if(Pt(this,us).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return Pt(this,us).set(e.name,e.clone()),this}getPlugin(e){return Pt(this,us).get(e)||null}getPlugins(e){return this.plugins.filter(o=>o.name.split("#")[0]===e)}clone(){const e=new so(this.name,this.chainId);return this.plugins.forEach(o=>{e.attachPlugin(o.clone())}),e}computeIntrinsicGas(e){const o=this.getPlugin("org.ethers.plugins.network.GasCost")||new GasCostPlugin;let c=o.txBase;if(e.to==null&&(c+=o.txCreate),e.data)for(let d=2;d<e.data.length;d+=2)e.data.substring(d,d+2)==="00"?c+=o.txDataZero:c+=o.txDataNonzero;if(e.accessList){const d=accessListify(e.accessList);for(const h in d)c+=o.txAccessListAddress+o.txAccessListStorageKey*d[h].storageKeys.length}return c}static from(e){if(injectCommonNetworks(),e==null)return so.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const o=Networks.get(e);if(o)return o();if(typeof e=="bigint")return new so("unknown",e);assertArgument(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){assertArgument(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const o=new so(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&o.attachPlugin(new EnsPlugin(e.ensAddress,e.ensNetwork)),o}assertArgument(!1,"invalid network","network",e)}static register(e,o){typeof e=="number"&&(e=BigInt(e));const c=Networks.get(e);c&&assertArgument(!1,`conflicting network for ${JSON.stringify(c.name)}`,"nameOrChainId",e),Networks.set(e,o)}};No=new WeakMap,Oo=new WeakMap,us=new WeakMap;let Network=so;function parseUnits(a,e){const o=String(a);if(!o.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${a}`);const c=o.split(".");if(c.length===1&&c.push(""),c.length!==2)throw new Error(`invalid gwei value: ${a}`);for(;c[1].length<e;)c[1]+="0";if(c[1].length>9){let d=BigInt(c[1].substring(0,9));c[1].substring(9).match(/^0+$/)||d++,c[1]=d.toString()}return BigInt(c[0]+c[1])}function getGasStationPlugin(a){return new FetchUrlFeeDataNetworkPlugin(a,async(e,o,c)=>{c.setHeader("User-Agent","ethers");let d;try{const[h,et]=await Promise.all([c.send(),e()]);d=h;const tt=d.bodyJson.standard;return{gasPrice:et.gasPrice,maxFeePerGas:parseUnits(tt.maxFee,9),maxPriorityFeePerGas:parseUnits(tt.maxPriorityFee,9)}}catch(h){assert(!1,`error encountered with polygon gas station (${JSON.stringify(c.url)})`,"SERVER_ERROR",{request:c,response:d,error:h})}})}let injected=!1;function injectCommonNetworks(){if(injected)return;injected=!0;function a(e,o,c){const d=function(){const h=new Network(e,o);return c.ensNetwork!=null&&h.attachPlugin(new EnsPlugin(null,c.ensNetwork)),h.attachPlugin(new GasCostPlugin),(c.plugins||[]).forEach(et=>{h.attachPlugin(et)}),h};Network.register(e,d),Network.register(o,d),c.altNames&&c.altNames.forEach(h=>{Network.register(h,d)})}a("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),a("ropsten",3,{ensNetwork:3}),a("rinkeby",4,{ensNetwork:4}),a("goerli",5,{ensNetwork:5}),a("kovan",42,{ensNetwork:42}),a("sepolia",11155111,{ensNetwork:11155111}),a("holesky",17e3,{ensNetwork:17e3}),a("classic",61,{}),a("classicKotti",6,{}),a("arbitrum",42161,{ensNetwork:1}),a("arbitrum-goerli",421613,{}),a("arbitrum-sepolia",421614,{}),a("base",8453,{ensNetwork:1}),a("base-goerli",84531,{}),a("base-sepolia",84532,{}),a("bnb",56,{ensNetwork:1}),a("bnbt",97,{}),a("linea",59144,{ensNetwork:1}),a("linea-goerli",59140,{}),a("matic",137,{ensNetwork:1,plugins:[getGasStationPlugin("https://gasstation.polygon.technology/v2")]}),a("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[getGasStationPlugin("https://gasstation-testnet.polygon.technology/v2")]}),a("optimism",10,{ensNetwork:1,plugins:[]}),a("optimism-goerli",420,{}),a("optimism-sepolia",11155420,{}),a("xdai",100,{ensNetwork:1})}function copy$2(a){return JSON.parse(JSON.stringify(a))}var Yn,vn,ds,Ln,Po,mu;class PollingBlockSubscriber{constructor(e){tr(this,Po);tr(this,Yn,void 0);tr(this,vn,void 0);tr(this,ds,void 0);tr(this,Ln,void 0);Qt(this,Yn,e),Qt(this,vn,null),Qt(this,ds,4e3),Qt(this,Ln,-2)}get pollingInterval(){return Pt(this,ds)}set pollingInterval(e){Qt(this,ds,e)}start(){Pt(this,vn)||(Qt(this,vn,Pt(this,Yn)._setTimeout(hr(this,Po,mu).bind(this),Pt(this,ds))),hr(this,Po,mu).call(this))}stop(){Pt(this,vn)&&(Pt(this,Yn)._clearTimeout(Pt(this,vn)),Qt(this,vn,null))}pause(e){this.stop(),e&&Qt(this,Ln,-2)}resume(){this.start()}}Yn=new WeakMap,vn=new WeakMap,ds=new WeakMap,Ln=new WeakMap,Po=new WeakSet,mu=async function(){try{const e=await Pt(this,Yn).getBlockNumber();if(Pt(this,Ln)===-2){Qt(this,Ln,e);return}if(e!==Pt(this,Ln)){for(let o=Pt(this,Ln)+1;o<=e;o++){if(Pt(this,vn)==null)return;await Pt(this,Yn).emit("block",o)}Qt(this,Ln,e)}}catch{}Pt(this,vn)!=null&&Qt(this,vn,Pt(this,Yn)._setTimeout(hr(this,Po,mu).bind(this),Pt(this,ds)))};var zs,Vs,fs;class OnBlockSubscriber{constructor(e){tr(this,zs,void 0);tr(this,Vs,void 0);tr(this,fs,void 0);Qt(this,zs,e),Qt(this,fs,!1),Qt(this,Vs,o=>{this._poll(o,Pt(this,zs))})}async _poll(e,o){throw new Error("sub-classes must override this")}start(){Pt(this,fs)||(Qt(this,fs,!0),Pt(this,Vs).call(this,-2),Pt(this,zs).on("block",Pt(this,Vs)))}stop(){Pt(this,fs)&&(Qt(this,fs,!1),Pt(this,zs).off("block",Pt(this,Vs)))}pause(e){this.stop()}resume(){this.start()}}zs=new WeakMap,Vs=new WeakMap,fs=new WeakMap;var Do,Zn;class PollingBlockTagSubscriber extends OnBlockSubscriber{constructor(o,c){super(o);tr(this,Do,void 0);tr(this,Zn,void 0);Qt(this,Do,c),Qt(this,Zn,-2)}pause(o){o&&Qt(this,Zn,-2),super.pause(o)}async _poll(o,c){const d=await c.getBlock(Pt(this,Do));d!=null&&(Pt(this,Zn)===-2?Qt(this,Zn,d.number):d.number>Pt(this,Zn)&&(c.emit(Pt(this,Do),d.number),Qt(this,Zn,d.number)))}}Do=new WeakMap,Zn=new WeakMap;var Su;class PollingOrphanSubscriber extends OnBlockSubscriber{constructor(o,c){super(o);tr(this,Su,void 0);Qt(this,Su,copy$2(c))}async _poll(o,c){throw new Error("@TODO")}}Su=new WeakMap;var Mo;class PollingTransactionSubscriber extends OnBlockSubscriber{constructor(o,c){super(o);tr(this,Mo,void 0);Qt(this,Mo,c)}async _poll(o,c){const d=await c.getTransactionReceipt(Pt(this,Mo));d&&c.emit(Pt(this,Mo),d)}}Mo=new WeakMap;var na,Lo,Uo,ps,$n,Au,Sp;class PollingEventSubscriber{constructor(e,o){tr(this,Au);tr(this,na,void 0);tr(this,Lo,void 0);tr(this,Uo,void 0);tr(this,ps,void 0);tr(this,$n,void 0);Qt(this,na,e),Qt(this,Lo,copy$2(o)),Qt(this,Uo,hr(this,Au,Sp).bind(this)),Qt(this,ps,!1),Qt(this,$n,-2)}start(){Pt(this,ps)||(Qt(this,ps,!0),Pt(this,$n)===-2&&Pt(this,na).getBlockNumber().then(e=>{Qt(this,$n,e)}),Pt(this,na).on("block",Pt(this,Uo)))}stop(){Pt(this,ps)&&(Qt(this,ps,!1),Pt(this,na).off("block",Pt(this,Uo)))}pause(e){this.stop(),e&&Qt(this,$n,-2)}resume(){this.start()}}na=new WeakMap,Lo=new WeakMap,Uo=new WeakMap,ps=new WeakMap,$n=new WeakMap,Au=new WeakSet,Sp=async function(e){if(Pt(this,$n)===-2)return;const o=copy$2(Pt(this,Lo));o.fromBlock=Pt(this,$n)+1,o.toBlock=e;const c=await Pt(this,na).getLogs(o);if(c.length===0){Pt(this,$n)<e-60&&Qt(this,$n,e-60);return}for(const d of c)Pt(this,na).emit(Pt(this,Lo),d),Qt(this,$n,d.blockNumber)};const BN_2$1=BigInt(2),MAX_CCIP_REDIRECTS=10;function isPromise$1(a){return a&&typeof a.then=="function"}function getTag(a,e){return a+":"+JSON.stringify(e,(o,c)=>{if(c==null)return"null";if(typeof c=="bigint")return`bigint:${c.toString()}`;if(typeof c=="string")return c.toLowerCase();if(typeof c=="object"&&!Array.isArray(c)){const d=Object.keys(c);return d.sort(),d.reduce((h,et)=>(h[et]=c[et],h),{})}return c})}class UnmanagedSubscriber{constructor(e){Jt(this,"name");defineProperties(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function copy$1(a){return JSON.parse(JSON.stringify(a))}function concisify(a){return a=Array.from(new Set(a).values()),a.sort(),a}async function getSubscription(a,e){if(a==null)throw new Error("invalid event");if(Array.isArray(a)&&(a={topics:a}),typeof a=="string")switch(a){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:a,tag:a}}if(isHexString$1(a,32)){const o=a.toLowerCase();return{type:"transaction",tag:getTag("tx",{hash:o}),hash:o}}if(a.orphan){const o=a;return{type:"orphan",tag:getTag("orphan",o),filter:copy$1(o)}}if(a.address||a.topics){const o=a,c={topics:(o.topics||[]).map(d=>d==null?null:Array.isArray(d)?concisify(d.map(h=>h.toLowerCase())):d.toLowerCase())};if(o.address){const d=[],h=[],et=tt=>{isHexString$1(tt)?d.push(tt):h.push((async()=>{d.push(await resolveAddress(tt,e))})())};Array.isArray(o.address)?o.address.forEach(et):et(o.address),h.length&&await Promise.all(h),c.address=concisify(d.map(tt=>tt.toLowerCase()))}return{filter:c,tag:getTag("event",c),type:"event"}}assertArgument(!1,"unknown ProviderEvent","event",a)}function getTime$1(){return new Date().getTime()}const defaultOptions$2={cacheTimeout:250,pollingInterval:4e3};var an,hs,sn,Fo,gn,Hs,ys,ga,Wl,En,jo,zo,cn,pn,Ql,ep,Xl,tp,Ks,$l,Jl,rp,Gs,El,Vo,gu;class AbstractProvider{constructor(e,o){tr(this,cn);tr(this,Ql);tr(this,Xl);tr(this,Ks);tr(this,Jl);tr(this,Gs);tr(this,Vo);tr(this,an,void 0);tr(this,hs,void 0);tr(this,sn,void 0);tr(this,Fo,void 0);tr(this,gn,void 0);tr(this,Hs,void 0);tr(this,ys,void 0);tr(this,ga,void 0);tr(this,Wl,void 0);tr(this,En,void 0);tr(this,jo,void 0);tr(this,zo,void 0);if(Qt(this,zo,Object.assign({},defaultOptions$2,o||{})),e==="any")Qt(this,Hs,!0),Qt(this,gn,null);else if(e){const c=Network.from(e);Qt(this,Hs,!1),Qt(this,gn,Promise.resolve(c)),setTimeout(()=>{this.emit("network",c,null)},0)}else Qt(this,Hs,!1),Qt(this,gn,null);Qt(this,ga,-1),Qt(this,ys,new Map),Qt(this,an,new Map),Qt(this,hs,new Map),Qt(this,sn,null),Qt(this,Fo,!1),Qt(this,Wl,1),Qt(this,En,new Map),Qt(this,jo,!1)}get pollingInterval(){return Pt(this,zo).pollingInterval}get provider(){return this}get plugins(){return Array.from(Pt(this,hs).values())}attachPlugin(e){if(Pt(this,hs).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return Pt(this,hs).set(e.name,e.connect(this)),this}getPlugin(e){return Pt(this,hs).get(e)||null}get disableCcipRead(){return Pt(this,jo)}set disableCcipRead(e){Qt(this,jo,!!e)}async ccipReadFetch(e,o,c){if(this.disableCcipRead||c.length===0||e.to==null)return null;const d=e.to.toLowerCase(),h=o.toLowerCase(),et=[];for(let tt=0;tt<c.length;tt++){const ot=c[tt],ft=ot.replace("{sender}",d).replace("{data}",h),ht=new FetchRequest(ft);ot.indexOf("{data}")===-1&&(ht.body={data:h,sender:d}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:ht,index:tt,urls:c});let yt="unknown error";const gt=await ht.send();try{const wt=gt.bodyJson;if(wt.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:ht,result:wt}),wt.data;wt.message&&(yt=wt.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:ht,result:wt})}catch{}assert(gt.statusCode<400||gt.statusCode>=500,`response not found during CCIP fetch: ${yt}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:ot,errorMessage:yt}}),et.push(yt)}assert(!1,`error encountered during CCIP fetch: ${et.map(tt=>JSON.stringify(tt)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:c,errorMessages:et}})}_wrapBlock(e,o){return new Block(formatBlock(e),this)}_wrapLog(e,o){return new Log(formatLog(e),this)}_wrapTransactionReceipt(e,o){return new TransactionReceipt(formatTransactionReceipt(e),this)}_wrapTransactionResponse(e,o){return new TransactionResponse(formatTransactionResponse(e),this)}_detectNetwork(){assert(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){assert(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=getNumber(await hr(this,cn,pn).call(this,{method:"getBlockNumber"}),"%response");return Pt(this,ga)>=0&&Qt(this,ga,e),e}_getAddress(e){return resolveAddress(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(isHexString$1(e))return isHexString$1(e,32)?e:toQuantity(e);if(typeof e=="bigint"&&(e=getNumber(e,"blockTag")),typeof e=="number")return e>=0?toQuantity(e):Pt(this,ga)>=0?toQuantity(Pt(this,ga)+e):this.getBlockNumber().then(o=>toQuantity(o+e));assertArgument(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const o=(e.topics||[]).map(ot=>ot==null?null:Array.isArray(ot)?concisify(ot.map(ft=>ft.toLowerCase())):ot.toLowerCase()),c="blockHash"in e?e.blockHash:void 0,d=(ot,ft,ht)=>{let yt;switch(ot.length){case 0:break;case 1:yt=ot[0];break;default:ot.sort(),yt=ot}if(c&&(ft!=null||ht!=null))throw new Error("invalid filter");const gt={};return yt&&(gt.address=yt),o.length&&(gt.topics=o),ft&&(gt.fromBlock=ft),ht&&(gt.toBlock=ht),c&&(gt.blockHash=c),gt};let h=[];if(e.address)if(Array.isArray(e.address))for(const ot of e.address)h.push(this._getAddress(ot));else h.push(this._getAddress(e.address));let et;"fromBlock"in e&&(et=this._getBlockTag(e.fromBlock));let tt;return"toBlock"in e&&(tt=this._getBlockTag(e.toBlock)),h.filter(ot=>typeof ot!="string").length||et!=null&&typeof et!="string"||tt!=null&&typeof tt!="string"?Promise.all([Promise.all(h),et,tt]).then(ot=>d(ot[0],ot[1],ot[2])):d(h,et,tt)}_getTransactionRequest(e){const o=copyRequest(e),c=[];if(["to","from"].forEach(d=>{if(o[d]==null)return;const h=resolveAddress(o[d],this);isPromise$1(h)?c.push(async function(){o[d]=await h}()):o[d]=h}),o.blockTag!=null){const d=this._getBlockTag(o.blockTag);isPromise$1(d)?c.push(async function(){o.blockTag=await d}()):o.blockTag=d}return c.length?async function(){return await Promise.all(c),o}():o}async getNetwork(){if(Pt(this,gn)==null){const d=(async()=>{try{const h=await this._detectNetwork();return this.emit("network",h,null),h}catch(h){throw Pt(this,gn)===d&&Qt(this,gn,null),h}})();return Qt(this,gn,d),(await d).clone()}const e=Pt(this,gn),[o,c]=await Promise.all([e,this._detectNetwork()]);return o.chainId!==c.chainId&&(Pt(this,Hs)?(this.emit("network",c,o),Pt(this,gn)===e&&Qt(this,gn,Promise.resolve(c))):assert(!1,`network changed: ${o.chainId} => ${c.chainId} `,"NETWORK_ERROR",{event:"changed"})),o.clone()}async getFeeData(){const e=await this.getNetwork(),o=async()=>{const{_block:d,gasPrice:h,priorityFee:et}=await resolveProperties({_block:hr(this,Jl,rp).call(this,"latest",!1),gasPrice:(async()=>{try{const ht=await hr(this,cn,pn).call(this,{method:"getGasPrice"});return getBigInt(ht,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const ht=await hr(this,cn,pn).call(this,{method:"getPriorityFee"});return getBigInt(ht,"%response")}catch{}return null})()});let tt=null,ot=null;const ft=this._wrapBlock(d,e);return ft&&ft.baseFeePerGas&&(ot=et??BigInt("1000000000"),tt=ft.baseFeePerGas*BN_2$1+ot),new FeeData(h,tt,ot)},c=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(c){const d=new FetchRequest(c.url),h=await c.processFunc(o,this,d);return new FeeData(h.gasPrice,h.maxFeePerGas,h.maxPriorityFeePerGas)}return await o()}async estimateGas(e){let o=this._getTransactionRequest(e);return isPromise$1(o)&&(o=await o),getBigInt(await hr(this,cn,pn).call(this,{method:"estimateGas",transaction:o}),"%response")}async call(e){const{tx:o,blockTag:c}=await resolveProperties({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await hr(this,Xl,tp).call(this,hr(this,Ql,ep).call(this,o,c,e.enableCcipRead?0:-1))}async getBalance(e,o){return getBigInt(await hr(this,Ks,$l).call(this,{method:"getBalance"},e,o),"%response")}async getTransactionCount(e,o){return getNumber(await hr(this,Ks,$l).call(this,{method:"getTransactionCount"},e,o),"%response")}async getCode(e,o){return hexlify$1(await hr(this,Ks,$l).call(this,{method:"getCode"},e,o))}async getStorage(e,o,c){const d=getBigInt(o,"position");return hexlify$1(await hr(this,Ks,$l).call(this,{method:"getStorage",position:d},e,c))}async broadcastTransaction(e){const{blockNumber:o,hash:c,network:d}=await resolveProperties({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),h=Transaction.from(e);if(h.hash!==c)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(h,d).replaceableTransaction(o)}async getBlock(e,o){const{network:c,params:d}=await resolveProperties({network:this.getNetwork(),params:hr(this,Jl,rp).call(this,e,!!o)});return d==null?null:this._wrapBlock(d,c)}async getTransaction(e){const{network:o,params:c}=await resolveProperties({network:this.getNetwork(),params:hr(this,cn,pn).call(this,{method:"getTransaction",hash:e})});return c==null?null:this._wrapTransactionResponse(c,o)}async getTransactionReceipt(e){const{network:o,params:c}=await resolveProperties({network:this.getNetwork(),params:hr(this,cn,pn).call(this,{method:"getTransactionReceipt",hash:e})});if(c==null)return null;if(c.gasPrice==null&&c.effectiveGasPrice==null){const d=await hr(this,cn,pn).call(this,{method:"getTransaction",hash:e});if(d==null)throw new Error("report this; could not find tx or effectiveGasPrice");c.effectiveGasPrice=d.gasPrice}return this._wrapTransactionReceipt(c,o)}async getTransactionResult(e){const{result:o}=await resolveProperties({network:this.getNetwork(),result:hr(this,cn,pn).call(this,{method:"getTransactionResult",hash:e})});return o==null?null:hexlify$1(o)}async getLogs(e){let o=this._getFilter(e);isPromise$1(o)&&(o=await o);const{network:c,params:d}=await resolveProperties({network:this.getNetwork(),params:hr(this,cn,pn).call(this,{method:"getLogs",filter:o})});return d.map(h=>this._wrapLog(h,c))}_getProvider(e){assert(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await EnsResolver.fromName(this,e)}async getAvatar(e){const o=await this.getResolver(e);return o?await o.getAvatar():null}async resolveName(e){const o=await this.getResolver(e);return o?await o.getAddress():null}async lookupAddress(e){e=getAddress$1(e);const o=namehash(e.substring(2).toLowerCase()+".addr.reverse");try{const c=await EnsResolver.getEnsAddress(this),h=await new Contract(c,["function resolver(bytes32) view returns (address)"],this).resolver(o);if(h==null||h===ZeroAddress)return null;const tt=await new Contract(h,["function name(bytes32) view returns (string)"],this).name(o);return await this.resolveName(tt)!==e?null:tt}catch(c){if(isError(c,"BAD_DATA")&&c.value==="0x"||isError(c,"CALL_EXCEPTION"))return null;throw c}return null}async waitForTransaction(e,o,c){const d=o??1;return d===0?this.getTransactionReceipt(e):new Promise(async(h,et)=>{let tt=null;const ot=async ft=>{try{const ht=await this.getTransactionReceipt(e);if(ht!=null&&ft-ht.blockNumber+1>=d){h(ht),tt&&(clearTimeout(tt),tt=null);return}}catch(ht){console.log("EEE",ht)}this.once("block",ot)};c!=null&&(tt=setTimeout(()=>{tt!=null&&(tt=null,this.off("block",ot),et(makeError("timeout","TIMEOUT",{reason:"timeout"})))},c)),ot(await this.getBlockNumber())})}async waitForBlock(e){assert(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const o=Pt(this,En).get(e);o&&(o.timer&&clearTimeout(o.timer),Pt(this,En).delete(e))}_setTimeout(e,o){o==null&&(o=0);const c=yl(this,Wl)._++,d=()=>{Pt(this,En).delete(c),e()};if(this.paused)Pt(this,En).set(c,{timer:null,func:d,time:o});else{const h=setTimeout(d,o);Pt(this,En).set(c,{timer:h,func:d,time:getTime$1()})}return c}_forEachSubscriber(e){for(const o of Pt(this,an).values())e(o.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new UnmanagedSubscriber(e.type);case"block":{const o=new PollingBlockSubscriber(this);return o.pollingInterval=this.pollingInterval,o}case"safe":case"finalized":return new PollingBlockTagSubscriber(this,e.type);case"event":return new PollingEventSubscriber(this,e.filter);case"transaction":return new PollingTransactionSubscriber(this,e.hash);case"orphan":return new PollingOrphanSubscriber(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,o){for(const c of Pt(this,an).values())if(c.subscriber===e){c.started&&c.subscriber.stop(),c.subscriber=o,c.started&&o.start(),Pt(this,sn)!=null&&o.pause(Pt(this,sn));break}}async on(e,o){const c=await hr(this,Vo,gu).call(this,e);return c.listeners.push({listener:o,once:!1}),c.started||(c.subscriber.start(),c.started=!0,Pt(this,sn)!=null&&c.subscriber.pause(Pt(this,sn))),this}async once(e,o){const c=await hr(this,Vo,gu).call(this,e);return c.listeners.push({listener:o,once:!0}),c.started||(c.subscriber.start(),c.started=!0,Pt(this,sn)!=null&&c.subscriber.pause(Pt(this,sn))),this}async emit(e,...o){const c=await hr(this,Gs,El).call(this,e,o);if(!c||c.listeners.length===0)return!1;const d=c.listeners.length;return c.listeners=c.listeners.filter(({listener:h,once:et})=>{const tt=new EventPayload(this,et?null:h,e);try{h.call(this,...o,tt)}catch{}return!et}),c.listeners.length===0&&(c.started&&c.subscriber.stop(),Pt(this,an).delete(c.tag)),d>0}async listenerCount(e){if(e){const c=await hr(this,Gs,El).call(this,e);return c?c.listeners.length:0}let o=0;for(const{listeners:c}of Pt(this,an).values())o+=c.length;return o}async listeners(e){if(e){const c=await hr(this,Gs,El).call(this,e);return c?c.listeners.map(({listener:d})=>d):[]}let o=[];for(const{listeners:c}of Pt(this,an).values())o=o.concat(c.map(({listener:d})=>d));return o}async off(e,o){const c=await hr(this,Gs,El).call(this,e);if(!c)return this;if(o){const d=c.listeners.map(({listener:h})=>h).indexOf(o);d>=0&&c.listeners.splice(d,1)}return(!o||c.listeners.length===0)&&(c.started&&c.subscriber.stop(),Pt(this,an).delete(c.tag)),this}async removeAllListeners(e){if(e){const{tag:o,started:c,subscriber:d}=await hr(this,Vo,gu).call(this,e);c&&d.stop(),Pt(this,an).delete(o)}else for(const[o,{started:c,subscriber:d}]of Pt(this,an))c&&d.stop(),Pt(this,an).delete(o);return this}async addListener(e,o){return await this.on(e,o)}async removeListener(e,o){return this.off(e,o)}get destroyed(){return Pt(this,Fo)}destroy(){this.removeAllListeners();for(const e of Pt(this,En).keys())this._clearTimeout(e);Qt(this,Fo,!0)}get paused(){return Pt(this,sn)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(Qt(this,ga,-1),Pt(this,sn)!=null){if(Pt(this,sn)==!!e)return;assert(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(o=>o.pause(e)),Qt(this,sn,!!e);for(const o of Pt(this,En).values())o.timer&&clearTimeout(o.timer),o.time=getTime$1()-o.time}resume(){if(Pt(this,sn)!=null){this._forEachSubscriber(e=>e.resume()),Qt(this,sn,null);for(const e of Pt(this,En).values()){let o=e.time;o<0&&(o=0),e.time=getTime$1(),setTimeout(e.func,o)}}}}an=new WeakMap,hs=new WeakMap,sn=new WeakMap,Fo=new WeakMap,gn=new WeakMap,Hs=new WeakMap,ys=new WeakMap,ga=new WeakMap,Wl=new WeakMap,En=new WeakMap,jo=new WeakMap,zo=new WeakMap,cn=new WeakSet,pn=async function(e){const o=Pt(this,zo).cacheTimeout;if(o<0)return await this._perform(e);const c=getTag(e.method,e);let d=Pt(this,ys).get(c);return d||(d=this._perform(e),Pt(this,ys).set(c,d),setTimeout(()=>{Pt(this,ys).get(c)===d&&Pt(this,ys).delete(c)},o)),await d},Ql=new WeakSet,ep=async function(e,o,c){assert(c<MAX_CCIP_REDIRECTS,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:o,enableCcipRead:!0})});const d=copyRequest(e);try{return hexlify$1(await this._perform({method:"call",transaction:d,blockTag:o}))}catch(h){if(!this.disableCcipRead&&isCallException(h)&&h.data&&c>=0&&o==="latest"&&d.to!=null&&dataSlice(h.data,0,4)==="0x556f1830"){const et=h.data,tt=await resolveAddress(d.to,this);let ot;try{ot=parseOffchainLookup(dataSlice(h.data,4))}catch(yt){assert(!1,yt.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:d,info:{data:et}})}assert(ot.sender.toLowerCase()===tt.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:et,reason:"OffchainLookup",transaction:d,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:ot.errorArgs}});const ft=await this.ccipReadFetch(d,ot.calldata,ot.urls);assert(ft!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:d,info:{data:h.data,errorArgs:ot.errorArgs}});const ht={to:tt,data:concat$3([ot.selector,encodeBytes$1([ft,ot.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:ht});try{const yt=await hr(this,Ql,ep).call(this,ht,o,c+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},ht),result:yt}),yt}catch(yt){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},ht),error:yt}),yt}}throw h}},Xl=new WeakSet,tp=async function(e){const{value:o}=await resolveProperties({network:this.getNetwork(),value:e});return o},Ks=new WeakSet,$l=async function(e,o,c){let d=this._getAddress(o),h=this._getBlockTag(c);return(typeof d!="string"||typeof h!="string")&&([d,h]=await Promise.all([d,h])),await hr(this,Xl,tp).call(this,hr(this,cn,pn).call(this,Object.assign(e,{address:d,blockTag:h})))},Jl=new WeakSet,rp=async function(e,o){if(isHexString$1(e,32))return await hr(this,cn,pn).call(this,{method:"getBlock",blockHash:e,includeTransactions:o});let c=this._getBlockTag(e);return typeof c!="string"&&(c=await c),await hr(this,cn,pn).call(this,{method:"getBlock",blockTag:c,includeTransactions:o})},Gs=new WeakSet,El=async function(e,o){let c=await getSubscription(e,this);return c.type==="event"&&o&&o.length>0&&o[0].removed===!0&&(c=await getSubscription({orphan:"drop-log",log:o[0]},this)),Pt(this,an).get(c.tag)||null},Vo=new WeakSet,gu=async function(e){const o=await getSubscription(e,this),c=o.tag;let d=Pt(this,an).get(c);return d||(d={subscriber:this._getSubscriber(o),tag:c,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},Pt(this,an).set(c,d)),d};function _parseString(a,e){try{const o=_parseBytes(a,e);if(o)return toUtf8String(o)}catch{}return null}function _parseBytes(a,e){if(a==="0x")return null;try{const o=getNumber(dataSlice(a,e,e+32)),c=getNumber(dataSlice(a,o,o+32));return dataSlice(a,o+32,o+32+c)}catch{}return null}function numPad(a){const e=toBeArray(a);if(e.length>32)throw new Error("internal; should not happen");const o=new Uint8Array(32);return o.set(e,32-e.length),o}function bytesPad(a){if(a.length%32===0)return a;const e=new Uint8Array(Math.ceil(a.length/32)*32);return e.set(a),e}const empty=new Uint8Array([]);function encodeBytes$1(a){const e=[];let o=0;for(let c=0;c<a.length;c++)e.push(empty),o+=32;for(let c=0;c<a.length;c++){const d=getBytes(a[c]);e[c]=numPad(o),e.push(numPad(d.length)),e.push(bytesPad(d)),o+=32+Math.ceil(d.length/32)*32}return concat$3(e)}const zeros="0x0000000000000000000000000000000000000000000000000000000000000000";function parseOffchainLookup(a){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};assert(dataLength(a)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const o=dataSlice(a,0,32);assert(dataSlice(o,0,12)===dataSlice(zeros,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=dataSlice(o,12);try{const c=[],d=getNumber(dataSlice(a,32,64)),h=getNumber(dataSlice(a,d,d+32)),et=dataSlice(a,d+32);for(let tt=0;tt<h;tt++){const ot=_parseString(et,tt*32);if(ot==null)throw new Error("abort");c.push(ot)}e.urls=c}catch{assert(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const c=_parseBytes(a,64);if(c==null)throw new Error("abort");e.calldata=c}catch{assert(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}assert(dataSlice(a,100,128)===dataSlice(zeros,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=dataSlice(a,96,100);try{const c=_parseBytes(a,128);if(c==null)throw new Error("abort");e.extraData=c}catch{assert(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(c=>e[c]),e}function checkProvider(a,e){if(a.provider)return a.provider;assert(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function populate(a,e){let o=copyRequest(e);if(o.to!=null&&(o.to=resolveAddress(o.to,a)),o.from!=null){const c=o.from;o.from=Promise.all([a.getAddress(),resolveAddress(c,a)]).then(([d,h])=>(assertArgument(d.toLowerCase()===h.toLowerCase(),"transaction from mismatch","tx.from",h),d))}else o.from=a.getAddress();return await resolveProperties(o)}class AbstractSigner{constructor(e){Jt(this,"provider");defineProperties(this,{provider:e||null})}async getNonce(e){return checkProvider(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await populate(this,e)}async populateTransaction(e){const o=checkProvider(this,"populateTransaction"),c=await populate(this,e);c.nonce==null&&(c.nonce=await this.getNonce("pending")),c.gasLimit==null&&(c.gasLimit=await this.estimateGas(c));const d=await this.provider.getNetwork();if(c.chainId!=null){const et=getBigInt(c.chainId);assertArgument(et===d.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else c.chainId=d.chainId;const h=c.maxFeePerGas!=null||c.maxPriorityFeePerGas!=null;if(c.gasPrice!=null&&(c.type===2||h)?assertArgument(!1,"eip-1559 transaction do not support gasPrice","tx",e):(c.type===0||c.type===1)&&h&&assertArgument(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(c.type===2||c.type==null)&&c.maxFeePerGas!=null&&c.maxPriorityFeePerGas!=null)c.type=2;else if(c.type===0||c.type===1){const et=await o.getFeeData();assert(et.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),c.gasPrice==null&&(c.gasPrice=et.gasPrice)}else{const et=await o.getFeeData();if(c.type==null)if(et.maxFeePerGas!=null&&et.maxPriorityFeePerGas!=null)if(c.type=2,c.gasPrice!=null){const tt=c.gasPrice;delete c.gasPrice,c.maxFeePerGas=tt,c.maxPriorityFeePerGas=tt}else c.maxFeePerGas==null&&(c.maxFeePerGas=et.maxFeePerGas),c.maxPriorityFeePerGas==null&&(c.maxPriorityFeePerGas=et.maxPriorityFeePerGas);else et.gasPrice!=null?(assert(!h,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),c.gasPrice==null&&(c.gasPrice=et.gasPrice),c.type=0):assert(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else c.type===2&&(c.maxFeePerGas==null&&(c.maxFeePerGas=et.maxFeePerGas),c.maxPriorityFeePerGas==null&&(c.maxPriorityFeePerGas=et.maxPriorityFeePerGas))}return await resolveProperties(c)}async estimateGas(e){return checkProvider(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return checkProvider(this,"call").call(await this.populateCall(e))}async resolveName(e){return await checkProvider(this,"resolveName").resolveName(e)}async sendTransaction(e){const o=checkProvider(this,"sendTransaction"),c=await this.populateTransaction(e);delete c.from;const d=Transaction.from(c);return await o.broadcastTransaction(await this.signTransaction(d))}}var Ho,bu;const pp=class pp extends AbstractSigner{constructor(o,c){super(c);tr(this,Ho);Jt(this,"address");defineProperties(this,{address:o})}async getAddress(){return this.address}connect(o){return new pp(this.address,o)}async signTransaction(o){hr(this,Ho,bu).call(this,"transactions","signTransaction")}async signMessage(o){hr(this,Ho,bu).call(this,"messages","signMessage")}async signTypedData(o,c,d){hr(this,Ho,bu).call(this,"typed-data","signTypedData")}};Ho=new WeakSet,bu=function(o,c){assert(!1,`VoidSigner cannot sign ${o}`,"UNSUPPORTED_OPERATION",{operation:c})};let VoidSigner=pp;const shown=new Set;function showThrottleMessage(a){shown.has(a)||(shown.add(a),console.log("========= NOTICE ========="),console.log(`Request-Rate Exceeded for ${a} (this message will not be repeated)`),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.org/api-keys/"),console.log("=========================="))}function copy(a){return JSON.parse(JSON.stringify(a))}var un,Un,Ws,gs,qs,Ko,Yl,np,Zl,ap;class FilterIdSubscriber{constructor(e){tr(this,Yl);tr(this,Zl);tr(this,un,void 0);tr(this,Un,void 0);tr(this,Ws,void 0);tr(this,gs,void 0);tr(this,qs,void 0);tr(this,Ko,void 0);Qt(this,un,e),Qt(this,Un,null),Qt(this,Ws,hr(this,Yl,np).bind(this)),Qt(this,gs,!1),Qt(this,qs,null),Qt(this,Ko,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,o){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){Pt(this,gs)||(Qt(this,gs,!0),hr(this,Yl,np).call(this,-2))}stop(){Pt(this,gs)&&(Qt(this,gs,!1),Qt(this,Ko,!0),hr(this,Zl,ap).call(this),Pt(this,un).off("block",Pt(this,Ws)))}pause(e){e&&hr(this,Zl,ap).call(this),Pt(this,un).off("block",Pt(this,Ws))}resume(){this.start()}}un=new WeakMap,Un=new WeakMap,Ws=new WeakMap,gs=new WeakMap,qs=new WeakMap,Ko=new WeakMap,Yl=new WeakSet,np=async function(e){try{Pt(this,Un)==null&&Qt(this,Un,this._subscribe(Pt(this,un)));let o=null;try{o=await Pt(this,Un)}catch(h){if(!isError(h,"UNSUPPORTED_OPERATION")||h.operation!=="eth_newFilter")throw h}if(o==null){Qt(this,Un,null),Pt(this,un)._recoverSubscriber(this,this._recover(Pt(this,un)));return}const c=await Pt(this,un).getNetwork();if(Pt(this,qs)||Qt(this,qs,c),Pt(this,qs).chainId!==c.chainId)throw new Error("chaid changed");if(Pt(this,Ko))return;const d=await Pt(this,un).send("eth_getFilterChanges",[o]);await this._emitResults(Pt(this,un),d)}catch(o){console.log("@TODO",o)}Pt(this,un).once("block",Pt(this,Ws))},Zl=new WeakSet,ap=function(){const e=Pt(this,Un);e&&(Qt(this,Un,null),e.then(o=>{Pt(this,un).send("eth_uninstallFilter",[o])}))};var Qs;class FilterIdEventSubscriber extends FilterIdSubscriber{constructor(o,c){super(o);tr(this,Qs,void 0);Qt(this,Qs,copy(c))}_recover(o){return new PollingEventSubscriber(o,Pt(this,Qs))}async _subscribe(o){return await o.send("eth_newFilter",[Pt(this,Qs)])}async _emitResults(o,c){for(const d of c)o.emit(Pt(this,Qs),o._wrapLog(d,o._network))}}Qs=new WeakMap;class FilterIdPendingSubscriber extends FilterIdSubscriber{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,o){for(const c of o)e.emit("pending",c)}}const Primitive="bigint,boolean,function,number,string,symbol".split(/,/g);function deepCopy(a){if(a==null||Primitive.indexOf(typeof a)>=0||typeof a.getAddress=="function")return a;if(Array.isArray(a))return a.map(deepCopy);if(typeof a=="object")return Object.keys(a).reduce((e,o)=>(e[o]=a[o],e),{});throw new Error(`should not happen: ${a} (${typeof a})`)}function stall$3(a){return new Promise(e=>{setTimeout(e,a)})}function getLowerCase(a){return a&&a.toLowerCase()}function isPollable(a){return a&&typeof a.pollingInterval=="number"}const defaultOptions$1={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class JsonRpcSigner extends AbstractSigner{constructor(o,c){super(o);Jt(this,"address");c=getAddress$1(c),defineProperties(this,{address:c})}connect(o){assert(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(o){return await this.populateCall(o)}async sendUncheckedTransaction(o){const c=deepCopy(o),d=[];if(c.from){const et=c.from;d.push((async()=>{const tt=await resolveAddress(et,this.provider);assertArgument(tt!=null&&tt.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",o),c.from=tt})())}else c.from=this.address;if(c.gasLimit==null&&d.push((async()=>{c.gasLimit=await this.provider.estimateGas({...c,from:this.address})})()),c.to!=null){const et=c.to;d.push((async()=>{c.to=await resolveAddress(et,this.provider)})())}d.length&&await Promise.all(d);const h=this.provider.getRpcTransaction(c);return this.provider.send("eth_sendTransaction",[h])}async sendTransaction(o){const c=await this.provider.getBlockNumber(),d=await this.sendUncheckedTransaction(o);return await new Promise((h,et)=>{const tt=[1e3,100];let ot=0;const ft=async()=>{try{const ht=await this.provider.getTransaction(d);if(ht!=null){h(ht.replaceableTransaction(c));return}}catch(ht){if(isError(ht,"CANCELLED")||isError(ht,"BAD_DATA")||isError(ht,"NETWORK_ERROR")){ht.info==null&&(ht.info={}),ht.info.sendTransactionHash=d,et(ht);return}if(isError(ht,"INVALID_ARGUMENT")&&(ot++,ht.info==null&&(ht.info={}),ht.info.sendTransactionHash=d,ot>10)){et(ht);return}this.provider.emit("error",makeError("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:ht}))}this.provider._setTimeout(()=>{ft()},tt.pop()||4e3)};ft()})}async signTransaction(o){const c=deepCopy(o);if(c.from){const h=await resolveAddress(c.from,this.provider);assertArgument(h!=null&&h.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",o),c.from=h}else c.from=this.address;const d=this.provider.getRpcTransaction(c);return await this.provider.send("eth_signTransaction",[d])}async signMessage(o){const c=typeof o=="string"?toUtf8Bytes(o):o;return await this.provider.send("personal_sign",[hexlify$1(c),this.address.toLowerCase()])}async signTypedData(o,c,d){const h=deepCopy(d),et=await TypedDataEncoder.resolveNames(o,c,h,async tt=>{const ot=await resolveAddress(tt);return assertArgument(ot!=null,"TypedData does not support null address","value",tt),ot});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(TypedDataEncoder.getPayload(et.domain,c,et.value))])}async unlock(o){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),o,null])}async _legacySignMessage(o){const c=typeof o=="string"?toUtf8Bytes(o):o;return await this.provider.send("eth_sign",[this.address.toLowerCase(),hexlify$1(c)])}}var Xs,Go,ba,Fn,Rn,Tn,dn,eu,sp;class JsonRpcApiProvider extends AbstractProvider{constructor(o,c){super(o,c);tr(this,eu);tr(this,Xs,void 0);tr(this,Go,void 0);tr(this,ba,void 0);tr(this,Fn,void 0);tr(this,Rn,void 0);tr(this,Tn,void 0);tr(this,dn,void 0);Qt(this,Go,1),Qt(this,Xs,Object.assign({},defaultOptions$1,c||{})),Qt(this,ba,[]),Qt(this,Fn,null),Qt(this,Tn,null),Qt(this,dn,null);{let h=null;const et=new Promise(tt=>{h=tt});Qt(this,Rn,{promise:et,resolve:h})}const d=this._getOption("staticNetwork");typeof d=="boolean"?(assertArgument(!d||o!=="any","staticNetwork cannot be used on special network 'any'","options",c),d&&o!=null&&Qt(this,Tn,Network.from(o))):d&&(assertArgument(o==null||d.matches(o),"staticNetwork MUST match network object","options",c),Qt(this,Tn,d))}_getOption(o){return Pt(this,Xs)[o]}get _network(){return assert(Pt(this,Tn),"network is not available yet","NETWORK_ERROR"),Pt(this,Tn)}async _perform(o){if(o.method==="call"||o.method==="estimateGas"){let d=o.transaction;if(d&&d.type!=null&&getBigInt(d.type)&&d.maxFeePerGas==null&&d.maxPriorityFeePerGas==null){const h=await this.getFeeData();h.maxFeePerGas==null&&h.maxPriorityFeePerGas==null&&(o=Object.assign({},o,{transaction:Object.assign({},d,{type:void 0})}))}}const c=this.getRpcRequest(o);return c!=null?await this.send(c.method,c.args):super._perform(o)}async _detectNetwork(){const o=this._getOption("staticNetwork");if(o)if(o===!0){if(Pt(this,Tn))return Pt(this,Tn)}else return o;return Pt(this,dn)?await Pt(this,dn):this.ready?(Qt(this,dn,(async()=>{try{const c=Network.from(getBigInt(await this.send("eth_chainId",[])));return Qt(this,dn,null),c}catch(c){throw Qt(this,dn,null),c}})()),await Pt(this,dn)):(Qt(this,dn,(async()=>{const c={id:yl(this,Go)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:c});let d;try{d=(await this._send(c))[0],Qt(this,dn,null)}catch(h){throw Qt(this,dn,null),this.emit("debug",{action:"receiveRpcError",error:h}),h}if(this.emit("debug",{action:"receiveRpcResult",result:d}),"result"in d)return Network.from(getBigInt(d.result));throw this.getRpcError(c,d)})()),await Pt(this,dn))}_start(){Pt(this,Rn)==null||Pt(this,Rn).resolve==null||(Pt(this,Rn).resolve(),Qt(this,Rn,null),(async()=>{for(;Pt(this,Tn)==null&&!this.destroyed;)try{Qt(this,Tn,await this._detectNetwork())}catch(o){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",makeError("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:o}})),await stall$3(1e3)}hr(this,eu,sp).call(this)})())}async _waitUntilReady(){if(Pt(this,Rn)!=null)return await Pt(this,Rn).promise}_getSubscriber(o){return o.type==="pending"?new FilterIdPendingSubscriber(this):o.type==="event"?this._getOption("polling")?new PollingEventSubscriber(this,o.filter):new FilterIdEventSubscriber(this,o.filter):o.type==="orphan"&&o.filter.orphan==="drop-log"?new UnmanagedSubscriber("orphan"):super._getSubscriber(o)}get ready(){return Pt(this,Rn)==null}getRpcTransaction(o){const c={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(d=>{if(o[d]==null)return;let h=d;d==="gasLimit"&&(h="gas"),c[h]=toQuantity(getBigInt(o[d],`tx.${d}`))}),["from","to","data"].forEach(d=>{o[d]!=null&&(c[d]=hexlify$1(o[d]))}),o.accessList&&(c.accessList=accessListify(o.accessList)),c}getRpcRequest(o){switch(o.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[getLowerCase(o.address),o.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[getLowerCase(o.address),o.blockTag]};case"getCode":return{method:"eth_getCode",args:[getLowerCase(o.address),o.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[getLowerCase(o.address),"0x"+o.position.toString(16),o.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[o.signedTransaction]};case"getBlock":if("blockTag"in o)return{method:"eth_getBlockByNumber",args:[o.blockTag,!!o.includeTransactions]};if("blockHash"in o)return{method:"eth_getBlockByHash",args:[o.blockHash,!!o.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[o.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[o.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(o.transaction),o.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(o.transaction)]};case"getLogs":return o.filter&&o.filter.address!=null&&(Array.isArray(o.filter.address)?o.filter.address=o.filter.address.map(getLowerCase):o.filter.address=getLowerCase(o.filter.address)),{method:"eth_getLogs",args:[o.filter]}}return null}getRpcError(o,c){const{method:d}=o,{error:h}=c;if(d==="eth_estimateGas"&&h.message){const ot=h.message;if(!ot.match(/revert/i)&&ot.match(/insufficient funds/i))return makeError("insufficient funds","INSUFFICIENT_FUNDS",{transaction:o.params[0],info:{payload:o,error:h}})}if(d==="eth_call"||d==="eth_estimateGas"){const ot=spelunkData(h),ft=AbiCoder.getBuiltinCallException(d==="eth_call"?"call":"estimateGas",o.params[0],ot?ot.data:null);return ft.info={error:h,payload:o},ft}const et=JSON.stringify(spelunkMessage(h));if(typeof h.message=="string"&&h.message.match(/user denied|ethers-user-denied/i))return makeError("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[d]||"unknown",reason:"rejected",info:{payload:o,error:h}});if(d==="eth_sendRawTransaction"||d==="eth_sendTransaction"){const ot=o.params[0];if(et.match(/insufficient funds|base fee exceeds gas limit/i))return makeError("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:ot,info:{error:h}});if(et.match(/nonce/i)&&et.match(/too low/i))return makeError("nonce has already been used","NONCE_EXPIRED",{transaction:ot,info:{error:h}});if(et.match(/replacement transaction/i)&&et.match(/underpriced/i))return makeError("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:ot,info:{error:h}});if(et.match(/only replay-protected/i))return makeError("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:d,info:{transaction:ot,info:{error:h}}})}let tt=!!et.match(/the method .* does not exist/i);return tt||h&&h.details&&h.details.startsWith("Unauthorized method:")&&(tt=!0),tt?makeError("unsupported operation","UNSUPPORTED_OPERATION",{operation:o.method,info:{error:h,payload:o}}):makeError("could not coalesce error","UNKNOWN_ERROR",{error:h,payload:o})}send(o,c){if(this.destroyed)return Promise.reject(makeError("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:o}));const d=yl(this,Go)._++,h=new Promise((et,tt)=>{Pt(this,ba).push({resolve:et,reject:tt,payload:{method:o,params:c,id:d,jsonrpc:"2.0"}})});return hr(this,eu,sp).call(this),h}async getSigner(o){o==null&&(o=0);const c=this.send("eth_accounts",[]);if(typeof o=="number"){const h=await c;if(o>=h.length)throw new Error("no such account");return new JsonRpcSigner(this,h[o])}const{accounts:d}=await resolveProperties({network:this.getNetwork(),accounts:c});o=getAddress$1(o);for(const h of d)if(getAddress$1(h)===o)return new JsonRpcSigner(this,o);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(c=>new JsonRpcSigner(this,c))}destroy(){Pt(this,Fn)&&(clearTimeout(Pt(this,Fn)),Qt(this,Fn,null));for(const{payload:o,reject:c}of Pt(this,ba))c(makeError("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:o.method}));Qt(this,ba,[]),super.destroy()}}Xs=new WeakMap,Go=new WeakMap,ba=new WeakMap,Fn=new WeakMap,Rn=new WeakMap,Tn=new WeakMap,dn=new WeakMap,eu=new WeakSet,sp=function(){if(Pt(this,Fn))return;const o=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");Qt(this,Fn,setTimeout(()=>{Qt(this,Fn,null);const c=Pt(this,ba);for(Qt(this,ba,[]);c.length;){const d=[c.shift()];for(;c.length&&d.length!==Pt(this,Xs).batchMaxCount;)if(d.push(c.shift()),JSON.stringify(d.map(et=>et.payload)).length>Pt(this,Xs).batchMaxSize){c.unshift(d.pop());break}(async()=>{const h=d.length===1?d[0].payload:d.map(et=>et.payload);this.emit("debug",{action:"sendRpcPayload",payload:h});try{const et=await this._send(h);this.emit("debug",{action:"receiveRpcResult",result:et});for(const{resolve:tt,reject:ot,payload:ft}of d){if(this.destroyed){ot(makeError("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:ft.method}));continue}const ht=et.filter(yt=>yt.id===ft.id)[0];if(ht==null){const yt=makeError("missing response for request","BAD_DATA",{value:et,info:{payload:ft}});this.emit("error",yt),ot(yt);continue}if("error"in ht){ot(this.getRpcError(ft,ht));continue}tt(ht.result)}}catch(et){this.emit("debug",{action:"receiveRpcError",error:et});for(const{reject:tt}of d)tt(et)}})()}},o))};var bs;class JsonRpcApiPollingProvider extends JsonRpcApiProvider{constructor(o,c){super(o,c);tr(this,bs,void 0);Qt(this,bs,4e3)}_getSubscriber(o){const c=super._getSubscriber(o);return isPollable(c)&&(c.pollingInterval=Pt(this,bs)),c}get pollingInterval(){return Pt(this,bs)}set pollingInterval(o){if(!Number.isInteger(o)||o<0)throw new Error("invalid interval");Qt(this,bs,o),this._forEachSubscriber(c=>{isPollable(c)&&(c.pollingInterval=Pt(this,bs))})}}bs=new WeakMap;var Wo;class JsonRpcProvider extends JsonRpcApiPollingProvider{constructor(o,c,d){o==null&&(o="http://localhost:8545");super(c,d);tr(this,Wo,void 0);typeof o=="string"?Qt(this,Wo,new FetchRequest(o)):Qt(this,Wo,o.clone())}_getConnection(){return Pt(this,Wo).clone()}async send(o,c){return await this._start(),await super.send(o,c)}async _send(o){const c=this._getConnection();c.body=JSON.stringify(o),c.setHeader("content-type","application/json");const d=await c.send();d.assertOk();let h=d.bodyJson;return Array.isArray(h)||(h=[h]),h}}Wo=new WeakMap;function spelunkData(a){if(a==null)return null;if(typeof a.message=="string"&&a.message.match(/revert/i)&&isHexString$1(a.data))return{message:a.message,data:a.data};if(typeof a=="object"){for(const e in a){const o=spelunkData(a[e]);if(o)return o}return null}if(typeof a=="string")try{return spelunkData(JSON.parse(a))}catch{}return null}function _spelunkMessage(a,e){if(a!=null){if(typeof a.message=="string"&&e.push(a.message),typeof a=="object")for(const o in a)_spelunkMessage(a[o],e);if(typeof a=="string")try{return _spelunkMessage(JSON.parse(a),e)}catch{}}}function spelunkMessage(a){const e=[];return _spelunkMessage(a,e),e}const defaultApiKey$1="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function getHost$3(a){switch(a){case"mainnet":return"rpc.ankr.com/eth";case"goerli":return"rpc.ankr.com/eth_goerli";case"sepolia":return"rpc.ankr.com/eth_sepolia";case"arbitrum":return"rpc.ankr.com/arbitrum";case"base":return"rpc.ankr.com/base";case"base-goerli":return"rpc.ankr.com/base_goerli";case"base-sepolia":return"rpc.ankr.com/base_sepolia";case"bnb":return"rpc.ankr.com/bsc";case"bnbt":return"rpc.ankr.com/bsc_testnet_chapel";case"matic":return"rpc.ankr.com/polygon";case"matic-mumbai":return"rpc.ankr.com/polygon_mumbai";case"optimism":return"rpc.ankr.com/optimism";case"optimism-goerli":return"rpc.ankr.com/optimism_testnet";case"optimism-sepolia":return"rpc.ankr.com/optimism_sepolia"}assertArgument(!1,"unsupported network","network",a)}class AnkrProvider extends JsonRpcProvider{constructor(o,c){o==null&&(o="mainnet");const d=Network.from(o);c==null&&(c=defaultApiKey$1);const h={polling:!0,staticNetwork:d},et=AnkrProvider.getRequest(d,c);super(et,d,h);Jt(this,"apiKey");defineProperties(this,{apiKey:c})}_getProvider(o){try{return new AnkrProvider(o,this.apiKey)}catch{}return super._getProvider(o)}static getRequest(o,c){c==null&&(c=defaultApiKey$1);const d=new FetchRequest(`https://${getHost$3(o.name)}/${c}`);return d.allowGzip=!0,c===defaultApiKey$1&&(d.retryFunc=async(h,et,tt)=>(showThrottleMessage("AnkrProvider"),!0)),d}getRpcError(o,c){return o.method==="eth_sendRawTransaction"&&c&&c.error&&c.error.message==="INTERNAL_ERROR: could not replace existing tx"&&(c.error.message="replacement transaction underpriced"),super.getRpcError(o,c)}isCommunityResource(){return this.apiKey===defaultApiKey$1}}const defaultApiKey="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";function getHost$2(a){switch(a){case"mainnet":return"eth-mainnet.alchemyapi.io";case"goerli":return"eth-goerli.g.alchemy.com";case"sepolia":return"eth-sepolia.g.alchemy.com";case"arbitrum":return"arb-mainnet.g.alchemy.com";case"arbitrum-goerli":return"arb-goerli.g.alchemy.com";case"arbitrum-sepolia":return"arb-sepolia.g.alchemy.com";case"base":return"base-mainnet.g.alchemy.com";case"base-goerli":return"base-goerli.g.alchemy.com";case"base-sepolia":return"base-sepolia.g.alchemy.com";case"matic":return"polygon-mainnet.g.alchemy.com";case"matic-mumbai":return"polygon-mumbai.g.alchemy.com";case"optimism":return"opt-mainnet.g.alchemy.com";case"optimism-goerli":return"opt-goerli.g.alchemy.com";case"optimism-sepolia":return"opt-sepolia.g.alchemy.com"}assertArgument(!1,"unsupported network","network",a)}class AlchemyProvider extends JsonRpcProvider{constructor(o,c){o==null&&(o="mainnet");const d=Network.from(o);c==null&&(c=defaultApiKey);const h=AlchemyProvider.getRequest(d,c);super(h,d,{staticNetwork:d});Jt(this,"apiKey");defineProperties(this,{apiKey:c})}_getProvider(o){try{return new AlchemyProvider(o,this.apiKey)}catch{}return super._getProvider(o)}async _perform(o){if(o.method==="getTransactionResult"){const{trace:c,tx:d}=await resolveProperties({trace:this.send("trace_transaction",[o.hash]),tx:this.getTransaction(o.hash)});if(c==null||d==null)return null;let h,et=!1;try{h=c[0].result.output,et=c[0].error==="Reverted"}catch{}if(h)return assert(!et,"an error occurred during transaction executions","CALL_EXCEPTION",{action:"getTransactionResult",data:h,reason:null,transaction:d,invocation:null,revert:null}),h;assert(!1,"could not parse trace result","BAD_DATA",{value:c})}return await super._perform(o)}isCommunityResource(){return this.apiKey===defaultApiKey}static getRequest(o,c){c==null&&(c=defaultApiKey);const d=new FetchRequest(`https://${getHost$2(o.name)}/v2/${c}`);return d.allowGzip=!0,c===defaultApiKey&&(d.retryFunc=async(h,et,tt)=>(showThrottleMessage("alchemy"),!0)),d}}class CloudflareProvider extends JsonRpcProvider{constructor(e){e==null&&(e="mainnet");const o=Network.from(e);assertArgument(o.name==="mainnet","unsupported network","network",e),super("https://cloudflare-eth.com/",o,{staticNetwork:o})}}const THROTTLE=2e3;function isPromise(a){return a&&typeof a.then=="function"}const EtherscanPluginId="org.ethers.plugins.provider.Etherscan",skipKeys=["enableCcipRead"];let nextId=1;var qo;class EtherscanProvider extends AbstractProvider{constructor(o,c){const d=c??null;super();Jt(this,"network");Jt(this,"apiKey");tr(this,qo,void 0);const h=Network.from(o);Qt(this,qo,h.getPlugin(EtherscanPluginId)),defineProperties(this,{apiKey:d,network:h}),this.getBaseUrl()}getBaseUrl(){if(Pt(this,qo))return Pt(this,qo).baseUrl;switch(this.network.name){case"mainnet":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"holesky":return"https://api-holesky.etherscan.io";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"bnb":return"https://api.bscscan.com";case"bnbt":return"https://api-testnet.bscscan.com";case"matic":return"https://api.polygonscan.com";case"matic-mumbai":return"https://api-testnet.polygonscan.com";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}assertArgument(!1,"unsupported network","network",this.network)}getUrl(o,c){const d=Object.keys(c).reduce((et,tt)=>{const ot=c[tt];return ot!=null&&(et+=`&${tt}=${ot}`),et},""),h=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.getBaseUrl()}/api?module=${o}${d}${h}`}getPostUrl(){return`${this.getBaseUrl()}/api`}getPostData(o,c){return c.module=o,c.apikey=this.apiKey,c}async detectNetwork(){return this.network}async fetch(o,c,d){const h=nextId++,et=d?this.getPostUrl():this.getUrl(o,c),tt=d?this.getPostData(o,c):null;this.emit("debug",{action:"sendRequest",id:h,url:et,payload:tt});const ot=new FetchRequest(et);ot.setThrottleParams({slotInterval:1e3}),ot.retryFunc=(yt,gt,wt)=>(this.isCommunityResource()&&showThrottleMessage("Etherscan"),Promise.resolve(!0)),ot.processFunc=async(yt,gt)=>{const wt=gt.hasBody()?JSON.parse(toUtf8String(gt.body)):{},bt=(typeof wt.result=="string"?wt.result:"").toLowerCase().indexOf("rate limit")>=0;return o==="proxy"?wt&&wt.status==0&&wt.message=="NOTOK"&&bt&&(this.emit("debug",{action:"receiveError",id:h,reason:"proxy-NOTOK",error:wt}),gt.throwThrottleError(wt.result,THROTTLE)):bt&&(this.emit("debug",{action:"receiveError",id:h,reason:"null result",error:wt.result}),gt.throwThrottleError(wt.result,THROTTLE)),gt},tt&&(ot.setHeader("content-type","application/x-www-form-urlencoded; charset=UTF-8"),ot.body=Object.keys(tt).map(yt=>`${yt}=${tt[yt]}`).join("&"));const ft=await ot.send();try{ft.assertOk()}catch(yt){this.emit("debug",{action:"receiveError",id:h,error:yt,reason:"assertOk"}),assert(!1,"response error","SERVER_ERROR",{request:ot,response:ft})}ft.hasBody()||(this.emit("debug",{action:"receiveError",id:h,error:"missing body",reason:"null body"}),assert(!1,"missing response","SERVER_ERROR",{request:ot,response:ft}));const ht=JSON.parse(toUtf8String(ft.body));return o==="proxy"?(ht.jsonrpc!="2.0"&&(this.emit("debug",{action:"receiveError",id:h,result:ht,reason:"invalid JSON-RPC"}),assert(!1,"invalid JSON-RPC response (missing jsonrpc='2.0')","SERVER_ERROR",{request:ot,response:ft,info:{result:ht}})),ht.error&&(this.emit("debug",{action:"receiveError",id:h,result:ht,reason:"JSON-RPC error"}),assert(!1,"error response","SERVER_ERROR",{request:ot,response:ft,info:{result:ht}})),this.emit("debug",{action:"receiveRequest",id:h,result:ht}),ht.result):ht.status==0&&(ht.message==="No records found"||ht.message==="No transactions found")?(this.emit("debug",{action:"receiveRequest",id:h,result:ht}),ht.result):((ht.status!=1||typeof ht.message=="string"&&!ht.message.match(/^OK/))&&(this.emit("debug",{action:"receiveError",id:h,result:ht}),assert(!1,"error response","SERVER_ERROR",{request:ot,response:ft,info:{result:ht}})),this.emit("debug",{action:"receiveRequest",id:h,result:ht}),ht.result)}_getTransactionPostData(o){const c={};for(let d in o){if(skipKeys.indexOf(d)>=0||o[d]==null)continue;let h=o[d];d==="type"&&h===0||d==="blockTag"&&h==="latest"||({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[d]?h=toQuantity(h):d==="accessList"?h="["+accessListify(h).map(et=>`{address:"${et.address}",storageKeys:["${et.storageKeys.join('","')}"]}`).join(",")+"]":h=hexlify$1(h),c[d]=h)}return c}_checkError(o,c,d){let h="";if(isError(c,"SERVER_ERROR")){try{h=c.info.result.error.message}catch{}if(!h)try{h=c.info.message}catch{}}if(o.method==="estimateGas"&&!h.match(/revert/i)&&h.match(/insufficient funds/i)&&assert(!1,"insufficient funds","INSUFFICIENT_FUNDS",{transaction:o.transaction}),(o.method==="call"||o.method==="estimateGas")&&h.match(/execution reverted/i)){let et="";try{et=c.info.result.error.data}catch{}const tt=AbiCoder.getBuiltinCallException(o.method,o.transaction,et);throw tt.info={request:o,error:c},tt}if(h&&o.method==="broadcastTransaction"){const et=Transaction.from(o.signedTransaction);h.match(/replacement/i)&&h.match(/underpriced/i)&&assert(!1,"replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:et}),h.match(/insufficient funds/)&&assert(!1,"insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:et}),h.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&assert(!1,"nonce has already been used","NONCE_EXPIRED",{transaction:et})}throw c}async _detectNetwork(){return this.network}async _perform(o){switch(o.method){case"chainId":return this.network.chainId;case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getPriorityFee":if(this.network.name==="mainnet")return"1000000000";if(this.network.name==="optimism")return"1000000";throw new Error("fallback onto the AbstractProvider default");case"getBalance":return this.fetch("account",{action:"balance",address:o.address,tag:o.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:o.address,tag:o.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:o.address,tag:o.blockTag});case"getStorage":return this.fetch("proxy",{action:"eth_getStorageAt",address:o.address,position:o.position,tag:o.blockTag});case"broadcastTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:o.signedTransaction},!0).catch(c=>this._checkError(o,c,o.signedTransaction));case"getBlock":if("blockTag"in o)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:o.blockTag,boolean:o.includeTransactions?"true":"false"});assert(!1,"getBlock by blockHash not supported by Etherscan","UNSUPPORTED_OPERATION",{operation:"getBlock(blockHash)"});case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:o.hash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:o.hash});case"call":{if(o.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");const c=this._getTransactionPostData(o.transaction);c.module="proxy",c.action="eth_call";try{return await this.fetch("proxy",c,!0)}catch(d){return this._checkError(o,d,o.transaction)}}case"estimateGas":{const c=this._getTransactionPostData(o.transaction);c.module="proxy",c.action="eth_estimateGas";try{return await this.fetch("proxy",c,!0)}catch(d){return this._checkError(o,d,o.transaction)}}}return super._perform(o)}async getNetwork(){return this.network}async getEtherPrice(){return this.network.name!=="mainnet"?0:parseFloat((await this.fetch("stats",{action:"ethprice"})).ethusd)}async getContract(o){let c=this._getAddress(o);isPromise(c)&&(c=await c);try{const d=await this.fetch("contract",{action:"getabi",address:c}),h=JSON.parse(d);return new Contract(c,h,this)}catch{return null}}isCommunityResource(){return this.apiKey==null}}qo=new WeakMap;function getGlobal$1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const _WebSocket=getGlobal$1().WebSocket;var xa,tu,xs,Js,ws;class SocketSubscriber{constructor(e,o){tr(this,xa,void 0);tr(this,tu,void 0);tr(this,xs,void 0);tr(this,Js,void 0);tr(this,ws,void 0);Qt(this,xa,e),Qt(this,tu,JSON.stringify(o)),Qt(this,xs,null),Qt(this,Js,null),Qt(this,ws,null)}get filter(){return JSON.parse(Pt(this,tu))}start(){Qt(this,xs,Pt(this,xa).send("eth_subscribe",this.filter).then(e=>(Pt(this,xa)._register(e,this),e)))}stop(){Pt(this,xs).then(e=>{Pt(this,xa).send("eth_unsubscribe",[e])}),Qt(this,xs,null)}pause(e){assert(e,"preserve logs while paused not supported by SocketSubscriber yet","UNSUPPORTED_OPERATION",{operation:"pause(false)"}),Qt(this,Js,!!e)}resume(){Qt(this,Js,null)}_handleMessage(e){if(Pt(this,xs)!=null&&Pt(this,Js)===null){let o=Pt(this,ws);o==null?o=this._emit(Pt(this,xa),e):o=o.then(async()=>{await this._emit(Pt(this,xa),e)}),Qt(this,ws,o.then(()=>{Pt(this,ws)===o&&Qt(this,ws,null)}))}}async _emit(e,o){throw new Error("sub-classes must implemente this; _emit")}}xa=new WeakMap,tu=new WeakMap,xs=new WeakMap,Js=new WeakMap,ws=new WeakMap;class SocketBlockSubscriber extends SocketSubscriber{constructor(e){super(e,["newHeads"])}async _emit(e,o){e.emit("block",parseInt(o.number))}}class SocketPendingSubscriber extends SocketSubscriber{constructor(e){super(e,["newPendingTransactions"])}async _emit(e,o){e.emit("pending",o)}}var ru;class SocketEventSubscriber extends SocketSubscriber{constructor(o,c){super(o,["logs",c]);tr(this,ru,void 0);Qt(this,ru,JSON.stringify(c))}get logFilter(){return JSON.parse(Pt(this,ru))}async _emit(o,c){o.emit(this.logFilter,o._wrapLog(c,o._network))}}ru=new WeakMap;var Ys,Qo,vs;class SocketProvider extends JsonRpcApiProvider{constructor(o,c){const d=Object.assign({},c??{});assertArgument(d.batchMaxCount==null||d.batchMaxCount===1,"sockets-based providers do not support batches","options.batchMaxCount",c),d.batchMaxCount=1,d.staticNetwork==null&&(d.staticNetwork=!0);super(o,d);tr(this,Ys,void 0);tr(this,Qo,void 0);tr(this,vs,void 0);Qt(this,Ys,new Map),Qt(this,Qo,new Map),Qt(this,vs,new Map)}_getSubscriber(o){switch(o.type){case"close":return new UnmanagedSubscriber("close");case"block":return new SocketBlockSubscriber(this);case"pending":return new SocketPendingSubscriber(this);case"event":return new SocketEventSubscriber(this,o.filter);case"orphan":if(o.filter.orphan==="drop-log")return new UnmanagedSubscriber("drop-log")}return super._getSubscriber(o)}_register(o,c){Pt(this,Qo).set(o,c);const d=Pt(this,vs).get(o);if(d){for(const h of d)c._handleMessage(h);Pt(this,vs).delete(o)}}async _send(o){assertArgument(!Array.isArray(o),"WebSocket does not support batch send","payload",o);const c=new Promise((d,h)=>{Pt(this,Ys).set(o.id,{payload:o,resolve:d,reject:h})});return await this._waitUntilReady(),await this._write(JSON.stringify(o)),[await c]}async _processMessage(o){const c=JSON.parse(o);if(c&&typeof c=="object"&&"id"in c){const d=Pt(this,Ys).get(c.id);if(d==null){this.emit("error",makeError("received result for unknown id","UNKNOWN_ERROR",{reasonCode:"UNKNOWN_ID",result:c}));return}Pt(this,Ys).delete(c.id),d.resolve(c)}else if(c&&c.method==="eth_subscription"){const d=c.params.subscription,h=Pt(this,Qo).get(d);if(h)h._handleMessage(c.params.result);else{let et=Pt(this,vs).get(d);et==null&&(et=[],Pt(this,vs).set(d,et)),et.push(c.params.result)}}else{this.emit("error",makeError("received unexpected message","UNKNOWN_ERROR",{reasonCode:"UNEXPECTED_MESSAGE",result:c}));return}}async _write(o){throw new Error("sub-classes must override this")}}Ys=new WeakMap,Qo=new WeakMap,vs=new WeakMap;var Zs,Bn;class WebSocketProvider extends SocketProvider{constructor(o,c,d){super(c,d);tr(this,Zs,void 0);tr(this,Bn,void 0);typeof o=="string"?(Qt(this,Zs,()=>new _WebSocket(o)),Qt(this,Bn,Pt(this,Zs).call(this))):typeof o=="function"?(Qt(this,Zs,o),Qt(this,Bn,o())):(Qt(this,Zs,null),Qt(this,Bn,o)),this.websocket.onopen=async()=>{try{await this._start(),this.resume()}catch(h){console.log("failed to start WebsocketProvider",h)}},this.websocket.onmessage=h=>{this._processMessage(h.data)}}get websocket(){if(Pt(this,Bn)==null)throw new Error("websocket closed");return Pt(this,Bn)}async _write(o){this.websocket.send(o)}async destroy(){Pt(this,Bn)!=null&&(Pt(this,Bn).close(),Qt(this,Bn,null)),super.destroy()}}Zs=new WeakMap,Bn=new WeakMap;const defaultProjectId="84842078b09946638c03157f83405213";function getHost$1(a){switch(a){case"mainnet":return"mainnet.infura.io";case"goerli":return"goerli.infura.io";case"sepolia":return"sepolia.infura.io";case"arbitrum":return"arbitrum-mainnet.infura.io";case"arbitrum-goerli":return"arbitrum-goerli.infura.io";case"arbitrum-sepolia":return"arbitrum-sepolia.infura.io";case"base":return"base-mainnet.infura.io";case"base-goerlia":return"base-goerli.infura.io";case"base-sepolia":return"base-sepolia.infura.io";case"bnb":return"bnbsmartchain-mainnet.infura.io";case"bnbt":return"bnbsmartchain-testnet.infura.io";case"linea":return"linea-mainnet.infura.io";case"linea-goerli":return"linea-goerli.infura.io";case"matic":return"polygon-mainnet.infura.io";case"matic-mumbai":return"polygon-mumbai.infura.io";case"optimism":return"optimism-mainnet.infura.io";case"optimism-goerli":return"optimism-goerli.infura.io";case"optimism-sepolia":return"optimism-sepolia.infura.io"}assertArgument(!1,"unsupported network","network",a)}class InfuraWebSocketProvider extends WebSocketProvider{constructor(o,c){const d=new InfuraProvider(o,c),h=d._getConnection();assert(!h.credentials,"INFURA WebSocket project secrets unsupported","UNSUPPORTED_OPERATION",{operation:"InfuraProvider.getWebSocketProvider()"});const et=h.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(et,o);Jt(this,"projectId");Jt(this,"projectSecret");defineProperties(this,{projectId:d.projectId,projectSecret:d.projectSecret})}isCommunityResource(){return this.projectId===defaultProjectId}}class InfuraProvider extends JsonRpcProvider{constructor(o,c,d){o==null&&(o="mainnet");const h=Network.from(o);c==null&&(c=defaultProjectId),d==null&&(d=null);const et=InfuraProvider.getRequest(h,c,d);super(et,h,{staticNetwork:h});Jt(this,"projectId");Jt(this,"projectSecret");defineProperties(this,{projectId:c,projectSecret:d})}_getProvider(o){try{return new InfuraProvider(o,this.projectId,this.projectSecret)}catch{}return super._getProvider(o)}isCommunityResource(){return this.projectId===defaultProjectId}static getWebSocketProvider(o,c){return new InfuraWebSocketProvider(o,c)}static getRequest(o,c,d){c==null&&(c=defaultProjectId),d==null&&(d=null);const h=new FetchRequest(`https://${getHost$1(o.name)}/v3/${c}`);return h.allowGzip=!0,d&&h.setCredentials("",d),c===defaultProjectId&&(h.retryFunc=async(et,tt,ot)=>(showThrottleMessage("InfuraProvider"),!0)),h}}const defaultToken="919b412a057b5e9c9b6dce193c5a60242d6efadb";function getHost(a){switch(a){case"mainnet":return"ethers.quiknode.pro";case"goerli":return"ethers.ethereum-goerli.quiknode.pro";case"sepolia":return"ethers.ethereum-sepolia.quiknode.pro";case"holesky":return"ethers.ethereum-holesky.quiknode.pro";case"arbitrum":return"ethers.arbitrum-mainnet.quiknode.pro";case"arbitrum-goerli":return"ethers.arbitrum-goerli.quiknode.pro";case"arbitrum-sepolia":return"ethers.arbitrum-sepolia.quiknode.pro";case"base":return"ethers.base-mainnet.quiknode.pro";case"base-goerli":return"ethers.base-goerli.quiknode.pro";case"base-spolia":return"ethers.base-sepolia.quiknode.pro";case"bnb":return"ethers.bsc.quiknode.pro";case"bnbt":return"ethers.bsc-testnet.quiknode.pro";case"matic":return"ethers.matic.quiknode.pro";case"matic-mumbai":return"ethers.matic-testnet.quiknode.pro";case"optimism":return"ethers.optimism.quiknode.pro";case"optimism-goerli":return"ethers.optimism-goerli.quiknode.pro";case"optimism-sepolia":return"ethers.optimism-sepolia.quiknode.pro";case"xdai":return"ethers.xdai.quiknode.pro"}assertArgument(!1,"unsupported network","network",a)}class QuickNodeProvider extends JsonRpcProvider{constructor(o,c){o==null&&(o="mainnet");const d=Network.from(o);c==null&&(c=defaultToken);const h=QuickNodeProvider.getRequest(d,c);super(h,d,{staticNetwork:d});Jt(this,"token");defineProperties(this,{token:c})}_getProvider(o){try{return new QuickNodeProvider(o,this.token)}catch{}return super._getProvider(o)}isCommunityResource(){return this.token===defaultToken}static getRequest(o,c){c==null&&(c=defaultToken);const d=new FetchRequest(`https://${getHost(o.name)}/${c}`);return d.allowGzip=!0,c===defaultToken&&(d.retryFunc=async(h,et,tt)=>(showThrottleMessage("QuickNodeProvider"),!0)),d}}const BN_1=BigInt("1"),BN_2=BigInt("2");function shuffle(a){for(let e=a.length-1;e>0;e--){const o=Math.floor(Math.random()*(e+1)),c=a[e];a[e]=a[o],a[o]=c}}function stall$2(a){return new Promise(e=>{setTimeout(e,a)})}function getTime(){return new Date().getTime()}function stringify$2(a){return JSON.stringify(a,(e,o)=>typeof o=="bigint"?{type:"bigint",value:o.toString()}:o)}const defaultConfig={stallTimeout:400,priority:1,weight:1},defaultState={blockNumber:-2,requests:0,lateResponses:0,errorResponses:0,outOfSync:-1,unsupportedEvents:0,rollingDuration:0,score:0,_network:null,_updateNumber:null,_totalTime:0,_lastFatalError:null,_lastFatalErrorTimestamp:0};async function waitForSync(a,e){for(;(a.blockNumber<0||a.blockNumber<e)&&(a._updateNumber||(a._updateNumber=(async()=>{try{const o=await a.provider.getBlockNumber();o>a.blockNumber&&(a.blockNumber=o)}catch(o){a.blockNumber=-2,a._lastFatalError=o,a._lastFatalErrorTimestamp=getTime()}a._updateNumber=null})()),await a._updateNumber,a.outOfSync++,!a._lastFatalError););}function _normalize(a){if(a==null)return"null";if(Array.isArray(a))return"["+a.map(_normalize).join(",")+"]";if(typeof a=="object"&&typeof a.toJSON=="function")return _normalize(a.toJSON());switch(typeof a){case"boolean":case"symbol":return a.toString();case"bigint":case"number":return BigInt(a).toString();case"string":return JSON.stringify(a);case"object":{const e=Object.keys(a);return e.sort(),"{"+e.map(o=>`${JSON.stringify(o)}:${_normalize(a[o])}`).join(",")+"}"}}throw console.log("Could not serialize",a),new Error("Hmm...")}function normalizeResult(a){if("error"in a){const o=a.error;return{tag:_normalize(o),value:o}}const e=a.result;return{tag:_normalize(e),value:e}}function checkQuorum(a,e){const o=new Map;for(const{value:d,tag:h,weight:et}of e){const tt=o.get(h)||{value:d,weight:0};tt.weight+=et,o.set(h,tt)}let c=null;for(const d of o.values())d.weight>=a&&(!c||d.weight>c.weight)&&(c=d);if(c)return c.value}function getMedian(a,e){let o=0;const c=new Map;let d=null;const h=[];for(const{value:tt,tag:ot,weight:ft}of e)if(tt instanceof Error){const ht=c.get(ot)||{value:tt,weight:0};ht.weight+=ft,c.set(ot,ht),(d==null||ht.weight>d.weight)&&(d=ht)}else h.push(BigInt(tt)),o+=ft;if(o<a)return d&&d.weight>=a?d.value:void 0;h.sort((tt,ot)=>tt<ot?-1:ot>tt?1:0);const et=Math.floor(h.length/2);return h.length%2?h[et]:(h[et-1]+h[et]+BN_1)/BN_2}function getAnyResult(a,e){const o=checkQuorum(a,e);if(o!==void 0)return o;for(const c of e)if(c.value)return c.value}function getFuzzyMode(a,e){if(a===1)return getNumber(getMedian(a,e),"%internal");const o=new Map,c=(et,tt)=>{const ot=o.get(et)||{result:et,weight:0};ot.weight+=tt,o.set(et,ot)};for(const{weight:et,value:tt}of e){const ot=getNumber(tt);c(ot-1,et),c(ot,et),c(ot+1,et)}let d=0,h;for(const{weight:et,result:tt}of o.values())et>=a&&(et>d||h!=null&&et===d&&tt>h)&&(d=et,h=tt);return h}var fn,$a,Xo,Cu,Ap,nu,ip,_u,Cp,ku,_p,au,op;class FallbackProvider extends AbstractProvider{constructor(o,c,d){super(c,d);tr(this,Cu);tr(this,nu);tr(this,_u);tr(this,ku);tr(this,au);Jt(this,"quorum");Jt(this,"eventQuorum");Jt(this,"eventWorkers");tr(this,fn,void 0);tr(this,$a,void 0);tr(this,Xo,void 0);Qt(this,fn,o.map(h=>h instanceof AbstractProvider?Object.assign({provider:h},defaultConfig,defaultState):Object.assign({},defaultConfig,h,defaultState))),Qt(this,$a,-2),Qt(this,Xo,null),d&&d.quorum!=null?this.quorum=d.quorum:this.quorum=Math.ceil(Pt(this,fn).reduce((h,et)=>(h+=et.weight,h),0)/2),this.eventQuorum=1,this.eventWorkers=1,assertArgument(this.quorum<=Pt(this,fn).reduce((h,et)=>h+et.weight,0),"quorum exceed provider wieght","quorum",this.quorum)}get providerConfigs(){return Pt(this,fn).map(o=>{const c=Object.assign({},o);for(const d in c)d[0]==="_"&&delete c[d];return c})}async _detectNetwork(){return Network.from(getBigInt(await this._perform({method:"chainId"})))}async _translatePerform(o,c){switch(c.method){case"broadcastTransaction":return await o.broadcastTransaction(c.signedTransaction);case"call":return await o.call(Object.assign({},c.transaction,{blockTag:c.blockTag}));case"chainId":return(await o.getNetwork()).chainId;case"estimateGas":return await o.estimateGas(c.transaction);case"getBalance":return await o.getBalance(c.address,c.blockTag);case"getBlock":{const d="blockHash"in c?c.blockHash:c.blockTag;return await o.getBlock(d,c.includeTransactions)}case"getBlockNumber":return await o.getBlockNumber();case"getCode":return await o.getCode(c.address,c.blockTag);case"getGasPrice":return(await o.getFeeData()).gasPrice;case"getPriorityFee":return(await o.getFeeData()).maxPriorityFeePerGas;case"getLogs":return await o.getLogs(c.filter);case"getStorage":return await o.getStorage(c.address,c.position,c.blockTag);case"getTransaction":return await o.getTransaction(c.hash);case"getTransactionCount":return await o.getTransactionCount(c.address,c.blockTag);case"getTransactionReceipt":return await o.getTransactionReceipt(c.hash);case"getTransactionResult":return await o.getTransactionResult(c.hash)}}async _perform(o){if(o.method==="broadcastTransaction"){const et=Pt(this,fn).map(ft=>null),tt=Pt(this,fn).map(async({provider:ft,weight:ht},yt)=>{try{const gt=await ft._perform(o);et[yt]=Object.assign(normalizeResult({result:gt}),{weight:ht})}catch(gt){et[yt]=Object.assign(normalizeResult({error:gt}),{weight:ht})}});for(;;){const ft=et.filter(gt=>gt!=null);for(const{value:gt}of ft)if(!(gt instanceof Error))return gt;const ht=checkQuorum(this.quorum,et.filter(gt=>gt!=null));if(isError(ht,"INSUFFICIENT_FUNDS"))throw ht;const yt=tt.filter((gt,wt)=>et[wt]==null);if(yt.length===0)break;await Promise.race(yt)}const ot=getAnyResult(this.quorum,et);if(assert(ot!==void 0,"problem multi-broadcasting","SERVER_ERROR",{request:"%sub-requests",info:{request:o,results:et.map(stringify$2)}}),ot instanceof Error)throw ot;return ot}await hr(this,_u,Cp).call(this);const c=new Set;let d=0;for(;;){const et=hr(this,nu,ip).call(this,c,o);if(et==null||(d+=et.config.weight,d>=this.quorum))break}const h=await hr(this,au,op).call(this,c,o);for(const et of c)et.perform&&et.result==null&&et.config.lateResponses++;return h}async destroy(){for(const{provider:o}of Pt(this,fn))o.destroy();super.destroy()}}fn=new WeakMap,$a=new WeakMap,Xo=new WeakMap,Cu=new WeakSet,Ap=function(o){const c=Array.from(o).map(h=>h.config),d=Pt(this,fn).slice();shuffle(d),d.sort((h,et)=>h.priority-et.priority);for(const h of d)if(!h._lastFatalError&&c.indexOf(h)===-1)return h;return null},nu=new WeakSet,ip=function(o,c){const d=hr(this,Cu,Ap).call(this,o);if(d==null)return null;const h={config:d,result:null,didBump:!1,perform:null,staller:null},et=getTime();return h.perform=(async()=>{try{d.requests++;const ot=await this._translatePerform(d.provider,c);h.result={result:ot}}catch(ot){d.errorResponses++,h.result={error:ot}}const tt=getTime()-et;d._totalTime+=tt,d.rollingDuration=.95*d.rollingDuration+.05*tt,h.perform=null})(),h.staller=(async()=>{await stall$2(d.stallTimeout),h.staller=null})(),o.add(h),h},_u=new WeakSet,Cp=async function(){let o=Pt(this,Xo);if(!o){const c=[];Pt(this,fn).forEach(d=>{c.push((async()=>{await waitForSync(d,0),d._lastFatalError||(d._network=await d.provider.getNetwork())})())}),Qt(this,Xo,o=(async()=>{await Promise.all(c);let d=null;for(const h of Pt(this,fn)){if(h._lastFatalError)continue;const et=h._network;d==null?d=et.chainId:et.chainId!==d&&assert(!1,"cannot mix providers on different networks","UNSUPPORTED_OPERATION",{operation:"new FallbackProvider"})}})())}await o},ku=new WeakSet,_p=async function(o,c){const d=[];for(const h of o)if(h.result!=null){const{tag:et,value:tt}=normalizeResult(h.result);d.push({tag:et,value:tt,weight:h.config.weight})}if(!(d.reduce((h,et)=>h+et.weight,0)<this.quorum)){switch(c.method){case"getBlockNumber":{Pt(this,$a)===-2&&Qt(this,$a,Math.ceil(getNumber(getMedian(this.quorum,Pt(this,fn).filter(et=>!et._lastFatalError).map(et=>({value:et.blockNumber,tag:getNumber(et.blockNumber).toString(),weight:et.weight}))))));const h=getFuzzyMode(this.quorum,d);return h===void 0?void 0:(h>Pt(this,$a)&&Qt(this,$a,h),Pt(this,$a))}case"getGasPrice":case"getPriorityFee":case"estimateGas":return getMedian(this.quorum,d);case"getBlock":return"blockTag"in c&&c.blockTag==="pending"?getAnyResult(this.quorum,d):checkQuorum(this.quorum,d);case"call":case"chainId":case"getBalance":case"getTransactionCount":case"getCode":case"getStorage":case"getTransaction":case"getTransactionReceipt":case"getLogs":return checkQuorum(this.quorum,d);case"broadcastTransaction":return getAnyResult(this.quorum,d)}assert(!1,"unsupported method","UNSUPPORTED_OPERATION",{operation:`_perform(${stringify$2(c.method)})`})}},au=new WeakSet,op=async function(o,c){if(o.size===0)throw new Error("no runners?!");const d=[];let h=0;for(const tt of o){if(tt.perform&&d.push(tt.perform),tt.staller){d.push(tt.staller);continue}tt.didBump||(tt.didBump=!0,h++)}const et=await hr(this,ku,_p).call(this,o,c);if(et!==void 0){if(et instanceof Error)throw et;return et}for(let tt=0;tt<h;tt++)hr(this,nu,ip).call(this,o,c);return assert(d.length>0,"quorum not met","SERVER_ERROR",{request:"%sub-requests",info:{request:c,results:Array.from(o).map(tt=>stringify$2(tt.result))}}),await Promise.race(d),await hr(this,au,op).call(this,o,c)};function isWebSocketLike(a){return a&&typeof a.send=="function"&&typeof a.close=="function"}const Testnets="goerli kovan sepolia classicKotti optimism-goerli arbitrum-goerli matic-mumbai bnbt".split(" ");function getDefaultProvider(a,e){e==null&&(e={});const o=et=>e[et]==="-"?!1:typeof e.exclusive=="string"?et===e.exclusive:Array.isArray(e.exclusive)?e.exclusive.indexOf(et)!==-1:!0;if(typeof a=="string"&&a.match(/^https?:/))return new JsonRpcProvider(a);if(typeof a=="string"&&a.match(/^wss?:/)||isWebSocketLike(a))return new WebSocketProvider(a);let c=null;try{c=Network.from(a)}catch{}const d=[];if(o("publicPolygon")&&c&&c.name==="matic"&&d.push(new JsonRpcProvider("https://polygon-rpc.com/",c,{staticNetwork:c})),o("alchemy"))try{d.push(new AlchemyProvider(a,e.alchemy))}catch{}if(o("ankr")&&e.ankr!=null)try{d.push(new AnkrProvider(a,e.ankr))}catch{}if(o("cloudflare"))try{d.push(new CloudflareProvider(a))}catch{}if(o("etherscan"))try{d.push(new EtherscanProvider(a,e.etherscan))}catch{}if(o("infura"))try{let et=e.infura,tt;typeof et=="object"&&(tt=et.projectSecret,et=et.projectId),d.push(new InfuraProvider(a,et,tt))}catch{}if(o("quicknode"))try{let et=e.quicknode;d.push(new QuickNodeProvider(a,et))}catch{}if(assert(d.length,"unsupported default network","UNSUPPORTED_OPERATION",{operation:"getDefaultProvider"}),d.length===1)return d[0];let h=Math.floor(d.length/2);return h>2&&(h=2),c&&Testnets.indexOf(c.name)!==-1&&(h=1),e&&e.quorum&&(h=e.quorum),new FallbackProvider(d,void 0,{quorum:h})}var Jo;class BrowserProvider extends JsonRpcApiPollingProvider{constructor(o,c){assertArgument(o&&o.request,"invalid EIP-1193 provider","ethereum",o);super(c,{batchMaxCount:1});tr(this,Jo,void 0);Qt(this,Jo,async(d,h)=>{const et={method:d,params:h};this.emit("debug",{action:"sendEip1193Request",payload:et});try{const tt=await o.request(et);return this.emit("debug",{action:"receiveEip1193Result",result:tt}),tt}catch(tt){const ot=new Error(tt.message);throw ot.code=tt.code,ot.data=tt.data,ot.payload=et,this.emit("debug",{action:"receiveEip1193Error",error:ot}),ot}})}async send(o,c){return await this._start(),await super.send(o,c)}async _send(o){assertArgument(!Array.isArray(o),"EIP-1193 does not support batch request","payload",o);try{const c=await Pt(this,Jo).call(this,o.method,o.params||[]);return[{id:o.id,result:c}]}catch(c){return[{id:o.id,error:{code:c.code,data:c.data,message:c.message}}]}}getRpcError(o,c){switch(c=JSON.parse(JSON.stringify(c)),c.error.code||-1){case 4001:c.error.message=`ethers-user-denied: ${c.error.message}`;break;case 4200:c.error.message=`ethers-unsupported: ${c.error.message}`;break}return super.getRpcError(o,c)}async hasSigner(o){o==null&&(o=0);const c=await this.send("eth_accounts",[]);return typeof o=="number"?c.length>o:(o=o.toLowerCase(),c.filter(d=>d.toLowerCase()===o).length!==0)}async getSigner(o){if(o==null&&(o=0),!await this.hasSigner(o))try{await Pt(this,Jo).call(this,"eth_requestAccounts",[])}catch(c){const d=c.payload;throw this.getRpcError(d,{id:d.id,error:c})}return await super.getSigner(o)}}Jo=new WeakMap;var Yo;const hp=class hp extends AbstractSigner{constructor(o,c){super(c);Jt(this,"address");tr(this,Yo,void 0);assertArgument(o&&typeof o.sign=="function","invalid private key","privateKey","[ REDACTED ]"),Qt(this,Yo,o);const d=computeAddress(this.signingKey.publicKey);defineProperties(this,{address:d})}get signingKey(){return Pt(this,Yo)}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(o){return new hp(Pt(this,Yo),o)}async signTransaction(o){const{to:c,from:d}=await resolveProperties({to:o.to?resolveAddress(o.to,this.provider):void 0,from:o.from?resolveAddress(o.from,this.provider):void 0});c!=null&&(o.to=c),d!=null&&(o.from=d),o.from!=null&&(assertArgument(getAddress$1(o.from)===this.address,"transaction from address mismatch","tx.from",o.from),delete o.from);const h=Transaction.from(o);return h.signature=this.signingKey.sign(h.unsignedHash),h.serialized}async signMessage(o){return this.signMessageSync(o)}signMessageSync(o){return this.signingKey.sign(hashMessage(o)).serialized}async signTypedData(o,c,d){const h=await TypedDataEncoder.resolveNames(o,c,d,async et=>{assert(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:et}});const tt=await this.provider.resolveName(et);return assert(tt!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:et}),tt});return this.signingKey.sign(TypedDataEncoder.hash(h.domain,c,h.value)).serialized}};Yo=new WeakMap;let BaseWallet=hp;const subsChrs=" !#$%&'()*+,-./<=>?@[]^_`{|}~",Word=/^[a-z]*$/i;function unfold(a,e){let o=97;return a.reduce((c,d)=>(d===e?o++:d.match(Word)?c.push(String.fromCharCode(o)+d):(o=97,c.push(d)),c),[])}function decode$H(a,e){for(let d=subsChrs.length-1;d>=0;d--)a=a.split(subsChrs[d]).join(e.substring(2*d,2*d+2));const o=[],c=a.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(d,h,et,tt)=>{if(et)for(let ot=parseInt(et);ot>=0;ot--)o.push(";");else o.push(h.toLowerCase());return""});if(c)throw new Error(`leftovers: ${JSON.stringify(c)}`);return unfold(unfold(o,";"),":")}function decodeOwl(a){return assertArgument(a[0]==="0","unsupported auwl data","data",a),decode$H(a.substring(1+2*subsChrs.length),a.substring(1,1+2*subsChrs.length))}class Wordlist{constructor(e){Jt(this,"locale");defineProperties(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}}var Zo,su,_i,iu,cp;class WordlistOwl extends Wordlist{constructor(o,c,d){super(o);tr(this,iu);tr(this,Zo,void 0);tr(this,su,void 0);tr(this,_i,void 0);Qt(this,Zo,c),Qt(this,su,d),Qt(this,_i,null)}get _data(){return Pt(this,Zo)}_decodeWords(){return decodeOwl(Pt(this,Zo))}getWord(o){const c=hr(this,iu,cp).call(this);return assertArgument(o>=0&&o<c.length,`invalid word index: ${o}`,"index",o),c[o]}getWordIndex(o){return hr(this,iu,cp).call(this).indexOf(o)}}Zo=new WeakMap,su=new WeakMap,_i=new WeakMap,iu=new WeakSet,cp=function(){if(Pt(this,_i)==null){const o=this._decodeWords();if(id(o.join(`
`)+`
`)!==Pt(this,su))throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);Qt(this,_i,o)}return Pt(this,_i)};const words$1="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",checksum="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60";let wordlist=null;class LangEn extends WordlistOwl{constructor(){super("en",words$1,checksum)}static wordlist(){return wordlist==null&&(wordlist=new LangEn),wordlist}}function getUpperMask(a){return(1<<a)-1<<8-a&255}function getLowerMask(a){return(1<<a)-1&255}function mnemonicToEntropy(a,e){assertNormalize("NFKD"),e==null&&(e=LangEn.wordlist());const o=e.split(a);assertArgument(o.length%3===0&&o.length>=12&&o.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");const c=new Uint8Array(Math.ceil(11*o.length/8));let d=0;for(let ft=0;ft<o.length;ft++){let ht=e.getWordIndex(o[ft].normalize("NFKD"));assertArgument(ht>=0,`invalid mnemonic word at index ${ft}`,"mnemonic","[ REDACTED ]");for(let yt=0;yt<11;yt++)ht&1<<10-yt&&(c[d>>3]|=1<<7-d%8),d++}const h=32*o.length/3,et=o.length/3,tt=getUpperMask(et),ot=getBytes(sha256$3(c.slice(0,h/8)))[0]&tt;return assertArgument(ot===(c[c.length-1]&tt),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),hexlify$1(c.slice(0,h/8))}function entropyToMnemonic(a,e){assertArgument(a.length%4===0&&a.length>=16&&a.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),e==null&&(e=LangEn.wordlist());const o=[0];let c=11;for(let et=0;et<a.length;et++)c>8?(o[o.length-1]<<=8,o[o.length-1]|=a[et],c-=8):(o[o.length-1]<<=c,o[o.length-1]|=a[et]>>8-c,o.push(a[et]&getLowerMask(8-c)),c+=3);const d=a.length/4,h=parseInt(sha256$3(a).substring(2,4),16)&getUpperMask(d);return o[o.length-1]<<=d,o[o.length-1]|=h>>8-d,e.join(o.map(et=>e.getWord(et)))}const _guard$1={};class Mnemonic{constructor(e,o,c,d,h){Jt(this,"phrase");Jt(this,"password");Jt(this,"wordlist");Jt(this,"entropy");d==null&&(d=""),h==null&&(h=LangEn.wordlist()),assertPrivate(e,_guard$1,"Mnemonic"),defineProperties(this,{phrase:c,password:d,wordlist:h,entropy:o})}computeSeed(){const e=toUtf8Bytes("mnemonic"+this.password,"NFKD");return pbkdf2(toUtf8Bytes(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,o,c){const d=mnemonicToEntropy(e,c);return e=entropyToMnemonic(getBytes(d),c),new Mnemonic(_guard$1,d,e,o,c)}static fromEntropy(e,o,c){const d=getBytes(e,"entropy"),h=entropyToMnemonic(d,c);return new Mnemonic(_guard$1,hexlify$1(d),h,o,c)}static entropyToPhrase(e,o){const c=getBytes(e,"entropy");return entropyToMnemonic(c,o)}static phraseToEntropy(e,o){return mnemonicToEntropy(e,o)}static isValidMnemonic(e,o){try{return mnemonicToEntropy(e,o),!0}catch{}return!1}}/*! MIT License. Copyright 2015-2022 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */var __classPrivateFieldGet$3=function(a,e,o,c){if(o==="a"&&!c)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?a!==e||!c:!e.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?c:o==="a"?c.call(a):c?c.value:e.get(a)},__classPrivateFieldSet$3=function(a,e,o,c,d){if(c==="m")throw new TypeError("Private method is not writable");if(c==="a"&&!d)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?a!==e||!d:!e.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return c==="a"?d.call(a,o):d?d.value=o:e.set(a,o),o},_AES_key,_AES_Kd,_AES_Ke;const numberOfRounds={16:10,24:12,32:14},rcon$1=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],S=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Si=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],T1=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],T2=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],T3=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],T4=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],T5=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],T6=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],T7=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],T8=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],U1=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],U2=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],U3=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],U4=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function convertToInt32(a){const e=[];for(let o=0;o<a.length;o+=4)e.push(a[o]<<24|a[o+1]<<16|a[o+2]<<8|a[o+3]);return e}class AES{get key(){return __classPrivateFieldGet$3(this,_AES_key,"f").slice()}constructor(e){if(_AES_key.set(this,void 0),_AES_Kd.set(this,void 0),_AES_Ke.set(this,void 0),!(this instanceof AES))throw Error("AES must be instanitated with `new`");__classPrivateFieldSet$3(this,_AES_key,new Uint8Array(e),"f");const o=numberOfRounds[this.key.length];if(o==null)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");__classPrivateFieldSet$3(this,_AES_Ke,[],"f"),__classPrivateFieldSet$3(this,_AES_Kd,[],"f");for(let ht=0;ht<=o;ht++)__classPrivateFieldGet$3(this,_AES_Ke,"f").push([0,0,0,0]),__classPrivateFieldGet$3(this,_AES_Kd,"f").push([0,0,0,0]);const c=(o+1)*4,d=this.key.length/4,h=convertToInt32(this.key);let et;for(let ht=0;ht<d;ht++)et=ht>>2,__classPrivateFieldGet$3(this,_AES_Ke,"f")[et][ht%4]=h[ht],__classPrivateFieldGet$3(this,_AES_Kd,"f")[o-et][ht%4]=h[ht];let tt=0,ot=d,ft;for(;ot<c;){if(ft=h[d-1],h[0]^=S[ft>>16&255]<<24^S[ft>>8&255]<<16^S[ft&255]<<8^S[ft>>24&255]^rcon$1[tt]<<24,tt+=1,d!=8)for(let wt=1;wt<d;wt++)h[wt]^=h[wt-1];else{for(let wt=1;wt<d/2;wt++)h[wt]^=h[wt-1];ft=h[d/2-1],h[d/2]^=S[ft&255]^S[ft>>8&255]<<8^S[ft>>16&255]<<16^S[ft>>24&255]<<24;for(let wt=d/2+1;wt<d;wt++)h[wt]^=h[wt-1]}let ht=0,yt,gt;for(;ht<d&&ot<c;)yt=ot>>2,gt=ot%4,__classPrivateFieldGet$3(this,_AES_Ke,"f")[yt][gt]=h[ht],__classPrivateFieldGet$3(this,_AES_Kd,"f")[o-yt][gt]=h[ht++],ot++}for(let ht=1;ht<o;ht++)for(let yt=0;yt<4;yt++)ft=__classPrivateFieldGet$3(this,_AES_Kd,"f")[ht][yt],__classPrivateFieldGet$3(this,_AES_Kd,"f")[ht][yt]=U1[ft>>24&255]^U2[ft>>16&255]^U3[ft>>8&255]^U4[ft&255]}encrypt(e){if(e.length!=16)throw new TypeError("invalid plaintext size (must be 16 bytes)");const o=__classPrivateFieldGet$3(this,_AES_Ke,"f").length-1,c=[0,0,0,0];let d=convertToInt32(e);for(let tt=0;tt<4;tt++)d[tt]^=__classPrivateFieldGet$3(this,_AES_Ke,"f")[0][tt];for(let tt=1;tt<o;tt++){for(let ot=0;ot<4;ot++)c[ot]=T1[d[ot]>>24&255]^T2[d[(ot+1)%4]>>16&255]^T3[d[(ot+2)%4]>>8&255]^T4[d[(ot+3)%4]&255]^__classPrivateFieldGet$3(this,_AES_Ke,"f")[tt][ot];d=c.slice()}const h=new Uint8Array(16);let et=0;for(let tt=0;tt<4;tt++)et=__classPrivateFieldGet$3(this,_AES_Ke,"f")[o][tt],h[4*tt]=(S[d[tt]>>24&255]^et>>24)&255,h[4*tt+1]=(S[d[(tt+1)%4]>>16&255]^et>>16)&255,h[4*tt+2]=(S[d[(tt+2)%4]>>8&255]^et>>8)&255,h[4*tt+3]=(S[d[(tt+3)%4]&255]^et)&255;return h}decrypt(e){if(e.length!=16)throw new TypeError("invalid ciphertext size (must be 16 bytes)");const o=__classPrivateFieldGet$3(this,_AES_Kd,"f").length-1,c=[0,0,0,0];let d=convertToInt32(e);for(let tt=0;tt<4;tt++)d[tt]^=__classPrivateFieldGet$3(this,_AES_Kd,"f")[0][tt];for(let tt=1;tt<o;tt++){for(let ot=0;ot<4;ot++)c[ot]=T5[d[ot]>>24&255]^T6[d[(ot+3)%4]>>16&255]^T7[d[(ot+2)%4]>>8&255]^T8[d[(ot+1)%4]&255]^__classPrivateFieldGet$3(this,_AES_Kd,"f")[tt][ot];d=c.slice()}const h=new Uint8Array(16);let et=0;for(let tt=0;tt<4;tt++)et=__classPrivateFieldGet$3(this,_AES_Kd,"f")[o][tt],h[4*tt]=(Si[d[tt]>>24&255]^et>>24)&255,h[4*tt+1]=(Si[d[(tt+3)%4]>>16&255]^et>>16)&255,h[4*tt+2]=(Si[d[(tt+2)%4]>>8&255]^et>>8)&255,h[4*tt+3]=(Si[d[(tt+1)%4]&255]^et)&255;return h}}_AES_key=new WeakMap,_AES_Kd=new WeakMap,_AES_Ke=new WeakMap;class ModeOfOperation{constructor(e,o,c){if(c&&!(this instanceof c))throw new Error(`${e} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new AES(o)},name:{enumerable:!0,value:e}})}}var __classPrivateFieldSet$2=function(a,e,o,c,d){if(c==="m")throw new TypeError("Private method is not writable");if(c==="a"&&!d)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?a!==e||!d:!e.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return c==="a"?d.call(a,o):d?d.value=o:e.set(a,o),o},__classPrivateFieldGet$2=function(a,e,o,c){if(o==="a"&&!c)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?a!==e||!c:!e.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?c:o==="a"?c.call(a):c?c.value:e.get(a)},_CBC_iv,_CBC_lastBlock;class CBC extends ModeOfOperation{constructor(e,o){if(super("ECC",e,CBC),_CBC_iv.set(this,void 0),_CBC_lastBlock.set(this,void 0),o){if(o.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");__classPrivateFieldSet$2(this,_CBC_iv,new Uint8Array(o),"f")}else __classPrivateFieldSet$2(this,_CBC_iv,new Uint8Array(16),"f");__classPrivateFieldSet$2(this,_CBC_lastBlock,this.iv,"f")}get iv(){return new Uint8Array(__classPrivateFieldGet$2(this,_CBC_iv,"f"))}encrypt(e){if(e.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");const o=new Uint8Array(e.length);for(let c=0;c<e.length;c+=16){for(let d=0;d<16;d++)__classPrivateFieldGet$2(this,_CBC_lastBlock,"f")[d]^=e[c+d];__classPrivateFieldSet$2(this,_CBC_lastBlock,this.aes.encrypt(__classPrivateFieldGet$2(this,_CBC_lastBlock,"f")),"f"),o.set(__classPrivateFieldGet$2(this,_CBC_lastBlock,"f"),c)}return o}decrypt(e){if(e.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");const o=new Uint8Array(e.length);for(let c=0;c<e.length;c+=16){const d=this.aes.decrypt(e.subarray(c,c+16));for(let h=0;h<16;h++)o[c+h]=d[h]^__classPrivateFieldGet$2(this,_CBC_lastBlock,"f")[h],__classPrivateFieldGet$2(this,_CBC_lastBlock,"f")[h]=e[c+h]}return o}}_CBC_iv=new WeakMap,_CBC_lastBlock=new WeakMap;var __classPrivateFieldSet$1=function(a,e,o,c,d){if(c==="m")throw new TypeError("Private method is not writable");if(c==="a"&&!d)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?a!==e||!d:!e.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return c==="a"?d.call(a,o):d?d.value=o:e.set(a,o),o},__classPrivateFieldGet$1=function(a,e,o,c){if(o==="a"&&!c)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?a!==e||!c:!e.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?c:o==="a"?c.call(a):c?c.value:e.get(a)},_CTR_remaining,_CTR_remainingIndex,_CTR_counter;class CTR extends ModeOfOperation{constructor(e,o){super("CTR",e,CTR),_CTR_remaining.set(this,void 0),_CTR_remainingIndex.set(this,void 0),_CTR_counter.set(this,void 0),__classPrivateFieldSet$1(this,_CTR_counter,new Uint8Array(16),"f"),__classPrivateFieldGet$1(this,_CTR_counter,"f").fill(0),__classPrivateFieldSet$1(this,_CTR_remaining,__classPrivateFieldGet$1(this,_CTR_counter,"f"),"f"),__classPrivateFieldSet$1(this,_CTR_remainingIndex,16,"f"),o==null&&(o=1),typeof o=="number"?this.setCounterValue(o):this.setCounterBytes(o)}get counter(){return new Uint8Array(__classPrivateFieldGet$1(this,_CTR_counter,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let o=15;o>=0;--o)__classPrivateFieldGet$1(this,_CTR_counter,"f")[o]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(e.length!==16)throw new TypeError("invalid counter initial Uint8Array value length");__classPrivateFieldGet$1(this,_CTR_counter,"f").set(e)}increment(){for(let e=15;e>=0;e--)if(__classPrivateFieldGet$1(this,_CTR_counter,"f")[e]===255)__classPrivateFieldGet$1(this,_CTR_counter,"f")[e]=0;else{__classPrivateFieldGet$1(this,_CTR_counter,"f")[e]++;break}}encrypt(e){var o,c;const d=new Uint8Array(e);for(let h=0;h<d.length;h++)__classPrivateFieldGet$1(this,_CTR_remainingIndex,"f")===16&&(__classPrivateFieldSet$1(this,_CTR_remaining,this.aes.encrypt(__classPrivateFieldGet$1(this,_CTR_counter,"f")),"f"),__classPrivateFieldSet$1(this,_CTR_remainingIndex,0,"f"),this.increment()),d[h]^=__classPrivateFieldGet$1(this,_CTR_remaining,"f")[__classPrivateFieldSet$1(this,_CTR_remainingIndex,(c=__classPrivateFieldGet$1(this,_CTR_remainingIndex,"f"),o=c++,c),"f"),o];return d}decrypt(e){return this.encrypt(e)}}_CTR_remaining=new WeakMap,_CTR_remainingIndex=new WeakMap,_CTR_counter=new WeakMap;function pkcs7Strip(a){if(a.length<16)throw new TypeError("PKCS#7 invalid length");const e=a[a.length-1];if(e>16)throw new TypeError("PKCS#7 padding byte out of range");const o=a.length-e;for(let c=0;c<e;c++)if(a[o+c]!==e)throw new TypeError("PKCS#7 invalid padding byte");return new Uint8Array(a.subarray(0,o))}function looseArrayify(a){return typeof a=="string"&&!a.startsWith("0x")&&(a="0x"+a),getBytesCopy(a)}function zpad$1(a,e){for(a=String(a);a.length<e;)a="0"+a;return a}function getPassword(a){return typeof a=="string"?toUtf8Bytes(a,"NFKC"):getBytesCopy(a)}function spelunk(a,e){const o=e.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);assertArgument(o!=null,"invalid path","path",e);const c=o[1],d=o[3],h=o[4]==="!";let et=a;for(const tt of c.toLowerCase().split(".")){if(Array.isArray(et)){if(!tt.match(/^[0-9]+$/))break;et=et[parseInt(tt)]}else if(typeof et=="object"){let ot=null;for(const ft in et)if(ft.toLowerCase()===tt){ot=et[ft];break}et=ot}else et=null;if(et==null)break}if(assertArgument(!h||et!=null,"missing required value","path",c),d&&et!=null){if(d==="int"){if(typeof et=="string"&&et.match(/^-?[0-9]+$/))return parseInt(et);if(Number.isSafeInteger(et))return et}if(d==="number"&&typeof et=="string"&&et.match(/^-?[0-9.]*$/))return parseFloat(et);if(d==="data"&&typeof et=="string")return looseArrayify(et);if(d==="array"&&Array.isArray(et)||d===typeof et)return et;assertArgument(!1,`wrong type found for ${d} `,"path",c)}return et}const defaultPath$1="m/44'/60'/0'/0/0";function isKeystoreJson(a){try{const e=JSON.parse(a);if((e.version!=null?parseInt(e.version):0)===3)return!0}catch{}return!1}function decrypt(a,e,o){if(spelunk(a,"crypto.cipher:string")==="aes-128-ctr"){const d=spelunk(a,"crypto.cipherparams.iv:data!"),h=new CTR(e,d);return hexlify$1(h.decrypt(o))}assert(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}function getAccount(a,e){const o=getBytes(e),c=spelunk(a,"crypto.ciphertext:data!"),d=hexlify$1(keccak256(concat$3([o.slice(16,32),c]))).substring(2);assertArgument(d===spelunk(a,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");const h=decrypt(a,o.slice(0,16),c),et=computeAddress(h);if(a.address){let ft=a.address.toLowerCase();ft.startsWith("0x")||(ft="0x"+ft),assertArgument(getAddress$1(ft)===et,"keystore address/privateKey mismatch","address",a.address)}const tt={address:et,privateKey:h};if(spelunk(a,"x-ethers.version:string")==="0.1"){const ft=o.slice(32,64),ht=spelunk(a,"x-ethers.mnemonicCiphertext:data!"),yt=spelunk(a,"x-ethers.mnemonicCounter:data!"),gt=new CTR(ft,yt);tt.mnemonic={path:spelunk(a,"x-ethers.path:string")||defaultPath$1,locale:spelunk(a,"x-ethers.locale:string")||"en",entropy:hexlify$1(getBytes(gt.decrypt(ht)))}}return tt}function getDecryptKdfParams(a){const e=spelunk(a,"crypto.kdf:string");if(e&&typeof e=="string"){if(e.toLowerCase()==="scrypt"){const o=spelunk(a,"crypto.kdfparams.salt:data!"),c=spelunk(a,"crypto.kdfparams.n:int!"),d=spelunk(a,"crypto.kdfparams.r:int!"),h=spelunk(a,"crypto.kdfparams.p:int!");assertArgument(c>0&&(c&c-1)===0,"invalid kdf.N","kdf.N",c),assertArgument(d>0&&h>0,"invalid kdf","kdf",e);const et=spelunk(a,"crypto.kdfparams.dklen:int!");return assertArgument(et===32,"invalid kdf.dklen","kdf.dflen",et),{name:"scrypt",salt:o,N:c,r:d,p:h,dkLen:64}}else if(e.toLowerCase()==="pbkdf2"){const o=spelunk(a,"crypto.kdfparams.salt:data!"),c=spelunk(a,"crypto.kdfparams.prf:string!"),d=c.split("-").pop();assertArgument(d==="sha256"||d==="sha512","invalid kdf.pdf","kdf.pdf",c);const h=spelunk(a,"crypto.kdfparams.c:int!"),et=spelunk(a,"crypto.kdfparams.dklen:int!");return assertArgument(et===32,"invalid kdf.dklen","kdf.dklen",et),{name:"pbkdf2",salt:o,count:h,dkLen:et,algorithm:d}}}assertArgument(!1,"unsupported key-derivation function","kdf",e)}function decryptKeystoreJsonSync(a,e){const o=JSON.parse(a),c=getPassword(e),d=getDecryptKdfParams(o);if(d.name==="pbkdf2"){const{salt:yt,count:gt,dkLen:wt,algorithm:bt}=d,xt=pbkdf2(c,yt,gt,wt,bt);return getAccount(o,xt)}assert(d.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:d});const{salt:h,N:et,r:tt,p:ot,dkLen:ft}=d,ht=scryptSync(c,h,et,tt,ot,ft);return getAccount(o,ht)}function stall$1(a){return new Promise(e=>{setTimeout(()=>{e()},a)})}async function decryptKeystoreJson(a,e,o){const c=JSON.parse(a),d=getPassword(e),h=getDecryptKdfParams(c);if(h.name==="pbkdf2"){o&&(o(0),await stall$1(0));const{salt:gt,count:wt,dkLen:bt,algorithm:xt}=h,Et=pbkdf2(d,gt,wt,bt,xt);return o&&(o(1),await stall$1(0)),getAccount(c,Et)}assert(h.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:h});const{salt:et,N:tt,r:ot,p:ft,dkLen:ht}=h,yt=await scrypt(d,et,tt,ot,ft,ht,o);return getAccount(c,yt)}function getEncryptKdfParams(a){const e=a.salt!=null?getBytes(a.salt,"options.salt"):randomBytes$1(32);let o=1<<17,c=8,d=1;return a.scrypt&&(a.scrypt.N&&(o=a.scrypt.N),a.scrypt.r&&(c=a.scrypt.r),a.scrypt.p&&(d=a.scrypt.p)),assertArgument(typeof o=="number"&&o>0&&Number.isSafeInteger(o)&&(BigInt(o)&BigInt(o-1))===BigInt(0),"invalid scrypt N parameter","options.N",o),assertArgument(typeof c=="number"&&c>0&&Number.isSafeInteger(c),"invalid scrypt r parameter","options.r",c),assertArgument(typeof d=="number"&&d>0&&Number.isSafeInteger(d),"invalid scrypt p parameter","options.p",d),{name:"scrypt",dkLen:32,salt:e,N:o,r:c,p:d}}function _encryptKeystore(a,e,o,c){const d=getBytes(o.privateKey,"privateKey"),h=c.iv!=null?getBytes(c.iv,"options.iv"):randomBytes$1(16);assertArgument(h.length===16,"invalid options.iv length","options.iv",c.iv);const et=c.uuid!=null?getBytes(c.uuid,"options.uuid"):randomBytes$1(16);assertArgument(et.length===16,"invalid options.uuid length","options.uuid",c.iv);const tt=a.slice(0,16),ot=a.slice(16,32),ft=new CTR(tt,h),ht=getBytes(ft.encrypt(d)),yt=keccak256(concat$3([ot,ht])),gt={address:o.address.substring(2).toLowerCase(),id:uuidV4(et),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:hexlify$1(h).substring(2)},ciphertext:hexlify$1(ht).substring(2),kdf:"scrypt",kdfparams:{salt:hexlify$1(e.salt).substring(2),n:e.N,dklen:32,p:e.p,r:e.r},mac:yt.substring(2)}};if(o.mnemonic){const wt=c.client!=null?c.client:`ethers/${version$5}`,bt=o.mnemonic.path||defaultPath$1,xt=o.mnemonic.locale||"en",Et=a.slice(32,64),vt=getBytes(o.mnemonic.entropy,"account.mnemonic.entropy"),$t=randomBytes$1(16),At=new CTR(Et,$t),kt=getBytes(At.encrypt(vt)),It=new Date,Mt="UTC--"+(It.getUTCFullYear()+"-"+zpad$1(It.getUTCMonth()+1,2)+"-"+zpad$1(It.getUTCDate(),2)+"T"+zpad$1(It.getUTCHours(),2)+"-"+zpad$1(It.getUTCMinutes(),2)+"-"+zpad$1(It.getUTCSeconds(),2)+".0Z")+"--"+gt.address;gt["x-ethers"]={client:wt,gethFilename:Mt,path:bt,locale:xt,mnemonicCounter:hexlify$1($t).substring(2),mnemonicCiphertext:hexlify$1(kt).substring(2),version:"0.1"}}return JSON.stringify(gt)}function encryptKeystoreJsonSync(a,e,o){o==null&&(o={});const c=getPassword(e),d=getEncryptKdfParams(o),h=scryptSync(c,d.salt,d.N,d.r,d.p,64);return _encryptKeystore(getBytes(h),d,a,o)}async function encryptKeystoreJson(a,e,o){o==null&&(o={});const c=getPassword(e),d=getEncryptKdfParams(o),h=await scrypt(c,d.salt,d.N,d.r,d.p,64,o.progressCallback);return _encryptKeystore(getBytes(h),d,a,o)}const defaultPath="m/44'/60'/0'/0/0",MasterSecret=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),HardenedBit=2147483648,N=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Nibbles="0123456789abcdef";function zpad(a,e){let o="";for(;a;)o=Nibbles[a%16]+o,a=Math.trunc(a/16);for(;o.length<e*2;)o="0"+o;return"0x"+o}function encodeBase58Check(a){const e=getBytes(a),o=dataSlice(sha256$3(sha256$3(e)),0,4),c=concat$3([e,o]);return encodeBase58(c)}const _guard={};function ser_I(a,e,o,c){const d=new Uint8Array(37);a&HardenedBit?(assert(c!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),d.set(getBytes(c),1)):d.set(getBytes(o));for(let et=24;et>=0;et-=8)d[33+(et>>3)]=a>>24-et&255;const h=getBytes(computeHmac("sha512",e,d));return{IL:h.slice(0,32),IR:h.slice(32)}}function derivePath(a,e){const o=e.split("/");assertArgument(o.length>0,"invalid path","path",e),o[0]==="m"&&(assertArgument(a.depth===0,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${a.depth}`,"path",e),o.shift());let c=a;for(let d=0;d<o.length;d++){const h=o[d];if(h.match(/^[0-9]+'$/)){const et=parseInt(h.substring(0,h.length-1));assertArgument(et<HardenedBit,"invalid path index",`path[${d}]`,h),c=c.deriveChild(HardenedBit+et)}else if(h.match(/^[0-9]+$/)){const et=parseInt(h);assertArgument(et<HardenedBit,"invalid path index",`path[${d}]`,h),c=c.deriveChild(et)}else assertArgument(!1,"invalid path component",`path[${d}]`,h)}return c}var ou,lp,eo,Tl;const An=class An extends BaseWallet{constructor(o,c,d,h,et,tt,ot,ft,ht){super(c,ht);tr(this,ou);Jt(this,"publicKey");Jt(this,"fingerprint");Jt(this,"parentFingerprint");Jt(this,"mnemonic");Jt(this,"chainCode");Jt(this,"path");Jt(this,"index");Jt(this,"depth");assertPrivate(o,_guard,"HDNodeWallet"),defineProperties(this,{publicKey:c.compressedPublicKey});const yt=dataSlice(ripemd160(sha256$3(this.publicKey)),0,4);defineProperties(this,{parentFingerprint:d,fingerprint:yt,chainCode:h,path:et,index:tt,depth:ot}),defineProperties(this,{mnemonic:ft})}connect(o){return new An(_guard,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,o)}async encrypt(o,c){return await encryptKeystoreJson(hr(this,ou,lp).call(this),o,{progressCallback:c})}encryptSync(o){return encryptKeystoreJsonSync(hr(this,ou,lp).call(this),o)}get extendedKey(){return assert(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),encodeBase58Check(concat$3(["0x0488ADE4",zpad(this.depth,1),this.parentFingerprint,zpad(this.index,4),this.chainCode,concat$3(["0x00",this.privateKey])]))}hasPath(){return this.path!=null}neuter(){return new HDNodeVoidWallet(_guard,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(o){const c=getNumber(o,"index");assertArgument(c<=4294967295,"invalid index","index",c);let d=this.path;d&&(d+="/"+(c&~HardenedBit),c&HardenedBit&&(d+="'"));const{IR:h,IL:et}=ser_I(c,this.chainCode,this.publicKey,this.privateKey),tt=new SigningKey(toBeHex((toBigInt(et)+BigInt(this.privateKey))%N,32));return new An(_guard,tt,this.fingerprint,hexlify$1(h),d,c,this.depth+1,this.mnemonic,this.provider)}derivePath(o){return derivePath(this,o)}static fromExtendedKey(o){const c=toBeArray(decodeBase58(o));assertArgument(c.length===82||encodeBase58Check(c.slice(0,78))===o,"invalid extended key","extendedKey","[ REDACTED ]");const d=c[4],h=hexlify$1(c.slice(5,9)),et=parseInt(hexlify$1(c.slice(9,13)).substring(2),16),tt=hexlify$1(c.slice(13,45)),ot=c.slice(45,78);switch(hexlify$1(c.slice(0,4))){case"0x0488b21e":case"0x043587cf":{const ft=hexlify$1(ot);return new HDNodeVoidWallet(_guard,computeAddress(ft),ft,h,tt,null,et,d,null)}case"0x0488ade4":case"0x04358394 ":if(ot[0]!==0)break;return new An(_guard,new SigningKey(ot.slice(1)),h,tt,null,et,d,null,null)}assertArgument(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(o,c,d){var et;o==null&&(o=""),c==null&&(c=defaultPath),d==null&&(d=LangEn.wordlist());const h=Mnemonic.fromEntropy(randomBytes$1(16),o,d);return hr(et=An,eo,Tl).call(et,h.computeSeed(),h).derivePath(c)}static fromMnemonic(o,c){var d;return c||(c=defaultPath),hr(d=An,eo,Tl).call(d,o.computeSeed(),o).derivePath(c)}static fromPhrase(o,c,d,h){var tt;c==null&&(c=""),d==null&&(d=defaultPath),h==null&&(h=LangEn.wordlist());const et=Mnemonic.fromPhrase(o,c,h);return hr(tt=An,eo,Tl).call(tt,et.computeSeed(),et).derivePath(d)}static fromSeed(o){var c;return hr(c=An,eo,Tl).call(c,o,null)}};ou=new WeakSet,lp=function(){const o={address:this.address,privateKey:this.privateKey},c=this.mnemonic;return this.path&&c&&c.wordlist.locale==="en"&&c.password===""&&(o.mnemonic={path:this.path,locale:"en",entropy:c.entropy}),o},eo=new WeakSet,Tl=function(o,c){assertArgument(isBytesLike(o),"invalid seed","seed","[REDACTED]");const d=getBytes(o,"seed");assertArgument(d.length>=16&&d.length<=64,"invalid seed","seed","[REDACTED]");const h=getBytes(computeHmac("sha512",MasterSecret,d)),et=new SigningKey(hexlify$1(h.slice(0,32)));return new An(_guard,et,"0x00000000",hexlify$1(h.slice(32)),"m",0,0,c,null)},tr(An,eo);let HDNodeWallet=An;class HDNodeVoidWallet extends VoidSigner{constructor(o,c,d,h,et,tt,ot,ft,ht){super(c,ht);Jt(this,"publicKey");Jt(this,"fingerprint");Jt(this,"parentFingerprint");Jt(this,"chainCode");Jt(this,"path");Jt(this,"index");Jt(this,"depth");assertPrivate(o,_guard,"HDNodeVoidWallet"),defineProperties(this,{publicKey:d});const yt=dataSlice(ripemd160(sha256$3(d)),0,4);defineProperties(this,{publicKey:d,fingerprint:yt,parentFingerprint:h,chainCode:et,path:tt,index:ot,depth:ft})}connect(o){return new HDNodeVoidWallet(_guard,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,o)}get extendedKey(){return assert(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),encodeBase58Check(concat$3(["0x0488B21E",zpad(this.depth,1),this.parentFingerprint,zpad(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return this.path!=null}deriveChild(o){const c=getNumber(o,"index");assertArgument(c<=4294967295,"invalid index","index",c);let d=this.path;d&&(d+="/"+(c&~HardenedBit),c&HardenedBit&&(d+="'"));const{IR:h,IL:et}=ser_I(c,this.chainCode,this.publicKey,null),tt=SigningKey.addPoints(et,this.publicKey,!0),ot=computeAddress(tt);return new HDNodeVoidWallet(_guard,ot,tt,this.fingerprint,hexlify$1(h),d,c,this.depth+1,this.provider)}derivePath(o){return derivePath(this,o)}}function isCrowdsaleJson(a){try{if(JSON.parse(a).encseed)return!0}catch{}return!1}function decryptCrowdsaleJson(a,e){const o=JSON.parse(a),c=getPassword(e),d=getAddress$1(spelunk(o,"ethaddr:string!")),h=looseArrayify(spelunk(o,"encseed:string!"));assertArgument(h&&h.length%16===0,"invalid encseed","json",a);const et=getBytes(pbkdf2(c,c,2e3,32,"sha256")).slice(0,16),tt=h.slice(0,16),ot=h.slice(16),ft=new CBC(et,tt),ht=pkcs7Strip(getBytes(ft.decrypt(ot)));let yt="";for(let gt=0;gt<ht.length;gt++)yt+=String.fromCharCode(ht[gt]);return{address:d,privateKey:id(yt)}}function stall(a){return new Promise(e=>{setTimeout(()=>{e()},a)})}var cu,up;const As=class As extends BaseWallet{constructor(e,o){typeof e=="string"&&!e.startsWith("0x")&&(e="0x"+e);let c=typeof e=="string"?new SigningKey(e):e;super(c,o)}connect(e){return new As(this.signingKey,e)}async encrypt(e,o){const c={address:this.address,privateKey:this.privateKey};return await encryptKeystoreJson(c,e,{progressCallback:o})}encryptSync(e){const o={address:this.address,privateKey:this.privateKey};return encryptKeystoreJsonSync(o,e)}static async fromEncryptedJson(e,o,c){var h;let d=null;return isKeystoreJson(e)?d=await decryptKeystoreJson(e,o,c):isCrowdsaleJson(e)&&(c&&(c(0),await stall(0)),d=decryptCrowdsaleJson(e,o),c&&(c(1),await stall(0))),hr(h=As,cu,up).call(h,d)}static fromEncryptedJsonSync(e,o){var d;let c=null;return isKeystoreJson(e)?c=decryptKeystoreJsonSync(e,o):isCrowdsaleJson(e)?c=decryptCrowdsaleJson(e,o):assertArgument(!1,"invalid JSON wallet","json","[ REDACTED ]"),hr(d=As,cu,up).call(d,c)}static createRandom(e){const o=HDNodeWallet.createRandom();return e?o.connect(e):o}static fromPhrase(e,o){const c=HDNodeWallet.fromPhrase(e);return o?c.connect(o):c}};cu=new WeakSet,up=function(e){if(assertArgument(e,"invalid JSON wallet","json","[ REDACTED ]"),"mnemonic"in e&&e.mnemonic&&e.mnemonic.locale==="en"){const c=Mnemonic.fromEntropy(e.mnemonic.entropy),d=HDNodeWallet.fromMnemonic(c,e.mnemonic.path);if(d.address===e.address&&d.privateKey===e.privateKey)return d;console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key")}const o=new As(e.privateKey);return assertArgument(o.address===e.address,"address/privateKey mismatch","json","[ REDACTED ]"),o},tr(As,cu);let Wallet=As;class CodeError extends Error{constructor(o,c,d){super(o);Jt(this,"code");Jt(this,"props");this.code=c,this.name=(d==null?void 0:d.name)??"CodeError",this.props=d??{}}}class AggregateCodeError extends AggregateError{constructor(o,c,d,h){super(o,c);Jt(this,"code");Jt(this,"props");this.code=d,this.name=(h==null?void 0:h.name)??"AggregateCodeError",this.props=h??{}}}function equals$c(a,e){if(a===e)return!0;if(a.byteLength!==e.byteLength)return!1;for(let o=0;o<a.byteLength;o++)if(a[o]!==e[o])return!1;return!0}function coerce$7(a){if(a instanceof Uint8Array&&a.constructor.name==="Uint8Array")return a;if(a instanceof ArrayBuffer)return new Uint8Array(a);if(ArrayBuffer.isView(a))return new Uint8Array(a.buffer,a.byteOffset,a.byteLength);throw new Error("Unknown type, must be binary type")}function fromString$a(a){return new TextEncoder().encode(a)}function toString$c(a){return new TextDecoder().decode(a)}function base$7(a,e){if(a.length>=255)throw new TypeError("Alphabet too long");for(var o=new Uint8Array(256),c=0;c<o.length;c++)o[c]=255;for(var d=0;d<a.length;d++){var h=a.charAt(d),et=h.charCodeAt(0);if(o[et]!==255)throw new TypeError(h+" is ambiguous");o[et]=d}var tt=a.length,ot=a.charAt(0),ft=Math.log(tt)/Math.log(256),ht=Math.log(256)/Math.log(tt);function yt(bt){if(bt instanceof Uint8Array||(ArrayBuffer.isView(bt)?bt=new Uint8Array(bt.buffer,bt.byteOffset,bt.byteLength):Array.isArray(bt)&&(bt=Uint8Array.from(bt))),!(bt instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(bt.length===0)return"";for(var xt=0,Et=0,vt=0,$t=bt.length;vt!==$t&&bt[vt]===0;)vt++,xt++;for(var At=($t-vt)*ht+1>>>0,kt=new Uint8Array(At);vt!==$t;){for(var It=bt[vt],Dt=0,Mt=At-1;(It!==0||Dt<Et)&&Mt!==-1;Mt--,Dt++)It+=256*kt[Mt]>>>0,kt[Mt]=It%tt>>>0,It=It/tt>>>0;if(It!==0)throw new Error("Non-zero carry");Et=Dt,vt++}for(var zt=At-Et;zt!==At&&kt[zt]===0;)zt++;for(var Kt=ot.repeat(xt);zt<At;++zt)Kt+=a.charAt(kt[zt]);return Kt}function gt(bt){if(typeof bt!="string")throw new TypeError("Expected String");if(bt.length===0)return new Uint8Array;var xt=0;if(bt[xt]!==" "){for(var Et=0,vt=0;bt[xt]===ot;)Et++,xt++;for(var $t=(bt.length-xt)*ft+1>>>0,At=new Uint8Array($t);bt[xt];){var kt=o[bt.charCodeAt(xt)];if(kt===255)return;for(var It=0,Dt=$t-1;(kt!==0||It<vt)&&Dt!==-1;Dt--,It++)kt+=tt*At[Dt]>>>0,At[Dt]=kt%256>>>0,kt=kt/256>>>0;if(kt!==0)throw new Error("Non-zero carry");vt=It,xt++}if(bt[xt]!==" "){for(var Mt=$t-vt;Mt!==$t&&At[Mt]===0;)Mt++;for(var zt=new Uint8Array(Et+($t-Mt)),Kt=Et;Mt!==$t;)zt[Kt++]=At[Mt++];return zt}}}function wt(bt){var xt=gt(bt);if(xt)return xt;throw new Error(`Non-${e} character`)}return{encode:yt,decodeUnsafe:gt,decode:wt}}var src$8=base$7,_brrp__multiformats_scope_baseX$7=src$8;let Encoder$7=class{constructor(e,o,c){Jt(this,"name");Jt(this,"prefix");Jt(this,"baseEncode");this.name=e,this.prefix=o,this.baseEncode=c}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Decoder$7=class{constructor(e,o,c){Jt(this,"name");Jt(this,"prefix");Jt(this,"baseDecode");Jt(this,"prefixCodePoint");if(this.name=e,this.prefix=o,o.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=o.codePointAt(0),this.baseDecode=c}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return or$7(this,e)}},ComposedDecoder$7=class{constructor(e){Jt(this,"decoders");this.decoders=e}or(e){return or$7(this,e)}decode(e){const o=e[0],c=this.decoders[o];if(c!=null)return c.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};function or$7(a,e){return new ComposedDecoder$7({...a.decoders??{[a.prefix]:a},...e.decoders??{[e.prefix]:e}})}let Codec$7=class{constructor(e,o,c,d){Jt(this,"name");Jt(this,"prefix");Jt(this,"baseEncode");Jt(this,"baseDecode");Jt(this,"encoder");Jt(this,"decoder");this.name=e,this.prefix=o,this.baseEncode=c,this.baseDecode=d,this.encoder=new Encoder$7(e,o,c),this.decoder=new Decoder$7(e,o,d)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};function from$9({name:a,prefix:e,encode:o,decode:c}){return new Codec$7(a,e,o,c)}function baseX$7({name:a,prefix:e,alphabet:o}){const{encode:c,decode:d}=_brrp__multiformats_scope_baseX$7(o,a);return from$9({prefix:e,name:a,encode:c,decode:h=>coerce$7(d(h))})}function decode$G(a,e,o,c){const d={};for(let ht=0;ht<e.length;++ht)d[e[ht]]=ht;let h=a.length;for(;a[h-1]==="=";)--h;const et=new Uint8Array(h*o/8|0);let tt=0,ot=0,ft=0;for(let ht=0;ht<h;++ht){const yt=d[a[ht]];if(yt===void 0)throw new SyntaxError(`Non-${c} character`);ot=ot<<o|yt,tt+=o,tt>=8&&(tt-=8,et[ft++]=255&ot>>tt)}if(tt>=o||255&ot<<8-tt)throw new SyntaxError("Unexpected end of data");return et}function encode$x(a,e,o){const c=e[e.length-1]==="=",d=(1<<o)-1;let h="",et=0,tt=0;for(let ot=0;ot<a.length;++ot)for(tt=tt<<8|a[ot],et+=8;et>o;)et-=o,h+=e[d&tt>>et];if(et!==0&&(h+=e[d&tt<<o-et]),c)for(;h.length*o&7;)h+="=";return h}function rfc4648$7({name:a,prefix:e,bitsPerChar:o,alphabet:c}){return from$9({prefix:e,name:a,encode(d){return encode$x(d,c,o)},decode(d){return decode$G(d,c,o,a)}})}const base58btc$7=baseX$7({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr$5=baseX$7({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58$5=Object.freeze(Object.defineProperty({__proto__:null,base58btc:base58btc$7,base58flickr:base58flickr$5},Symbol.toStringTag,{value:"Module"})),base32$c=rfc4648$7({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper$5=rfc4648$7({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad$5=rfc4648$7({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper$5=rfc4648$7({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex$5=rfc4648$7({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper$5=rfc4648$7({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad$5=rfc4648$7({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper$5=rfc4648$7({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z$5=rfc4648$7({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$d=Object.freeze(Object.defineProperty({__proto__:null,base32:base32$c,base32hex:base32hex$5,base32hexpad:base32hexpad$5,base32hexpadupper:base32hexpadupper$5,base32hexupper:base32hexupper$5,base32pad:base32pad$5,base32padupper:base32padupper$5,base32upper:base32upper$5,base32z:base32z$5},Symbol.toStringTag,{value:"Module"}));var encode_1$5=encode$w,MSB$8=128,REST$8=127,MSBALL$5=~REST$8,INT$5=Math.pow(2,31);function encode$w(a,e,o){e=e||[],o=o||0;for(var c=o;a>=INT$5;)e[o++]=a&255|MSB$8,a/=128;for(;a&MSBALL$5;)e[o++]=a&255|MSB$8,a>>>=7;return e[o]=a|0,encode$w.bytes=o-c+1,e}var decode$F=read$5,MSB$1$4=128,REST$1$4=127;function read$5(a,c){var o=0,c=c||0,d=0,h=c,et,tt=a.length;do{if(h>=tt)throw read$5.bytes=0,new RangeError("Could not decode varint");et=a[h++],o+=d<28?(et&REST$1$4)<<d:(et&REST$1$4)*Math.pow(2,d),d+=7}while(et>=MSB$1$4);return read$5.bytes=h-c,o}var N1$6=Math.pow(2,7),N2$6=Math.pow(2,14),N3$6=Math.pow(2,21),N4$6=Math.pow(2,28),N5$6=Math.pow(2,35),N6$6=Math.pow(2,42),N7$6=Math.pow(2,49),N8$5=Math.pow(2,56),N9$5=Math.pow(2,63),length$5=function(a){return a<N1$6?1:a<N2$6?2:a<N3$6?3:a<N4$6?4:a<N5$6?5:a<N6$6?6:a<N7$6?7:a<N8$5?8:a<N9$5?9:10},varint$6={encode:encode_1$5,decode:decode$F,encodingLength:length$5},_brrp_varint$4=varint$6;function decode$E(a,e=0){return[_brrp_varint$4.decode(a,e),_brrp_varint$4.decode.bytes]}function encodeTo$4(a,e,o=0){return _brrp_varint$4.encode(a,e,o),e}function encodingLength$5(a){return _brrp_varint$4.encodingLength(a)}function create$a(a,e){const o=e.byteLength,c=encodingLength$5(a),d=c+encodingLength$5(o),h=new Uint8Array(d+o);return encodeTo$4(a,h,0),encodeTo$4(o,h,c),h.set(e,d),new Digest$4(a,o,e,h)}function decode$D(a){const e=coerce$7(a),[o,c]=decode$E(e),[d,h]=decode$E(e.subarray(c)),et=e.subarray(c+h);if(et.byteLength!==d)throw new Error("Incorrect length");return new Digest$4(o,d,et,e)}function equals$b(a,e){if(a===e)return!0;{const o=e;return a.code===o.code&&a.size===o.size&&o.bytes instanceof Uint8Array&&equals$c(a.bytes,o.bytes)}}let Digest$4=class{constructor(e,o,c,d){Jt(this,"code");Jt(this,"size");Jt(this,"digest");Jt(this,"bytes");this.code=e,this.size=o,this.digest=c,this.bytes=d}};function format$8(a,e){const{bytes:o,version:c}=a;switch(c){case 0:return toStringV0$4(o,baseCache$4(a),e??base58btc$7.encoder);default:return toStringV1$4(o,baseCache$4(a),e??base32$c.encoder)}}const cache$4=new WeakMap;function baseCache$4(a){const e=cache$4.get(a);if(e==null){const o=new Map;return cache$4.set(a,o),o}return e}var Bp;let CID$4=class Zr{constructor(e,o,c,d){Jt(this,"code");Jt(this,"version");Jt(this,"multihash");Jt(this,"bytes");Jt(this,"/");Jt(this,Bp,"CID");this.code=o,this.version=e,this.multihash=c,this.bytes=d,this["/"]=d}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:o}=this;if(e!==DAG_PB_CODE$4)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(o.code!==SHA_256_CODE$4)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Zr.createV0(o)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:e,digest:o}=this.multihash,c=create$a(e,o);return Zr.createV1(this.code,c)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return Zr.equals(this,e)}static equals(e,o){const c=o;return c!=null&&e.code===c.code&&e.version===c.version&&equals$b(e.multihash,c.multihash)}toString(e){return format$8(this,e)}toJSON(){return{"/":format$8(this)}}link(){return this}[(Bp=Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom"))](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;const o=e;if(o instanceof Zr)return o;if(o["/"]!=null&&o["/"]===o.bytes||o.asCID===o){const{version:c,code:d,multihash:h,bytes:et}=o;return new Zr(c,d,h,et??encodeCID$5(c,d,h.bytes))}else if(o[cidSymbol$4]===!0){const{version:c,multihash:d,code:h}=o,et=decode$D(d);return Zr.create(c,h,et)}else return null}static create(e,o,c){if(typeof o!="number")throw new Error("String codecs are no longer supported");if(!(c.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(o!==DAG_PB_CODE$4)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE$4}) block encoding`);return new Zr(e,o,c,c.bytes)}case 1:{const d=encodeCID$5(e,o,c.bytes);return new Zr(e,o,c,d)}default:throw new Error("Invalid version")}}static createV0(e){return Zr.create(0,DAG_PB_CODE$4,e)}static createV1(e,o){return Zr.create(1,e,o)}static decode(e){const[o,c]=Zr.decodeFirst(e);if(c.length!==0)throw new Error("Incorrect length");return o}static decodeFirst(e){const o=Zr.inspectBytes(e),c=o.size-o.multihashSize,d=coerce$7(e.subarray(c,c+o.multihashSize));if(d.byteLength!==o.multihashSize)throw new Error("Incorrect length");const h=d.subarray(o.multihashSize-o.digestSize),et=new Digest$4(o.multihashCode,o.digestSize,h,d);return[o.version===0?Zr.createV0(et):Zr.createV1(o.codec,et),e.subarray(o.size)]}static inspectBytes(e){let o=0;const c=()=>{const[yt,gt]=decode$E(e.subarray(o));return o+=gt,yt};let d=c(),h=DAG_PB_CODE$4;if(d===18?(d=0,o=0):h=c(),d!==0&&d!==1)throw new RangeError(`Invalid CID version ${d}`);const et=o,tt=c(),ot=c(),ft=o+ot,ht=ft-et;return{version:d,codec:h,multihashCode:tt,digestSize:ot,multihashSize:ht,size:ft}}static parse(e,o){const[c,d]=parseCIDtoBytes$4(e,o),h=Zr.decode(d);if(h.version===0&&e[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return baseCache$4(h).set(c,e),h}};function parseCIDtoBytes$4(a,e){switch(a[0]){case"Q":{const o=e??base58btc$7;return[base58btc$7.prefix,o.decode(`${base58btc$7.prefix}${a}`)]}case base58btc$7.prefix:{const o=e??base58btc$7;return[base58btc$7.prefix,o.decode(a)]}case base32$c.prefix:{const o=e??base32$c;return[base32$c.prefix,o.decode(a)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[a[0],e.decode(a)]}}}function toStringV0$4(a,e,o){const{prefix:c}=o;if(c!==base58btc$7.prefix)throw Error(`Cannot string encode V0 in ${o.name} encoding`);const d=e.get(c);if(d==null){const h=o.encode(a).slice(1);return e.set(c,h),h}else return d}function toStringV1$4(a,e,o){const{prefix:c}=o,d=e.get(c);if(d==null){const h=o.encode(a);return e.set(c,h),h}else return d}const DAG_PB_CODE$4=112,SHA_256_CODE$4=18;function encodeCID$5(a,e,o){const c=encodingLength$5(a),d=c+encodingLength$5(e),h=new Uint8Array(d+o.byteLength);return encodeTo$4(a,h,0),encodeTo$4(e,h,c),h.set(o,d),h}const cidSymbol$4=Symbol.for("@ipld/js-cid/CID");function equals$a(a,e){if(a===e)return!0;if(a.byteLength!==e.byteLength)return!1;for(let o=0;o<a.byteLength;o++)if(a[o]!==e[o])return!1;return!0}const base10$a=baseX$7({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$b=Object.freeze(Object.defineProperty({__proto__:null,base10:base10$a},Symbol.toStringTag,{value:"Module"})),base16$a=rfc4648$7({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper$5=rfc4648$7({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$b=Object.freeze(Object.defineProperty({__proto__:null,base16:base16$a,base16upper:base16upper$5},Symbol.toStringTag,{value:"Module"})),base2$a=rfc4648$7({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$b=Object.freeze(Object.defineProperty({__proto__:null,base2:base2$a},Symbol.toStringTag,{value:"Module"})),alphabet$5=Array.from(""),alphabetBytesToChars$5=alphabet$5.reduce((a,e,o)=>(a[o]=e,a),[]),alphabetCharsToBytes$5=alphabet$5.reduce((a,e,o)=>(a[e.codePointAt(0)]=o,a),[]);function encode$v(a){return a.reduce((e,o)=>(e+=alphabetBytesToChars$5[o],e),"")}function decode$C(a){const e=[];for(const o of a){const c=alphabetCharsToBytes$5[o.codePointAt(0)];if(c===void 0)throw new Error(`Non-base256emoji character: ${o}`);e.push(c)}return new Uint8Array(e)}const base256emoji$a=from$9({prefix:"",name:"base256emoji",encode:encode$v,decode:decode$C}),base256emoji$b=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:base256emoji$a},Symbol.toStringTag,{value:"Module"})),base36$a=baseX$7({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper$5=baseX$7({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$b=Object.freeze(Object.defineProperty({__proto__:null,base36:base36$a,base36upper:base36upper$5},Symbol.toStringTag,{value:"Module"})),base64$d=rfc4648$7({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad$5=rfc4648$7({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url$6=rfc4648$7({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad$5=rfc4648$7({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$e=Object.freeze(Object.defineProperty({__proto__:null,base64:base64$d,base64pad:base64pad$5,base64url:base64url$6,base64urlpad:base64urlpad$5},Symbol.toStringTag,{value:"Module"})),base8$a=rfc4648$7({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$b=Object.freeze(Object.defineProperty({__proto__:null,base8:base8$a},Symbol.toStringTag,{value:"Module"})),identity$8=from$9({prefix:"\0",name:"identity",encode:a=>toString$c(a),decode:a=>fromString$a(a)}),identityBase$5=Object.freeze(Object.defineProperty({__proto__:null,identity:identity$8},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const bases$5={...identityBase$5,...base2$b,...base8$b,...base10$b,...base16$b,...base32$d,...base36$b,...base58$5,...base64$e,...base256emoji$b};function asUint8Array$2(a){return globalThis.Buffer!=null?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):a}function allocUnsafe$2(a=0){var e;return((e=globalThis.Buffer)==null?void 0:e.allocUnsafe)!=null?asUint8Array$2(globalThis.Buffer.allocUnsafe(a)):new Uint8Array(a)}function createCodec$2(a,e,o,c){return{name:a,prefix:e,encoder:{name:a,prefix:e,encode:o},decoder:{decode:c}}}const string$3=createCodec$2("utf8","u",a=>"u"+new TextDecoder("utf8").decode(a),a=>new TextEncoder().encode(a.substring(1))),ascii$2=createCodec$2("ascii","a",a=>{let e="a";for(let o=0;o<a.length;o++)e+=String.fromCharCode(a[o]);return e},a=>{a=a.substring(1);const e=allocUnsafe$2(a.length);for(let o=0;o<a.length;o++)e[o]=a.charCodeAt(o);return e}),BASES$2={utf8:string$3,"utf-8":string$3,hex:bases$5.base16,latin1:ascii$2,ascii:ascii$2,binary:ascii$2,...bases$5};function toString$b(a,e="utf8"){const o=BASES$2[e];if(o==null)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(a.buffer,a.byteOffset,a.byteLength).toString("utf8"):o.encoder.encode(a).substring(1)}const N1$5=Math.pow(2,7),N2$5=Math.pow(2,14),N3$5=Math.pow(2,21),N4$5=Math.pow(2,28),N5$5=Math.pow(2,35),N6$5=Math.pow(2,42),N7$5=Math.pow(2,49),MSB$7=128,REST$7=127;function encodingLength$4(a){if(a<N1$5)return 1;if(a<N2$5)return 2;if(a<N3$5)return 3;if(a<N4$5)return 4;if(a<N5$5)return 5;if(a<N6$5)return 6;if(a<N7$5)return 7;if(Number.MAX_SAFE_INTEGER!=null&&a>Number.MAX_SAFE_INTEGER)throw new RangeError("Could not encode varint");return 8}function encodeUint8Array(a,e,o=0){switch(encodingLength$4(a)){case 8:e[o++]=a&255|MSB$7,a/=128;case 7:e[o++]=a&255|MSB$7,a/=128;case 6:e[o++]=a&255|MSB$7,a/=128;case 5:e[o++]=a&255|MSB$7,a/=128;case 4:e[o++]=a&255|MSB$7,a>>>=7;case 3:e[o++]=a&255|MSB$7,a>>>=7;case 2:e[o++]=a&255|MSB$7,a>>>=7;case 1:{e[o++]=a&255,a>>>=7;break}default:throw new Error("unreachable")}return e}function encodeUint8ArrayList(a,e,o=0){switch(encodingLength$4(a)){case 8:e.set(o++,a&255|MSB$7),a/=128;case 7:e.set(o++,a&255|MSB$7),a/=128;case 6:e.set(o++,a&255|MSB$7),a/=128;case 5:e.set(o++,a&255|MSB$7),a/=128;case 4:e.set(o++,a&255|MSB$7),a>>>=7;case 3:e.set(o++,a&255|MSB$7),a>>>=7;case 2:e.set(o++,a&255|MSB$7),a>>>=7;case 1:{e.set(o++,a&255),a>>>=7;break}default:throw new Error("unreachable")}return e}function decodeUint8Array(a,e){let o=a[e],c=0;if(c+=o&REST$7,o<MSB$7||(o=a[e+1],c+=(o&REST$7)<<7,o<MSB$7)||(o=a[e+2],c+=(o&REST$7)<<14,o<MSB$7)||(o=a[e+3],c+=(o&REST$7)<<21,o<MSB$7)||(o=a[e+4],c+=(o&REST$7)*N4$5,o<MSB$7)||(o=a[e+5],c+=(o&REST$7)*N5$5,o<MSB$7)||(o=a[e+6],c+=(o&REST$7)*N6$5,o<MSB$7)||(o=a[e+7],c+=(o&REST$7)*N7$5,o<MSB$7))return c;throw new RangeError("Could not decode varint")}function decodeUint8ArrayList(a,e){let o=a.get(e),c=0;if(c+=o&REST$7,o<MSB$7||(o=a.get(e+1),c+=(o&REST$7)<<7,o<MSB$7)||(o=a.get(e+2),c+=(o&REST$7)<<14,o<MSB$7)||(o=a.get(e+3),c+=(o&REST$7)<<21,o<MSB$7)||(o=a.get(e+4),c+=(o&REST$7)*N4$5,o<MSB$7)||(o=a.get(e+5),c+=(o&REST$7)*N5$5,o<MSB$7)||(o=a.get(e+6),c+=(o&REST$7)*N6$5,o<MSB$7)||(o=a.get(e+7),c+=(o&REST$7)*N7$5,o<MSB$7))return c;throw new RangeError("Could not decode varint")}function encode$u(a,e,o=0){return e==null&&(e=allocUnsafe$2(encodingLength$4(a))),e instanceof Uint8Array?encodeUint8Array(a,e,o):encodeUint8ArrayList(a,e,o)}function decode$B(a,e=0){return a instanceof Uint8Array?decodeUint8Array(a,e):decodeUint8ArrayList(a,e)}function concat$2(a,e){if(globalThis.Buffer!=null)return asUint8Array$2(globalThis.Buffer.concat(a,e));e==null&&(e=a.reduce((d,h)=>d+h.length,0));const o=allocUnsafe$2(e);let c=0;for(const d of a)o.set(d,c),c+=d.length;return asUint8Array$2(o)}class Parser{constructor(){Jt(this,"index",0);Jt(this,"input","")}new(e){return this.index=0,this.input=e,this}readAtomically(e){const o=this.index,c=e();return c===void 0&&(this.index=o),c}parseWith(e){const o=e();if(this.index===this.input.length)return o}peekChar(){if(!(this.index>=this.input.length))return this.input[this.index]}readChar(){if(!(this.index>=this.input.length))return this.input[this.index++]}readGivenChar(e){return this.readAtomically(()=>{const o=this.readChar();if(o===e)return o})}readSeparator(e,o,c){return this.readAtomically(()=>{if(!(o>0&&this.readGivenChar(e)===void 0))return c()})}readNumber(e,o,c,d){return this.readAtomically(()=>{let h=0,et=0;const tt=this.peekChar();if(tt===void 0)return;const ot=tt==="0",ft=2**(8*d)-1;for(;;){const ht=this.readAtomically(()=>{const yt=this.readChar();if(yt===void 0)return;const gt=Number.parseInt(yt,e);if(!Number.isNaN(gt))return gt});if(ht===void 0)break;if(h*=e,h+=ht,h>ft||(et+=1,o!==void 0&&et>o))return}if(et!==0)return!c&&ot&&et>1?void 0:h})}readIPv4Addr(){return this.readAtomically(()=>{const e=new Uint8Array(4);for(let o=0;o<e.length;o++){const c=this.readSeparator(".",o,()=>this.readNumber(10,3,!1,1));if(c===void 0)return;e[o]=c}return e})}readIPv6Addr(){const e=o=>{for(let c=0;c<o.length/2;c++){const d=c*2;if(c<o.length-3){const et=this.readSeparator(":",c,()=>this.readIPv4Addr());if(et!==void 0)return o[d]=et[0],o[d+1]=et[1],o[d+2]=et[2],o[d+3]=et[3],[d+4,!0]}const h=this.readSeparator(":",c,()=>this.readNumber(16,4,!0,2));if(h===void 0)return[d,!1];o[d]=h>>8,o[d+1]=h&255}return[o.length,!1]};return this.readAtomically(()=>{const o=new Uint8Array(16),[c,d]=e(o);if(c===16)return o;if(d||this.readGivenChar(":")===void 0||this.readGivenChar(":")===void 0)return;const h=new Uint8Array(14),et=16-(c+2),[tt]=e(h.subarray(0,et));return o.set(h.subarray(0,tt),16-tt),o})}readIPAddr(){return this.readIPv4Addr()??this.readIPv6Addr()}}const MAX_IPV6_LENGTH=45,MAX_IPV4_LENGTH=15,parser=new Parser;function parseIPv4(a){if(!(a.length>MAX_IPV4_LENGTH))return parser.new(a).parseWith(()=>parser.readIPv4Addr())}function parseIPv6(a){if(a.includes("%")&&(a=a.split("%")[0]),!(a.length>MAX_IPV6_LENGTH))return parser.new(a).parseWith(()=>parser.readIPv6Addr())}function parseIP(a){if(a.includes("%")&&(a=a.split("%")[0]),!(a.length>MAX_IPV6_LENGTH))return parser.new(a).parseWith(()=>parser.readIPAddr())}function fromString$9(a,e="utf8"){const o=BASES$2[e];if(o==null)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?asUint8Array$2(globalThis.Buffer.from(a,"utf-8")):o.decoder.decode(`${o.prefix}${a}`)}function isIPv4(a){return!!parseIPv4(a)}function isIPv6(a){return!!parseIPv6(a)}function isIP(a){return!!parseIP(a)}const isV4$1=isIPv4,isV6$1=isIPv6,toBytes$2=function(a){let e=0;if(a=a.toString().trim(),isV4$1(a)){const o=new Uint8Array(e+4);return a.split(/\./g).forEach(c=>{o[e++]=parseInt(c,10)&255}),o}if(isV6$1(a)){const o=a.split(":",8);let c;for(c=0;c<o.length;c++){const h=isV4$1(o[c]);let et;h&&(et=toBytes$2(o[c]),o[c]=toString$b(et.slice(0,2),"base16")),et!=null&&++c<8&&o.splice(c,0,toString$b(et.slice(2,4),"base16"))}if(o[0]==="")for(;o.length<8;)o.unshift("0");else if(o[o.length-1]==="")for(;o.length<8;)o.push("0");else if(o.length<8){for(c=0;c<o.length&&o[c]!=="";c++);const h=[c,1];for(c=9-o.length;c>0;c--)h.push("0");o.splice.apply(o,h)}const d=new Uint8Array(e+16);for(c=0;c<o.length;c++){const h=parseInt(o[c],16);d[e++]=h>>8&255,d[e++]=h&255}return d}throw new Error("invalid ip address")},toString$a=function(a,e=0,o){e=~~e,o=o??a.length-e;const c=new DataView(a.buffer);if(o===4){const d=[];for(let h=0;h<o;h++)d.push(a[e+h]);return d.join(".")}if(o===16){const d=[];for(let h=0;h<o;h+=2)d.push(c.getUint16(e+h).toString(16));return d.join(":").replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3").replace(/:{3,4}/,"::")}return""},V$1=-1,names$1={},codes$1={},table$1=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,V$1,"ip6zone"],[43,8,"ipcidr"],[53,V$1,"dns",!0],[54,V$1,"dns4",!0],[55,V$1,"dns6",!0],[56,V$1,"dnsaddr",!0],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[280,0,"webrtc-direct"],[281,0,"webrtc"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,V$1,"unix",!1,!0],[421,V$1,"ipfs"],[421,V$1,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,V$1,"garlic64"],[448,0,"tls"],[449,V$1,"sni"],[460,0,"quic"],[461,0,"quic-v1"],[465,0,"webtransport"],[466,V$1,"certhash"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,V$1,"memory"]];table$1.forEach(a=>{const e=createProtocol$1(...a);codes$1[e.code]=e,names$1[e.name]=e});function createProtocol$1(a,e,o,c,d){return{code:a,size:e,name:o,resolvable:!!c,path:!!d}}function getProtocol$1(a){if(typeof a=="number"){if(codes$1[a]!=null)return codes$1[a];throw new Error(`no protocol with code: ${a}`)}else if(typeof a=="string"){if(names$1[a]!=null)return names$1[a];throw new Error(`no protocol with name: ${a}`)}throw new Error(`invalid protocol id type: ${typeof a}`)}getProtocol$1("ip4");getProtocol$1("ip6");getProtocol$1("ipcidr");function convertToString$1(a,e){switch(getProtocol$1(a).code){case 4:case 41:return bytes2ip$1(e);case 42:return bytes2str$1(e);case 6:case 273:case 33:case 132:return bytes2port$1(e).toString();case 53:case 54:case 55:case 56:case 400:case 449:case 777:return bytes2str$1(e);case 421:return bytes2mh$1(e);case 444:return bytes2onion$1(e);case 445:return bytes2onion$1(e);case 466:return bytes2mb$1(e);default:return toString$b(e,"base16")}}function convertToBytes$1(a,e){switch(getProtocol$1(a).code){case 4:return ip2bytes$1(e);case 41:return ip2bytes$1(e);case 42:return str2bytes$1(e);case 6:case 273:case 33:case 132:return port2bytes$1(parseInt(e,10));case 53:case 54:case 55:case 56:case 400:case 449:case 777:return str2bytes$1(e);case 421:return mh2bytes$1(e);case 444:return onion2bytes$1(e);case 445:return onion32bytes$1(e);case 466:return mb2bytes$1(e);default:return fromString$9(e,"base16")}}const decoders$1=Object.values(bases$5).map(a=>a.decoder),anybaseDecoder$1=function(){let a=decoders$1[0].or(decoders$1[1]);return decoders$1.slice(2).forEach(e=>a=a.or(e)),a}();function ip2bytes$1(a){if(!isIP(a))throw new Error("invalid ip address");return toBytes$2(a)}function bytes2ip$1(a){const e=toString$a(a,0,a.length);if(e==null)throw new Error("ipBuff is required");if(!isIP(e))throw new Error("invalid ip address");return e}function port2bytes$1(a){const e=new ArrayBuffer(2);return new DataView(e).setUint16(0,a),new Uint8Array(e)}function bytes2port$1(a){return new DataView(a.buffer).getUint16(a.byteOffset)}function str2bytes$1(a){const e=fromString$9(a),o=Uint8Array.from(encode$u(e.length));return concat$2([o,e],o.length+e.length)}function bytes2str$1(a){const e=decode$B(a);if(a=a.slice(encodingLength$4(e)),a.length!==e)throw new Error("inconsistent lengths");return toString$b(a)}function mh2bytes$1(a){let e;a[0]==="Q"||a[0]==="1"?e=decode$D(base58btc$7.decode(`z${a}`)).bytes:e=CID$4.parse(a).multihash.bytes;const o=Uint8Array.from(encode$u(e.length));return concat$2([o,e],o.length+e.length)}function mb2bytes$1(a){const e=anybaseDecoder$1.decode(a),o=Uint8Array.from(encode$u(e.length));return concat$2([o,e],o.length+e.length)}function bytes2mb$1(a){const e=decode$B(a),o=a.slice(encodingLength$4(e));if(o.length!==e)throw new Error("inconsistent lengths");return"u"+toString$b(o,"base64url")}function bytes2mh$1(a){const e=decode$B(a),o=a.slice(encodingLength$4(e));if(o.length!==e)throw new Error("inconsistent lengths");return toString$b(o,"base58btc")}function onion2bytes$1(a){const e=a.split(":");if(e.length!==2)throw new Error(`failed to parse onion addr: ["'${e.join('", "')}'"]' does not contain a port number`);if(e[0].length!==16)throw new Error(`failed to parse onion addr: ${e[0]} not a Tor onion address.`);const o=base32$c.decode("b"+e[0]),c=parseInt(e[1],10);if(c<1||c>65536)throw new Error("Port number is not in range(1, 65536)");const d=port2bytes$1(c);return concat$2([o,d],o.length+d.length)}function onion32bytes$1(a){const e=a.split(":");if(e.length!==2)throw new Error(`failed to parse onion addr: ["'${e.join('", "')}'"]' does not contain a port number`);if(e[0].length!==56)throw new Error(`failed to parse onion addr: ${e[0]} not a Tor onion3 address.`);const o=base32$c.decode(`b${e[0]}`),c=parseInt(e[1],10);if(c<1||c>65536)throw new Error("Port number is not in range(1, 65536)");const d=port2bytes$1(c);return concat$2([o,d],o.length+d.length)}function bytes2onion$1(a){const e=a.slice(0,a.length-2),o=a.slice(a.length-2),c=toString$b(e,"base32"),d=bytes2port$1(o);return`${c}:${d}`}function stringToMultiaddrParts(a){a=cleanPath$1(a);const e=[],o=[];let c=null;const d=a.split("/").slice(1);if(d.length===1&&d[0]==="")return{bytes:new Uint8Array,string:"/",tuples:[],stringTuples:[],path:null};for(let h=0;h<d.length;h++){const et=d[h],tt=getProtocol$1(et);if(tt.size===0){e.push([tt.code]),o.push([tt.code]);continue}if(h++,h>=d.length)throw ParseError$1("invalid address: "+a);if(tt.path===!0){c=cleanPath$1(d.slice(h).join("/")),e.push([tt.code,convertToBytes$1(tt.code,c)]),o.push([tt.code,c]);break}const ot=convertToBytes$1(tt.code,d[h]);e.push([tt.code,ot]),o.push([tt.code,convertToString$1(tt.code,ot)])}return{string:stringTuplesToString$1(o),bytes:tuplesToBytes$1(e),tuples:e,stringTuples:o,path:c}}function bytesToMultiaddrParts(a){const e=[],o=[];let c=null,d=0;for(;d<a.length;){const h=decode$B(a,d),et=encodingLength$4(h),tt=getProtocol$1(h),ot=sizeForAddr$1(tt,a.slice(d+et));if(ot===0){e.push([h]),o.push([h]),d+=et;continue}const ft=a.slice(d+et,d+et+ot);if(d+=ot+et,d>a.length)throw ParseError$1("Invalid address Uint8Array: "+toString$b(a,"base16"));e.push([h,ft]);const ht=convertToString$1(h,ft);if(o.push([h,ht]),tt.path===!0){c=ht;break}}return{bytes:Uint8Array.from(a),string:stringTuplesToString$1(o),tuples:e,stringTuples:o,path:c}}function stringTuplesToString$1(a){const e=[];return a.map(o=>{const c=getProtocol$1(o[0]);return e.push(c.name),o.length>1&&o[1]!=null&&e.push(o[1]),null}),cleanPath$1(e.join("/"))}function tuplesToBytes$1(a){return concat$2(a.map(e=>{const o=getProtocol$1(e[0]);let c=Uint8Array.from(encode$u(o.code));return e.length>1&&e[1]!=null&&(c=concat$2([c,e[1]])),c}))}function sizeForAddr$1(a,e){if(a.size>0)return a.size/8;if(a.size===0)return 0;{const o=decode$B(e instanceof Uint8Array?e:Uint8Array.from(e));return o+encodingLength$4(o)}}function cleanPath$1(a){return"/"+a.trim().split("/").filter(e=>e).join("/")}function ParseError$1(a){return new Error("Error parsing address: "+a)}const inspect$2=Symbol.for("nodejs.util.inspect.custom"),symbol$2=Symbol.for("@multiformats/js-multiaddr/multiaddr"),DNS_CODES$1=[getProtocol$1("dns").code,getProtocol$1("dns4").code,getProtocol$1("dns6").code,getProtocol$1("dnsaddr").code];var _c,$s,lu,uu,Np;const Cs=class Cs{constructor(e){Jt(this,"bytes");tr(this,_c,void 0);tr(this,$s,void 0);tr(this,lu,void 0);tr(this,uu,void 0);Jt(this,Np,!0);e==null&&(e="");let o;if(e instanceof Uint8Array)o=bytesToMultiaddrParts(e);else if(typeof e=="string"){if(e.length>0&&e.charAt(0)!=="/")throw new Error(`multiaddr "${e}" must start with a "/"`);o=stringToMultiaddrParts(e)}else if(isMultiaddr$1(e))o=bytesToMultiaddrParts(e.bytes);else throw new Error("addr must be a string, Buffer, or another Multiaddr");this.bytes=o.bytes,Qt(this,_c,o.string),Qt(this,$s,o.tuples),Qt(this,lu,o.stringTuples),Qt(this,uu,o.path)}toString(){return Pt(this,_c)}toJSON(){return this.toString()}toOptions(){let e,o,c,d,h="";const et=getProtocol$1("tcp"),tt=getProtocol$1("udp"),ot=getProtocol$1("ip4"),ft=getProtocol$1("ip6"),ht=getProtocol$1("dns6"),yt=getProtocol$1("ip6zone");for(const[wt,bt]of this.stringTuples())wt===yt.code&&(h=`%${bt??""}`),DNS_CODES$1.includes(wt)&&(o=et.name,d=443,c=`${bt??""}${h}`,e=wt===ht.code?6:4),(wt===et.code||wt===tt.code)&&(o=getProtocol$1(wt).name,d=parseInt(bt??"")),(wt===ot.code||wt===ft.code)&&(o=getProtocol$1(wt).name,c=`${bt??""}${h}`,e=wt===ft.code?6:4);if(e==null||o==null||c==null||d==null)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6, dnsaddr}/{address}/{tcp, udp}/{port}".');return{family:e,host:c,transport:o,port:d}}protos(){return Pt(this,$s).map(([e])=>Object.assign({},getProtocol$1(e)))}protoCodes(){return Pt(this,$s).map(([e])=>e)}protoNames(){return Pt(this,$s).map(([e])=>getProtocol$1(e).name)}tuples(){return Pt(this,$s)}stringTuples(){return Pt(this,lu)}encapsulate(e){return e=new Cs(e),new Cs(this.toString()+e.toString())}decapsulate(e){const o=e.toString(),c=this.toString(),d=c.lastIndexOf(o);if(d<0)throw new Error(`Address ${this.toString()} does not contain subaddress: ${e.toString()}`);return new Cs(c.slice(0,d))}decapsulateCode(e){const o=this.tuples();for(let c=o.length-1;c>=0;c--)if(o[c][0]===e)return new Cs(tuplesToBytes$1(o.slice(0,c)));return this}getPeerId(){try{let e=[];this.stringTuples().forEach(([c,d])=>{c===names$1.p2p.code&&e.push([c,d]),c===names$1["p2p-circuit"].code&&(e=[])});const o=e.pop();if((o==null?void 0:o[1])!=null){const c=o[1];return c[0]==="Q"||c[0]==="1"?toString$b(base58btc$7.decode(`z${c}`),"base58btc"):toString$b(CID$4.parse(c).multihash.bytes,"base58btc")}return null}catch{return null}}getPath(){return Pt(this,uu)}equals(e){return equals$a(this.bytes,e.bytes)}async resolve(e){const o=this.protos().find(h=>h.resolvable);if(o==null)return[this];const c=resolvers$1.get(o.name);if(c==null)throw new CodeError(`no available resolver for ${o.name}`,"ERR_NO_AVAILABLE_RESOLVER");return(await c(this,e)).map(h=>new Cs(h))}nodeAddress(){const e=this.toOptions();if(e.transport!=="tcp"&&e.transport!=="udp")throw new Error(`multiaddr must have a valid format - no protocol with name: "${e.transport}". Must have a valid transport protocol: "{tcp, udp}"`);return{family:e.family,address:e.host,port:e.port}}isThinWaistAddress(e){const o=(e??this).protos();return!(o.length!==2||o[0].code!==4&&o[0].code!==41||o[1].code!==6&&o[1].code!==273)}[(Np=symbol$2,inspect$2)](){return`Multiaddr(${Pt(this,_c)})`}};_c=new WeakMap,$s=new WeakMap,lu=new WeakMap,uu=new WeakMap;let Multiaddr=Cs;const resolvers$1=new Map;function isMultiaddr$1(a){return!!(a!=null&&a[symbol$2])}function multiaddr$1(a){return new Multiaddr(a)}function Cache(a){this._maxSize=a,this.clear()}Cache.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Cache.prototype.get=function(a){return this._values[a]};Cache.prototype.set=function(a,e){return this._size>=this._maxSize&&this.clear(),a in this._values||this._size++,this._values[a]=e};var SPLIT_REGEX=/[^.^\]^[]+|(?=\[\]|\.\.)/g,DIGIT_REGEX=/^\d+$/,LEAD_DIGIT_REGEX=/^\d/,SPEC_CHAR_REGEX=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,CLEAN_QUOTES_REGEX=/^\s*(['"]?)(.*?)(\1)\s*$/,MAX_CACHE_SIZE=512,pathCache=new Cache(MAX_CACHE_SIZE),setCache=new Cache(MAX_CACHE_SIZE),getCache=new Cache(MAX_CACHE_SIZE),propertyExpr={Cache,split,normalizePath,setter:function(a){var e=normalizePath(a);return setCache.get(a)||setCache.set(a,function(c,d){for(var h=0,et=e.length,tt=c;h<et-1;){var ot=e[h];if(ot==="__proto__"||ot==="constructor"||ot==="prototype")return c;tt=tt[e[h++]]}tt[e[h]]=d})},getter:function(a,e){var o=normalizePath(a);return getCache.get(a)||getCache.set(a,function(d){for(var h=0,et=o.length;h<et;)if(d!=null||!e)d=d[o[h++]];else return;return d})},join:function(a){return a.reduce(function(e,o){return e+(isQuoted(o)||DIGIT_REGEX.test(o)?"["+o+"]":(e?".":"")+o)},"")},forEach:function(a,e,o){forEach(Array.isArray(a)?a:split(a),e,o)}};function normalizePath(a){return pathCache.get(a)||pathCache.set(a,split(a).map(function(e){return e.replace(CLEAN_QUOTES_REGEX,"$2")}))}function split(a){return a.match(SPLIT_REGEX)||[""]}function forEach(a,e,o){var c=a.length,d,h,et,tt;for(h=0;h<c;h++)d=a[h],d&&(shouldBeQuoted(d)&&(d='"'+d+'"'),tt=isQuoted(d),et=!tt&&/^\d+$/.test(d),e.call(o,d,tt,et,h,a))}function isQuoted(a){return typeof a=="string"&&a&&["'",'"'].indexOf(a.charAt(0))!==-1}function hasLeadingNumber(a){return a.match(LEAD_DIGIT_REGEX)&&!a.match(DIGIT_REGEX)}function hasSpecialChars(a){return SPEC_CHAR_REGEX.test(a)}function shouldBeQuoted(a){return!isQuoted(a)&&(hasLeadingNumber(a)||hasSpecialChars(a))}const reWords=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,words=a=>a.match(reWords)||[],upperFirst=a=>a[0].toUpperCase()+a.slice(1),join=(a,e)=>words(a).join(e).toLowerCase(),camelCase=a=>words(a).reduce((e,o)=>`${e}${e?o[0].toUpperCase()+o.slice(1).toLowerCase():o.toLowerCase()}`,""),pascalCase=a=>upperFirst(camelCase(a)),snakeCase=a=>join(a,"_"),kebabCase$1=a=>join(a,"-"),sentenceCase=a=>upperFirst(join(a," ")),titleCase=a=>words(a).map(upperFirst).join(" ");var tinyCase={words,upperFirst,camelCase,pascalCase,snakeCase,kebabCase:kebabCase$1,sentenceCase,titleCase},toposort$2={exports:{}};toposort$2.exports=function(a){return toposort(uniqueNodes(a),a)};toposort$2.exports.array=toposort;function toposort(a,e){var o=a.length,c=new Array(o),d={},h=o,et=makeOutgoingEdges(e),tt=makeNodesHash(a);for(e.forEach(function(ft){if(!tt.has(ft[0])||!tt.has(ft[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});h--;)d[h]||ot(a[h],h,new Set);return c;function ot(ft,ht,yt){if(yt.has(ft)){var gt;try{gt=", node was:"+JSON.stringify(ft)}catch{gt=""}throw new Error("Cyclic dependency"+gt)}if(!tt.has(ft))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(ft));if(!d[ht]){d[ht]=!0;var wt=et.get(ft)||new Set;if(wt=Array.from(wt),ht=wt.length){yt.add(ft);do{var bt=wt[--ht];ot(bt,tt.get(bt),yt)}while(ht);yt.delete(ft)}c[--o]=ft}}}function uniqueNodes(a){for(var e=new Set,o=0,c=a.length;o<c;o++){var d=a[o];e.add(d[0]),e.add(d[1])}return Array.from(e)}function makeOutgoingEdges(a){for(var e=new Map,o=0,c=a.length;o<c;o++){var d=a[o];e.has(d[0])||e.set(d[0],new Set),e.has(d[1])||e.set(d[1],new Set),e.get(d[0]).add(d[1])}return e}function makeNodesHash(a){for(var e=new Map,o=0,c=a.length;o<c;o++)e.set(a[o],o);return e}var toposortExports=toposort$2.exports;const toposort$1=getDefaultExportFromCjs(toposortExports),toString$9=Object.prototype.toString,errorToString=Error.prototype.toString,regExpToString=RegExp.prototype.toString,symbolToString=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",SYMBOL_REGEXP=/^Symbol\((.*)\)(.*)$/;function printNumber(a){return a!=+a?"NaN":a===0&&1/a<0?"-0":""+a}function printSimpleValue(a,e=!1){if(a==null||a===!0||a===!1)return""+a;const o=typeof a;if(o==="number")return printNumber(a);if(o==="string")return e?`"${a}"`:a;if(o==="function")return"[Function "+(a.name||"anonymous")+"]";if(o==="symbol")return symbolToString.call(a).replace(SYMBOL_REGEXP,"Symbol($1)");const c=toString$9.call(a).slice(8,-1);return c==="Date"?isNaN(a.getTime())?""+a:a.toISOString(a):c==="Error"||a instanceof Error?"["+errorToString.call(a)+"]":c==="RegExp"?regExpToString.call(a):null}function printValue(a,e){let o=printSimpleValue(a,e);return o!==null?o:JSON.stringify(a,function(c,d){let h=printSimpleValue(this[c],e);return h!==null?h:d},2)}function toArray(a){return a==null?[]:[].concat(a)}let _Symbol$toStringTag,_Symbol$hasInstance,_Symbol$toStringTag2,strReg=/\$\{\s*(\w+)\s*\}/g;_Symbol$toStringTag=Symbol.toStringTag;class ValidationErrorNoStack{constructor(e,o,c,d){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[_Symbol$toStringTag]="Error",this.name="ValidationError",this.value=o,this.path=c,this.type=d,this.errors=[],this.inner=[],toArray(e).forEach(h=>{if(ValidationError.isError(h)){this.errors.push(...h.errors);const et=h.inner.length?h.inner:[h];this.inner.push(...et)}else this.errors.push(h)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}_Symbol$hasInstance=Symbol.hasInstance;_Symbol$toStringTag2=Symbol.toStringTag;class ValidationError extends Error{static formatError(e,o){const c=o.label||o.path||"this";return c!==o.path&&(o=Object.assign({},o,{path:c})),typeof e=="string"?e.replace(strReg,(d,h)=>printValue(o[h])):typeof e=="function"?e(o):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,o,c,d,h){const et=new ValidationErrorNoStack(e,o,c,d);if(h)return et;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[_Symbol$toStringTag2]="Error",this.name=et.name,this.message=et.message,this.type=et.type,this.value=et.value,this.path=et.path,this.errors=et.errors,this.inner=et.inner,Error.captureStackTrace&&Error.captureStackTrace(this,ValidationError)}static[_Symbol$hasInstance](e){return ValidationErrorNoStack[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let mixed={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:a,type:e,value:o,originalValue:c})=>{const d=c!=null&&c!==o?` (cast from the value \`${printValue(c,!0)}\`).`:".";return e!=="mixed"?`${a} must be a \`${e}\` type, but the final value was: \`${printValue(o,!0)}\``+d:`${a} must match the configured type. The validated value was: \`${printValue(o,!0)}\``+d}},string$2={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},number={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},date={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},boolean={isValue:"${path} field must be ${value}"},object={noUnknown:"${path} field has unspecified keys: ${unknown}"},array={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},tuple={notType:a=>{const{path:e,value:o,spec:c}=a,d=c.types.length;if(Array.isArray(o)){if(o.length<d)return`${e} tuple value has too few items, expected a length of ${d} but got ${o.length} for value: \`${printValue(o,!0)}\``;if(o.length>d)return`${e} tuple value has too many items, expected a length of ${d} but got ${o.length} for value: \`${printValue(o,!0)}\``}return ValidationError.formatError(mixed.notType,a)}};Object.assign(Object.create(null),{mixed,string:string$2,number,date,object,array,boolean,tuple});const isSchema=a=>a&&a.__isYupSchema__;class Condition{static fromOptions(e,o){if(!o.then&&!o.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:c,then:d,otherwise:h}=o,et=typeof c=="function"?c:(...tt)=>tt.every(ot=>ot===c);return new Condition(e,(tt,ot)=>{var ft;let ht=et(...tt)?d:h;return(ft=ht==null?void 0:ht(ot))!=null?ft:ot})}constructor(e,o){this.fn=void 0,this.refs=e,this.refs=e,this.fn=o}resolve(e,o){let c=this.refs.map(h=>h.getValue(o==null?void 0:o.value,o==null?void 0:o.parent,o==null?void 0:o.context)),d=this.fn(c,e,o);if(d===void 0||d===e)return e;if(!isSchema(d))throw new TypeError("conditions must return a schema object");return d.resolve(o)}}const prefixes={context:"$",value:"."};class Reference{constructor(e,o={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===prefixes.context,this.isValue=this.key[0]===prefixes.value,this.isSibling=!this.isContext&&!this.isValue;let c=this.isContext?prefixes.context:this.isValue?prefixes.value:"";this.path=this.key.slice(c.length),this.getter=this.path&&propertyExpr.getter(this.path,!0),this.map=o.map}getValue(e,o,c){let d=this.isContext?c:this.isValue?e:o;return this.getter&&(d=this.getter(d||{})),this.map&&(d=this.map(d)),d}cast(e,o){return this.getValue(e,o==null?void 0:o.parent,o==null?void 0:o.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Reference.prototype.__isYupRef=!0;const isAbsent=a=>a==null;function createValidation(a){function e({value:o,path:c="",options:d,originalValue:h,schema:et},tt,ot){const{name:ft,test:ht,params:yt,message:gt,skipAbsent:wt}=a;let{parent:bt,context:xt,abortEarly:Et=et.spec.abortEarly,disableStackTrace:vt=et.spec.disableStackTrace}=d;function $t(er){return Reference.isRef(er)?er.getValue(o,bt,xt):er}function At(er={}){const qt=Object.assign({value:o,originalValue:h,label:et.spec.label,path:er.path||c,spec:et.spec,disableStackTrace:er.disableStackTrace||vt},yt,er.params);for(const mt of Object.keys(qt))qt[mt]=$t(qt[mt]);const Ft=new ValidationError(ValidationError.formatError(er.message||gt,qt),o,qt.path,er.type||ft,qt.disableStackTrace);return Ft.params=qt,Ft}const kt=Et?tt:ot;let It={path:c,parent:bt,type:ft,from:d.from,createError:At,resolve:$t,options:d,originalValue:h,schema:et};const Dt=er=>{ValidationError.isError(er)?kt(er):er?ot(null):kt(At())},Mt=er=>{ValidationError.isError(er)?kt(er):tt(er)};if(wt&&isAbsent(o))return Dt(!0);let Kt;try{var Yt;if(Kt=ht.call(It,o,It),typeof((Yt=Kt)==null?void 0:Yt.then)=="function"){if(d.sync)throw new Error(`Validation test of type: "${It.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(Kt).then(Dt,Mt)}}catch(er){Mt(er);return}Dt(Kt)}return e.OPTIONS=a,e}function getIn(a,e,o,c=o){let d,h,et;return e?(propertyExpr.forEach(e,(tt,ot,ft)=>{let ht=ot?tt.slice(1,tt.length-1):tt;a=a.resolve({context:c,parent:d,value:o});let yt=a.type==="tuple",gt=ft?parseInt(ht,10):0;if(a.innerType||yt){if(yt&&!ft)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${et}" must contain an index to the tuple element, e.g. "${et}[0]"`);if(o&&gt>=o.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${tt}, in the path: ${e}. because there is no value at that index. `);d=o,o=o&&o[gt],a=yt?a.spec.types[gt]:a.innerType}if(!ft){if(!a.fields||!a.fields[ht])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${et} which is a type: "${a.type}")`);d=o,o=o&&o[ht],a=a.fields[ht]}h=ht,et=ot?"["+tt+"]":"."+tt}),{schema:a,parent:d,parentPath:h}):{parent:d,parentPath:e,schema:a}}class ReferenceSet extends Set{describe(){const e=[];for(const o of this.values())e.push(Reference.isRef(o)?o.describe():o);return e}resolveAll(e){let o=[];for(const c of this.values())o.push(e(c));return o}clone(){return new ReferenceSet(this.values())}merge(e,o){const c=this.clone();return e.forEach(d=>c.add(d)),o.forEach(d=>c.delete(d)),c}}function clone$1(a,e=new Map){if(isSchema(a)||!a||typeof a!="object")return a;if(e.has(a))return e.get(a);let o;if(a instanceof Date)o=new Date(a.getTime()),e.set(a,o);else if(a instanceof RegExp)o=new RegExp(a),e.set(a,o);else if(Array.isArray(a)){o=new Array(a.length),e.set(a,o);for(let c=0;c<a.length;c++)o[c]=clone$1(a[c],e)}else if(a instanceof Map){o=new Map,e.set(a,o);for(const[c,d]of a.entries())o.set(c,clone$1(d,e))}else if(a instanceof Set){o=new Set,e.set(a,o);for(const c of a)o.add(clone$1(c,e))}else if(a instanceof Object){o={},e.set(a,o);for(const[c,d]of Object.entries(a))o[c]=clone$1(d,e)}else throw Error(`Unable to clone ${a}`);return o}class Schema{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new ReferenceSet,this._blacklist=new ReferenceSet,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(mixed.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(o=>{o.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const o=Object.create(Object.getPrototypeOf(this));return o.type=this.type,o._typeCheck=this._typeCheck,o._whitelist=this._whitelist.clone(),o._blacklist=this._blacklist.clone(),o.internalTests=Object.assign({},this.internalTests),o.exclusiveTests=Object.assign({},this.exclusiveTests),o.deps=[...this.deps],o.conditions=[...this.conditions],o.tests=[...this.tests],o.transforms=[...this.transforms],o.spec=clone$1(Object.assign({},this.spec,e)),o}label(e){let o=this.clone();return o.spec.label=e,o}meta(...e){if(e.length===0)return this.spec.meta;let o=this.clone();return o.spec.meta=Object.assign(o.spec.meta||{},e[0]),o}withMutation(e){let o=this._mutate;this._mutate=!0;let c=e(this);return this._mutate=o,c}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let o=this,c=e.clone();const d=Object.assign({},o.spec,c.spec);return c.spec=d,c.internalTests=Object.assign({},o.internalTests,c.internalTests),c._whitelist=o._whitelist.merge(e._whitelist,e._blacklist),c._blacklist=o._blacklist.merge(e._blacklist,e._whitelist),c.tests=o.tests,c.exclusiveTests=o.exclusiveTests,c.withMutation(h=>{e.tests.forEach(et=>{h.test(et.OPTIONS)})}),c.transforms=[...o.transforms,...c.transforms],c}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let o=this;if(o.conditions.length){let c=o.conditions;o=o.clone(),o.conditions=[],o=c.reduce((d,h)=>h.resolve(d,e),o),o=o.resolve(e)}return o}resolveOptions(e){var o,c,d,h;return Object.assign({},e,{from:e.from||[],strict:(o=e.strict)!=null?o:this.spec.strict,abortEarly:(c=e.abortEarly)!=null?c:this.spec.abortEarly,recursive:(d=e.recursive)!=null?d:this.spec.recursive,disableStackTrace:(h=e.disableStackTrace)!=null?h:this.spec.disableStackTrace})}cast(e,o={}){let c=this.resolve(Object.assign({value:e},o)),d=o.assert==="ignore-optionality",h=c._cast(e,o);if(o.assert!==!1&&!c.isType(h)){if(d&&isAbsent(h))return h;let et=printValue(e),tt=printValue(h);throw new TypeError(`The value of ${o.path||"field"} could not be cast to a value that satisfies the schema type: "${c.type}". 

attempted value: ${et} 
`+(tt!==et?`result of cast: ${tt}`:""))}return h}_cast(e,o){let c=e===void 0?e:this.transforms.reduce((d,h)=>h.call(this,d,e,this),e);return c===void 0&&(c=this.getDefault(o)),c}_validate(e,o={},c,d){let{path:h,originalValue:et=e,strict:tt=this.spec.strict}=o,ot=e;tt||(ot=this._cast(ot,Object.assign({assert:!1},o)));let ft=[];for(let ht of Object.values(this.internalTests))ht&&ft.push(ht);this.runTests({path:h,value:ot,originalValue:et,options:o,tests:ft},c,ht=>{if(ht.length)return d(ht,ot);this.runTests({path:h,value:ot,originalValue:et,options:o,tests:this.tests},c,d)})}runTests(e,o,c){let d=!1,{tests:h,value:et,originalValue:tt,path:ot,options:ft}=e,ht=xt=>{d||(d=!0,o(xt,et))},yt=xt=>{d||(d=!0,c(xt,et))},gt=h.length,wt=[];if(!gt)return yt([]);let bt={value:et,originalValue:tt,path:ot,options:ft,schema:this};for(let xt=0;xt<h.length;xt++){const Et=h[xt];Et(bt,ht,function($t){$t&&(Array.isArray($t)?wt.push(...$t):wt.push($t)),--gt<=0&&yt(wt)})}}asNestedTest({key:e,index:o,parent:c,parentPath:d,originalParent:h,options:et}){const tt=e??o;if(tt==null)throw TypeError("Must include `key` or `index` for nested validations");const ot=typeof tt=="number";let ft=c[tt];const ht=Object.assign({},et,{strict:!0,parent:c,value:ft,originalValue:h[tt],key:void 0,[ot?"index":"key"]:tt,path:ot||tt.includes(".")?`${d||""}[${ot?tt:`"${tt}"`}]`:(d?`${d}.`:"")+e});return(yt,gt,wt)=>this.resolve(ht)._validate(ft,ht,gt,wt)}validate(e,o){var c;let d=this.resolve(Object.assign({},o,{value:e})),h=(c=o==null?void 0:o.disableStackTrace)!=null?c:d.spec.disableStackTrace;return new Promise((et,tt)=>d._validate(e,o,(ot,ft)=>{ValidationError.isError(ot)&&(ot.value=ft),tt(ot)},(ot,ft)=>{ot.length?tt(new ValidationError(ot,ft,void 0,void 0,h)):et(ft)}))}validateSync(e,o){var c;let d=this.resolve(Object.assign({},o,{value:e})),h,et=(c=o==null?void 0:o.disableStackTrace)!=null?c:d.spec.disableStackTrace;return d._validate(e,Object.assign({},o,{sync:!0}),(tt,ot)=>{throw ValidationError.isError(tt)&&(tt.value=ot),tt},(tt,ot)=>{if(tt.length)throw new ValidationError(tt,e,void 0,void 0,et);h=ot}),h}isValid(e,o){return this.validate(e,o).then(()=>!0,c=>{if(ValidationError.isError(c))return!1;throw c})}isValidSync(e,o){try{return this.validateSync(e,o),!0}catch(c){if(ValidationError.isError(c))return!1;throw c}}_getDefault(e){let o=this.spec.default;return o==null?o:typeof o=="function"?o.call(this,e):clone$1(o)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,o){const c=this.clone({nullable:e});return c.internalTests.nullable=createValidation({message:o,name:"nullable",test(d){return d===null?this.schema.spec.nullable:!0}}),c}optionality(e,o){const c=this.clone({optional:e});return c.internalTests.optionality=createValidation({message:o,name:"optionality",test(d){return d===void 0?this.schema.spec.optional:!0}}),c}optional(){return this.optionality(!0)}defined(e=mixed.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=mixed.notNull){return this.nullability(!1,e)}required(e=mixed.required){return this.clone().withMutation(o=>o.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let o=this.clone();return o.transforms.push(e),o}test(...e){let o;if(e.length===1?typeof e[0]=="function"?o={test:e[0]}:o=e[0]:e.length===2?o={name:e[0],test:e[1]}:o={name:e[0],message:e[1],test:e[2]},o.message===void 0&&(o.message=mixed.default),typeof o.test!="function")throw new TypeError("`test` is a required parameters");let c=this.clone(),d=createValidation(o),h=o.exclusive||o.name&&c.exclusiveTests[o.name]===!0;if(o.exclusive&&!o.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return o.name&&(c.exclusiveTests[o.name]=!!o.exclusive),c.tests=c.tests.filter(et=>!(et.OPTIONS.name===o.name&&(h||et.OPTIONS.test===d.OPTIONS.test))),c.tests.push(d),c}when(e,o){!Array.isArray(e)&&typeof e!="string"&&(o=e,e=".");let c=this.clone(),d=toArray(e).map(h=>new Reference(h));return d.forEach(h=>{h.isSibling&&c.deps.push(h.key)}),c.conditions.push(typeof o=="function"?new Condition(d,o):Condition.fromOptions(d,o)),c}typeError(e){let o=this.clone();return o.internalTests.typeError=createValidation({message:e,name:"typeError",skipAbsent:!0,test(c){return this.schema._typeCheck(c)?!0:this.createError({params:{type:this.schema.type}})}}),o}oneOf(e,o=mixed.oneOf){let c=this.clone();return e.forEach(d=>{c._whitelist.add(d),c._blacklist.delete(d)}),c.internalTests.whiteList=createValidation({message:o,name:"oneOf",skipAbsent:!0,test(d){let h=this.schema._whitelist,et=h.resolveAll(this.resolve);return et.includes(d)?!0:this.createError({params:{values:Array.from(h).join(", "),resolved:et}})}}),c}notOneOf(e,o=mixed.notOneOf){let c=this.clone();return e.forEach(d=>{c._blacklist.add(d),c._whitelist.delete(d)}),c.internalTests.blacklist=createValidation({message:o,name:"notOneOf",test(d){let h=this.schema._blacklist,et=h.resolveAll(this.resolve);return et.includes(d)?this.createError({params:{values:Array.from(h).join(", "),resolved:et}}):!0}}),c}strip(e=!0){let o=this.clone();return o.spec.strip=e,o}describe(e){const o=(e?this.resolve(e):this).clone(),{label:c,meta:d,optional:h,nullable:et}=o.spec;return{meta:d,label:c,optional:h,nullable:et,default:o.getDefault(e),type:o.type,oneOf:o._whitelist.describe(),notOneOf:o._blacklist.describe(),tests:o.tests.map(ot=>({name:ot.OPTIONS.name,params:ot.OPTIONS.params})).filter((ot,ft,ht)=>ht.findIndex(yt=>yt.name===ot.name)===ft)}}}Schema.prototype.__isYupSchema__=!0;for(const a of["validate","validateSync"])Schema.prototype[`${a}At`]=function(e,o,c={}){const{parent:d,parentPath:h,schema:et}=getIn(this,e,o,c.context);return et[a](d&&d[h],Object.assign({},c,{parent:d,path:e}))};for(const a of["equals","is"])Schema.prototype[a]=Schema.prototype.oneOf;for(const a of["not","nope"])Schema.prototype[a]=Schema.prototype.notOneOf;const returnsTrue=()=>!0;function create$8(a){return new MixedSchema(a)}class MixedSchema extends Schema{constructor(e){super(typeof e=="function"?{type:"mixed",check:e}:Object.assign({type:"mixed",check:returnsTrue},e))}}create$8.prototype=MixedSchema.prototype;function create$7(){return new BooleanSchema}class BooleanSchema extends Schema{constructor(){super({type:"boolean",check(e){return e instanceof Boolean&&(e=e.valueOf()),typeof e=="boolean"}}),this.withMutation(()=>{this.transform((e,o,c)=>{if(c.spec.coerce&&!c.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(e=boolean.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test(o){return isAbsent(o)||o===!0}})}isFalse(e=boolean.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test(o){return isAbsent(o)||o===!1}})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}create$7.prototype=BooleanSchema.prototype;const isoReg=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function parseIsoDate(a){const e=parseDateStruct(a);if(!e)return Date.parse?Date.parse(a):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let o=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(o=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(o=0-o)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+o,e.second,e.millisecond)}function parseDateStruct(a){var e,o;const c=isoReg.exec(a);return c?{year:toNumber(c[1]),month:toNumber(c[2],1)-1,day:toNumber(c[3],1),hour:toNumber(c[4]),minute:toNumber(c[5]),second:toNumber(c[6]),millisecond:c[7]?toNumber(c[7].substring(0,3)):0,precision:(e=(o=c[7])==null?void 0:o.length)!=null?e:void 0,z:c[8]||void 0,plusMinus:c[9]||void 0,hourOffset:toNumber(c[10]),minuteOffset:toNumber(c[11])}:null}function toNumber(a,e=0){return Number(a)||e}let rEmail=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,rUrl=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,rUUID=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,yearMonthDay="^\\d{4}-\\d{2}-\\d{2}",hourMinuteSecond="\\d{2}:\\d{2}:\\d{2}",zOrOffset="(([+-]\\d{2}(:?\\d{2})?)|Z)",rIsoDateTime=new RegExp(`${yearMonthDay}T${hourMinuteSecond}(\\.\\d+)?${zOrOffset}$`),isTrimmed=a=>isAbsent(a)||a===a.trim(),objStringTag={}.toString();function create$6$1(){return new StringSchema}class StringSchema extends Schema{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,o,c)=>{if(!c.spec.coerce||c.isType(e)||Array.isArray(e))return e;const d=e!=null&&e.toString?e.toString():e;return d===objStringTag?e:d})})}required(e){return super.required(e).withMutation(o=>o.test({message:e||mixed.required,name:"required",skipAbsent:!0,test:c=>!!c.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(o=>o.OPTIONS.name!=="required"),e))}length(e,o=string$2.length){return this.test({message:o,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(c){return c.length===this.resolve(e)}})}min(e,o=string$2.min){return this.test({message:o,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(c){return c.length>=this.resolve(e)}})}max(e,o=string$2.max){return this.test({name:"max",exclusive:!0,message:o,params:{max:e},skipAbsent:!0,test(c){return c.length<=this.resolve(e)}})}matches(e,o){let c=!1,d,h;return o&&(typeof o=="object"?{excludeEmptyString:c=!1,message:d,name:h}=o:d=o),this.test({name:h||"matches",message:d||string$2.matches,params:{regex:e},skipAbsent:!0,test:et=>et===""&&c||et.search(e)!==-1})}email(e=string$2.email){return this.matches(rEmail,{name:"email",message:e,excludeEmptyString:!0})}url(e=string$2.url){return this.matches(rUrl,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=string$2.uuid){return this.matches(rUUID,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let o="",c,d;return e&&(typeof e=="object"?{message:o="",allowOffset:c=!1,precision:d=void 0}=e:o=e),this.matches(rIsoDateTime,{name:"datetime",message:o||string$2.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:o||string$2.datetime_offset,params:{allowOffset:c},skipAbsent:!0,test:h=>{if(!h||c)return!0;const et=parseDateStruct(h);return et?!!et.z:!1}}).test({name:"datetime_precision",message:o||string$2.datetime_precision,params:{precision:d},skipAbsent:!0,test:h=>{if(!h||d==null)return!0;const et=parseDateStruct(h);return et?et.precision===d:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=string$2.trim){return this.transform(o=>o!=null?o.trim():o).test({message:e,name:"trim",test:isTrimmed})}lowercase(e=string$2.lowercase){return this.transform(o=>isAbsent(o)?o:o.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:o=>isAbsent(o)||o===o.toLowerCase()})}uppercase(e=string$2.uppercase){return this.transform(o=>isAbsent(o)?o:o.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:o=>isAbsent(o)||o===o.toUpperCase()})}}create$6$1.prototype=StringSchema.prototype;let isNaN$1=a=>a!=+a;function create$5$1(){return new NumberSchema}class NumberSchema extends Schema{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!isNaN$1(e)}}),this.withMutation(()=>{this.transform((e,o,c)=>{if(!c.spec.coerce)return e;let d=e;if(typeof d=="string"){if(d=d.replace(/\s/g,""),d==="")return NaN;d=+d}return c.isType(d)||d===null?d:parseFloat(d)})})}min(e,o=number.min){return this.test({message:o,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(c){return c>=this.resolve(e)}})}max(e,o=number.max){return this.test({message:o,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(c){return c<=this.resolve(e)}})}lessThan(e,o=number.lessThan){return this.test({message:o,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(c){return c<this.resolve(e)}})}moreThan(e,o=number.moreThan){return this.test({message:o,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(c){return c>this.resolve(e)}})}positive(e=number.positive){return this.moreThan(0,e)}negative(e=number.negative){return this.lessThan(0,e)}integer(e=number.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:o=>Number.isInteger(o)})}truncate(){return this.transform(e=>isAbsent(e)?e:e|0)}round(e){var o;let c=["ceil","floor","round","trunc"];if(e=((o=e)==null?void 0:o.toLowerCase())||"round",e==="trunc")return this.truncate();if(c.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+c.join(", "));return this.transform(d=>isAbsent(d)?d:Math[e](d))}}create$5$1.prototype=NumberSchema.prototype;let invalidDate=new Date(""),isDate=a=>Object.prototype.toString.call(a)==="[object Date]";class DateSchema extends Schema{constructor(){super({type:"date",check(e){return isDate(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,o,c)=>!c.spec.coerce||c.isType(e)||e===null?e:(e=parseIsoDate(e),isNaN(e)?DateSchema.INVALID_DATE:new Date(e)))})}prepareParam(e,o){let c;if(Reference.isRef(e))c=e;else{let d=this.cast(e);if(!this._typeCheck(d))throw new TypeError(`\`${o}\` must be a Date or a value that can be \`cast()\` to a Date`);c=d}return c}min(e,o=date.min){let c=this.prepareParam(e,"min");return this.test({message:o,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(d){return d>=this.resolve(c)}})}max(e,o=date.max){let c=this.prepareParam(e,"max");return this.test({message:o,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(d){return d<=this.resolve(c)}})}}DateSchema.INVALID_DATE=invalidDate;DateSchema.prototype;function sortFields(a,e=[]){let o=[],c=new Set,d=new Set(e.map(([et,tt])=>`${et}-${tt}`));function h(et,tt){let ot=propertyExpr.split(et)[0];c.add(ot),d.has(`${tt}-${ot}`)||o.push([tt,ot])}for(const et of Object.keys(a)){let tt=a[et];c.add(et),Reference.isRef(tt)&&tt.isSibling?h(tt.path,et):isSchema(tt)&&"deps"in tt&&tt.deps.forEach(ot=>h(ot,et))}return toposort$1.array(Array.from(c),o).reverse()}function findIndex(a,e){let o=1/0;return a.some((c,d)=>{var h;if((h=e.path)!=null&&h.includes(c))return o=d,!0}),o}function sortByKeyOrder(a){return(e,o)=>findIndex(a,e)-findIndex(a,o)}const parseJson=(a,e,o)=>{if(typeof a!="string")return a;let c=a;try{c=JSON.parse(a)}catch{}return o.isType(c)?c:a};function deepPartial(a){if("fields"in a){const e={};for(const[o,c]of Object.entries(a.fields))e[o]=deepPartial(c);return a.setFields(e)}if(a.type==="array"){const e=a.optional();return e.innerType&&(e.innerType=deepPartial(e.innerType)),e}return a.type==="tuple"?a.optional().clone({types:a.spec.types.map(deepPartial)}):"optional"in a?a.optional():a}const deepHas=(a,e)=>{const o=[...propertyExpr.normalizePath(e)];if(o.length===1)return o[0]in a;let c=o.pop(),d=propertyExpr.getter(propertyExpr.join(o),!0)(a);return!!(d&&c in d)};let isObject=a=>Object.prototype.toString.call(a)==="[object Object]";function unknown(a,e){let o=Object.keys(a.fields);return Object.keys(e).filter(c=>o.indexOf(c)===-1)}const defaultSort=sortByKeyOrder([]);function create$3$1(a){return new ObjectSchema(a)}class ObjectSchema extends Schema{constructor(e){super({type:"object",check(o){return isObject(o)||typeof o=="function"}}),this.fields=Object.create(null),this._sortErrors=defaultSort,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,o={}){var c;let d=super._cast(e,o);if(d===void 0)return this.getDefault(o);if(!this._typeCheck(d))return d;let h=this.fields,et=(c=o.stripUnknown)!=null?c:this.spec.noUnknown,tt=[].concat(this._nodes,Object.keys(d).filter(yt=>!this._nodes.includes(yt))),ot={},ft=Object.assign({},o,{parent:ot,__validating:o.__validating||!1}),ht=!1;for(const yt of tt){let gt=h[yt],wt=yt in d;if(gt){let bt,xt=d[yt];ft.path=(o.path?`${o.path}.`:"")+yt,gt=gt.resolve({value:xt,context:o.context,parent:ot});let Et=gt instanceof Schema?gt.spec:void 0,vt=Et==null?void 0:Et.strict;if(Et!=null&&Et.strip){ht=ht||yt in d;continue}bt=!o.__validating||!vt?gt.cast(d[yt],ft):d[yt],bt!==void 0&&(ot[yt]=bt)}else wt&&!et&&(ot[yt]=d[yt]);(wt!==yt in ot||ot[yt]!==d[yt])&&(ht=!0)}return ht?ot:d}_validate(e,o={},c,d){let{from:h=[],originalValue:et=e,recursive:tt=this.spec.recursive}=o;o.from=[{schema:this,value:et},...h],o.__validating=!0,o.originalValue=et,super._validate(e,o,c,(ot,ft)=>{if(!tt||!isObject(ft)){d(ot,ft);return}et=et||ft;let ht=[];for(let yt of this._nodes){let gt=this.fields[yt];!gt||Reference.isRef(gt)||ht.push(gt.asNestedTest({options:o,key:yt,parent:ft,parentPath:o.path,originalParent:et}))}this.runTests({tests:ht,value:ft,originalValue:et,options:o},c,yt=>{d(yt.sort(this._sortErrors).concat(ot),ft)})})}clone(e){const o=super.clone(e);return o.fields=Object.assign({},this.fields),o._nodes=this._nodes,o._excludedEdges=this._excludedEdges,o._sortErrors=this._sortErrors,o}concat(e){let o=super.concat(e),c=o.fields;for(let[d,h]of Object.entries(this.fields)){const et=c[d];c[d]=et===void 0?h:et}return o.withMutation(d=>d.setFields(c,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let o={};return this._nodes.forEach(c=>{var d;const h=this.fields[c];let et=e;(d=et)!=null&&d.value&&(et=Object.assign({},et,{parent:et.value,value:et.value[c]})),o[c]=h&&"getDefault"in h?h.getDefault(et):void 0}),o}setFields(e,o){let c=this.clone();return c.fields=e,c._nodes=sortFields(e,o),c._sortErrors=sortByKeyOrder(Object.keys(e)),o&&(c._excludedEdges=o),c}shape(e,o=[]){return this.clone().withMutation(c=>{let d=c._excludedEdges;return o.length&&(Array.isArray(o[0])||(o=[o]),d=[...c._excludedEdges,...o]),c.setFields(Object.assign(c.fields,e),d)})}partial(){const e={};for(const[o,c]of Object.entries(this.fields))e[o]="optional"in c&&c.optional instanceof Function?c.optional():c;return this.setFields(e)}deepPartial(){return deepPartial(this)}pick(e){const o={};for(const c of e)this.fields[c]&&(o[c]=this.fields[c]);return this.setFields(o,this._excludedEdges.filter(([c,d])=>e.includes(c)&&e.includes(d)))}omit(e){const o=[];for(const c of Object.keys(this.fields))e.includes(c)||o.push(c);return this.pick(o)}from(e,o,c){let d=propertyExpr.getter(e,!0);return this.transform(h=>{if(!h)return h;let et=h;return deepHas(h,e)&&(et=Object.assign({},h),c||delete et[e],et[o]=d(h)),et})}json(){return this.transform(parseJson)}noUnknown(e=!0,o=object.noUnknown){typeof e!="boolean"&&(o=e,e=!0);let c=this.test({name:"noUnknown",exclusive:!0,message:o,test(d){if(d==null)return!0;const h=unknown(this.schema,d);return!e||h.length===0||this.createError({params:{unknown:h.join(", ")}})}});return c.spec.noUnknown=e,c}unknown(e=!0,o=object.noUnknown){return this.noUnknown(!e,o)}transformKeys(e){return this.transform(o=>{if(!o)return o;const c={};for(const d of Object.keys(o))c[e(d)]=o[d];return c})}camelCase(){return this.transformKeys(tinyCase.camelCase)}snakeCase(){return this.transformKeys(tinyCase.snakeCase)}constantCase(){return this.transformKeys(e=>tinyCase.snakeCase(e).toUpperCase())}describe(e){const o=(e?this.resolve(e):this).clone(),c=super.describe(e);c.fields={};for(const[h,et]of Object.entries(o.fields)){var d;let tt=e;(d=tt)!=null&&d.value&&(tt=Object.assign({},tt,{parent:tt.value,value:tt.value[h]})),c.fields[h]=et.describe(tt)}return c}}create$3$1.prototype=ObjectSchema.prototype;function create$2$1(a){return new ArraySchema(a)}class ArraySchema extends Schema{constructor(e){super({type:"array",spec:{types:e},check(o){return Array.isArray(o)}}),this.innerType=void 0,this.innerType=e}_cast(e,o){const c=super._cast(e,o);if(!this._typeCheck(c)||!this.innerType)return c;let d=!1;const h=c.map((et,tt)=>{const ot=this.innerType.cast(et,Object.assign({},o,{path:`${o.path||""}[${tt}]`}));return ot!==et&&(d=!0),ot});return d?h:c}_validate(e,o={},c,d){var h;let et=this.innerType,tt=(h=o.recursive)!=null?h:this.spec.recursive;o.originalValue!=null&&o.originalValue,super._validate(e,o,c,(ot,ft)=>{var ht;if(!tt||!et||!this._typeCheck(ft)){d(ot,ft);return}let yt=new Array(ft.length);for(let wt=0;wt<ft.length;wt++){var gt;yt[wt]=et.asNestedTest({options:o,index:wt,parent:ft,parentPath:o.path,originalParent:(gt=o.originalValue)!=null?gt:e})}this.runTests({value:ft,tests:yt,originalValue:(ht=o.originalValue)!=null?ht:e,options:o},c,wt=>d(wt.concat(ot),ft))})}clone(e){const o=super.clone(e);return o.innerType=this.innerType,o}json(){return this.transform(parseJson)}concat(e){let o=super.concat(e);return o.innerType=this.innerType,e.innerType&&(o.innerType=o.innerType?o.innerType.concat(e.innerType):e.innerType),o}of(e){let o=this.clone();if(!isSchema(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+printValue(e));return o.innerType=e,o.spec=Object.assign({},o.spec,{types:e}),o}length(e,o=array.length){return this.test({message:o,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(c){return c.length===this.resolve(e)}})}min(e,o){return o=o||array.min,this.test({message:o,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(c){return c.length>=this.resolve(e)}})}max(e,o){return o=o||array.max,this.test({message:o,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(c){return c.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,o)=>this._typeCheck(e)?e:o==null?[]:[].concat(o))}compact(e){let o=e?(c,d,h)=>!e(c,d,h):c=>!!c;return this.transform(c=>c!=null?c.filter(o):c)}describe(e){const o=(e?this.resolve(e):this).clone(),c=super.describe(e);if(o.innerType){var d;let h=e;(d=h)!=null&&d.value&&(h=Object.assign({},h,{parent:h.value,value:h.value[0]})),c.innerType=o.innerType.describe(h)}return c}}create$2$1.prototype=ArraySchema.prototype;function create$9(a){return new Lazy(a)}class Lazy{constructor(e){this.type="lazy",this.__isYupSchema__=!0,this.spec=void 0,this._resolve=(o,c={})=>{let d=this.builder(o,c);if(!isSchema(d))throw new TypeError("lazy() functions must return a valid schema");return this.spec.optional&&(d=d.optional()),d.resolve(c)},this.builder=e,this.spec={meta:void 0,optional:!1}}clone(e){const o=new Lazy(this.builder);return o.spec=Object.assign({},this.spec,e),o}optionality(e){return this.clone({optional:e})}optional(){return this.optionality(!0)}resolve(e){return this._resolve(e.value,e)}cast(e,o){return this._resolve(e,o).cast(e,o)}asNestedTest(e){let{key:o,index:c,parent:d,options:h}=e,et=d[c??o];return this._resolve(et,Object.assign({},h,{value:et,parent:d})).asNestedTest(e)}validate(e,o){return this._resolve(e,o).validate(e,o)}validateSync(e,o){return this._resolve(e,o).validateSync(e,o)}validateAt(e,o,c){return this._resolve(o,c).validateAt(e,o,c)}validateSyncAt(e,o,c){return this._resolve(o,c).validateSyncAt(e,o,c)}isValid(e,o){return this._resolve(e,o).isValid(e,o)}isValidSync(e,o){return this._resolve(e,o).isValidSync(e,o)}describe(e){return e?this.resolve(e).describe(e):{type:"lazy",meta:this.spec.meta,label:void 0}}meta(...e){if(e.length===0)return this.spec.meta;let o=this.clone();return o.spec.meta=Object.assign(o.spec.meta||{},e[0]),o}}const getPropsToCopy=a=>{const{name:e,message:o,stack:c,constructor:d,originalError:h,toJSON:et,...tt}=a;return tt};class ConfigurationError extends Error{constructor(...e){super(...e),this.name=this.constructor.name}}class Web3ProviderError extends Error{constructor(e,o){super(e),this.name=this.constructor.name,this.originalError=o,o&&typeof o=="object"&&Object.assign(this,getPropsToCopy(o))}}class Web3ProviderCallError extends Web3ProviderError{constructor(...e){super(...e),this.name=this.constructor.name}}class Web3ProviderSendError extends Web3ProviderError{constructor(...e){super(...e),this.name=this.constructor.name}}class Web3ProviderSignMessageError extends Web3ProviderError{constructor(...e){super(...e),this.name=this.constructor.name}}class ObjectNotFoundError extends Error{constructor(e,o,c){super(`No ${e} found for id ${o} on chain ${c}`),this.name=this.constructor.name,this.objName=e,this.chainId=c,this.objectId=o}}class BridgeError extends Error{constructor(e,o){super(`Failed to get bridged chain confirmation for transaction ${o}`),this.name=this.constructor.name,this.sendTxHash=o,this.originalError=e,e&&typeof e=="object"&&Object.assign(this,getPropsToCopy(e))}}const APP="app",DATASET="dataset",WORKERPOOL="workerpool",APP_ORDER="apporder",DATASET_ORDER="datasetorder",WORKERPOOL_ORDER="workerpoolorder",REQUEST_ORDER="requestorder",NULL_BYTES="0x",NULL_ADDRESS="0x0000000000000000000000000000000000000000",NULL_BYTES32="0x0000000000000000000000000000000000000000000000000000000000000000",NULL_DATASETORDER={dataset:NULL_ADDRESS,datasetprice:0,volume:0,tag:NULL_BYTES32,apprestrict:NULL_ADDRESS,workerpoolrestrict:NULL_ADDRESS,requesterrestrict:NULL_ADDRESS,salt:NULL_BYTES32,sign:NULL_BYTES},WORKERPOOL_URL_TEXT_RECORD_KEY="iexec:workerpool-api:url",TEE_FRAMEWORKS={SCONE:"scone",GRAMINE:"gramine"},STORAGE_PROVIDERS={IPFS:"ipfs",DROPBOX:"dropbox"},IEXEC_REQUEST_PARAMS={IEXEC_ARGS:"iexec_args",IEXEC_INPUT_FILES:"iexec_input_files",IEXEC_SECRETS:"iexec_secrets",IEXEC_RESULT_ENCRYPTION:"iexec_result_encryption",IEXEC_RESULT_STORAGE_PROVIDER:"iexec_result_storage_provider",IEXEC_RESULT_STORAGE_PROXY:"iexec_result_storage_proxy",IEXEC_DEVELOPER_LOGGER:"iexec_developer_logger"},ANY="any",BN=BN$1,debug$v=Debug("iexec:utils"),bytes32Regex=/^(0x)([0-9a-f]{2}){32}$/,isBigInt=a=>typeof a=="bigint",bnToBigInt=a=>BigInt(a.toString()),bigIntToBn=a=>new BN(a.toString()),stringify$1=a=>a.toString(),formatRLC=a=>{try{return formatUnits(stringify$1(a),9)}catch(e){throw debug$v("formatRLC()",e),Error("Invalid nRLC")}},isRlcUnit=a=>["nRLC","RLC"].includes(a),parseRLC=(a,e="RLC")=>{const[o,c]=stringify$1(a).split(" "),d=c!==void 0?c:e;if(!isRlcUnit(d))throw Error("Invalid token unit");const h=d==="RLC"?9:0;try{return bigIntToBn(parseUnits$1(o,h))}catch(et){throw debug$v("parseRLC()",et),Error("Invalid token amount")}},isEthUnit=a=>["wei","kwei","mwei","gwei","szabo","finney","ether","eth"].includes(a),parseEth=(a,e="ether")=>{const[o,c]=stringify$1(a).split(" "),d=c!==void 0?c:e;if(!isEthUnit(d))throw Error("Invalid ether unit");try{return bigIntToBn(parseUnits$1(o,d==="eth"?"ether":d))}catch(h){throw debug$v("formatEth()",h),Error("Invalid ether amount")}},truncateBnWeiToBnNRlc=a=>{const e=a.toString(),o=e.length>9?e.slice(0,-9):"0";return new BN(o)},bnNRlcToBnWei=a=>{const e=a.toString(),o=e!=="0"?e.concat("000000000"):"0";return new BN(o)},bnifyNestedBigInt=a=>{const e=Array.isArray(a)?[]:{};return Object.entries(a).forEach(o=>{const[c,d]=o;isBigInt(d)?e[c]=bigIntToBn(d):typeof d=="object"&&d!==null?e[c]=bnifyNestedBigInt(d):e[c]=d}),e},checksummedAddress=a=>getAddress$1(a),utf8ToBuffer=a=>buffer$1.Buffer.from(a,"utf8"),hexToBuffer=a=>buffer$1.Buffer.from(a.substr(2),"hex"),multiaddrHexToHuman=a=>{let e;const o=hexToBuffer(a);try{e=multiaddr$1(new Uint8Array(o)).toString()}catch{e=o.toString()}return e},humanToMultiaddrBuffer=(a,{strict:e=!0}={})=>{let o;try{o=buffer$1.Buffer.from(multiaddr$1(a).bytes)}catch(c){if(e)throw c;o=utf8ToBuffer(a)}return o},formatEthersResult=a=>{if(!(a instanceof Result))throw new TypeError(`value must be a ${Result.name}`);const e=a.toObject();return e._!==void 0||Object.keys(e).length===0?a.toArray().map(c=>c instanceof Result?formatEthersResult(c):typeof c=="bigint"?bigIntToBn(c):c):(Object.entries(e).forEach(([o,c])=>{c instanceof Result?e[o]=formatEthersResult(c):typeof c=="bigint"&&(e[o]=bigIntToBn(c))}),e)},checkEventFromLogs=(a,e=[])=>e.find(o=>o.eventName===a)!==void 0,getEventFromLogs=(a,e,{strict:o=!0}={})=>{const c=e.find(d=>d.eventName===a);if(!c){if(o)throw new Error(`Unknown event ${a}`);return}return c},getSalt=()=>hexlify$1(randomBytes$1(32)),TAG_MAP={tee:0,[TEE_FRAMEWORKS.SCONE]:1,[TEE_FRAMEWORKS.GRAMINE]:2,gpu:8};Object.assign(TAG_MAP,Object.fromEntries(Object.entries(TAG_MAP).map(([a,e])=>[e,a])));const encodeTag$1=a=>{const e=new Array(256).fill(!1);a.forEach(d=>{if(d!==""){if(TAG_MAP[d]===void 0||typeof TAG_MAP[d]!="number")throw new ValidationError(`Unknown tag ${d}`);e[TAG_MAP[d]]=!0}});const o=e.reduce((d,h)=>h?`1${d}`:`0${d}`,""),c=new BN(o,2).toString("hex");return NULL_BYTES32.substring(0,66-c.length).concat(c)},sumTags=a=>{const e=a.map(d=>{if(typeof d!="string"||!d.match(bytes32Regex))throw new ValidationError("tag must be bytes32 hex string");return new BN(d.substring(2),"hex").toString(2)});let o="";for(let d=0;d<255;d+=1){let h="0";e.forEach(et=>{et.charAt(et.length-d-1)==="1"&&(h="1")}),o=h+o}const c=new BN(o,2).toString("hex");return NULL_BYTES32.substring(0,66-c.length).concat(c)},findMissingBitsInTag=(a,e)=>{if(typeof a!="string"||!bytes32Regex.test(a))throw new ValidationError("tag must be bytes32 hex string");if(typeof e!="string"||!bytes32Regex.test(e))throw new ValidationError("requiredTag must be bytes32 hex string");const o=new BN(a.substring(2),"hex").toString(2),c=new BN(e.substring(2),"hex").toString(2),d=[];for(let h=0;h<c.length;h+=1)c.charAt(c.length-h-1)==="1"&&o.charAt(o.length-h-1)!=="1"&&d.push(h);return d},checkActiveBitInTag=(a,e)=>{if(typeof a!="string"||!bytes32Regex.test(a))throw new ValidationError("tag must be bytes32 hex string");if(typeof e!="number"||e<0||e>255)throw new ValidationError("Invalid bit tag");const o=new BN(a.substring(2),"hex").toString(2);return o.charAt(o.length-e-1)==="1"},tagBitToHuman=a=>{if(typeof a!="number"||a<0||a>255)throw new ValidationError("Invalid bit tag");return TAG_MAP[a]||a},checkSigner=a=>{if(!(a&&a.signer))throw new ConfigurationError("The current provider is not a signer, impossible to sign messages or transactions")},FETCH_INTERVAL=5e3;function commonjsRequire(a){throw new Error('Could not dynamically require "'+a+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var jszip_min={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(a,e){(function(o){a.exports=o()})(function(){return function o(c,d,h){function et(ft,ht){if(!d[ft]){if(!c[ft]){var yt=typeof commonjsRequire=="function"&&commonjsRequire;if(!ht&&yt)return yt(ft,!0);if(tt)return tt(ft,!0);var gt=new Error("Cannot find module '"+ft+"'");throw gt.code="MODULE_NOT_FOUND",gt}var wt=d[ft]={exports:{}};c[ft][0].call(wt.exports,function(bt){var xt=c[ft][1][bt];return et(xt||bt)},wt,wt.exports,o,c,d,h)}return d[ft].exports}for(var tt=typeof commonjsRequire=="function"&&commonjsRequire,ot=0;ot<h.length;ot++)et(h[ot]);return et}({1:[function(o,c,d){var h=o("./utils"),et=o("./support"),tt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";d.encode=function(ot){for(var ft,ht,yt,gt,wt,bt,xt,Et=[],vt=0,$t=ot.length,At=$t,kt=h.getTypeOf(ot)!=="string";vt<ot.length;)At=$t-vt,yt=kt?(ft=ot[vt++],ht=vt<$t?ot[vt++]:0,vt<$t?ot[vt++]:0):(ft=ot.charCodeAt(vt++),ht=vt<$t?ot.charCodeAt(vt++):0,vt<$t?ot.charCodeAt(vt++):0),gt=ft>>2,wt=(3&ft)<<4|ht>>4,bt=1<At?(15&ht)<<2|yt>>6:64,xt=2<At?63&yt:64,Et.push(tt.charAt(gt)+tt.charAt(wt)+tt.charAt(bt)+tt.charAt(xt));return Et.join("")},d.decode=function(ot){var ft,ht,yt,gt,wt,bt,xt=0,Et=0,vt="data:";if(ot.substr(0,vt.length)===vt)throw new Error("Invalid base64 input, it looks like a data url.");var $t,At=3*(ot=ot.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(ot.charAt(ot.length-1)===tt.charAt(64)&&At--,ot.charAt(ot.length-2)===tt.charAt(64)&&At--,At%1!=0)throw new Error("Invalid base64 input, bad content length.");for($t=et.uint8array?new Uint8Array(0|At):new Array(0|At);xt<ot.length;)ft=tt.indexOf(ot.charAt(xt++))<<2|(gt=tt.indexOf(ot.charAt(xt++)))>>4,ht=(15&gt)<<4|(wt=tt.indexOf(ot.charAt(xt++)))>>2,yt=(3&wt)<<6|(bt=tt.indexOf(ot.charAt(xt++))),$t[Et++]=ft,wt!==64&&($t[Et++]=ht),bt!==64&&($t[Et++]=yt);return $t}},{"./support":30,"./utils":32}],2:[function(o,c,d){var h=o("./external"),et=o("./stream/DataWorker"),tt=o("./stream/Crc32Probe"),ot=o("./stream/DataLengthProbe");function ft(ht,yt,gt,wt,bt){this.compressedSize=ht,this.uncompressedSize=yt,this.crc32=gt,this.compression=wt,this.compressedContent=bt}ft.prototype={getContentWorker:function(){var ht=new et(h.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new ot("data_length")),yt=this;return ht.on("end",function(){if(this.streamInfo.data_length!==yt.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),ht},getCompressedWorker:function(){return new et(h.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},ft.createWorkerFrom=function(ht,yt,gt){return ht.pipe(new tt).pipe(new ot("uncompressedSize")).pipe(yt.compressWorker(gt)).pipe(new ot("compressedSize")).withStreamInfo("compression",yt)},c.exports=ft},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(o,c,d){var h=o("./stream/GenericWorker");d.STORE={magic:"\0\0",compressWorker:function(){return new h("STORE compression")},uncompressWorker:function(){return new h("STORE decompression")}},d.DEFLATE=o("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(o,c,d){var h=o("./utils"),et=function(){for(var tt,ot=[],ft=0;ft<256;ft++){tt=ft;for(var ht=0;ht<8;ht++)tt=1&tt?3988292384^tt>>>1:tt>>>1;ot[ft]=tt}return ot}();c.exports=function(tt,ot){return tt!==void 0&&tt.length?h.getTypeOf(tt)!=="string"?function(ft,ht,yt,gt){var wt=et,bt=gt+yt;ft^=-1;for(var xt=gt;xt<bt;xt++)ft=ft>>>8^wt[255&(ft^ht[xt])];return-1^ft}(0|ot,tt,tt.length,0):function(ft,ht,yt,gt){var wt=et,bt=gt+yt;ft^=-1;for(var xt=gt;xt<bt;xt++)ft=ft>>>8^wt[255&(ft^ht.charCodeAt(xt))];return-1^ft}(0|ot,tt,tt.length,0):0}},{"./utils":32}],5:[function(o,c,d){d.base64=!1,d.binary=!1,d.dir=!1,d.createFolders=!0,d.date=null,d.compression=null,d.compressionOptions=null,d.comment=null,d.unixPermissions=null,d.dosPermissions=null},{}],6:[function(o,c,d){var h=null;h=typeof Promise<"u"?Promise:o("lie"),c.exports={Promise:h}},{lie:37}],7:[function(o,c,d){var h=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",et=o("pako"),tt=o("./utils"),ot=o("./stream/GenericWorker"),ft=h?"uint8array":"array";function ht(yt,gt){ot.call(this,"FlateWorker/"+yt),this._pako=null,this._pakoAction=yt,this._pakoOptions=gt,this.meta={}}d.magic="\b\0",tt.inherits(ht,ot),ht.prototype.processChunk=function(yt){this.meta=yt.meta,this._pako===null&&this._createPako(),this._pako.push(tt.transformTo(ft,yt.data),!1)},ht.prototype.flush=function(){ot.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},ht.prototype.cleanUp=function(){ot.prototype.cleanUp.call(this),this._pako=null},ht.prototype._createPako=function(){this._pako=new et[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var yt=this;this._pako.onData=function(gt){yt.push({data:gt,meta:yt.meta})}},d.compressWorker=function(yt){return new ht("Deflate",yt)},d.uncompressWorker=function(){return new ht("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(o,c,d){function h(wt,bt){var xt,Et="";for(xt=0;xt<bt;xt++)Et+=String.fromCharCode(255&wt),wt>>>=8;return Et}function et(wt,bt,xt,Et,vt,$t){var At,kt,It=wt.file,Dt=wt.compression,Mt=$t!==ft.utf8encode,zt=tt.transformTo("string",$t(It.name)),Kt=tt.transformTo("string",ft.utf8encode(It.name)),Yt=It.comment,er=tt.transformTo("string",$t(Yt)),qt=tt.transformTo("string",ft.utf8encode(Yt)),Ft=Kt.length!==It.name.length,mt=qt.length!==Yt.length,Tt="",Rt="",Ot="",Lt=It.dir,Ut=It.date,Gt={crc32:0,compressedSize:0,uncompressedSize:0};bt&&!xt||(Gt.crc32=wt.crc32,Gt.compressedSize=wt.compressedSize,Gt.uncompressedSize=wt.uncompressedSize);var Bt=0;bt&&(Bt|=8),Mt||!Ft&&!mt||(Bt|=2048);var St=0,Vt=0;Lt&&(St|=16),vt==="UNIX"?(Vt=798,St|=function(cr,gr){var $r=cr;return cr||($r=gr?16893:33204),(65535&$r)<<16}(It.unixPermissions,Lt)):(Vt=20,St|=function(cr){return 63&(cr||0)}(It.dosPermissions)),At=Ut.getUTCHours(),At<<=6,At|=Ut.getUTCMinutes(),At<<=5,At|=Ut.getUTCSeconds()/2,kt=Ut.getUTCFullYear()-1980,kt<<=4,kt|=Ut.getUTCMonth()+1,kt<<=5,kt|=Ut.getUTCDate(),Ft&&(Rt=h(1,1)+h(ht(zt),4)+Kt,Tt+="up"+h(Rt.length,2)+Rt),mt&&(Ot=h(1,1)+h(ht(er),4)+qt,Tt+="uc"+h(Ot.length,2)+Ot);var dr="";return dr+=`
\0`,dr+=h(Bt,2),dr+=Dt.magic,dr+=h(At,2),dr+=h(kt,2),dr+=h(Gt.crc32,4),dr+=h(Gt.compressedSize,4),dr+=h(Gt.uncompressedSize,4),dr+=h(zt.length,2),dr+=h(Tt.length,2),{fileRecord:yt.LOCAL_FILE_HEADER+dr+zt+Tt,dirRecord:yt.CENTRAL_FILE_HEADER+h(Vt,2)+dr+h(er.length,2)+"\0\0\0\0"+h(St,4)+h(Et,4)+zt+Tt+er}}var tt=o("../utils"),ot=o("../stream/GenericWorker"),ft=o("../utf8"),ht=o("../crc32"),yt=o("../signature");function gt(wt,bt,xt,Et){ot.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=bt,this.zipPlatform=xt,this.encodeFileName=Et,this.streamFiles=wt,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}tt.inherits(gt,ot),gt.prototype.push=function(wt){var bt=wt.meta.percent||0,xt=this.entriesCount,Et=this._sources.length;this.accumulate?this.contentBuffer.push(wt):(this.bytesWritten+=wt.data.length,ot.prototype.push.call(this,{data:wt.data,meta:{currentFile:this.currentFile,percent:xt?(bt+100*(xt-Et-1))/xt:100}}))},gt.prototype.openedSource=function(wt){this.currentSourceOffset=this.bytesWritten,this.currentFile=wt.file.name;var bt=this.streamFiles&&!wt.file.dir;if(bt){var xt=et(wt,bt,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:xt.fileRecord,meta:{percent:0}})}else this.accumulate=!0},gt.prototype.closedSource=function(wt){this.accumulate=!1;var bt=this.streamFiles&&!wt.file.dir,xt=et(wt,bt,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(xt.dirRecord),bt)this.push({data:function(Et){return yt.DATA_DESCRIPTOR+h(Et.crc32,4)+h(Et.compressedSize,4)+h(Et.uncompressedSize,4)}(wt),meta:{percent:100}});else for(this.push({data:xt.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},gt.prototype.flush=function(){for(var wt=this.bytesWritten,bt=0;bt<this.dirRecords.length;bt++)this.push({data:this.dirRecords[bt],meta:{percent:100}});var xt=this.bytesWritten-wt,Et=function(vt,$t,At,kt,It){var Dt=tt.transformTo("string",It(kt));return yt.CENTRAL_DIRECTORY_END+"\0\0\0\0"+h(vt,2)+h(vt,2)+h($t,4)+h(At,4)+h(Dt.length,2)+Dt}(this.dirRecords.length,xt,wt,this.zipComment,this.encodeFileName);this.push({data:Et,meta:{percent:100}})},gt.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},gt.prototype.registerPrevious=function(wt){this._sources.push(wt);var bt=this;return wt.on("data",function(xt){bt.processChunk(xt)}),wt.on("end",function(){bt.closedSource(bt.previous.streamInfo),bt._sources.length?bt.prepareNextSource():bt.end()}),wt.on("error",function(xt){bt.error(xt)}),this},gt.prototype.resume=function(){return!!ot.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},gt.prototype.error=function(wt){var bt=this._sources;if(!ot.prototype.error.call(this,wt))return!1;for(var xt=0;xt<bt.length;xt++)try{bt[xt].error(wt)}catch{}return!0},gt.prototype.lock=function(){ot.prototype.lock.call(this);for(var wt=this._sources,bt=0;bt<wt.length;bt++)wt[bt].lock()},c.exports=gt},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(o,c,d){var h=o("../compressions"),et=o("./ZipFileWorker");d.generateWorker=function(tt,ot,ft){var ht=new et(ot.streamFiles,ft,ot.platform,ot.encodeFileName),yt=0;try{tt.forEach(function(gt,wt){yt++;var bt=function($t,At){var kt=$t||At,It=h[kt];if(!It)throw new Error(kt+" is not a valid compression method !");return It}(wt.options.compression,ot.compression),xt=wt.options.compressionOptions||ot.compressionOptions||{},Et=wt.dir,vt=wt.date;wt._compressWorker(bt,xt).withStreamInfo("file",{name:gt,dir:Et,date:vt,comment:wt.comment||"",unixPermissions:wt.unixPermissions,dosPermissions:wt.dosPermissions}).pipe(ht)}),ht.entriesCount=yt}catch(gt){ht.error(gt)}return ht}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(o,c,d){function h(){if(!(this instanceof h))return new h;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var et=new h;for(var tt in this)typeof this[tt]!="function"&&(et[tt]=this[tt]);return et}}(h.prototype=o("./object")).loadAsync=o("./load"),h.support=o("./support"),h.defaults=o("./defaults"),h.version="3.10.1",h.loadAsync=function(et,tt){return new h().loadAsync(et,tt)},h.external=o("./external"),c.exports=h},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(o,c,d){var h=o("./utils"),et=o("./external"),tt=o("./utf8"),ot=o("./zipEntries"),ft=o("./stream/Crc32Probe"),ht=o("./nodejsUtils");function yt(gt){return new et.Promise(function(wt,bt){var xt=gt.decompressed.getContentWorker().pipe(new ft);xt.on("error",function(Et){bt(Et)}).on("end",function(){xt.streamInfo.crc32!==gt.decompressed.crc32?bt(new Error("Corrupted zip : CRC32 mismatch")):wt()}).resume()})}c.exports=function(gt,wt){var bt=this;return wt=h.extend(wt||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:tt.utf8decode}),ht.isNode&&ht.isStream(gt)?et.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):h.prepareContent("the loaded zip file",gt,!0,wt.optimizedBinaryString,wt.base64).then(function(xt){var Et=new ot(wt);return Et.load(xt),Et}).then(function(xt){var Et=[et.Promise.resolve(xt)],vt=xt.files;if(wt.checkCRC32)for(var $t=0;$t<vt.length;$t++)Et.push(yt(vt[$t]));return et.Promise.all(Et)}).then(function(xt){for(var Et=xt.shift(),vt=Et.files,$t=0;$t<vt.length;$t++){var At=vt[$t],kt=At.fileNameStr,It=h.resolve(At.fileNameStr);bt.file(It,At.decompressed,{binary:!0,optimizedBinaryString:!0,date:At.date,dir:At.dir,comment:At.fileCommentStr.length?At.fileCommentStr:null,unixPermissions:At.unixPermissions,dosPermissions:At.dosPermissions,createFolders:wt.createFolders}),At.dir||(bt.file(It).unsafeOriginalName=kt)}return Et.zipComment.length&&(bt.comment=Et.zipComment),bt})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(o,c,d){var h=o("../utils"),et=o("../stream/GenericWorker");function tt(ot,ft){et.call(this,"Nodejs stream input adapter for "+ot),this._upstreamEnded=!1,this._bindStream(ft)}h.inherits(tt,et),tt.prototype._bindStream=function(ot){var ft=this;(this._stream=ot).pause(),ot.on("data",function(ht){ft.push({data:ht,meta:{percent:0}})}).on("error",function(ht){ft.isPaused?this.generatedError=ht:ft.error(ht)}).on("end",function(){ft.isPaused?ft._upstreamEnded=!0:ft.end()})},tt.prototype.pause=function(){return!!et.prototype.pause.call(this)&&(this._stream.pause(),!0)},tt.prototype.resume=function(){return!!et.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},c.exports=tt},{"../stream/GenericWorker":28,"../utils":32}],13:[function(o,c,d){var h=o("readable-stream").Readable;function et(tt,ot,ft){h.call(this,ot),this._helper=tt;var ht=this;tt.on("data",function(yt,gt){ht.push(yt)||ht._helper.pause(),ft&&ft(gt)}).on("error",function(yt){ht.emit("error",yt)}).on("end",function(){ht.push(null)})}o("../utils").inherits(et,h),et.prototype._read=function(){this._helper.resume()},c.exports=et},{"../utils":32,"readable-stream":16}],14:[function(o,c,d){c.exports={isNode:typeof Buffer<"u",newBufferFrom:function(h,et){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(h,et);if(typeof h=="number")throw new Error('The "data" argument must not be a number');return new Buffer(h,et)},allocBuffer:function(h){if(Buffer.alloc)return Buffer.alloc(h);var et=new Buffer(h);return et.fill(0),et},isBuffer:function(h){return Buffer.isBuffer(h)},isStream:function(h){return h&&typeof h.on=="function"&&typeof h.pause=="function"&&typeof h.resume=="function"}}},{}],15:[function(o,c,d){function h(It,Dt,Mt){var zt,Kt=tt.getTypeOf(Dt),Yt=tt.extend(Mt||{},ht);Yt.date=Yt.date||new Date,Yt.compression!==null&&(Yt.compression=Yt.compression.toUpperCase()),typeof Yt.unixPermissions=="string"&&(Yt.unixPermissions=parseInt(Yt.unixPermissions,8)),Yt.unixPermissions&&16384&Yt.unixPermissions&&(Yt.dir=!0),Yt.dosPermissions&&16&Yt.dosPermissions&&(Yt.dir=!0),Yt.dir&&(It=vt(It)),Yt.createFolders&&(zt=Et(It))&&$t.call(this,zt,!0);var er=Kt==="string"&&Yt.binary===!1&&Yt.base64===!1;Mt&&Mt.binary!==void 0||(Yt.binary=!er),(Dt instanceof yt&&Dt.uncompressedSize===0||Yt.dir||!Dt||Dt.length===0)&&(Yt.base64=!1,Yt.binary=!0,Dt="",Yt.compression="STORE",Kt="string");var qt=null;qt=Dt instanceof yt||Dt instanceof ot?Dt:bt.isNode&&bt.isStream(Dt)?new xt(It,Dt):tt.prepareContent(It,Dt,Yt.binary,Yt.optimizedBinaryString,Yt.base64);var Ft=new gt(It,qt,Yt);this.files[It]=Ft}var et=o("./utf8"),tt=o("./utils"),ot=o("./stream/GenericWorker"),ft=o("./stream/StreamHelper"),ht=o("./defaults"),yt=o("./compressedObject"),gt=o("./zipObject"),wt=o("./generate"),bt=o("./nodejsUtils"),xt=o("./nodejs/NodejsStreamInputAdapter"),Et=function(It){It.slice(-1)==="/"&&(It=It.substring(0,It.length-1));var Dt=It.lastIndexOf("/");return 0<Dt?It.substring(0,Dt):""},vt=function(It){return It.slice(-1)!=="/"&&(It+="/"),It},$t=function(It,Dt){return Dt=Dt!==void 0?Dt:ht.createFolders,It=vt(It),this.files[It]||h.call(this,It,null,{dir:!0,createFolders:Dt}),this.files[It]};function At(It){return Object.prototype.toString.call(It)==="[object RegExp]"}var kt={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(It){var Dt,Mt,zt;for(Dt in this.files)zt=this.files[Dt],(Mt=Dt.slice(this.root.length,Dt.length))&&Dt.slice(0,this.root.length)===this.root&&It(Mt,zt)},filter:function(It){var Dt=[];return this.forEach(function(Mt,zt){It(Mt,zt)&&Dt.push(zt)}),Dt},file:function(It,Dt,Mt){if(arguments.length!==1)return It=this.root+It,h.call(this,It,Dt,Mt),this;if(At(It)){var zt=It;return this.filter(function(Yt,er){return!er.dir&&zt.test(Yt)})}var Kt=this.files[this.root+It];return Kt&&!Kt.dir?Kt:null},folder:function(It){if(!It)return this;if(At(It))return this.filter(function(Kt,Yt){return Yt.dir&&It.test(Kt)});var Dt=this.root+It,Mt=$t.call(this,Dt),zt=this.clone();return zt.root=Mt.name,zt},remove:function(It){It=this.root+It;var Dt=this.files[It];if(Dt||(It.slice(-1)!=="/"&&(It+="/"),Dt=this.files[It]),Dt&&!Dt.dir)delete this.files[It];else for(var Mt=this.filter(function(Kt,Yt){return Yt.name.slice(0,It.length)===It}),zt=0;zt<Mt.length;zt++)delete this.files[Mt[zt].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(It){var Dt,Mt={};try{if((Mt=tt.extend(It||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:et.utf8encode})).type=Mt.type.toLowerCase(),Mt.compression=Mt.compression.toUpperCase(),Mt.type==="binarystring"&&(Mt.type="string"),!Mt.type)throw new Error("No output type specified.");tt.checkSupport(Mt.type),Mt.platform!=="darwin"&&Mt.platform!=="freebsd"&&Mt.platform!=="linux"&&Mt.platform!=="sunos"||(Mt.platform="UNIX"),Mt.platform==="win32"&&(Mt.platform="DOS");var zt=Mt.comment||this.comment||"";Dt=wt.generateWorker(this,Mt,zt)}catch(Kt){(Dt=new ot("error")).error(Kt)}return new ft(Dt,Mt.type||"string",Mt.mimeType)},generateAsync:function(It,Dt){return this.generateInternalStream(It).accumulate(Dt)},generateNodeStream:function(It,Dt){return(It=It||{}).type||(It.type="nodebuffer"),this.generateInternalStream(It).toNodejsStream(Dt)}};c.exports=kt},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(o,c,d){c.exports=o("stream")},{stream:void 0}],17:[function(o,c,d){var h=o("./DataReader");function et(tt){h.call(this,tt);for(var ot=0;ot<this.data.length;ot++)tt[ot]=255&tt[ot]}o("../utils").inherits(et,h),et.prototype.byteAt=function(tt){return this.data[this.zero+tt]},et.prototype.lastIndexOfSignature=function(tt){for(var ot=tt.charCodeAt(0),ft=tt.charCodeAt(1),ht=tt.charCodeAt(2),yt=tt.charCodeAt(3),gt=this.length-4;0<=gt;--gt)if(this.data[gt]===ot&&this.data[gt+1]===ft&&this.data[gt+2]===ht&&this.data[gt+3]===yt)return gt-this.zero;return-1},et.prototype.readAndCheckSignature=function(tt){var ot=tt.charCodeAt(0),ft=tt.charCodeAt(1),ht=tt.charCodeAt(2),yt=tt.charCodeAt(3),gt=this.readData(4);return ot===gt[0]&&ft===gt[1]&&ht===gt[2]&&yt===gt[3]},et.prototype.readData=function(tt){if(this.checkOffset(tt),tt===0)return[];var ot=this.data.slice(this.zero+this.index,this.zero+this.index+tt);return this.index+=tt,ot},c.exports=et},{"../utils":32,"./DataReader":18}],18:[function(o,c,d){var h=o("../utils");function et(tt){this.data=tt,this.length=tt.length,this.index=0,this.zero=0}et.prototype={checkOffset:function(tt){this.checkIndex(this.index+tt)},checkIndex:function(tt){if(this.length<this.zero+tt||tt<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+tt+"). Corrupted zip ?")},setIndex:function(tt){this.checkIndex(tt),this.index=tt},skip:function(tt){this.setIndex(this.index+tt)},byteAt:function(){},readInt:function(tt){var ot,ft=0;for(this.checkOffset(tt),ot=this.index+tt-1;ot>=this.index;ot--)ft=(ft<<8)+this.byteAt(ot);return this.index+=tt,ft},readString:function(tt){return h.transformTo("string",this.readData(tt))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var tt=this.readInt(4);return new Date(Date.UTC(1980+(tt>>25&127),(tt>>21&15)-1,tt>>16&31,tt>>11&31,tt>>5&63,(31&tt)<<1))}},c.exports=et},{"../utils":32}],19:[function(o,c,d){var h=o("./Uint8ArrayReader");function et(tt){h.call(this,tt)}o("../utils").inherits(et,h),et.prototype.readData=function(tt){this.checkOffset(tt);var ot=this.data.slice(this.zero+this.index,this.zero+this.index+tt);return this.index+=tt,ot},c.exports=et},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(o,c,d){var h=o("./DataReader");function et(tt){h.call(this,tt)}o("../utils").inherits(et,h),et.prototype.byteAt=function(tt){return this.data.charCodeAt(this.zero+tt)},et.prototype.lastIndexOfSignature=function(tt){return this.data.lastIndexOf(tt)-this.zero},et.prototype.readAndCheckSignature=function(tt){return tt===this.readData(4)},et.prototype.readData=function(tt){this.checkOffset(tt);var ot=this.data.slice(this.zero+this.index,this.zero+this.index+tt);return this.index+=tt,ot},c.exports=et},{"../utils":32,"./DataReader":18}],21:[function(o,c,d){var h=o("./ArrayReader");function et(tt){h.call(this,tt)}o("../utils").inherits(et,h),et.prototype.readData=function(tt){if(this.checkOffset(tt),tt===0)return new Uint8Array(0);var ot=this.data.subarray(this.zero+this.index,this.zero+this.index+tt);return this.index+=tt,ot},c.exports=et},{"../utils":32,"./ArrayReader":17}],22:[function(o,c,d){var h=o("../utils"),et=o("../support"),tt=o("./ArrayReader"),ot=o("./StringReader"),ft=o("./NodeBufferReader"),ht=o("./Uint8ArrayReader");c.exports=function(yt){var gt=h.getTypeOf(yt);return h.checkSupport(gt),gt!=="string"||et.uint8array?gt==="nodebuffer"?new ft(yt):et.uint8array?new ht(h.transformTo("uint8array",yt)):new tt(h.transformTo("array",yt)):new ot(yt)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(o,c,d){d.LOCAL_FILE_HEADER="PK",d.CENTRAL_FILE_HEADER="PK",d.CENTRAL_DIRECTORY_END="PK",d.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",d.ZIP64_CENTRAL_DIRECTORY_END="PK",d.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(o,c,d){var h=o("./GenericWorker"),et=o("../utils");function tt(ot){h.call(this,"ConvertWorker to "+ot),this.destType=ot}et.inherits(tt,h),tt.prototype.processChunk=function(ot){this.push({data:et.transformTo(this.destType,ot.data),meta:ot.meta})},c.exports=tt},{"../utils":32,"./GenericWorker":28}],25:[function(o,c,d){var h=o("./GenericWorker"),et=o("../crc32");function tt(){h.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}o("../utils").inherits(tt,h),tt.prototype.processChunk=function(ot){this.streamInfo.crc32=et(ot.data,this.streamInfo.crc32||0),this.push(ot)},c.exports=tt},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(o,c,d){var h=o("../utils"),et=o("./GenericWorker");function tt(ot){et.call(this,"DataLengthProbe for "+ot),this.propName=ot,this.withStreamInfo(ot,0)}h.inherits(tt,et),tt.prototype.processChunk=function(ot){if(ot){var ft=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=ft+ot.data.length}et.prototype.processChunk.call(this,ot)},c.exports=tt},{"../utils":32,"./GenericWorker":28}],27:[function(o,c,d){var h=o("../utils"),et=o("./GenericWorker");function tt(ot){et.call(this,"DataWorker");var ft=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,ot.then(function(ht){ft.dataIsReady=!0,ft.data=ht,ft.max=ht&&ht.length||0,ft.type=h.getTypeOf(ht),ft.isPaused||ft._tickAndRepeat()},function(ht){ft.error(ht)})}h.inherits(tt,et),tt.prototype.cleanUp=function(){et.prototype.cleanUp.call(this),this.data=null},tt.prototype.resume=function(){return!!et.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,h.delay(this._tickAndRepeat,[],this)),!0)},tt.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(h.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},tt.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var ot=null,ft=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":ot=this.data.substring(this.index,ft);break;case"uint8array":ot=this.data.subarray(this.index,ft);break;case"array":case"nodebuffer":ot=this.data.slice(this.index,ft)}return this.index=ft,this.push({data:ot,meta:{percent:this.max?this.index/this.max*100:0}})},c.exports=tt},{"../utils":32,"./GenericWorker":28}],28:[function(o,c,d){function h(et){this.name=et||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}h.prototype={push:function(et){this.emit("data",et)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(et){this.emit("error",et)}return!0},error:function(et){return!this.isFinished&&(this.isPaused?this.generatedError=et:(this.isFinished=!0,this.emit("error",et),this.previous&&this.previous.error(et),this.cleanUp()),!0)},on:function(et,tt){return this._listeners[et].push(tt),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(et,tt){if(this._listeners[et])for(var ot=0;ot<this._listeners[et].length;ot++)this._listeners[et][ot].call(this,tt)},pipe:function(et){return et.registerPrevious(this)},registerPrevious:function(et){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=et.streamInfo,this.mergeStreamInfo(),this.previous=et;var tt=this;return et.on("data",function(ot){tt.processChunk(ot)}),et.on("end",function(){tt.end()}),et.on("error",function(ot){tt.error(ot)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var et=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),et=!0),this.previous&&this.previous.resume(),!et},flush:function(){},processChunk:function(et){this.push(et)},withStreamInfo:function(et,tt){return this.extraStreamInfo[et]=tt,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var et in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,et)&&(this.streamInfo[et]=this.extraStreamInfo[et])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var et="Worker "+this.name;return this.previous?this.previous+" -> "+et:et}},c.exports=h},{}],29:[function(o,c,d){var h=o("../utils"),et=o("./ConvertWorker"),tt=o("./GenericWorker"),ot=o("../base64"),ft=o("../support"),ht=o("../external"),yt=null;if(ft.nodestream)try{yt=o("../nodejs/NodejsStreamOutputAdapter")}catch{}function gt(bt,xt){return new ht.Promise(function(Et,vt){var $t=[],At=bt._internalType,kt=bt._outputType,It=bt._mimeType;bt.on("data",function(Dt,Mt){$t.push(Dt),xt&&xt(Mt)}).on("error",function(Dt){$t=[],vt(Dt)}).on("end",function(){try{var Dt=function(Mt,zt,Kt){switch(Mt){case"blob":return h.newBlob(h.transformTo("arraybuffer",zt),Kt);case"base64":return ot.encode(zt);default:return h.transformTo(Mt,zt)}}(kt,function(Mt,zt){var Kt,Yt=0,er=null,qt=0;for(Kt=0;Kt<zt.length;Kt++)qt+=zt[Kt].length;switch(Mt){case"string":return zt.join("");case"array":return Array.prototype.concat.apply([],zt);case"uint8array":for(er=new Uint8Array(qt),Kt=0;Kt<zt.length;Kt++)er.set(zt[Kt],Yt),Yt+=zt[Kt].length;return er;case"nodebuffer":return Buffer.concat(zt);default:throw new Error("concat : unsupported type '"+Mt+"'")}}(At,$t),It);Et(Dt)}catch(Mt){vt(Mt)}$t=[]}).resume()})}function wt(bt,xt,Et){var vt=xt;switch(xt){case"blob":case"arraybuffer":vt="uint8array";break;case"base64":vt="string"}try{this._internalType=vt,this._outputType=xt,this._mimeType=Et,h.checkSupport(vt),this._worker=bt.pipe(new et(vt)),bt.lock()}catch($t){this._worker=new tt("error"),this._worker.error($t)}}wt.prototype={accumulate:function(bt){return gt(this,bt)},on:function(bt,xt){var Et=this;return bt==="data"?this._worker.on(bt,function(vt){xt.call(Et,vt.data,vt.meta)}):this._worker.on(bt,function(){h.delay(xt,arguments,Et)}),this},resume:function(){return h.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(bt){if(h.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new yt(this,{objectMode:this._outputType!=="nodebuffer"},bt)}},c.exports=wt},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(o,c,d){if(d.base64=!0,d.array=!0,d.string=!0,d.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",d.nodebuffer=typeof Buffer<"u",d.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")d.blob=!1;else{var h=new ArrayBuffer(0);try{d.blob=new Blob([h],{type:"application/zip"}).size===0}catch{try{var et=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);et.append(h),d.blob=et.getBlob("application/zip").size===0}catch{d.blob=!1}}}try{d.nodestream=!!o("readable-stream").Readable}catch{d.nodestream=!1}},{"readable-stream":16}],31:[function(o,c,d){for(var h=o("./utils"),et=o("./support"),tt=o("./nodejsUtils"),ot=o("./stream/GenericWorker"),ft=new Array(256),ht=0;ht<256;ht++)ft[ht]=252<=ht?6:248<=ht?5:240<=ht?4:224<=ht?3:192<=ht?2:1;ft[254]=ft[254]=1;function yt(){ot.call(this,"utf-8 decode"),this.leftOver=null}function gt(){ot.call(this,"utf-8 encode")}d.utf8encode=function(wt){return et.nodebuffer?tt.newBufferFrom(wt,"utf-8"):function(bt){var xt,Et,vt,$t,At,kt=bt.length,It=0;for($t=0;$t<kt;$t++)(64512&(Et=bt.charCodeAt($t)))==55296&&$t+1<kt&&(64512&(vt=bt.charCodeAt($t+1)))==56320&&(Et=65536+(Et-55296<<10)+(vt-56320),$t++),It+=Et<128?1:Et<2048?2:Et<65536?3:4;for(xt=et.uint8array?new Uint8Array(It):new Array(It),$t=At=0;At<It;$t++)(64512&(Et=bt.charCodeAt($t)))==55296&&$t+1<kt&&(64512&(vt=bt.charCodeAt($t+1)))==56320&&(Et=65536+(Et-55296<<10)+(vt-56320),$t++),Et<128?xt[At++]=Et:(Et<2048?xt[At++]=192|Et>>>6:(Et<65536?xt[At++]=224|Et>>>12:(xt[At++]=240|Et>>>18,xt[At++]=128|Et>>>12&63),xt[At++]=128|Et>>>6&63),xt[At++]=128|63&Et);return xt}(wt)},d.utf8decode=function(wt){return et.nodebuffer?h.transformTo("nodebuffer",wt).toString("utf-8"):function(bt){var xt,Et,vt,$t,At=bt.length,kt=new Array(2*At);for(xt=Et=0;xt<At;)if((vt=bt[xt++])<128)kt[Et++]=vt;else if(4<($t=ft[vt]))kt[Et++]=65533,xt+=$t-1;else{for(vt&=$t===2?31:$t===3?15:7;1<$t&&xt<At;)vt=vt<<6|63&bt[xt++],$t--;1<$t?kt[Et++]=65533:vt<65536?kt[Et++]=vt:(vt-=65536,kt[Et++]=55296|vt>>10&1023,kt[Et++]=56320|1023&vt)}return kt.length!==Et&&(kt.subarray?kt=kt.subarray(0,Et):kt.length=Et),h.applyFromCharCode(kt)}(wt=h.transformTo(et.uint8array?"uint8array":"array",wt))},h.inherits(yt,ot),yt.prototype.processChunk=function(wt){var bt=h.transformTo(et.uint8array?"uint8array":"array",wt.data);if(this.leftOver&&this.leftOver.length){if(et.uint8array){var xt=bt;(bt=new Uint8Array(xt.length+this.leftOver.length)).set(this.leftOver,0),bt.set(xt,this.leftOver.length)}else bt=this.leftOver.concat(bt);this.leftOver=null}var Et=function($t,At){var kt;for((At=At||$t.length)>$t.length&&(At=$t.length),kt=At-1;0<=kt&&(192&$t[kt])==128;)kt--;return kt<0||kt===0?At:kt+ft[$t[kt]]>At?kt:At}(bt),vt=bt;Et!==bt.length&&(et.uint8array?(vt=bt.subarray(0,Et),this.leftOver=bt.subarray(Et,bt.length)):(vt=bt.slice(0,Et),this.leftOver=bt.slice(Et,bt.length))),this.push({data:d.utf8decode(vt),meta:wt.meta})},yt.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:d.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},d.Utf8DecodeWorker=yt,h.inherits(gt,ot),gt.prototype.processChunk=function(wt){this.push({data:d.utf8encode(wt.data),meta:wt.meta})},d.Utf8EncodeWorker=gt},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(o,c,d){var h=o("./support"),et=o("./base64"),tt=o("./nodejsUtils"),ot=o("./external");function ft(xt){return xt}function ht(xt,Et){for(var vt=0;vt<xt.length;++vt)Et[vt]=255&xt.charCodeAt(vt);return Et}o("setimmediate"),d.newBlob=function(xt,Et){d.checkSupport("blob");try{return new Blob([xt],{type:Et})}catch{try{var vt=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return vt.append(xt),vt.getBlob(Et)}catch{throw new Error("Bug : can't construct the Blob.")}}};var yt={stringifyByChunk:function(xt,Et,vt){var $t=[],At=0,kt=xt.length;if(kt<=vt)return String.fromCharCode.apply(null,xt);for(;At<kt;)Et==="array"||Et==="nodebuffer"?$t.push(String.fromCharCode.apply(null,xt.slice(At,Math.min(At+vt,kt)))):$t.push(String.fromCharCode.apply(null,xt.subarray(At,Math.min(At+vt,kt)))),At+=vt;return $t.join("")},stringifyByChar:function(xt){for(var Et="",vt=0;vt<xt.length;vt++)Et+=String.fromCharCode(xt[vt]);return Et},applyCanBeUsed:{uint8array:function(){try{return h.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return h.nodebuffer&&String.fromCharCode.apply(null,tt.allocBuffer(1)).length===1}catch{return!1}}()}};function gt(xt){var Et=65536,vt=d.getTypeOf(xt),$t=!0;if(vt==="uint8array"?$t=yt.applyCanBeUsed.uint8array:vt==="nodebuffer"&&($t=yt.applyCanBeUsed.nodebuffer),$t)for(;1<Et;)try{return yt.stringifyByChunk(xt,vt,Et)}catch{Et=Math.floor(Et/2)}return yt.stringifyByChar(xt)}function wt(xt,Et){for(var vt=0;vt<xt.length;vt++)Et[vt]=xt[vt];return Et}d.applyFromCharCode=gt;var bt={};bt.string={string:ft,array:function(xt){return ht(xt,new Array(xt.length))},arraybuffer:function(xt){return bt.string.uint8array(xt).buffer},uint8array:function(xt){return ht(xt,new Uint8Array(xt.length))},nodebuffer:function(xt){return ht(xt,tt.allocBuffer(xt.length))}},bt.array={string:gt,array:ft,arraybuffer:function(xt){return new Uint8Array(xt).buffer},uint8array:function(xt){return new Uint8Array(xt)},nodebuffer:function(xt){return tt.newBufferFrom(xt)}},bt.arraybuffer={string:function(xt){return gt(new Uint8Array(xt))},array:function(xt){return wt(new Uint8Array(xt),new Array(xt.byteLength))},arraybuffer:ft,uint8array:function(xt){return new Uint8Array(xt)},nodebuffer:function(xt){return tt.newBufferFrom(new Uint8Array(xt))}},bt.uint8array={string:gt,array:function(xt){return wt(xt,new Array(xt.length))},arraybuffer:function(xt){return xt.buffer},uint8array:ft,nodebuffer:function(xt){return tt.newBufferFrom(xt)}},bt.nodebuffer={string:gt,array:function(xt){return wt(xt,new Array(xt.length))},arraybuffer:function(xt){return bt.nodebuffer.uint8array(xt).buffer},uint8array:function(xt){return wt(xt,new Uint8Array(xt.length))},nodebuffer:ft},d.transformTo=function(xt,Et){if(Et=Et||"",!xt)return Et;d.checkSupport(xt);var vt=d.getTypeOf(Et);return bt[vt][xt](Et)},d.resolve=function(xt){for(var Et=xt.split("/"),vt=[],$t=0;$t<Et.length;$t++){var At=Et[$t];At==="."||At===""&&$t!==0&&$t!==Et.length-1||(At===".."?vt.pop():vt.push(At))}return vt.join("/")},d.getTypeOf=function(xt){return typeof xt=="string"?"string":Object.prototype.toString.call(xt)==="[object Array]"?"array":h.nodebuffer&&tt.isBuffer(xt)?"nodebuffer":h.uint8array&&xt instanceof Uint8Array?"uint8array":h.arraybuffer&&xt instanceof ArrayBuffer?"arraybuffer":void 0},d.checkSupport=function(xt){if(!h[xt.toLowerCase()])throw new Error(xt+" is not supported by this platform")},d.MAX_VALUE_16BITS=65535,d.MAX_VALUE_32BITS=-1,d.pretty=function(xt){var Et,vt,$t="";for(vt=0;vt<(xt||"").length;vt++)$t+="\\x"+((Et=xt.charCodeAt(vt))<16?"0":"")+Et.toString(16).toUpperCase();return $t},d.delay=function(xt,Et,vt){setImmediate(function(){xt.apply(vt||null,Et||[])})},d.inherits=function(xt,Et){function vt(){}vt.prototype=Et.prototype,xt.prototype=new vt},d.extend=function(){var xt,Et,vt={};for(xt=0;xt<arguments.length;xt++)for(Et in arguments[xt])Object.prototype.hasOwnProperty.call(arguments[xt],Et)&&vt[Et]===void 0&&(vt[Et]=arguments[xt][Et]);return vt},d.prepareContent=function(xt,Et,vt,$t,At){return ot.Promise.resolve(Et).then(function(kt){return h.blob&&(kt instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(kt))!==-1)&&typeof FileReader<"u"?new ot.Promise(function(It,Dt){var Mt=new FileReader;Mt.onload=function(zt){It(zt.target.result)},Mt.onerror=function(zt){Dt(zt.target.error)},Mt.readAsArrayBuffer(kt)}):kt}).then(function(kt){var It=d.getTypeOf(kt);return It?(It==="arraybuffer"?kt=d.transformTo("uint8array",kt):It==="string"&&(At?kt=et.decode(kt):vt&&$t!==!0&&(kt=function(Dt){return ht(Dt,h.uint8array?new Uint8Array(Dt.length):new Array(Dt.length))}(kt))),kt):ot.Promise.reject(new Error("Can't read the data of '"+xt+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(o,c,d){var h=o("./reader/readerFor"),et=o("./utils"),tt=o("./signature"),ot=o("./zipEntry"),ft=o("./support");function ht(yt){this.files=[],this.loadOptions=yt}ht.prototype={checkSignature:function(yt){if(!this.reader.readAndCheckSignature(yt)){this.reader.index-=4;var gt=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+et.pretty(gt)+", expected "+et.pretty(yt)+")")}},isSignature:function(yt,gt){var wt=this.reader.index;this.reader.setIndex(yt);var bt=this.reader.readString(4)===gt;return this.reader.setIndex(wt),bt},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var yt=this.reader.readData(this.zipCommentLength),gt=ft.uint8array?"uint8array":"array",wt=et.transformTo(gt,yt);this.zipComment=this.loadOptions.decodeFileName(wt)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var yt,gt,wt,bt=this.zip64EndOfCentralSize-44;0<bt;)yt=this.reader.readInt(2),gt=this.reader.readInt(4),wt=this.reader.readData(gt),this.zip64ExtensibleData[yt]={id:yt,length:gt,value:wt}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var yt,gt;for(yt=0;yt<this.files.length;yt++)gt=this.files[yt],this.reader.setIndex(gt.localHeaderOffset),this.checkSignature(tt.LOCAL_FILE_HEADER),gt.readLocalPart(this.reader),gt.handleUTF8(),gt.processAttributes()},readCentralDir:function(){var yt;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(tt.CENTRAL_FILE_HEADER);)(yt=new ot({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(yt);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var yt=this.reader.lastIndexOfSignature(tt.CENTRAL_DIRECTORY_END);if(yt<0)throw this.isSignature(0,tt.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(yt);var gt=yt;if(this.checkSignature(tt.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===et.MAX_VALUE_16BITS||this.diskWithCentralDirStart===et.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===et.MAX_VALUE_16BITS||this.centralDirRecords===et.MAX_VALUE_16BITS||this.centralDirSize===et.MAX_VALUE_32BITS||this.centralDirOffset===et.MAX_VALUE_32BITS){if(this.zip64=!0,(yt=this.reader.lastIndexOfSignature(tt.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(yt),this.checkSignature(tt.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,tt.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(tt.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(tt.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var wt=this.centralDirOffset+this.centralDirSize;this.zip64&&(wt+=20,wt+=12+this.zip64EndOfCentralSize);var bt=gt-wt;if(0<bt)this.isSignature(gt,tt.CENTRAL_FILE_HEADER)||(this.reader.zero=bt);else if(bt<0)throw new Error("Corrupted zip: missing "+Math.abs(bt)+" bytes.")},prepareReader:function(yt){this.reader=h(yt)},load:function(yt){this.prepareReader(yt),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},c.exports=ht},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(o,c,d){var h=o("./reader/readerFor"),et=o("./utils"),tt=o("./compressedObject"),ot=o("./crc32"),ft=o("./utf8"),ht=o("./compressions"),yt=o("./support");function gt(wt,bt){this.options=wt,this.loadOptions=bt}gt.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(wt){var bt,xt;if(wt.skip(22),this.fileNameLength=wt.readInt(2),xt=wt.readInt(2),this.fileName=wt.readData(this.fileNameLength),wt.skip(xt),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((bt=function(Et){for(var vt in ht)if(Object.prototype.hasOwnProperty.call(ht,vt)&&ht[vt].magic===Et)return ht[vt];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+et.pretty(this.compressionMethod)+" unknown (inner file : "+et.transformTo("string",this.fileName)+")");this.decompressed=new tt(this.compressedSize,this.uncompressedSize,this.crc32,bt,wt.readData(this.compressedSize))},readCentralPart:function(wt){this.versionMadeBy=wt.readInt(2),wt.skip(2),this.bitFlag=wt.readInt(2),this.compressionMethod=wt.readString(2),this.date=wt.readDate(),this.crc32=wt.readInt(4),this.compressedSize=wt.readInt(4),this.uncompressedSize=wt.readInt(4);var bt=wt.readInt(2);if(this.extraFieldsLength=wt.readInt(2),this.fileCommentLength=wt.readInt(2),this.diskNumberStart=wt.readInt(2),this.internalFileAttributes=wt.readInt(2),this.externalFileAttributes=wt.readInt(4),this.localHeaderOffset=wt.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");wt.skip(bt),this.readExtraFields(wt),this.parseZIP64ExtraField(wt),this.fileComment=wt.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var wt=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),wt==0&&(this.dosPermissions=63&this.externalFileAttributes),wt==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var wt=h(this.extraFields[1].value);this.uncompressedSize===et.MAX_VALUE_32BITS&&(this.uncompressedSize=wt.readInt(8)),this.compressedSize===et.MAX_VALUE_32BITS&&(this.compressedSize=wt.readInt(8)),this.localHeaderOffset===et.MAX_VALUE_32BITS&&(this.localHeaderOffset=wt.readInt(8)),this.diskNumberStart===et.MAX_VALUE_32BITS&&(this.diskNumberStart=wt.readInt(4))}},readExtraFields:function(wt){var bt,xt,Et,vt=wt.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});wt.index+4<vt;)bt=wt.readInt(2),xt=wt.readInt(2),Et=wt.readData(xt),this.extraFields[bt]={id:bt,length:xt,value:Et};wt.setIndex(vt)},handleUTF8:function(){var wt=yt.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=ft.utf8decode(this.fileName),this.fileCommentStr=ft.utf8decode(this.fileComment);else{var bt=this.findExtraFieldUnicodePath();if(bt!==null)this.fileNameStr=bt;else{var xt=et.transformTo(wt,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(xt)}var Et=this.findExtraFieldUnicodeComment();if(Et!==null)this.fileCommentStr=Et;else{var vt=et.transformTo(wt,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(vt)}}},findExtraFieldUnicodePath:function(){var wt=this.extraFields[28789];if(wt){var bt=h(wt.value);return bt.readInt(1)!==1||ot(this.fileName)!==bt.readInt(4)?null:ft.utf8decode(bt.readData(wt.length-5))}return null},findExtraFieldUnicodeComment:function(){var wt=this.extraFields[25461];if(wt){var bt=h(wt.value);return bt.readInt(1)!==1||ot(this.fileComment)!==bt.readInt(4)?null:ft.utf8decode(bt.readData(wt.length-5))}return null}},c.exports=gt},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(o,c,d){function h(bt,xt,Et){this.name=bt,this.dir=Et.dir,this.date=Et.date,this.comment=Et.comment,this.unixPermissions=Et.unixPermissions,this.dosPermissions=Et.dosPermissions,this._data=xt,this._dataBinary=Et.binary,this.options={compression:Et.compression,compressionOptions:Et.compressionOptions}}var et=o("./stream/StreamHelper"),tt=o("./stream/DataWorker"),ot=o("./utf8"),ft=o("./compressedObject"),ht=o("./stream/GenericWorker");h.prototype={internalStream:function(bt){var xt=null,Et="string";try{if(!bt)throw new Error("No output type specified.");var vt=(Et=bt.toLowerCase())==="string"||Et==="text";Et!=="binarystring"&&Et!=="text"||(Et="string"),xt=this._decompressWorker();var $t=!this._dataBinary;$t&&!vt&&(xt=xt.pipe(new ot.Utf8EncodeWorker)),!$t&&vt&&(xt=xt.pipe(new ot.Utf8DecodeWorker))}catch(At){(xt=new ht("error")).error(At)}return new et(xt,Et,"")},async:function(bt,xt){return this.internalStream(bt).accumulate(xt)},nodeStream:function(bt,xt){return this.internalStream(bt||"nodebuffer").toNodejsStream(xt)},_compressWorker:function(bt,xt){if(this._data instanceof ft&&this._data.compression.magic===bt.magic)return this._data.getCompressedWorker();var Et=this._decompressWorker();return this._dataBinary||(Et=Et.pipe(new ot.Utf8EncodeWorker)),ft.createWorkerFrom(Et,bt,xt)},_decompressWorker:function(){return this._data instanceof ft?this._data.getContentWorker():this._data instanceof ht?this._data:new tt(this._data)}};for(var yt=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],gt=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},wt=0;wt<yt.length;wt++)h.prototype[yt[wt]]=gt;c.exports=h},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(o,c,d){(function(h){var et,tt,ot=h.MutationObserver||h.WebKitMutationObserver;if(ot){var ft=0,ht=new ot(bt),yt=h.document.createTextNode("");ht.observe(yt,{characterData:!0}),et=function(){yt.data=ft=++ft%2}}else if(h.setImmediate||h.MessageChannel===void 0)et="document"in h&&"onreadystatechange"in h.document.createElement("script")?function(){var xt=h.document.createElement("script");xt.onreadystatechange=function(){bt(),xt.onreadystatechange=null,xt.parentNode.removeChild(xt),xt=null},h.document.documentElement.appendChild(xt)}:function(){setTimeout(bt,0)};else{var gt=new h.MessageChannel;gt.port1.onmessage=bt,et=function(){gt.port2.postMessage(0)}}var wt=[];function bt(){var xt,Et;tt=!0;for(var vt=wt.length;vt;){for(Et=wt,wt=[],xt=-1;++xt<vt;)Et[xt]();vt=wt.length}tt=!1}c.exports=function(xt){wt.push(xt)!==1||tt||et()}}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(o,c,d){var h=o("immediate");function et(){}var tt={},ot=["REJECTED"],ft=["FULFILLED"],ht=["PENDING"];function yt(vt){if(typeof vt!="function")throw new TypeError("resolver must be a function");this.state=ht,this.queue=[],this.outcome=void 0,vt!==et&&xt(this,vt)}function gt(vt,$t,At){this.promise=vt,typeof $t=="function"&&(this.onFulfilled=$t,this.callFulfilled=this.otherCallFulfilled),typeof At=="function"&&(this.onRejected=At,this.callRejected=this.otherCallRejected)}function wt(vt,$t,At){h(function(){var kt;try{kt=$t(At)}catch(It){return tt.reject(vt,It)}kt===vt?tt.reject(vt,new TypeError("Cannot resolve promise with itself")):tt.resolve(vt,kt)})}function bt(vt){var $t=vt&&vt.then;if(vt&&(typeof vt=="object"||typeof vt=="function")&&typeof $t=="function")return function(){$t.apply(vt,arguments)}}function xt(vt,$t){var At=!1;function kt(Mt){At||(At=!0,tt.reject(vt,Mt))}function It(Mt){At||(At=!0,tt.resolve(vt,Mt))}var Dt=Et(function(){$t(It,kt)});Dt.status==="error"&&kt(Dt.value)}function Et(vt,$t){var At={};try{At.value=vt($t),At.status="success"}catch(kt){At.status="error",At.value=kt}return At}(c.exports=yt).prototype.finally=function(vt){if(typeof vt!="function")return this;var $t=this.constructor;return this.then(function(At){return $t.resolve(vt()).then(function(){return At})},function(At){return $t.resolve(vt()).then(function(){throw At})})},yt.prototype.catch=function(vt){return this.then(null,vt)},yt.prototype.then=function(vt,$t){if(typeof vt!="function"&&this.state===ft||typeof $t!="function"&&this.state===ot)return this;var At=new this.constructor(et);return this.state!==ht?wt(At,this.state===ft?vt:$t,this.outcome):this.queue.push(new gt(At,vt,$t)),At},gt.prototype.callFulfilled=function(vt){tt.resolve(this.promise,vt)},gt.prototype.otherCallFulfilled=function(vt){wt(this.promise,this.onFulfilled,vt)},gt.prototype.callRejected=function(vt){tt.reject(this.promise,vt)},gt.prototype.otherCallRejected=function(vt){wt(this.promise,this.onRejected,vt)},tt.resolve=function(vt,$t){var At=Et(bt,$t);if(At.status==="error")return tt.reject(vt,At.value);var kt=At.value;if(kt)xt(vt,kt);else{vt.state=ft,vt.outcome=$t;for(var It=-1,Dt=vt.queue.length;++It<Dt;)vt.queue[It].callFulfilled($t)}return vt},tt.reject=function(vt,$t){vt.state=ot,vt.outcome=$t;for(var At=-1,kt=vt.queue.length;++At<kt;)vt.queue[At].callRejected($t);return vt},yt.resolve=function(vt){return vt instanceof this?vt:tt.resolve(new this(et),vt)},yt.reject=function(vt){var $t=new this(et);return tt.reject($t,vt)},yt.all=function(vt){var $t=this;if(Object.prototype.toString.call(vt)!=="[object Array]")return this.reject(new TypeError("must be an array"));var At=vt.length,kt=!1;if(!At)return this.resolve([]);for(var It=new Array(At),Dt=0,Mt=-1,zt=new this(et);++Mt<At;)Kt(vt[Mt],Mt);return zt;function Kt(Yt,er){$t.resolve(Yt).then(function(qt){It[er]=qt,++Dt!==At||kt||(kt=!0,tt.resolve(zt,It))},function(qt){kt||(kt=!0,tt.reject(zt,qt))})}},yt.race=function(vt){var $t=this;if(Object.prototype.toString.call(vt)!=="[object Array]")return this.reject(new TypeError("must be an array"));var At=vt.length,kt=!1;if(!At)return this.resolve([]);for(var It=-1,Dt=new this(et);++It<At;)Mt=vt[It],$t.resolve(Mt).then(function(zt){kt||(kt=!0,tt.resolve(Dt,zt))},function(zt){kt||(kt=!0,tt.reject(Dt,zt))});var Mt;return Dt}},{immediate:36}],38:[function(o,c,d){var h={};(0,o("./lib/utils/common").assign)(h,o("./lib/deflate"),o("./lib/inflate"),o("./lib/zlib/constants")),c.exports=h},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(o,c,d){var h=o("./zlib/deflate"),et=o("./utils/common"),tt=o("./utils/strings"),ot=o("./zlib/messages"),ft=o("./zlib/zstream"),ht=Object.prototype.toString,yt=0,gt=-1,wt=0,bt=8;function xt(vt){if(!(this instanceof xt))return new xt(vt);this.options=et.assign({level:gt,method:bt,chunkSize:16384,windowBits:15,memLevel:8,strategy:wt,to:""},vt||{});var $t=this.options;$t.raw&&0<$t.windowBits?$t.windowBits=-$t.windowBits:$t.gzip&&0<$t.windowBits&&$t.windowBits<16&&($t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ft,this.strm.avail_out=0;var At=h.deflateInit2(this.strm,$t.level,$t.method,$t.windowBits,$t.memLevel,$t.strategy);if(At!==yt)throw new Error(ot[At]);if($t.header&&h.deflateSetHeader(this.strm,$t.header),$t.dictionary){var kt;if(kt=typeof $t.dictionary=="string"?tt.string2buf($t.dictionary):ht.call($t.dictionary)==="[object ArrayBuffer]"?new Uint8Array($t.dictionary):$t.dictionary,(At=h.deflateSetDictionary(this.strm,kt))!==yt)throw new Error(ot[At]);this._dict_set=!0}}function Et(vt,$t){var At=new xt($t);if(At.push(vt,!0),At.err)throw At.msg||ot[At.err];return At.result}xt.prototype.push=function(vt,$t){var At,kt,It=this.strm,Dt=this.options.chunkSize;if(this.ended)return!1;kt=$t===~~$t?$t:$t===!0?4:0,typeof vt=="string"?It.input=tt.string2buf(vt):ht.call(vt)==="[object ArrayBuffer]"?It.input=new Uint8Array(vt):It.input=vt,It.next_in=0,It.avail_in=It.input.length;do{if(It.avail_out===0&&(It.output=new et.Buf8(Dt),It.next_out=0,It.avail_out=Dt),(At=h.deflate(It,kt))!==1&&At!==yt)return this.onEnd(At),!(this.ended=!0);It.avail_out!==0&&(It.avail_in!==0||kt!==4&&kt!==2)||(this.options.to==="string"?this.onData(tt.buf2binstring(et.shrinkBuf(It.output,It.next_out))):this.onData(et.shrinkBuf(It.output,It.next_out)))}while((0<It.avail_in||It.avail_out===0)&&At!==1);return kt===4?(At=h.deflateEnd(this.strm),this.onEnd(At),this.ended=!0,At===yt):kt!==2||(this.onEnd(yt),!(It.avail_out=0))},xt.prototype.onData=function(vt){this.chunks.push(vt)},xt.prototype.onEnd=function(vt){vt===yt&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=et.flattenChunks(this.chunks)),this.chunks=[],this.err=vt,this.msg=this.strm.msg},d.Deflate=xt,d.deflate=Et,d.deflateRaw=function(vt,$t){return($t=$t||{}).raw=!0,Et(vt,$t)},d.gzip=function(vt,$t){return($t=$t||{}).gzip=!0,Et(vt,$t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(o,c,d){var h=o("./zlib/inflate"),et=o("./utils/common"),tt=o("./utils/strings"),ot=o("./zlib/constants"),ft=o("./zlib/messages"),ht=o("./zlib/zstream"),yt=o("./zlib/gzheader"),gt=Object.prototype.toString;function wt(xt){if(!(this instanceof wt))return new wt(xt);this.options=et.assign({chunkSize:16384,windowBits:0,to:""},xt||{});var Et=this.options;Et.raw&&0<=Et.windowBits&&Et.windowBits<16&&(Et.windowBits=-Et.windowBits,Et.windowBits===0&&(Et.windowBits=-15)),!(0<=Et.windowBits&&Et.windowBits<16)||xt&&xt.windowBits||(Et.windowBits+=32),15<Et.windowBits&&Et.windowBits<48&&!(15&Et.windowBits)&&(Et.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ht,this.strm.avail_out=0;var vt=h.inflateInit2(this.strm,Et.windowBits);if(vt!==ot.Z_OK)throw new Error(ft[vt]);this.header=new yt,h.inflateGetHeader(this.strm,this.header)}function bt(xt,Et){var vt=new wt(Et);if(vt.push(xt,!0),vt.err)throw vt.msg||ft[vt.err];return vt.result}wt.prototype.push=function(xt,Et){var vt,$t,At,kt,It,Dt,Mt=this.strm,zt=this.options.chunkSize,Kt=this.options.dictionary,Yt=!1;if(this.ended)return!1;$t=Et===~~Et?Et:Et===!0?ot.Z_FINISH:ot.Z_NO_FLUSH,typeof xt=="string"?Mt.input=tt.binstring2buf(xt):gt.call(xt)==="[object ArrayBuffer]"?Mt.input=new Uint8Array(xt):Mt.input=xt,Mt.next_in=0,Mt.avail_in=Mt.input.length;do{if(Mt.avail_out===0&&(Mt.output=new et.Buf8(zt),Mt.next_out=0,Mt.avail_out=zt),(vt=h.inflate(Mt,ot.Z_NO_FLUSH))===ot.Z_NEED_DICT&&Kt&&(Dt=typeof Kt=="string"?tt.string2buf(Kt):gt.call(Kt)==="[object ArrayBuffer]"?new Uint8Array(Kt):Kt,vt=h.inflateSetDictionary(this.strm,Dt)),vt===ot.Z_BUF_ERROR&&Yt===!0&&(vt=ot.Z_OK,Yt=!1),vt!==ot.Z_STREAM_END&&vt!==ot.Z_OK)return this.onEnd(vt),!(this.ended=!0);Mt.next_out&&(Mt.avail_out!==0&&vt!==ot.Z_STREAM_END&&(Mt.avail_in!==0||$t!==ot.Z_FINISH&&$t!==ot.Z_SYNC_FLUSH)||(this.options.to==="string"?(At=tt.utf8border(Mt.output,Mt.next_out),kt=Mt.next_out-At,It=tt.buf2string(Mt.output,At),Mt.next_out=kt,Mt.avail_out=zt-kt,kt&&et.arraySet(Mt.output,Mt.output,At,kt,0),this.onData(It)):this.onData(et.shrinkBuf(Mt.output,Mt.next_out)))),Mt.avail_in===0&&Mt.avail_out===0&&(Yt=!0)}while((0<Mt.avail_in||Mt.avail_out===0)&&vt!==ot.Z_STREAM_END);return vt===ot.Z_STREAM_END&&($t=ot.Z_FINISH),$t===ot.Z_FINISH?(vt=h.inflateEnd(this.strm),this.onEnd(vt),this.ended=!0,vt===ot.Z_OK):$t!==ot.Z_SYNC_FLUSH||(this.onEnd(ot.Z_OK),!(Mt.avail_out=0))},wt.prototype.onData=function(xt){this.chunks.push(xt)},wt.prototype.onEnd=function(xt){xt===ot.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=et.flattenChunks(this.chunks)),this.chunks=[],this.err=xt,this.msg=this.strm.msg},d.Inflate=wt,d.inflate=bt,d.inflateRaw=function(xt,Et){return(Et=Et||{}).raw=!0,bt(xt,Et)},d.ungzip=bt},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(o,c,d){var h=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";d.assign=function(ot){for(var ft=Array.prototype.slice.call(arguments,1);ft.length;){var ht=ft.shift();if(ht){if(typeof ht!="object")throw new TypeError(ht+"must be non-object");for(var yt in ht)ht.hasOwnProperty(yt)&&(ot[yt]=ht[yt])}}return ot},d.shrinkBuf=function(ot,ft){return ot.length===ft?ot:ot.subarray?ot.subarray(0,ft):(ot.length=ft,ot)};var et={arraySet:function(ot,ft,ht,yt,gt){if(ft.subarray&&ot.subarray)ot.set(ft.subarray(ht,ht+yt),gt);else for(var wt=0;wt<yt;wt++)ot[gt+wt]=ft[ht+wt]},flattenChunks:function(ot){var ft,ht,yt,gt,wt,bt;for(ft=yt=0,ht=ot.length;ft<ht;ft++)yt+=ot[ft].length;for(bt=new Uint8Array(yt),ft=gt=0,ht=ot.length;ft<ht;ft++)wt=ot[ft],bt.set(wt,gt),gt+=wt.length;return bt}},tt={arraySet:function(ot,ft,ht,yt,gt){for(var wt=0;wt<yt;wt++)ot[gt+wt]=ft[ht+wt]},flattenChunks:function(ot){return[].concat.apply([],ot)}};d.setTyped=function(ot){ot?(d.Buf8=Uint8Array,d.Buf16=Uint16Array,d.Buf32=Int32Array,d.assign(d,et)):(d.Buf8=Array,d.Buf16=Array,d.Buf32=Array,d.assign(d,tt))},d.setTyped(h)},{}],42:[function(o,c,d){var h=o("./common"),et=!0,tt=!0;try{String.fromCharCode.apply(null,[0])}catch{et=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{tt=!1}for(var ot=new h.Buf8(256),ft=0;ft<256;ft++)ot[ft]=252<=ft?6:248<=ft?5:240<=ft?4:224<=ft?3:192<=ft?2:1;function ht(yt,gt){if(gt<65537&&(yt.subarray&&tt||!yt.subarray&&et))return String.fromCharCode.apply(null,h.shrinkBuf(yt,gt));for(var wt="",bt=0;bt<gt;bt++)wt+=String.fromCharCode(yt[bt]);return wt}ot[254]=ot[254]=1,d.string2buf=function(yt){var gt,wt,bt,xt,Et,vt=yt.length,$t=0;for(xt=0;xt<vt;xt++)(64512&(wt=yt.charCodeAt(xt)))==55296&&xt+1<vt&&(64512&(bt=yt.charCodeAt(xt+1)))==56320&&(wt=65536+(wt-55296<<10)+(bt-56320),xt++),$t+=wt<128?1:wt<2048?2:wt<65536?3:4;for(gt=new h.Buf8($t),xt=Et=0;Et<$t;xt++)(64512&(wt=yt.charCodeAt(xt)))==55296&&xt+1<vt&&(64512&(bt=yt.charCodeAt(xt+1)))==56320&&(wt=65536+(wt-55296<<10)+(bt-56320),xt++),wt<128?gt[Et++]=wt:(wt<2048?gt[Et++]=192|wt>>>6:(wt<65536?gt[Et++]=224|wt>>>12:(gt[Et++]=240|wt>>>18,gt[Et++]=128|wt>>>12&63),gt[Et++]=128|wt>>>6&63),gt[Et++]=128|63&wt);return gt},d.buf2binstring=function(yt){return ht(yt,yt.length)},d.binstring2buf=function(yt){for(var gt=new h.Buf8(yt.length),wt=0,bt=gt.length;wt<bt;wt++)gt[wt]=yt.charCodeAt(wt);return gt},d.buf2string=function(yt,gt){var wt,bt,xt,Et,vt=gt||yt.length,$t=new Array(2*vt);for(wt=bt=0;wt<vt;)if((xt=yt[wt++])<128)$t[bt++]=xt;else if(4<(Et=ot[xt]))$t[bt++]=65533,wt+=Et-1;else{for(xt&=Et===2?31:Et===3?15:7;1<Et&&wt<vt;)xt=xt<<6|63&yt[wt++],Et--;1<Et?$t[bt++]=65533:xt<65536?$t[bt++]=xt:(xt-=65536,$t[bt++]=55296|xt>>10&1023,$t[bt++]=56320|1023&xt)}return ht($t,bt)},d.utf8border=function(yt,gt){var wt;for((gt=gt||yt.length)>yt.length&&(gt=yt.length),wt=gt-1;0<=wt&&(192&yt[wt])==128;)wt--;return wt<0||wt===0?gt:wt+ot[yt[wt]]>gt?wt:gt}},{"./common":41}],43:[function(o,c,d){c.exports=function(h,et,tt,ot){for(var ft=65535&h|0,ht=h>>>16&65535|0,yt=0;tt!==0;){for(tt-=yt=2e3<tt?2e3:tt;ht=ht+(ft=ft+et[ot++]|0)|0,--yt;);ft%=65521,ht%=65521}return ft|ht<<16|0}},{}],44:[function(o,c,d){c.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(o,c,d){var h=function(){for(var et,tt=[],ot=0;ot<256;ot++){et=ot;for(var ft=0;ft<8;ft++)et=1&et?3988292384^et>>>1:et>>>1;tt[ot]=et}return tt}();c.exports=function(et,tt,ot,ft){var ht=h,yt=ft+ot;et^=-1;for(var gt=ft;gt<yt;gt++)et=et>>>8^ht[255&(et^tt[gt])];return-1^et}},{}],46:[function(o,c,d){var h,et=o("../utils/common"),tt=o("./trees"),ot=o("./adler32"),ft=o("./crc32"),ht=o("./messages"),yt=0,gt=4,wt=0,bt=-2,xt=-1,Et=4,vt=2,$t=8,At=9,kt=286,It=30,Dt=19,Mt=2*kt+1,zt=15,Kt=3,Yt=258,er=Yt+Kt+1,qt=42,Ft=113,mt=1,Tt=2,Rt=3,Ot=4;function Lt(Nt,ur){return Nt.msg=ht[ur],ur}function Ut(Nt){return(Nt<<1)-(4<Nt?9:0)}function Gt(Nt){for(var ur=Nt.length;0<=--ur;)Nt[ur]=0}function Bt(Nt){var ur=Nt.state,lr=ur.pending;lr>Nt.avail_out&&(lr=Nt.avail_out),lr!==0&&(et.arraySet(Nt.output,ur.pending_buf,ur.pending_out,lr,Nt.next_out),Nt.next_out+=lr,ur.pending_out+=lr,Nt.total_out+=lr,Nt.avail_out-=lr,ur.pending-=lr,ur.pending===0&&(ur.pending_out=0))}function St(Nt,ur){tt._tr_flush_block(Nt,0<=Nt.block_start?Nt.block_start:-1,Nt.strstart-Nt.block_start,ur),Nt.block_start=Nt.strstart,Bt(Nt.strm)}function Vt(Nt,ur){Nt.pending_buf[Nt.pending++]=ur}function dr(Nt,ur){Nt.pending_buf[Nt.pending++]=ur>>>8&255,Nt.pending_buf[Nt.pending++]=255&ur}function cr(Nt,ur){var lr,Xt,Wt=Nt.max_chain_length,nr=Nt.strstart,fr=Nt.prev_length,pr=Nt.nice_match,sr=Nt.strstart>Nt.w_size-er?Nt.strstart-(Nt.w_size-er):0,yr=Nt.window,br=Nt.w_mask,mr=Nt.prev,wr=Nt.strstart+Yt,jt=yr[nr+fr-1],Ct=yr[nr+fr];Nt.prev_length>=Nt.good_match&&(Wt>>=2),pr>Nt.lookahead&&(pr=Nt.lookahead);do if(yr[(lr=ur)+fr]===Ct&&yr[lr+fr-1]===jt&&yr[lr]===yr[nr]&&yr[++lr]===yr[nr+1]){nr+=2,lr++;do;while(yr[++nr]===yr[++lr]&&yr[++nr]===yr[++lr]&&yr[++nr]===yr[++lr]&&yr[++nr]===yr[++lr]&&yr[++nr]===yr[++lr]&&yr[++nr]===yr[++lr]&&yr[++nr]===yr[++lr]&&yr[++nr]===yr[++lr]&&nr<wr);if(Xt=Yt-(wr-nr),nr=wr-Yt,fr<Xt){if(Nt.match_start=ur,pr<=(fr=Xt))break;jt=yr[nr+fr-1],Ct=yr[nr+fr]}}while((ur=mr[ur&br])>sr&&--Wt!=0);return fr<=Nt.lookahead?fr:Nt.lookahead}function gr(Nt){var ur,lr,Xt,Wt,nr,fr,pr,sr,yr,br,mr=Nt.w_size;do{if(Wt=Nt.window_size-Nt.lookahead-Nt.strstart,Nt.strstart>=mr+(mr-er)){for(et.arraySet(Nt.window,Nt.window,mr,mr,0),Nt.match_start-=mr,Nt.strstart-=mr,Nt.block_start-=mr,ur=lr=Nt.hash_size;Xt=Nt.head[--ur],Nt.head[ur]=mr<=Xt?Xt-mr:0,--lr;);for(ur=lr=mr;Xt=Nt.prev[--ur],Nt.prev[ur]=mr<=Xt?Xt-mr:0,--lr;);Wt+=mr}if(Nt.strm.avail_in===0)break;if(fr=Nt.strm,pr=Nt.window,sr=Nt.strstart+Nt.lookahead,yr=Wt,br=void 0,br=fr.avail_in,yr<br&&(br=yr),lr=br===0?0:(fr.avail_in-=br,et.arraySet(pr,fr.input,fr.next_in,br,sr),fr.state.wrap===1?fr.adler=ot(fr.adler,pr,br,sr):fr.state.wrap===2&&(fr.adler=ft(fr.adler,pr,br,sr)),fr.next_in+=br,fr.total_in+=br,br),Nt.lookahead+=lr,Nt.lookahead+Nt.insert>=Kt)for(nr=Nt.strstart-Nt.insert,Nt.ins_h=Nt.window[nr],Nt.ins_h=(Nt.ins_h<<Nt.hash_shift^Nt.window[nr+1])&Nt.hash_mask;Nt.insert&&(Nt.ins_h=(Nt.ins_h<<Nt.hash_shift^Nt.window[nr+Kt-1])&Nt.hash_mask,Nt.prev[nr&Nt.w_mask]=Nt.head[Nt.ins_h],Nt.head[Nt.ins_h]=nr,nr++,Nt.insert--,!(Nt.lookahead+Nt.insert<Kt)););}while(Nt.lookahead<er&&Nt.strm.avail_in!==0)}function $r(Nt,ur){for(var lr,Xt;;){if(Nt.lookahead<er){if(gr(Nt),Nt.lookahead<er&&ur===yt)return mt;if(Nt.lookahead===0)break}if(lr=0,Nt.lookahead>=Kt&&(Nt.ins_h=(Nt.ins_h<<Nt.hash_shift^Nt.window[Nt.strstart+Kt-1])&Nt.hash_mask,lr=Nt.prev[Nt.strstart&Nt.w_mask]=Nt.head[Nt.ins_h],Nt.head[Nt.ins_h]=Nt.strstart),lr!==0&&Nt.strstart-lr<=Nt.w_size-er&&(Nt.match_length=cr(Nt,lr)),Nt.match_length>=Kt)if(Xt=tt._tr_tally(Nt,Nt.strstart-Nt.match_start,Nt.match_length-Kt),Nt.lookahead-=Nt.match_length,Nt.match_length<=Nt.max_lazy_match&&Nt.lookahead>=Kt){for(Nt.match_length--;Nt.strstart++,Nt.ins_h=(Nt.ins_h<<Nt.hash_shift^Nt.window[Nt.strstart+Kt-1])&Nt.hash_mask,lr=Nt.prev[Nt.strstart&Nt.w_mask]=Nt.head[Nt.ins_h],Nt.head[Nt.ins_h]=Nt.strstart,--Nt.match_length!=0;);Nt.strstart++}else Nt.strstart+=Nt.match_length,Nt.match_length=0,Nt.ins_h=Nt.window[Nt.strstart],Nt.ins_h=(Nt.ins_h<<Nt.hash_shift^Nt.window[Nt.strstart+1])&Nt.hash_mask;else Xt=tt._tr_tally(Nt,0,Nt.window[Nt.strstart]),Nt.lookahead--,Nt.strstart++;if(Xt&&(St(Nt,!1),Nt.strm.avail_out===0))return mt}return Nt.insert=Nt.strstart<Kt-1?Nt.strstart:Kt-1,ur===gt?(St(Nt,!0),Nt.strm.avail_out===0?Rt:Ot):Nt.last_lit&&(St(Nt,!1),Nt.strm.avail_out===0)?mt:Tt}function xr(Nt,ur){for(var lr,Xt,Wt;;){if(Nt.lookahead<er){if(gr(Nt),Nt.lookahead<er&&ur===yt)return mt;if(Nt.lookahead===0)break}if(lr=0,Nt.lookahead>=Kt&&(Nt.ins_h=(Nt.ins_h<<Nt.hash_shift^Nt.window[Nt.strstart+Kt-1])&Nt.hash_mask,lr=Nt.prev[Nt.strstart&Nt.w_mask]=Nt.head[Nt.ins_h],Nt.head[Nt.ins_h]=Nt.strstart),Nt.prev_length=Nt.match_length,Nt.prev_match=Nt.match_start,Nt.match_length=Kt-1,lr!==0&&Nt.prev_length<Nt.max_lazy_match&&Nt.strstart-lr<=Nt.w_size-er&&(Nt.match_length=cr(Nt,lr),Nt.match_length<=5&&(Nt.strategy===1||Nt.match_length===Kt&&4096<Nt.strstart-Nt.match_start)&&(Nt.match_length=Kt-1)),Nt.prev_length>=Kt&&Nt.match_length<=Nt.prev_length){for(Wt=Nt.strstart+Nt.lookahead-Kt,Xt=tt._tr_tally(Nt,Nt.strstart-1-Nt.prev_match,Nt.prev_length-Kt),Nt.lookahead-=Nt.prev_length-1,Nt.prev_length-=2;++Nt.strstart<=Wt&&(Nt.ins_h=(Nt.ins_h<<Nt.hash_shift^Nt.window[Nt.strstart+Kt-1])&Nt.hash_mask,lr=Nt.prev[Nt.strstart&Nt.w_mask]=Nt.head[Nt.ins_h],Nt.head[Nt.ins_h]=Nt.strstart),--Nt.prev_length!=0;);if(Nt.match_available=0,Nt.match_length=Kt-1,Nt.strstart++,Xt&&(St(Nt,!1),Nt.strm.avail_out===0))return mt}else if(Nt.match_available){if((Xt=tt._tr_tally(Nt,0,Nt.window[Nt.strstart-1]))&&St(Nt,!1),Nt.strstart++,Nt.lookahead--,Nt.strm.avail_out===0)return mt}else Nt.match_available=1,Nt.strstart++,Nt.lookahead--}return Nt.match_available&&(Xt=tt._tr_tally(Nt,0,Nt.window[Nt.strstart-1]),Nt.match_available=0),Nt.insert=Nt.strstart<Kt-1?Nt.strstart:Kt-1,ur===gt?(St(Nt,!0),Nt.strm.avail_out===0?Rt:Ot):Nt.last_lit&&(St(Nt,!1),Nt.strm.avail_out===0)?mt:Tt}function vr(Nt,ur,lr,Xt,Wt){this.good_length=Nt,this.max_lazy=ur,this.nice_length=lr,this.max_chain=Xt,this.func=Wt}function kr(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=$t,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new et.Buf16(2*Mt),this.dyn_dtree=new et.Buf16(2*(2*It+1)),this.bl_tree=new et.Buf16(2*(2*Dt+1)),Gt(this.dyn_ltree),Gt(this.dyn_dtree),Gt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new et.Buf16(zt+1),this.heap=new et.Buf16(2*kt+1),Gt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new et.Buf16(2*kt+1),Gt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Tr(Nt){var ur;return Nt&&Nt.state?(Nt.total_in=Nt.total_out=0,Nt.data_type=vt,(ur=Nt.state).pending=0,ur.pending_out=0,ur.wrap<0&&(ur.wrap=-ur.wrap),ur.status=ur.wrap?qt:Ft,Nt.adler=ur.wrap===2?0:1,ur.last_flush=yt,tt._tr_init(ur),wt):Lt(Nt,bt)}function Sr(Nt){var ur=Tr(Nt);return ur===wt&&function(lr){lr.window_size=2*lr.w_size,Gt(lr.head),lr.max_lazy_match=h[lr.level].max_lazy,lr.good_match=h[lr.level].good_length,lr.nice_match=h[lr.level].nice_length,lr.max_chain_length=h[lr.level].max_chain,lr.strstart=0,lr.block_start=0,lr.lookahead=0,lr.insert=0,lr.match_length=lr.prev_length=Kt-1,lr.match_available=0,lr.ins_h=0}(Nt.state),ur}function Ir(Nt,ur,lr,Xt,Wt,nr){if(!Nt)return bt;var fr=1;if(ur===xt&&(ur=6),Xt<0?(fr=0,Xt=-Xt):15<Xt&&(fr=2,Xt-=16),Wt<1||At<Wt||lr!==$t||Xt<8||15<Xt||ur<0||9<ur||nr<0||Et<nr)return Lt(Nt,bt);Xt===8&&(Xt=9);var pr=new kr;return(Nt.state=pr).strm=Nt,pr.wrap=fr,pr.gzhead=null,pr.w_bits=Xt,pr.w_size=1<<pr.w_bits,pr.w_mask=pr.w_size-1,pr.hash_bits=Wt+7,pr.hash_size=1<<pr.hash_bits,pr.hash_mask=pr.hash_size-1,pr.hash_shift=~~((pr.hash_bits+Kt-1)/Kt),pr.window=new et.Buf8(2*pr.w_size),pr.head=new et.Buf16(pr.hash_size),pr.prev=new et.Buf16(pr.w_size),pr.lit_bufsize=1<<Wt+6,pr.pending_buf_size=4*pr.lit_bufsize,pr.pending_buf=new et.Buf8(pr.pending_buf_size),pr.d_buf=1*pr.lit_bufsize,pr.l_buf=3*pr.lit_bufsize,pr.level=ur,pr.strategy=nr,pr.method=lr,Sr(Nt)}h=[new vr(0,0,0,0,function(Nt,ur){var lr=65535;for(lr>Nt.pending_buf_size-5&&(lr=Nt.pending_buf_size-5);;){if(Nt.lookahead<=1){if(gr(Nt),Nt.lookahead===0&&ur===yt)return mt;if(Nt.lookahead===0)break}Nt.strstart+=Nt.lookahead,Nt.lookahead=0;var Xt=Nt.block_start+lr;if((Nt.strstart===0||Nt.strstart>=Xt)&&(Nt.lookahead=Nt.strstart-Xt,Nt.strstart=Xt,St(Nt,!1),Nt.strm.avail_out===0)||Nt.strstart-Nt.block_start>=Nt.w_size-er&&(St(Nt,!1),Nt.strm.avail_out===0))return mt}return Nt.insert=0,ur===gt?(St(Nt,!0),Nt.strm.avail_out===0?Rt:Ot):(Nt.strstart>Nt.block_start&&(St(Nt,!1),Nt.strm.avail_out),mt)}),new vr(4,4,8,4,$r),new vr(4,5,16,8,$r),new vr(4,6,32,32,$r),new vr(4,4,16,16,xr),new vr(8,16,32,32,xr),new vr(8,16,128,128,xr),new vr(8,32,128,256,xr),new vr(32,128,258,1024,xr),new vr(32,258,258,4096,xr)],d.deflateInit=function(Nt,ur){return Ir(Nt,ur,$t,15,8,0)},d.deflateInit2=Ir,d.deflateReset=Sr,d.deflateResetKeep=Tr,d.deflateSetHeader=function(Nt,ur){return Nt&&Nt.state?Nt.state.wrap!==2?bt:(Nt.state.gzhead=ur,wt):bt},d.deflate=function(Nt,ur){var lr,Xt,Wt,nr;if(!Nt||!Nt.state||5<ur||ur<0)return Nt?Lt(Nt,bt):bt;if(Xt=Nt.state,!Nt.output||!Nt.input&&Nt.avail_in!==0||Xt.status===666&&ur!==gt)return Lt(Nt,Nt.avail_out===0?-5:bt);if(Xt.strm=Nt,lr=Xt.last_flush,Xt.last_flush=ur,Xt.status===qt)if(Xt.wrap===2)Nt.adler=0,Vt(Xt,31),Vt(Xt,139),Vt(Xt,8),Xt.gzhead?(Vt(Xt,(Xt.gzhead.text?1:0)+(Xt.gzhead.hcrc?2:0)+(Xt.gzhead.extra?4:0)+(Xt.gzhead.name?8:0)+(Xt.gzhead.comment?16:0)),Vt(Xt,255&Xt.gzhead.time),Vt(Xt,Xt.gzhead.time>>8&255),Vt(Xt,Xt.gzhead.time>>16&255),Vt(Xt,Xt.gzhead.time>>24&255),Vt(Xt,Xt.level===9?2:2<=Xt.strategy||Xt.level<2?4:0),Vt(Xt,255&Xt.gzhead.os),Xt.gzhead.extra&&Xt.gzhead.extra.length&&(Vt(Xt,255&Xt.gzhead.extra.length),Vt(Xt,Xt.gzhead.extra.length>>8&255)),Xt.gzhead.hcrc&&(Nt.adler=ft(Nt.adler,Xt.pending_buf,Xt.pending,0)),Xt.gzindex=0,Xt.status=69):(Vt(Xt,0),Vt(Xt,0),Vt(Xt,0),Vt(Xt,0),Vt(Xt,0),Vt(Xt,Xt.level===9?2:2<=Xt.strategy||Xt.level<2?4:0),Vt(Xt,3),Xt.status=Ft);else{var fr=$t+(Xt.w_bits-8<<4)<<8;fr|=(2<=Xt.strategy||Xt.level<2?0:Xt.level<6?1:Xt.level===6?2:3)<<6,Xt.strstart!==0&&(fr|=32),fr+=31-fr%31,Xt.status=Ft,dr(Xt,fr),Xt.strstart!==0&&(dr(Xt,Nt.adler>>>16),dr(Xt,65535&Nt.adler)),Nt.adler=1}if(Xt.status===69)if(Xt.gzhead.extra){for(Wt=Xt.pending;Xt.gzindex<(65535&Xt.gzhead.extra.length)&&(Xt.pending!==Xt.pending_buf_size||(Xt.gzhead.hcrc&&Xt.pending>Wt&&(Nt.adler=ft(Nt.adler,Xt.pending_buf,Xt.pending-Wt,Wt)),Bt(Nt),Wt=Xt.pending,Xt.pending!==Xt.pending_buf_size));)Vt(Xt,255&Xt.gzhead.extra[Xt.gzindex]),Xt.gzindex++;Xt.gzhead.hcrc&&Xt.pending>Wt&&(Nt.adler=ft(Nt.adler,Xt.pending_buf,Xt.pending-Wt,Wt)),Xt.gzindex===Xt.gzhead.extra.length&&(Xt.gzindex=0,Xt.status=73)}else Xt.status=73;if(Xt.status===73)if(Xt.gzhead.name){Wt=Xt.pending;do{if(Xt.pending===Xt.pending_buf_size&&(Xt.gzhead.hcrc&&Xt.pending>Wt&&(Nt.adler=ft(Nt.adler,Xt.pending_buf,Xt.pending-Wt,Wt)),Bt(Nt),Wt=Xt.pending,Xt.pending===Xt.pending_buf_size)){nr=1;break}nr=Xt.gzindex<Xt.gzhead.name.length?255&Xt.gzhead.name.charCodeAt(Xt.gzindex++):0,Vt(Xt,nr)}while(nr!==0);Xt.gzhead.hcrc&&Xt.pending>Wt&&(Nt.adler=ft(Nt.adler,Xt.pending_buf,Xt.pending-Wt,Wt)),nr===0&&(Xt.gzindex=0,Xt.status=91)}else Xt.status=91;if(Xt.status===91)if(Xt.gzhead.comment){Wt=Xt.pending;do{if(Xt.pending===Xt.pending_buf_size&&(Xt.gzhead.hcrc&&Xt.pending>Wt&&(Nt.adler=ft(Nt.adler,Xt.pending_buf,Xt.pending-Wt,Wt)),Bt(Nt),Wt=Xt.pending,Xt.pending===Xt.pending_buf_size)){nr=1;break}nr=Xt.gzindex<Xt.gzhead.comment.length?255&Xt.gzhead.comment.charCodeAt(Xt.gzindex++):0,Vt(Xt,nr)}while(nr!==0);Xt.gzhead.hcrc&&Xt.pending>Wt&&(Nt.adler=ft(Nt.adler,Xt.pending_buf,Xt.pending-Wt,Wt)),nr===0&&(Xt.status=103)}else Xt.status=103;if(Xt.status===103&&(Xt.gzhead.hcrc?(Xt.pending+2>Xt.pending_buf_size&&Bt(Nt),Xt.pending+2<=Xt.pending_buf_size&&(Vt(Xt,255&Nt.adler),Vt(Xt,Nt.adler>>8&255),Nt.adler=0,Xt.status=Ft)):Xt.status=Ft),Xt.pending!==0){if(Bt(Nt),Nt.avail_out===0)return Xt.last_flush=-1,wt}else if(Nt.avail_in===0&&Ut(ur)<=Ut(lr)&&ur!==gt)return Lt(Nt,-5);if(Xt.status===666&&Nt.avail_in!==0)return Lt(Nt,-5);if(Nt.avail_in!==0||Xt.lookahead!==0||ur!==yt&&Xt.status!==666){var pr=Xt.strategy===2?function(sr,yr){for(var br;;){if(sr.lookahead===0&&(gr(sr),sr.lookahead===0)){if(yr===yt)return mt;break}if(sr.match_length=0,br=tt._tr_tally(sr,0,sr.window[sr.strstart]),sr.lookahead--,sr.strstart++,br&&(St(sr,!1),sr.strm.avail_out===0))return mt}return sr.insert=0,yr===gt?(St(sr,!0),sr.strm.avail_out===0?Rt:Ot):sr.last_lit&&(St(sr,!1),sr.strm.avail_out===0)?mt:Tt}(Xt,ur):Xt.strategy===3?function(sr,yr){for(var br,mr,wr,jt,Ct=sr.window;;){if(sr.lookahead<=Yt){if(gr(sr),sr.lookahead<=Yt&&yr===yt)return mt;if(sr.lookahead===0)break}if(sr.match_length=0,sr.lookahead>=Kt&&0<sr.strstart&&(mr=Ct[wr=sr.strstart-1])===Ct[++wr]&&mr===Ct[++wr]&&mr===Ct[++wr]){jt=sr.strstart+Yt;do;while(mr===Ct[++wr]&&mr===Ct[++wr]&&mr===Ct[++wr]&&mr===Ct[++wr]&&mr===Ct[++wr]&&mr===Ct[++wr]&&mr===Ct[++wr]&&mr===Ct[++wr]&&wr<jt);sr.match_length=Yt-(jt-wr),sr.match_length>sr.lookahead&&(sr.match_length=sr.lookahead)}if(sr.match_length>=Kt?(br=tt._tr_tally(sr,1,sr.match_length-Kt),sr.lookahead-=sr.match_length,sr.strstart+=sr.match_length,sr.match_length=0):(br=tt._tr_tally(sr,0,sr.window[sr.strstart]),sr.lookahead--,sr.strstart++),br&&(St(sr,!1),sr.strm.avail_out===0))return mt}return sr.insert=0,yr===gt?(St(sr,!0),sr.strm.avail_out===0?Rt:Ot):sr.last_lit&&(St(sr,!1),sr.strm.avail_out===0)?mt:Tt}(Xt,ur):h[Xt.level].func(Xt,ur);if(pr!==Rt&&pr!==Ot||(Xt.status=666),pr===mt||pr===Rt)return Nt.avail_out===0&&(Xt.last_flush=-1),wt;if(pr===Tt&&(ur===1?tt._tr_align(Xt):ur!==5&&(tt._tr_stored_block(Xt,0,0,!1),ur===3&&(Gt(Xt.head),Xt.lookahead===0&&(Xt.strstart=0,Xt.block_start=0,Xt.insert=0))),Bt(Nt),Nt.avail_out===0))return Xt.last_flush=-1,wt}return ur!==gt?wt:Xt.wrap<=0?1:(Xt.wrap===2?(Vt(Xt,255&Nt.adler),Vt(Xt,Nt.adler>>8&255),Vt(Xt,Nt.adler>>16&255),Vt(Xt,Nt.adler>>24&255),Vt(Xt,255&Nt.total_in),Vt(Xt,Nt.total_in>>8&255),Vt(Xt,Nt.total_in>>16&255),Vt(Xt,Nt.total_in>>24&255)):(dr(Xt,Nt.adler>>>16),dr(Xt,65535&Nt.adler)),Bt(Nt),0<Xt.wrap&&(Xt.wrap=-Xt.wrap),Xt.pending!==0?wt:1)},d.deflateEnd=function(Nt){var ur;return Nt&&Nt.state?(ur=Nt.state.status)!==qt&&ur!==69&&ur!==73&&ur!==91&&ur!==103&&ur!==Ft&&ur!==666?Lt(Nt,bt):(Nt.state=null,ur===Ft?Lt(Nt,-3):wt):bt},d.deflateSetDictionary=function(Nt,ur){var lr,Xt,Wt,nr,fr,pr,sr,yr,br=ur.length;if(!Nt||!Nt.state||(nr=(lr=Nt.state).wrap)===2||nr===1&&lr.status!==qt||lr.lookahead)return bt;for(nr===1&&(Nt.adler=ot(Nt.adler,ur,br,0)),lr.wrap=0,br>=lr.w_size&&(nr===0&&(Gt(lr.head),lr.strstart=0,lr.block_start=0,lr.insert=0),yr=new et.Buf8(lr.w_size),et.arraySet(yr,ur,br-lr.w_size,lr.w_size,0),ur=yr,br=lr.w_size),fr=Nt.avail_in,pr=Nt.next_in,sr=Nt.input,Nt.avail_in=br,Nt.next_in=0,Nt.input=ur,gr(lr);lr.lookahead>=Kt;){for(Xt=lr.strstart,Wt=lr.lookahead-(Kt-1);lr.ins_h=(lr.ins_h<<lr.hash_shift^lr.window[Xt+Kt-1])&lr.hash_mask,lr.prev[Xt&lr.w_mask]=lr.head[lr.ins_h],lr.head[lr.ins_h]=Xt,Xt++,--Wt;);lr.strstart=Xt,lr.lookahead=Kt-1,gr(lr)}return lr.strstart+=lr.lookahead,lr.block_start=lr.strstart,lr.insert=lr.lookahead,lr.lookahead=0,lr.match_length=lr.prev_length=Kt-1,lr.match_available=0,Nt.next_in=pr,Nt.input=sr,Nt.avail_in=fr,lr.wrap=nr,wt},d.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(o,c,d){c.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(o,c,d){c.exports=function(h,et){var tt,ot,ft,ht,yt,gt,wt,bt,xt,Et,vt,$t,At,kt,It,Dt,Mt,zt,Kt,Yt,er,qt,Ft,mt,Tt;tt=h.state,ot=h.next_in,mt=h.input,ft=ot+(h.avail_in-5),ht=h.next_out,Tt=h.output,yt=ht-(et-h.avail_out),gt=ht+(h.avail_out-257),wt=tt.dmax,bt=tt.wsize,xt=tt.whave,Et=tt.wnext,vt=tt.window,$t=tt.hold,At=tt.bits,kt=tt.lencode,It=tt.distcode,Dt=(1<<tt.lenbits)-1,Mt=(1<<tt.distbits)-1;e:do{At<15&&($t+=mt[ot++]<<At,At+=8,$t+=mt[ot++]<<At,At+=8),zt=kt[$t&Dt];t:for(;;){if($t>>>=Kt=zt>>>24,At-=Kt,(Kt=zt>>>16&255)===0)Tt[ht++]=65535&zt;else{if(!(16&Kt)){if(!(64&Kt)){zt=kt[(65535&zt)+($t&(1<<Kt)-1)];continue t}if(32&Kt){tt.mode=12;break e}h.msg="invalid literal/length code",tt.mode=30;break e}Yt=65535&zt,(Kt&=15)&&(At<Kt&&($t+=mt[ot++]<<At,At+=8),Yt+=$t&(1<<Kt)-1,$t>>>=Kt,At-=Kt),At<15&&($t+=mt[ot++]<<At,At+=8,$t+=mt[ot++]<<At,At+=8),zt=It[$t&Mt];r:for(;;){if($t>>>=Kt=zt>>>24,At-=Kt,!(16&(Kt=zt>>>16&255))){if(!(64&Kt)){zt=It[(65535&zt)+($t&(1<<Kt)-1)];continue r}h.msg="invalid distance code",tt.mode=30;break e}if(er=65535&zt,At<(Kt&=15)&&($t+=mt[ot++]<<At,(At+=8)<Kt&&($t+=mt[ot++]<<At,At+=8)),wt<(er+=$t&(1<<Kt)-1)){h.msg="invalid distance too far back",tt.mode=30;break e}if($t>>>=Kt,At-=Kt,(Kt=ht-yt)<er){if(xt<(Kt=er-Kt)&&tt.sane){h.msg="invalid distance too far back",tt.mode=30;break e}if(Ft=vt,(qt=0)===Et){if(qt+=bt-Kt,Kt<Yt){for(Yt-=Kt;Tt[ht++]=vt[qt++],--Kt;);qt=ht-er,Ft=Tt}}else if(Et<Kt){if(qt+=bt+Et-Kt,(Kt-=Et)<Yt){for(Yt-=Kt;Tt[ht++]=vt[qt++],--Kt;);if(qt=0,Et<Yt){for(Yt-=Kt=Et;Tt[ht++]=vt[qt++],--Kt;);qt=ht-er,Ft=Tt}}}else if(qt+=Et-Kt,Kt<Yt){for(Yt-=Kt;Tt[ht++]=vt[qt++],--Kt;);qt=ht-er,Ft=Tt}for(;2<Yt;)Tt[ht++]=Ft[qt++],Tt[ht++]=Ft[qt++],Tt[ht++]=Ft[qt++],Yt-=3;Yt&&(Tt[ht++]=Ft[qt++],1<Yt&&(Tt[ht++]=Ft[qt++]))}else{for(qt=ht-er;Tt[ht++]=Tt[qt++],Tt[ht++]=Tt[qt++],Tt[ht++]=Tt[qt++],2<(Yt-=3););Yt&&(Tt[ht++]=Tt[qt++],1<Yt&&(Tt[ht++]=Tt[qt++]))}break}}break}}while(ot<ft&&ht<gt);ot-=Yt=At>>3,$t&=(1<<(At-=Yt<<3))-1,h.next_in=ot,h.next_out=ht,h.avail_in=ot<ft?ft-ot+5:5-(ot-ft),h.avail_out=ht<gt?gt-ht+257:257-(ht-gt),tt.hold=$t,tt.bits=At}},{}],49:[function(o,c,d){var h=o("../utils/common"),et=o("./adler32"),tt=o("./crc32"),ot=o("./inffast"),ft=o("./inftrees"),ht=1,yt=2,gt=0,wt=-2,bt=1,xt=852,Et=592;function vt(qt){return(qt>>>24&255)+(qt>>>8&65280)+((65280&qt)<<8)+((255&qt)<<24)}function $t(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new h.Buf16(320),this.work=new h.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function At(qt){var Ft;return qt&&qt.state?(Ft=qt.state,qt.total_in=qt.total_out=Ft.total=0,qt.msg="",Ft.wrap&&(qt.adler=1&Ft.wrap),Ft.mode=bt,Ft.last=0,Ft.havedict=0,Ft.dmax=32768,Ft.head=null,Ft.hold=0,Ft.bits=0,Ft.lencode=Ft.lendyn=new h.Buf32(xt),Ft.distcode=Ft.distdyn=new h.Buf32(Et),Ft.sane=1,Ft.back=-1,gt):wt}function kt(qt){var Ft;return qt&&qt.state?((Ft=qt.state).wsize=0,Ft.whave=0,Ft.wnext=0,At(qt)):wt}function It(qt,Ft){var mt,Tt;return qt&&qt.state?(Tt=qt.state,Ft<0?(mt=0,Ft=-Ft):(mt=1+(Ft>>4),Ft<48&&(Ft&=15)),Ft&&(Ft<8||15<Ft)?wt:(Tt.window!==null&&Tt.wbits!==Ft&&(Tt.window=null),Tt.wrap=mt,Tt.wbits=Ft,kt(qt))):wt}function Dt(qt,Ft){var mt,Tt;return qt?(Tt=new $t,(qt.state=Tt).window=null,(mt=It(qt,Ft))!==gt&&(qt.state=null),mt):wt}var Mt,zt,Kt=!0;function Yt(qt){if(Kt){var Ft;for(Mt=new h.Buf32(512),zt=new h.Buf32(32),Ft=0;Ft<144;)qt.lens[Ft++]=8;for(;Ft<256;)qt.lens[Ft++]=9;for(;Ft<280;)qt.lens[Ft++]=7;for(;Ft<288;)qt.lens[Ft++]=8;for(ft(ht,qt.lens,0,288,Mt,0,qt.work,{bits:9}),Ft=0;Ft<32;)qt.lens[Ft++]=5;ft(yt,qt.lens,0,32,zt,0,qt.work,{bits:5}),Kt=!1}qt.lencode=Mt,qt.lenbits=9,qt.distcode=zt,qt.distbits=5}function er(qt,Ft,mt,Tt){var Rt,Ot=qt.state;return Ot.window===null&&(Ot.wsize=1<<Ot.wbits,Ot.wnext=0,Ot.whave=0,Ot.window=new h.Buf8(Ot.wsize)),Tt>=Ot.wsize?(h.arraySet(Ot.window,Ft,mt-Ot.wsize,Ot.wsize,0),Ot.wnext=0,Ot.whave=Ot.wsize):(Tt<(Rt=Ot.wsize-Ot.wnext)&&(Rt=Tt),h.arraySet(Ot.window,Ft,mt-Tt,Rt,Ot.wnext),(Tt-=Rt)?(h.arraySet(Ot.window,Ft,mt-Tt,Tt,0),Ot.wnext=Tt,Ot.whave=Ot.wsize):(Ot.wnext+=Rt,Ot.wnext===Ot.wsize&&(Ot.wnext=0),Ot.whave<Ot.wsize&&(Ot.whave+=Rt))),0}d.inflateReset=kt,d.inflateReset2=It,d.inflateResetKeep=At,d.inflateInit=function(qt){return Dt(qt,15)},d.inflateInit2=Dt,d.inflate=function(qt,Ft){var mt,Tt,Rt,Ot,Lt,Ut,Gt,Bt,St,Vt,dr,cr,gr,$r,xr,vr,kr,Tr,Sr,Ir,Nt,ur,lr,Xt,Wt=0,nr=new h.Buf8(4),fr=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!qt||!qt.state||!qt.output||!qt.input&&qt.avail_in!==0)return wt;(mt=qt.state).mode===12&&(mt.mode=13),Lt=qt.next_out,Rt=qt.output,Gt=qt.avail_out,Ot=qt.next_in,Tt=qt.input,Ut=qt.avail_in,Bt=mt.hold,St=mt.bits,Vt=Ut,dr=Gt,ur=gt;e:for(;;)switch(mt.mode){case bt:if(mt.wrap===0){mt.mode=13;break}for(;St<16;){if(Ut===0)break e;Ut--,Bt+=Tt[Ot++]<<St,St+=8}if(2&mt.wrap&&Bt===35615){nr[mt.check=0]=255&Bt,nr[1]=Bt>>>8&255,mt.check=tt(mt.check,nr,2,0),St=Bt=0,mt.mode=2;break}if(mt.flags=0,mt.head&&(mt.head.done=!1),!(1&mt.wrap)||(((255&Bt)<<8)+(Bt>>8))%31){qt.msg="incorrect header check",mt.mode=30;break}if((15&Bt)!=8){qt.msg="unknown compression method",mt.mode=30;break}if(St-=4,Nt=8+(15&(Bt>>>=4)),mt.wbits===0)mt.wbits=Nt;else if(Nt>mt.wbits){qt.msg="invalid window size",mt.mode=30;break}mt.dmax=1<<Nt,qt.adler=mt.check=1,mt.mode=512&Bt?10:12,St=Bt=0;break;case 2:for(;St<16;){if(Ut===0)break e;Ut--,Bt+=Tt[Ot++]<<St,St+=8}if(mt.flags=Bt,(255&mt.flags)!=8){qt.msg="unknown compression method",mt.mode=30;break}if(57344&mt.flags){qt.msg="unknown header flags set",mt.mode=30;break}mt.head&&(mt.head.text=Bt>>8&1),512&mt.flags&&(nr[0]=255&Bt,nr[1]=Bt>>>8&255,mt.check=tt(mt.check,nr,2,0)),St=Bt=0,mt.mode=3;case 3:for(;St<32;){if(Ut===0)break e;Ut--,Bt+=Tt[Ot++]<<St,St+=8}mt.head&&(mt.head.time=Bt),512&mt.flags&&(nr[0]=255&Bt,nr[1]=Bt>>>8&255,nr[2]=Bt>>>16&255,nr[3]=Bt>>>24&255,mt.check=tt(mt.check,nr,4,0)),St=Bt=0,mt.mode=4;case 4:for(;St<16;){if(Ut===0)break e;Ut--,Bt+=Tt[Ot++]<<St,St+=8}mt.head&&(mt.head.xflags=255&Bt,mt.head.os=Bt>>8),512&mt.flags&&(nr[0]=255&Bt,nr[1]=Bt>>>8&255,mt.check=tt(mt.check,nr,2,0)),St=Bt=0,mt.mode=5;case 5:if(1024&mt.flags){for(;St<16;){if(Ut===0)break e;Ut--,Bt+=Tt[Ot++]<<St,St+=8}mt.length=Bt,mt.head&&(mt.head.extra_len=Bt),512&mt.flags&&(nr[0]=255&Bt,nr[1]=Bt>>>8&255,mt.check=tt(mt.check,nr,2,0)),St=Bt=0}else mt.head&&(mt.head.extra=null);mt.mode=6;case 6:if(1024&mt.flags&&(Ut<(cr=mt.length)&&(cr=Ut),cr&&(mt.head&&(Nt=mt.head.extra_len-mt.length,mt.head.extra||(mt.head.extra=new Array(mt.head.extra_len)),h.arraySet(mt.head.extra,Tt,Ot,cr,Nt)),512&mt.flags&&(mt.check=tt(mt.check,Tt,cr,Ot)),Ut-=cr,Ot+=cr,mt.length-=cr),mt.length))break e;mt.length=0,mt.mode=7;case 7:if(2048&mt.flags){if(Ut===0)break e;for(cr=0;Nt=Tt[Ot+cr++],mt.head&&Nt&&mt.length<65536&&(mt.head.name+=String.fromCharCode(Nt)),Nt&&cr<Ut;);if(512&mt.flags&&(mt.check=tt(mt.check,Tt,cr,Ot)),Ut-=cr,Ot+=cr,Nt)break e}else mt.head&&(mt.head.name=null);mt.length=0,mt.mode=8;case 8:if(4096&mt.flags){if(Ut===0)break e;for(cr=0;Nt=Tt[Ot+cr++],mt.head&&Nt&&mt.length<65536&&(mt.head.comment+=String.fromCharCode(Nt)),Nt&&cr<Ut;);if(512&mt.flags&&(mt.check=tt(mt.check,Tt,cr,Ot)),Ut-=cr,Ot+=cr,Nt)break e}else mt.head&&(mt.head.comment=null);mt.mode=9;case 9:if(512&mt.flags){for(;St<16;){if(Ut===0)break e;Ut--,Bt+=Tt[Ot++]<<St,St+=8}if(Bt!==(65535&mt.check)){qt.msg="header crc mismatch",mt.mode=30;break}St=Bt=0}mt.head&&(mt.head.hcrc=mt.flags>>9&1,mt.head.done=!0),qt.adler=mt.check=0,mt.mode=12;break;case 10:for(;St<32;){if(Ut===0)break e;Ut--,Bt+=Tt[Ot++]<<St,St+=8}qt.adler=mt.check=vt(Bt),St=Bt=0,mt.mode=11;case 11:if(mt.havedict===0)return qt.next_out=Lt,qt.avail_out=Gt,qt.next_in=Ot,qt.avail_in=Ut,mt.hold=Bt,mt.bits=St,2;qt.adler=mt.check=1,mt.mode=12;case 12:if(Ft===5||Ft===6)break e;case 13:if(mt.last){Bt>>>=7&St,St-=7&St,mt.mode=27;break}for(;St<3;){if(Ut===0)break e;Ut--,Bt+=Tt[Ot++]<<St,St+=8}switch(mt.last=1&Bt,St-=1,3&(Bt>>>=1)){case 0:mt.mode=14;break;case 1:if(Yt(mt),mt.mode=20,Ft!==6)break;Bt>>>=2,St-=2;break e;case 2:mt.mode=17;break;case 3:qt.msg="invalid block type",mt.mode=30}Bt>>>=2,St-=2;break;case 14:for(Bt>>>=7&St,St-=7&St;St<32;){if(Ut===0)break e;Ut--,Bt+=Tt[Ot++]<<St,St+=8}if((65535&Bt)!=(Bt>>>16^65535)){qt.msg="invalid stored block lengths",mt.mode=30;break}if(mt.length=65535&Bt,St=Bt=0,mt.mode=15,Ft===6)break e;case 15:mt.mode=16;case 16:if(cr=mt.length){if(Ut<cr&&(cr=Ut),Gt<cr&&(cr=Gt),cr===0)break e;h.arraySet(Rt,Tt,Ot,cr,Lt),Ut-=cr,Ot+=cr,Gt-=cr,Lt+=cr,mt.length-=cr;break}mt.mode=12;break;case 17:for(;St<14;){if(Ut===0)break e;Ut--,Bt+=Tt[Ot++]<<St,St+=8}if(mt.nlen=257+(31&Bt),Bt>>>=5,St-=5,mt.ndist=1+(31&Bt),Bt>>>=5,St-=5,mt.ncode=4+(15&Bt),Bt>>>=4,St-=4,286<mt.nlen||30<mt.ndist){qt.msg="too many length or distance symbols",mt.mode=30;break}mt.have=0,mt.mode=18;case 18:for(;mt.have<mt.ncode;){for(;St<3;){if(Ut===0)break e;Ut--,Bt+=Tt[Ot++]<<St,St+=8}mt.lens[fr[mt.have++]]=7&Bt,Bt>>>=3,St-=3}for(;mt.have<19;)mt.lens[fr[mt.have++]]=0;if(mt.lencode=mt.lendyn,mt.lenbits=7,lr={bits:mt.lenbits},ur=ft(0,mt.lens,0,19,mt.lencode,0,mt.work,lr),mt.lenbits=lr.bits,ur){qt.msg="invalid code lengths set",mt.mode=30;break}mt.have=0,mt.mode=19;case 19:for(;mt.have<mt.nlen+mt.ndist;){for(;vr=(Wt=mt.lencode[Bt&(1<<mt.lenbits)-1])>>>16&255,kr=65535&Wt,!((xr=Wt>>>24)<=St);){if(Ut===0)break e;Ut--,Bt+=Tt[Ot++]<<St,St+=8}if(kr<16)Bt>>>=xr,St-=xr,mt.lens[mt.have++]=kr;else{if(kr===16){for(Xt=xr+2;St<Xt;){if(Ut===0)break e;Ut--,Bt+=Tt[Ot++]<<St,St+=8}if(Bt>>>=xr,St-=xr,mt.have===0){qt.msg="invalid bit length repeat",mt.mode=30;break}Nt=mt.lens[mt.have-1],cr=3+(3&Bt),Bt>>>=2,St-=2}else if(kr===17){for(Xt=xr+3;St<Xt;){if(Ut===0)break e;Ut--,Bt+=Tt[Ot++]<<St,St+=8}St-=xr,Nt=0,cr=3+(7&(Bt>>>=xr)),Bt>>>=3,St-=3}else{for(Xt=xr+7;St<Xt;){if(Ut===0)break e;Ut--,Bt+=Tt[Ot++]<<St,St+=8}St-=xr,Nt=0,cr=11+(127&(Bt>>>=xr)),Bt>>>=7,St-=7}if(mt.have+cr>mt.nlen+mt.ndist){qt.msg="invalid bit length repeat",mt.mode=30;break}for(;cr--;)mt.lens[mt.have++]=Nt}}if(mt.mode===30)break;if(mt.lens[256]===0){qt.msg="invalid code -- missing end-of-block",mt.mode=30;break}if(mt.lenbits=9,lr={bits:mt.lenbits},ur=ft(ht,mt.lens,0,mt.nlen,mt.lencode,0,mt.work,lr),mt.lenbits=lr.bits,ur){qt.msg="invalid literal/lengths set",mt.mode=30;break}if(mt.distbits=6,mt.distcode=mt.distdyn,lr={bits:mt.distbits},ur=ft(yt,mt.lens,mt.nlen,mt.ndist,mt.distcode,0,mt.work,lr),mt.distbits=lr.bits,ur){qt.msg="invalid distances set",mt.mode=30;break}if(mt.mode=20,Ft===6)break e;case 20:mt.mode=21;case 21:if(6<=Ut&&258<=Gt){qt.next_out=Lt,qt.avail_out=Gt,qt.next_in=Ot,qt.avail_in=Ut,mt.hold=Bt,mt.bits=St,ot(qt,dr),Lt=qt.next_out,Rt=qt.output,Gt=qt.avail_out,Ot=qt.next_in,Tt=qt.input,Ut=qt.avail_in,Bt=mt.hold,St=mt.bits,mt.mode===12&&(mt.back=-1);break}for(mt.back=0;vr=(Wt=mt.lencode[Bt&(1<<mt.lenbits)-1])>>>16&255,kr=65535&Wt,!((xr=Wt>>>24)<=St);){if(Ut===0)break e;Ut--,Bt+=Tt[Ot++]<<St,St+=8}if(vr&&!(240&vr)){for(Tr=xr,Sr=vr,Ir=kr;vr=(Wt=mt.lencode[Ir+((Bt&(1<<Tr+Sr)-1)>>Tr)])>>>16&255,kr=65535&Wt,!(Tr+(xr=Wt>>>24)<=St);){if(Ut===0)break e;Ut--,Bt+=Tt[Ot++]<<St,St+=8}Bt>>>=Tr,St-=Tr,mt.back+=Tr}if(Bt>>>=xr,St-=xr,mt.back+=xr,mt.length=kr,vr===0){mt.mode=26;break}if(32&vr){mt.back=-1,mt.mode=12;break}if(64&vr){qt.msg="invalid literal/length code",mt.mode=30;break}mt.extra=15&vr,mt.mode=22;case 22:if(mt.extra){for(Xt=mt.extra;St<Xt;){if(Ut===0)break e;Ut--,Bt+=Tt[Ot++]<<St,St+=8}mt.length+=Bt&(1<<mt.extra)-1,Bt>>>=mt.extra,St-=mt.extra,mt.back+=mt.extra}mt.was=mt.length,mt.mode=23;case 23:for(;vr=(Wt=mt.distcode[Bt&(1<<mt.distbits)-1])>>>16&255,kr=65535&Wt,!((xr=Wt>>>24)<=St);){if(Ut===0)break e;Ut--,Bt+=Tt[Ot++]<<St,St+=8}if(!(240&vr)){for(Tr=xr,Sr=vr,Ir=kr;vr=(Wt=mt.distcode[Ir+((Bt&(1<<Tr+Sr)-1)>>Tr)])>>>16&255,kr=65535&Wt,!(Tr+(xr=Wt>>>24)<=St);){if(Ut===0)break e;Ut--,Bt+=Tt[Ot++]<<St,St+=8}Bt>>>=Tr,St-=Tr,mt.back+=Tr}if(Bt>>>=xr,St-=xr,mt.back+=xr,64&vr){qt.msg="invalid distance code",mt.mode=30;break}mt.offset=kr,mt.extra=15&vr,mt.mode=24;case 24:if(mt.extra){for(Xt=mt.extra;St<Xt;){if(Ut===0)break e;Ut--,Bt+=Tt[Ot++]<<St,St+=8}mt.offset+=Bt&(1<<mt.extra)-1,Bt>>>=mt.extra,St-=mt.extra,mt.back+=mt.extra}if(mt.offset>mt.dmax){qt.msg="invalid distance too far back",mt.mode=30;break}mt.mode=25;case 25:if(Gt===0)break e;if(cr=dr-Gt,mt.offset>cr){if((cr=mt.offset-cr)>mt.whave&&mt.sane){qt.msg="invalid distance too far back",mt.mode=30;break}gr=cr>mt.wnext?(cr-=mt.wnext,mt.wsize-cr):mt.wnext-cr,cr>mt.length&&(cr=mt.length),$r=mt.window}else $r=Rt,gr=Lt-mt.offset,cr=mt.length;for(Gt<cr&&(cr=Gt),Gt-=cr,mt.length-=cr;Rt[Lt++]=$r[gr++],--cr;);mt.length===0&&(mt.mode=21);break;case 26:if(Gt===0)break e;Rt[Lt++]=mt.length,Gt--,mt.mode=21;break;case 27:if(mt.wrap){for(;St<32;){if(Ut===0)break e;Ut--,Bt|=Tt[Ot++]<<St,St+=8}if(dr-=Gt,qt.total_out+=dr,mt.total+=dr,dr&&(qt.adler=mt.check=mt.flags?tt(mt.check,Rt,dr,Lt-dr):et(mt.check,Rt,dr,Lt-dr)),dr=Gt,(mt.flags?Bt:vt(Bt))!==mt.check){qt.msg="incorrect data check",mt.mode=30;break}St=Bt=0}mt.mode=28;case 28:if(mt.wrap&&mt.flags){for(;St<32;){if(Ut===0)break e;Ut--,Bt+=Tt[Ot++]<<St,St+=8}if(Bt!==(4294967295&mt.total)){qt.msg="incorrect length check",mt.mode=30;break}St=Bt=0}mt.mode=29;case 29:ur=1;break e;case 30:ur=-3;break e;case 31:return-4;case 32:default:return wt}return qt.next_out=Lt,qt.avail_out=Gt,qt.next_in=Ot,qt.avail_in=Ut,mt.hold=Bt,mt.bits=St,(mt.wsize||dr!==qt.avail_out&&mt.mode<30&&(mt.mode<27||Ft!==4))&&er(qt,qt.output,qt.next_out,dr-qt.avail_out)?(mt.mode=31,-4):(Vt-=qt.avail_in,dr-=qt.avail_out,qt.total_in+=Vt,qt.total_out+=dr,mt.total+=dr,mt.wrap&&dr&&(qt.adler=mt.check=mt.flags?tt(mt.check,Rt,dr,qt.next_out-dr):et(mt.check,Rt,dr,qt.next_out-dr)),qt.data_type=mt.bits+(mt.last?64:0)+(mt.mode===12?128:0)+(mt.mode===20||mt.mode===15?256:0),(Vt==0&&dr===0||Ft===4)&&ur===gt&&(ur=-5),ur)},d.inflateEnd=function(qt){if(!qt||!qt.state)return wt;var Ft=qt.state;return Ft.window&&(Ft.window=null),qt.state=null,gt},d.inflateGetHeader=function(qt,Ft){var mt;return qt&&qt.state&&2&(mt=qt.state).wrap?((mt.head=Ft).done=!1,gt):wt},d.inflateSetDictionary=function(qt,Ft){var mt,Tt=Ft.length;return qt&&qt.state?(mt=qt.state).wrap!==0&&mt.mode!==11?wt:mt.mode===11&&et(1,Ft,Tt,0)!==mt.check?-3:er(qt,Ft,Tt,Tt)?(mt.mode=31,-4):(mt.havedict=1,gt):wt},d.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(o,c,d){var h=o("../utils/common"),et=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],tt=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],ot=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],ft=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];c.exports=function(ht,yt,gt,wt,bt,xt,Et,vt){var $t,At,kt,It,Dt,Mt,zt,Kt,Yt,er=vt.bits,qt=0,Ft=0,mt=0,Tt=0,Rt=0,Ot=0,Lt=0,Ut=0,Gt=0,Bt=0,St=null,Vt=0,dr=new h.Buf16(16),cr=new h.Buf16(16),gr=null,$r=0;for(qt=0;qt<=15;qt++)dr[qt]=0;for(Ft=0;Ft<wt;Ft++)dr[yt[gt+Ft]]++;for(Rt=er,Tt=15;1<=Tt&&dr[Tt]===0;Tt--);if(Tt<Rt&&(Rt=Tt),Tt===0)return bt[xt++]=20971520,bt[xt++]=20971520,vt.bits=1,0;for(mt=1;mt<Tt&&dr[mt]===0;mt++);for(Rt<mt&&(Rt=mt),qt=Ut=1;qt<=15;qt++)if(Ut<<=1,(Ut-=dr[qt])<0)return-1;if(0<Ut&&(ht===0||Tt!==1))return-1;for(cr[1]=0,qt=1;qt<15;qt++)cr[qt+1]=cr[qt]+dr[qt];for(Ft=0;Ft<wt;Ft++)yt[gt+Ft]!==0&&(Et[cr[yt[gt+Ft]]++]=Ft);if(Mt=ht===0?(St=gr=Et,19):ht===1?(St=et,Vt-=257,gr=tt,$r-=257,256):(St=ot,gr=ft,-1),qt=mt,Dt=xt,Lt=Ft=Bt=0,kt=-1,It=(Gt=1<<(Ot=Rt))-1,ht===1&&852<Gt||ht===2&&592<Gt)return 1;for(;;){for(zt=qt-Lt,Yt=Et[Ft]<Mt?(Kt=0,Et[Ft]):Et[Ft]>Mt?(Kt=gr[$r+Et[Ft]],St[Vt+Et[Ft]]):(Kt=96,0),$t=1<<qt-Lt,mt=At=1<<Ot;bt[Dt+(Bt>>Lt)+(At-=$t)]=zt<<24|Kt<<16|Yt|0,At!==0;);for($t=1<<qt-1;Bt&$t;)$t>>=1;if($t!==0?(Bt&=$t-1,Bt+=$t):Bt=0,Ft++,--dr[qt]==0){if(qt===Tt)break;qt=yt[gt+Et[Ft]]}if(Rt<qt&&(Bt&It)!==kt){for(Lt===0&&(Lt=Rt),Dt+=mt,Ut=1<<(Ot=qt-Lt);Ot+Lt<Tt&&!((Ut-=dr[Ot+Lt])<=0);)Ot++,Ut<<=1;if(Gt+=1<<Ot,ht===1&&852<Gt||ht===2&&592<Gt)return 1;bt[kt=Bt&It]=Rt<<24|Ot<<16|Dt-xt|0}}return Bt!==0&&(bt[Dt+Bt]=qt-Lt<<24|64<<16|0),vt.bits=Rt,0}},{"../utils/common":41}],51:[function(o,c,d){c.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(o,c,d){var h=o("../utils/common"),et=0,tt=1;function ot(Wt){for(var nr=Wt.length;0<=--nr;)Wt[nr]=0}var ft=0,ht=29,yt=256,gt=yt+1+ht,wt=30,bt=19,xt=2*gt+1,Et=15,vt=16,$t=7,At=256,kt=16,It=17,Dt=18,Mt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],zt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Kt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Yt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],er=new Array(2*(gt+2));ot(er);var qt=new Array(2*wt);ot(qt);var Ft=new Array(512);ot(Ft);var mt=new Array(256);ot(mt);var Tt=new Array(ht);ot(Tt);var Rt,Ot,Lt,Ut=new Array(wt);function Gt(Wt,nr,fr,pr,sr){this.static_tree=Wt,this.extra_bits=nr,this.extra_base=fr,this.elems=pr,this.max_length=sr,this.has_stree=Wt&&Wt.length}function Bt(Wt,nr){this.dyn_tree=Wt,this.max_code=0,this.stat_desc=nr}function St(Wt){return Wt<256?Ft[Wt]:Ft[256+(Wt>>>7)]}function Vt(Wt,nr){Wt.pending_buf[Wt.pending++]=255&nr,Wt.pending_buf[Wt.pending++]=nr>>>8&255}function dr(Wt,nr,fr){Wt.bi_valid>vt-fr?(Wt.bi_buf|=nr<<Wt.bi_valid&65535,Vt(Wt,Wt.bi_buf),Wt.bi_buf=nr>>vt-Wt.bi_valid,Wt.bi_valid+=fr-vt):(Wt.bi_buf|=nr<<Wt.bi_valid&65535,Wt.bi_valid+=fr)}function cr(Wt,nr,fr){dr(Wt,fr[2*nr],fr[2*nr+1])}function gr(Wt,nr){for(var fr=0;fr|=1&Wt,Wt>>>=1,fr<<=1,0<--nr;);return fr>>>1}function $r(Wt,nr,fr){var pr,sr,yr=new Array(Et+1),br=0;for(pr=1;pr<=Et;pr++)yr[pr]=br=br+fr[pr-1]<<1;for(sr=0;sr<=nr;sr++){var mr=Wt[2*sr+1];mr!==0&&(Wt[2*sr]=gr(yr[mr]++,mr))}}function xr(Wt){var nr;for(nr=0;nr<gt;nr++)Wt.dyn_ltree[2*nr]=0;for(nr=0;nr<wt;nr++)Wt.dyn_dtree[2*nr]=0;for(nr=0;nr<bt;nr++)Wt.bl_tree[2*nr]=0;Wt.dyn_ltree[2*At]=1,Wt.opt_len=Wt.static_len=0,Wt.last_lit=Wt.matches=0}function vr(Wt){8<Wt.bi_valid?Vt(Wt,Wt.bi_buf):0<Wt.bi_valid&&(Wt.pending_buf[Wt.pending++]=Wt.bi_buf),Wt.bi_buf=0,Wt.bi_valid=0}function kr(Wt,nr,fr,pr){var sr=2*nr,yr=2*fr;return Wt[sr]<Wt[yr]||Wt[sr]===Wt[yr]&&pr[nr]<=pr[fr]}function Tr(Wt,nr,fr){for(var pr=Wt.heap[fr],sr=fr<<1;sr<=Wt.heap_len&&(sr<Wt.heap_len&&kr(nr,Wt.heap[sr+1],Wt.heap[sr],Wt.depth)&&sr++,!kr(nr,pr,Wt.heap[sr],Wt.depth));)Wt.heap[fr]=Wt.heap[sr],fr=sr,sr<<=1;Wt.heap[fr]=pr}function Sr(Wt,nr,fr){var pr,sr,yr,br,mr=0;if(Wt.last_lit!==0)for(;pr=Wt.pending_buf[Wt.d_buf+2*mr]<<8|Wt.pending_buf[Wt.d_buf+2*mr+1],sr=Wt.pending_buf[Wt.l_buf+mr],mr++,pr===0?cr(Wt,sr,nr):(cr(Wt,(yr=mt[sr])+yt+1,nr),(br=Mt[yr])!==0&&dr(Wt,sr-=Tt[yr],br),cr(Wt,yr=St(--pr),fr),(br=zt[yr])!==0&&dr(Wt,pr-=Ut[yr],br)),mr<Wt.last_lit;);cr(Wt,At,nr)}function Ir(Wt,nr){var fr,pr,sr,yr=nr.dyn_tree,br=nr.stat_desc.static_tree,mr=nr.stat_desc.has_stree,wr=nr.stat_desc.elems,jt=-1;for(Wt.heap_len=0,Wt.heap_max=xt,fr=0;fr<wr;fr++)yr[2*fr]!==0?(Wt.heap[++Wt.heap_len]=jt=fr,Wt.depth[fr]=0):yr[2*fr+1]=0;for(;Wt.heap_len<2;)yr[2*(sr=Wt.heap[++Wt.heap_len]=jt<2?++jt:0)]=1,Wt.depth[sr]=0,Wt.opt_len--,mr&&(Wt.static_len-=br[2*sr+1]);for(nr.max_code=jt,fr=Wt.heap_len>>1;1<=fr;fr--)Tr(Wt,yr,fr);for(sr=wr;fr=Wt.heap[1],Wt.heap[1]=Wt.heap[Wt.heap_len--],Tr(Wt,yr,1),pr=Wt.heap[1],Wt.heap[--Wt.heap_max]=fr,Wt.heap[--Wt.heap_max]=pr,yr[2*sr]=yr[2*fr]+yr[2*pr],Wt.depth[sr]=(Wt.depth[fr]>=Wt.depth[pr]?Wt.depth[fr]:Wt.depth[pr])+1,yr[2*fr+1]=yr[2*pr+1]=sr,Wt.heap[1]=sr++,Tr(Wt,yr,1),2<=Wt.heap_len;);Wt.heap[--Wt.heap_max]=Wt.heap[1],function(Ct,_t){var Ht,Zt,ar,ir,_r,Cr,Er=_t.dyn_tree,Rr=_t.max_code,Ar=_t.stat_desc.static_tree,Pr=_t.stat_desc.has_stree,du=_t.stat_desc.extra_bits,Or=_t.stat_desc.extra_base,Nr=_t.stat_desc.max_length,Es=0;for(ir=0;ir<=Et;ir++)Ct.bl_count[ir]=0;for(Er[2*Ct.heap[Ct.heap_max]+1]=0,Ht=Ct.heap_max+1;Ht<xt;Ht++)Nr<(ir=Er[2*Er[2*(Zt=Ct.heap[Ht])+1]+1]+1)&&(ir=Nr,Es++),Er[2*Zt+1]=ir,Rr<Zt||(Ct.bl_count[ir]++,_r=0,Or<=Zt&&(_r=du[Zt-Or]),Cr=Er[2*Zt],Ct.opt_len+=Cr*(ir+_r),Pr&&(Ct.static_len+=Cr*(Ar[2*Zt+1]+_r)));if(Es!==0){do{for(ir=Nr-1;Ct.bl_count[ir]===0;)ir--;Ct.bl_count[ir]--,Ct.bl_count[ir+1]+=2,Ct.bl_count[Nr]--,Es-=2}while(0<Es);for(ir=Nr;ir!==0;ir--)for(Zt=Ct.bl_count[ir];Zt!==0;)Rr<(ar=Ct.heap[--Ht])||(Er[2*ar+1]!==ir&&(Ct.opt_len+=(ir-Er[2*ar+1])*Er[2*ar],Er[2*ar+1]=ir),Zt--)}}(Wt,nr),$r(yr,jt,Wt.bl_count)}function Nt(Wt,nr,fr){var pr,sr,yr=-1,br=nr[1],mr=0,wr=7,jt=4;for(br===0&&(wr=138,jt=3),nr[2*(fr+1)+1]=65535,pr=0;pr<=fr;pr++)sr=br,br=nr[2*(pr+1)+1],++mr<wr&&sr===br||(mr<jt?Wt.bl_tree[2*sr]+=mr:sr!==0?(sr!==yr&&Wt.bl_tree[2*sr]++,Wt.bl_tree[2*kt]++):mr<=10?Wt.bl_tree[2*It]++:Wt.bl_tree[2*Dt]++,yr=sr,jt=(mr=0)===br?(wr=138,3):sr===br?(wr=6,3):(wr=7,4))}function ur(Wt,nr,fr){var pr,sr,yr=-1,br=nr[1],mr=0,wr=7,jt=4;for(br===0&&(wr=138,jt=3),pr=0;pr<=fr;pr++)if(sr=br,br=nr[2*(pr+1)+1],!(++mr<wr&&sr===br)){if(mr<jt)for(;cr(Wt,sr,Wt.bl_tree),--mr!=0;);else sr!==0?(sr!==yr&&(cr(Wt,sr,Wt.bl_tree),mr--),cr(Wt,kt,Wt.bl_tree),dr(Wt,mr-3,2)):mr<=10?(cr(Wt,It,Wt.bl_tree),dr(Wt,mr-3,3)):(cr(Wt,Dt,Wt.bl_tree),dr(Wt,mr-11,7));yr=sr,jt=(mr=0)===br?(wr=138,3):sr===br?(wr=6,3):(wr=7,4)}}ot(Ut);var lr=!1;function Xt(Wt,nr,fr,pr){dr(Wt,(ft<<1)+(pr?1:0),3),function(sr,yr,br,mr){vr(sr),mr&&(Vt(sr,br),Vt(sr,~br)),h.arraySet(sr.pending_buf,sr.window,yr,br,sr.pending),sr.pending+=br}(Wt,nr,fr,!0)}d._tr_init=function(Wt){lr||(function(){var nr,fr,pr,sr,yr,br=new Array(Et+1);for(sr=pr=0;sr<ht-1;sr++)for(Tt[sr]=pr,nr=0;nr<1<<Mt[sr];nr++)mt[pr++]=sr;for(mt[pr-1]=sr,sr=yr=0;sr<16;sr++)for(Ut[sr]=yr,nr=0;nr<1<<zt[sr];nr++)Ft[yr++]=sr;for(yr>>=7;sr<wt;sr++)for(Ut[sr]=yr<<7,nr=0;nr<1<<zt[sr]-7;nr++)Ft[256+yr++]=sr;for(fr=0;fr<=Et;fr++)br[fr]=0;for(nr=0;nr<=143;)er[2*nr+1]=8,nr++,br[8]++;for(;nr<=255;)er[2*nr+1]=9,nr++,br[9]++;for(;nr<=279;)er[2*nr+1]=7,nr++,br[7]++;for(;nr<=287;)er[2*nr+1]=8,nr++,br[8]++;for($r(er,gt+1,br),nr=0;nr<wt;nr++)qt[2*nr+1]=5,qt[2*nr]=gr(nr,5);Rt=new Gt(er,Mt,yt+1,gt,Et),Ot=new Gt(qt,zt,0,wt,Et),Lt=new Gt(new Array(0),Kt,0,bt,$t)}(),lr=!0),Wt.l_desc=new Bt(Wt.dyn_ltree,Rt),Wt.d_desc=new Bt(Wt.dyn_dtree,Ot),Wt.bl_desc=new Bt(Wt.bl_tree,Lt),Wt.bi_buf=0,Wt.bi_valid=0,xr(Wt)},d._tr_stored_block=Xt,d._tr_flush_block=function(Wt,nr,fr,pr){var sr,yr,br=0;0<Wt.level?(Wt.strm.data_type===2&&(Wt.strm.data_type=function(mr){var wr,jt=4093624447;for(wr=0;wr<=31;wr++,jt>>>=1)if(1&jt&&mr.dyn_ltree[2*wr]!==0)return et;if(mr.dyn_ltree[18]!==0||mr.dyn_ltree[20]!==0||mr.dyn_ltree[26]!==0)return tt;for(wr=32;wr<yt;wr++)if(mr.dyn_ltree[2*wr]!==0)return tt;return et}(Wt)),Ir(Wt,Wt.l_desc),Ir(Wt,Wt.d_desc),br=function(mr){var wr;for(Nt(mr,mr.dyn_ltree,mr.l_desc.max_code),Nt(mr,mr.dyn_dtree,mr.d_desc.max_code),Ir(mr,mr.bl_desc),wr=bt-1;3<=wr&&mr.bl_tree[2*Yt[wr]+1]===0;wr--);return mr.opt_len+=3*(wr+1)+5+5+4,wr}(Wt),sr=Wt.opt_len+3+7>>>3,(yr=Wt.static_len+3+7>>>3)<=sr&&(sr=yr)):sr=yr=fr+5,fr+4<=sr&&nr!==-1?Xt(Wt,nr,fr,pr):Wt.strategy===4||yr===sr?(dr(Wt,2+(pr?1:0),3),Sr(Wt,er,qt)):(dr(Wt,4+(pr?1:0),3),function(mr,wr,jt,Ct){var _t;for(dr(mr,wr-257,5),dr(mr,jt-1,5),dr(mr,Ct-4,4),_t=0;_t<Ct;_t++)dr(mr,mr.bl_tree[2*Yt[_t]+1],3);ur(mr,mr.dyn_ltree,wr-1),ur(mr,mr.dyn_dtree,jt-1)}(Wt,Wt.l_desc.max_code+1,Wt.d_desc.max_code+1,br+1),Sr(Wt,Wt.dyn_ltree,Wt.dyn_dtree)),xr(Wt),pr&&vr(Wt)},d._tr_tally=function(Wt,nr,fr){return Wt.pending_buf[Wt.d_buf+2*Wt.last_lit]=nr>>>8&255,Wt.pending_buf[Wt.d_buf+2*Wt.last_lit+1]=255&nr,Wt.pending_buf[Wt.l_buf+Wt.last_lit]=255&fr,Wt.last_lit++,nr===0?Wt.dyn_ltree[2*fr]++:(Wt.matches++,nr--,Wt.dyn_ltree[2*(mt[fr]+yt+1)]++,Wt.dyn_dtree[2*St(nr)]++),Wt.last_lit===Wt.lit_bufsize-1},d._tr_align=function(Wt){dr(Wt,2,3),cr(Wt,At,er),function(nr){nr.bi_valid===16?(Vt(nr,nr.bi_buf),nr.bi_buf=0,nr.bi_valid=0):8<=nr.bi_valid&&(nr.pending_buf[nr.pending++]=255&nr.bi_buf,nr.bi_buf>>=8,nr.bi_valid-=8)}(Wt)}},{"../utils/common":41}],53:[function(o,c,d){c.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(o,c,d){(function(h){(function(et,tt){if(!et.setImmediate){var ot,ft,ht,yt,gt=1,wt={},bt=!1,xt=et.document,Et=Object.getPrototypeOf&&Object.getPrototypeOf(et);Et=Et&&Et.setTimeout?Et:et,ot={}.toString.call(et.process)==="[object process]"?function(kt){process.nextTick(function(){$t(kt)})}:function(){if(et.postMessage&&!et.importScripts){var kt=!0,It=et.onmessage;return et.onmessage=function(){kt=!1},et.postMessage("","*"),et.onmessage=It,kt}}()?(yt="setImmediate$"+Math.random()+"$",et.addEventListener?et.addEventListener("message",At,!1):et.attachEvent("onmessage",At),function(kt){et.postMessage(yt+kt,"*")}):et.MessageChannel?((ht=new MessageChannel).port1.onmessage=function(kt){$t(kt.data)},function(kt){ht.port2.postMessage(kt)}):xt&&"onreadystatechange"in xt.createElement("script")?(ft=xt.documentElement,function(kt){var It=xt.createElement("script");It.onreadystatechange=function(){$t(kt),It.onreadystatechange=null,ft.removeChild(It),It=null},ft.appendChild(It)}):function(kt){setTimeout($t,0,kt)},Et.setImmediate=function(kt){typeof kt!="function"&&(kt=new Function(""+kt));for(var It=new Array(arguments.length-1),Dt=0;Dt<It.length;Dt++)It[Dt]=arguments[Dt+1];var Mt={callback:kt,args:It};return wt[gt]=Mt,ot(gt),gt++},Et.clearImmediate=vt}function vt(kt){delete wt[kt]}function $t(kt){if(bt)setTimeout($t,0,kt);else{var It=wt[kt];if(It){bt=!0;try{(function(Dt){var Mt=Dt.callback,zt=Dt.args;switch(zt.length){case 0:Mt();break;case 1:Mt(zt[0]);break;case 2:Mt(zt[0],zt[1]);break;case 3:Mt(zt[0],zt[1],zt[2]);break;default:Mt.apply(tt,zt)}})(It)}finally{vt(kt),bt=!1}}}}function At(kt){kt.source===et&&typeof kt.data=="string"&&kt.data.indexOf(yt)===0&&$t(+kt.data.slice(yt.length))}})(typeof self>"u"?h===void 0?this:h:self)}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(jszip_min);var jszip_minExports=jszip_min.exports;const JSZip=getDefaultExportFromCjs(jszip_minExports);var forge$s={options:{usePureJavaScript:!1}};const forge$t=getDefaultExportFromCjs(forge$s);var api={},baseN$1=api,_reverseAlphabets={};api.encode=function(a,e,o){if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');if(o!==void 0&&typeof o!="number")throw new TypeError('"maxline" must be a number.');var c="";if(!(a instanceof Uint8Array))c=_encodeWithByteBuffer(a,e);else{var d=0,h=e.length,et=e.charAt(0),tt=[0];for(d=0;d<a.length;++d){for(var ot=0,ft=a[d];ot<tt.length;++ot)ft+=tt[ot]<<8,tt[ot]=ft%h,ft=ft/h|0;for(;ft>0;)tt.push(ft%h),ft=ft/h|0}for(d=0;a[d]===0&&d<a.length-1;++d)c+=et;for(d=tt.length-1;d>=0;--d)c+=e[tt[d]]}if(o){var ht=new RegExp(".{1,"+o+"}","g");c=c.match(ht).join(`\r
`)}return c};api.decode=function(a,e){if(typeof a!="string")throw new TypeError('"input" must be a string.');if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');var o=_reverseAlphabets[e];if(!o){o=_reverseAlphabets[e]=[];for(var c=0;c<e.length;++c)o[e.charCodeAt(c)]=c}a=a.replace(/\s/g,"");for(var d=e.length,h=e.charAt(0),et=[0],c=0;c<a.length;c++){var tt=o[a.charCodeAt(c)];if(tt===void 0)return;for(var ot=0,ft=tt;ot<et.length;++ot)ft+=et[ot]*d,et[ot]=ft&255,ft>>=8;for(;ft>0;)et.push(ft&255),ft>>=8}for(var ht=0;a[ht]===h&&ht<a.length-1;++ht)et.push(0);return typeof Buffer<"u"?Buffer.from(et.reverse()):new Uint8Array(et.reverse())};function _encodeWithByteBuffer(a,e){var o=0,c=e.length,d=e.charAt(0),h=[0];for(o=0;o<a.length();++o){for(var et=0,tt=a.at(o);et<h.length;++et)tt+=h[et]<<8,h[et]=tt%c,tt=tt/c|0;for(;tt>0;)h.push(tt%c),tt=tt/c|0}var ot="";for(o=0;a.at(o)===0&&o<a.length()-1;++o)ot+=d;for(o=h.length-1;o>=0;--o)ot+=e[h[o]];return ot}var forge$r=forge$s,baseN=baseN$1,util$6=forge$r.util=forge$r.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){util$6.nextTick=process.nextTick,typeof setImmediate=="function"?util$6.setImmediate=setImmediate:util$6.setImmediate=util$6.nextTick;return}if(typeof setImmediate=="function"){util$6.setImmediate=function(){return setImmediate.apply(void 0,arguments)},util$6.nextTick=function(tt){return setImmediate(tt)};return}if(util$6.setImmediate=function(tt){setTimeout(tt,0)},typeof window<"u"&&typeof window.postMessage=="function"){let tt=function(ot){if(ot.source===window&&ot.data===a){ot.stopPropagation();var ft=e.slice();e.length=0,ft.forEach(function(ht){ht()})}};var et=tt,a="forge.setImmediate",e=[];util$6.setImmediate=function(ot){e.push(ot),e.length===1&&window.postMessage(a,"*")},window.addEventListener("message",tt,!0)}if(typeof MutationObserver<"u"){var o=Date.now(),c=!0,d=document.createElement("div"),e=[];new MutationObserver(function(){var ot=e.slice();e.length=0,ot.forEach(function(ft){ft()})}).observe(d,{attributes:!0});var h=util$6.setImmediate;util$6.setImmediate=function(ot){Date.now()-o>15?(o=Date.now(),h(ot)):(e.push(ot),e.length===1&&d.setAttribute("a",c=!c))}}util$6.nextTick=util$6.setImmediate})();util$6.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;util$6.globalScope=function(){return util$6.isNodejs?commonjsGlobal:typeof self>"u"?window:self}();util$6.isArray=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};util$6.isArrayBuffer=function(a){return typeof ArrayBuffer<"u"&&a instanceof ArrayBuffer};util$6.isArrayBufferView=function(a){return a&&util$6.isArrayBuffer(a.buffer)&&a.byteLength!==void 0};function _checkBitsParam(a){if(!(a===8||a===16||a===24||a===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+a)}util$6.ByteBuffer=ByteStringBuffer;function ByteStringBuffer(a){if(this.data="",this.read=0,typeof a=="string")this.data=a;else if(util$6.isArrayBuffer(a)||util$6.isArrayBufferView(a))if(typeof Buffer<"u"&&a instanceof Buffer)this.data=a.toString("binary");else{var e=new Uint8Array(a);try{this.data=String.fromCharCode.apply(null,e)}catch{for(var o=0;o<e.length;++o)this.putByte(e[o])}}else(a instanceof ByteStringBuffer||typeof a=="object"&&typeof a.data=="string"&&typeof a.read=="number")&&(this.data=a.data,this.read=a.read);this._constructedStringLength=0}util$6.ByteStringBuffer=ByteStringBuffer;var _MAX_CONSTRUCTED_STRING_LENGTH=4096;util$6.ByteStringBuffer.prototype._optimizeConstructedString=function(a){this._constructedStringLength+=a,this._constructedStringLength>_MAX_CONSTRUCTED_STRING_LENGTH&&(this.data.substr(0,1),this._constructedStringLength=0)};util$6.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};util$6.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};util$6.ByteStringBuffer.prototype.putByte=function(a){return this.putBytes(String.fromCharCode(a))};util$6.ByteStringBuffer.prototype.fillWithByte=function(a,e){a=String.fromCharCode(a);for(var o=this.data;e>0;)e&1&&(o+=a),e>>>=1,e>0&&(a+=a);return this.data=o,this._optimizeConstructedString(e),this};util$6.ByteStringBuffer.prototype.putBytes=function(a){return this.data+=a,this._optimizeConstructedString(a.length),this};util$6.ByteStringBuffer.prototype.putString=function(a){return this.putBytes(util$6.encodeUtf8(a))};util$6.ByteStringBuffer.prototype.putInt16=function(a){return this.putBytes(String.fromCharCode(a>>8&255)+String.fromCharCode(a&255))};util$6.ByteStringBuffer.prototype.putInt24=function(a){return this.putBytes(String.fromCharCode(a>>16&255)+String.fromCharCode(a>>8&255)+String.fromCharCode(a&255))};util$6.ByteStringBuffer.prototype.putInt32=function(a){return this.putBytes(String.fromCharCode(a>>24&255)+String.fromCharCode(a>>16&255)+String.fromCharCode(a>>8&255)+String.fromCharCode(a&255))};util$6.ByteStringBuffer.prototype.putInt16Le=function(a){return this.putBytes(String.fromCharCode(a&255)+String.fromCharCode(a>>8&255))};util$6.ByteStringBuffer.prototype.putInt24Le=function(a){return this.putBytes(String.fromCharCode(a&255)+String.fromCharCode(a>>8&255)+String.fromCharCode(a>>16&255))};util$6.ByteStringBuffer.prototype.putInt32Le=function(a){return this.putBytes(String.fromCharCode(a&255)+String.fromCharCode(a>>8&255)+String.fromCharCode(a>>16&255)+String.fromCharCode(a>>24&255))};util$6.ByteStringBuffer.prototype.putInt=function(a,e){_checkBitsParam(e);var o="";do e-=8,o+=String.fromCharCode(a>>e&255);while(e>0);return this.putBytes(o)};util$6.ByteStringBuffer.prototype.putSignedInt=function(a,e){return a<0&&(a+=2<<e-1),this.putInt(a,e)};util$6.ByteStringBuffer.prototype.putBuffer=function(a){return this.putBytes(a.getBytes())};util$6.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};util$6.ByteStringBuffer.prototype.getInt16=function(){var a=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,a};util$6.ByteStringBuffer.prototype.getInt24=function(){var a=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,a};util$6.ByteStringBuffer.prototype.getInt32=function(){var a=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,a};util$6.ByteStringBuffer.prototype.getInt16Le=function(){var a=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,a};util$6.ByteStringBuffer.prototype.getInt24Le=function(){var a=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,a};util$6.ByteStringBuffer.prototype.getInt32Le=function(){var a=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,a};util$6.ByteStringBuffer.prototype.getInt=function(a){_checkBitsParam(a);var e=0;do e=(e<<8)+this.data.charCodeAt(this.read++),a-=8;while(a>0);return e};util$6.ByteStringBuffer.prototype.getSignedInt=function(a){var e=this.getInt(a),o=2<<a-2;return e>=o&&(e-=o<<1),e};util$6.ByteStringBuffer.prototype.getBytes=function(a){var e;return a?(a=Math.min(this.length(),a),e=this.data.slice(this.read,this.read+a),this.read+=a):a===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};util$6.ByteStringBuffer.prototype.bytes=function(a){return typeof a>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+a)};util$6.ByteStringBuffer.prototype.at=function(a){return this.data.charCodeAt(this.read+a)};util$6.ByteStringBuffer.prototype.setAt=function(a,e){return this.data=this.data.substr(0,this.read+a)+String.fromCharCode(e)+this.data.substr(this.read+a+1),this};util$6.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};util$6.ByteStringBuffer.prototype.copy=function(){var a=util$6.createBuffer(this.data);return a.read=this.read,a};util$6.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};util$6.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};util$6.ByteStringBuffer.prototype.truncate=function(a){var e=Math.max(0,this.length()-a);return this.data=this.data.substr(this.read,e),this.read=0,this};util$6.ByteStringBuffer.prototype.toHex=function(){for(var a="",e=this.read;e<this.data.length;++e){var o=this.data.charCodeAt(e);o<16&&(a+="0"),a+=o.toString(16)}return a};util$6.ByteStringBuffer.prototype.toString=function(){return util$6.decodeUtf8(this.bytes())};function DataBuffer(a,e){e=e||{},this.read=e.readOffset||0,this.growSize=e.growSize||1024;var o=util$6.isArrayBuffer(a),c=util$6.isArrayBufferView(a);if(o||c){o?this.data=new DataView(a):this.data=new DataView(a.buffer,a.byteOffset,a.byteLength),this.write="writeOffset"in e?e.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,a!=null&&this.putBytes(a),"writeOffset"in e&&(this.write=e.writeOffset)}util$6.DataBuffer=DataBuffer;util$6.DataBuffer.prototype.length=function(){return this.write-this.read};util$6.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};util$6.DataBuffer.prototype.accommodate=function(a,e){if(this.length()>=a)return this;e=Math.max(e||this.growSize,a);var o=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),c=new Uint8Array(this.length()+e);return c.set(o),this.data=new DataView(c.buffer),this};util$6.DataBuffer.prototype.putByte=function(a){return this.accommodate(1),this.data.setUint8(this.write++,a),this};util$6.DataBuffer.prototype.fillWithByte=function(a,e){this.accommodate(e);for(var o=0;o<e;++o)this.data.setUint8(a);return this};util$6.DataBuffer.prototype.putBytes=function(a,e){if(util$6.isArrayBufferView(a)){var o=new Uint8Array(a.buffer,a.byteOffset,a.byteLength),c=o.byteLength-o.byteOffset;this.accommodate(c);var d=new Uint8Array(this.data.buffer,this.write);return d.set(o),this.write+=c,this}if(util$6.isArrayBuffer(a)){var o=new Uint8Array(a);this.accommodate(o.byteLength);var d=new Uint8Array(this.data.buffer);return d.set(o,this.write),this.write+=o.byteLength,this}if(a instanceof util$6.DataBuffer||typeof a=="object"&&typeof a.read=="number"&&typeof a.write=="number"&&util$6.isArrayBufferView(a.data)){var o=new Uint8Array(a.data.byteLength,a.read,a.length());this.accommodate(o.byteLength);var d=new Uint8Array(a.data.byteLength,this.write);return d.set(o),this.write+=o.byteLength,this}if(a instanceof util$6.ByteStringBuffer&&(a=a.data,e="binary"),e=e||"binary",typeof a=="string"){var h;if(e==="hex")return this.accommodate(Math.ceil(a.length/2)),h=new Uint8Array(this.data.buffer,this.write),this.write+=util$6.binary.hex.decode(a,h,this.write),this;if(e==="base64")return this.accommodate(Math.ceil(a.length/4)*3),h=new Uint8Array(this.data.buffer,this.write),this.write+=util$6.binary.base64.decode(a,h,this.write),this;if(e==="utf8"&&(a=util$6.encodeUtf8(a),e="binary"),e==="binary"||e==="raw")return this.accommodate(a.length),h=new Uint8Array(this.data.buffer,this.write),this.write+=util$6.binary.raw.decode(h),this;if(e==="utf16")return this.accommodate(a.length*2),h=new Uint16Array(this.data.buffer,this.write),this.write+=util$6.text.utf16.encode(h),this;throw new Error("Invalid encoding: "+e)}throw Error("Invalid parameter: "+a)};util$6.DataBuffer.prototype.putBuffer=function(a){return this.putBytes(a),a.clear(),this};util$6.DataBuffer.prototype.putString=function(a){return this.putBytes(a,"utf16")};util$6.DataBuffer.prototype.putInt16=function(a){return this.accommodate(2),this.data.setInt16(this.write,a),this.write+=2,this};util$6.DataBuffer.prototype.putInt24=function(a){return this.accommodate(3),this.data.setInt16(this.write,a>>8&65535),this.data.setInt8(this.write,a>>16&255),this.write+=3,this};util$6.DataBuffer.prototype.putInt32=function(a){return this.accommodate(4),this.data.setInt32(this.write,a),this.write+=4,this};util$6.DataBuffer.prototype.putInt16Le=function(a){return this.accommodate(2),this.data.setInt16(this.write,a,!0),this.write+=2,this};util$6.DataBuffer.prototype.putInt24Le=function(a){return this.accommodate(3),this.data.setInt8(this.write,a>>16&255),this.data.setInt16(this.write,a>>8&65535,!0),this.write+=3,this};util$6.DataBuffer.prototype.putInt32Le=function(a){return this.accommodate(4),this.data.setInt32(this.write,a,!0),this.write+=4,this};util$6.DataBuffer.prototype.putInt=function(a,e){_checkBitsParam(e),this.accommodate(e/8);do e-=8,this.data.setInt8(this.write++,a>>e&255);while(e>0);return this};util$6.DataBuffer.prototype.putSignedInt=function(a,e){return _checkBitsParam(e),this.accommodate(e/8),a<0&&(a+=2<<e-1),this.putInt(a,e)};util$6.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};util$6.DataBuffer.prototype.getInt16=function(){var a=this.data.getInt16(this.read);return this.read+=2,a};util$6.DataBuffer.prototype.getInt24=function(){var a=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,a};util$6.DataBuffer.prototype.getInt32=function(){var a=this.data.getInt32(this.read);return this.read+=4,a};util$6.DataBuffer.prototype.getInt16Le=function(){var a=this.data.getInt16(this.read,!0);return this.read+=2,a};util$6.DataBuffer.prototype.getInt24Le=function(){var a=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,a};util$6.DataBuffer.prototype.getInt32Le=function(){var a=this.data.getInt32(this.read,!0);return this.read+=4,a};util$6.DataBuffer.prototype.getInt=function(a){_checkBitsParam(a);var e=0;do e=(e<<8)+this.data.getInt8(this.read++),a-=8;while(a>0);return e};util$6.DataBuffer.prototype.getSignedInt=function(a){var e=this.getInt(a),o=2<<a-2;return e>=o&&(e-=o<<1),e};util$6.DataBuffer.prototype.getBytes=function(a){var e;return a?(a=Math.min(this.length(),a),e=this.data.slice(this.read,this.read+a),this.read+=a):a===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};util$6.DataBuffer.prototype.bytes=function(a){return typeof a>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+a)};util$6.DataBuffer.prototype.at=function(a){return this.data.getUint8(this.read+a)};util$6.DataBuffer.prototype.setAt=function(a,e){return this.data.setUint8(a,e),this};util$6.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};util$6.DataBuffer.prototype.copy=function(){return new util$6.DataBuffer(this)};util$6.DataBuffer.prototype.compact=function(){if(this.read>0){var a=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(a.byteLength);e.set(a),this.data=new DataView(e),this.write-=this.read,this.read=0}return this};util$6.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};util$6.DataBuffer.prototype.truncate=function(a){return this.write=Math.max(0,this.length()-a),this.read=Math.min(this.read,this.write),this};util$6.DataBuffer.prototype.toHex=function(){for(var a="",e=this.read;e<this.data.byteLength;++e){var o=this.data.getUint8(e);o<16&&(a+="0"),a+=o.toString(16)}return a};util$6.DataBuffer.prototype.toString=function(a){var e=new Uint8Array(this.data,this.read,this.length());if(a=a||"utf8",a==="binary"||a==="raw")return util$6.binary.raw.encode(e);if(a==="hex")return util$6.binary.hex.encode(e);if(a==="base64")return util$6.binary.base64.encode(e);if(a==="utf8")return util$6.text.utf8.decode(e);if(a==="utf16")return util$6.text.utf16.decode(e);throw new Error("Invalid encoding: "+a)};util$6.createBuffer=function(a,e){return e=e||"raw",a!==void 0&&e==="utf8"&&(a=util$6.encodeUtf8(a)),new util$6.ByteBuffer(a)};util$6.fillString=function(a,e){for(var o="";e>0;)e&1&&(o+=a),e>>>=1,e>0&&(a+=a);return o};util$6.xorBytes=function(a,e,o){for(var c="",d="",h="",et=0,tt=0;o>0;--o,++et)d=a.charCodeAt(et)^e.charCodeAt(et),tt>=10&&(c+=h,h="",tt=0),h+=String.fromCharCode(d),++tt;return c+=h,c};util$6.hexToBytes=function(a){var e="",o=0;for(a.length&!0&&(o=1,e+=String.fromCharCode(parseInt(a[0],16)));o<a.length;o+=2)e+=String.fromCharCode(parseInt(a.substr(o,2),16));return e};util$6.bytesToHex=function(a){return util$6.createBuffer(a).toHex()};util$6.int32ToBytes=function(a){return String.fromCharCode(a>>24&255)+String.fromCharCode(a>>16&255)+String.fromCharCode(a>>8&255)+String.fromCharCode(a&255)};var _base64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_base64Idx=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],_base58="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";util$6.encode64=function(a,e){for(var o="",c="",d,h,et,tt=0;tt<a.length;)d=a.charCodeAt(tt++),h=a.charCodeAt(tt++),et=a.charCodeAt(tt++),o+=_base64.charAt(d>>2),o+=_base64.charAt((d&3)<<4|h>>4),isNaN(h)?o+="==":(o+=_base64.charAt((h&15)<<2|et>>6),o+=isNaN(et)?"=":_base64.charAt(et&63)),e&&o.length>e&&(c+=o.substr(0,e)+`\r
`,o=o.substr(e));return c+=o,c};util$6.decode64=function(a){a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var e="",o,c,d,h,et=0;et<a.length;)o=_base64Idx[a.charCodeAt(et++)-43],c=_base64Idx[a.charCodeAt(et++)-43],d=_base64Idx[a.charCodeAt(et++)-43],h=_base64Idx[a.charCodeAt(et++)-43],e+=String.fromCharCode(o<<2|c>>4),d!==64&&(e+=String.fromCharCode((c&15)<<4|d>>2),h!==64&&(e+=String.fromCharCode((d&3)<<6|h)));return e};util$6.encodeUtf8=function(a){return unescape(encodeURIComponent(a))};util$6.decodeUtf8=function(a){return decodeURIComponent(escape(a))};util$6.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:baseN.encode,decode:baseN.decode}};util$6.binary.raw.encode=function(a){return String.fromCharCode.apply(null,a)};util$6.binary.raw.decode=function(a,e,o){var c=e;c||(c=new Uint8Array(a.length)),o=o||0;for(var d=o,h=0;h<a.length;++h)c[d++]=a.charCodeAt(h);return e?d-o:c};util$6.binary.hex.encode=util$6.bytesToHex;util$6.binary.hex.decode=function(a,e,o){var c=e;c||(c=new Uint8Array(Math.ceil(a.length/2))),o=o||0;var d=0,h=o;for(a.length&1&&(d=1,c[h++]=parseInt(a[0],16));d<a.length;d+=2)c[h++]=parseInt(a.substr(d,2),16);return e?h-o:c};util$6.binary.base64.encode=function(a,e){for(var o="",c="",d,h,et,tt=0;tt<a.byteLength;)d=a[tt++],h=a[tt++],et=a[tt++],o+=_base64.charAt(d>>2),o+=_base64.charAt((d&3)<<4|h>>4),isNaN(h)?o+="==":(o+=_base64.charAt((h&15)<<2|et>>6),o+=isNaN(et)?"=":_base64.charAt(et&63)),e&&o.length>e&&(c+=o.substr(0,e)+`\r
`,o=o.substr(e));return c+=o,c};util$6.binary.base64.decode=function(a,e,o){var c=e;c||(c=new Uint8Array(Math.ceil(a.length/4)*3)),a=a.replace(/[^A-Za-z0-9\+\/\=]/g,""),o=o||0;for(var d,h,et,tt,ot=0,ft=o;ot<a.length;)d=_base64Idx[a.charCodeAt(ot++)-43],h=_base64Idx[a.charCodeAt(ot++)-43],et=_base64Idx[a.charCodeAt(ot++)-43],tt=_base64Idx[a.charCodeAt(ot++)-43],c[ft++]=d<<2|h>>4,et!==64&&(c[ft++]=(h&15)<<4|et>>2,tt!==64&&(c[ft++]=(et&3)<<6|tt));return e?ft-o:c.subarray(0,ft)};util$6.binary.base58.encode=function(a,e){return util$6.binary.baseN.encode(a,_base58,e)};util$6.binary.base58.decode=function(a,e){return util$6.binary.baseN.decode(a,_base58,e)};util$6.text={utf8:{},utf16:{}};util$6.text.utf8.encode=function(a,e,o){a=util$6.encodeUtf8(a);var c=e;c||(c=new Uint8Array(a.length)),o=o||0;for(var d=o,h=0;h<a.length;++h)c[d++]=a.charCodeAt(h);return e?d-o:c};util$6.text.utf8.decode=function(a){return util$6.decodeUtf8(String.fromCharCode.apply(null,a))};util$6.text.utf16.encode=function(a,e,o){var c=e;c||(c=new Uint8Array(a.length*2));var d=new Uint16Array(c.buffer);o=o||0;for(var h=o,et=o,tt=0;tt<a.length;++tt)d[et++]=a.charCodeAt(tt),h+=2;return e?h-o:c};util$6.text.utf16.decode=function(a){return String.fromCharCode.apply(null,new Uint16Array(a.buffer))};util$6.deflate=function(a,e,o){if(e=util$6.decode64(a.deflate(util$6.encode64(e)).rval),o){var c=2,d=e.charCodeAt(1);d&32&&(c=6),e=e.substring(c,e.length-4)}return e};util$6.inflate=function(a,e,o){var c=a.inflate(util$6.encode64(e)).rval;return c===null?null:util$6.decode64(c)};var _setStorageObject=function(a,e,o){if(!a)throw new Error("WebStorage not available.");var c;if(o===null?c=a.removeItem(e):(o=util$6.encode64(JSON.stringify(o)),c=a.setItem(e,o)),typeof c<"u"&&c.rval!==!0){var d=new Error(c.error.message);throw d.id=c.error.id,d.name=c.error.name,d}},_getStorageObject=function(a,e){if(!a)throw new Error("WebStorage not available.");var o=a.getItem(e);if(a.init)if(o.rval===null){if(o.error){var c=new Error(o.error.message);throw c.id=o.error.id,c.name=o.error.name,c}o=null}else o=o.rval;return o!==null&&(o=JSON.parse(util$6.decode64(o))),o},_setItem=function(a,e,o,c){var d=_getStorageObject(a,e);d===null&&(d={}),d[o]=c,_setStorageObject(a,e,d)},_getItem=function(a,e,o){var c=_getStorageObject(a,e);return c!==null&&(c=o in c?c[o]:null),c},_removeItem=function(a,e,o){var c=_getStorageObject(a,e);if(c!==null&&o in c){delete c[o];var d=!0;for(var h in c){d=!1;break}d&&(c=null),_setStorageObject(a,e,c)}},_clearItems=function(a,e){_setStorageObject(a,e,null)},_callStorageFunction=function(a,e,o){var c=null;typeof o>"u"&&(o=["web","flash"]);var d,h=!1,et=null;for(var tt in o){d=o[tt];try{if(d==="flash"||d==="both"){if(e[0]===null)throw new Error("Flash local storage not available.");c=a.apply(this,e),h=d==="flash"}(d==="web"||d==="both")&&(e[0]=localStorage,c=a.apply(this,e),h=!0)}catch(ot){et=ot}if(h)break}if(!h)throw et;return c};util$6.setItem=function(a,e,o,c,d){_callStorageFunction(_setItem,arguments,d)};util$6.getItem=function(a,e,o,c){return _callStorageFunction(_getItem,arguments,c)};util$6.removeItem=function(a,e,o,c){_callStorageFunction(_removeItem,arguments,c)};util$6.clearItems=function(a,e,o){_callStorageFunction(_clearItems,arguments,o)};util$6.isEmpty=function(a){for(var e in a)if(a.hasOwnProperty(e))return!1;return!0};util$6.format=function(a){for(var e=/%./g,o,c,d=0,h=[],et=0;o=e.exec(a);){c=a.substring(et,e.lastIndex-2),c.length>0&&h.push(c),et=e.lastIndex;var tt=o[0][1];switch(tt){case"s":case"o":d<arguments.length?h.push(arguments[d+++1]):h.push("<?>");break;case"%":h.push("%");break;default:h.push("<%"+tt+"?>")}}return h.push(a.substring(et)),h.join("")};util$6.formatNumber=function(a,e,o,c){var d=a,h=isNaN(e=Math.abs(e))?2:e,et=o===void 0?",":o,tt=c===void 0?".":c,ot=d<0?"-":"",ft=parseInt(d=Math.abs(+d||0).toFixed(h),10)+"",ht=ft.length>3?ft.length%3:0;return ot+(ht?ft.substr(0,ht)+tt:"")+ft.substr(ht).replace(/(\d{3})(?=\d)/g,"$1"+tt)+(h?et+Math.abs(d-ft).toFixed(h).slice(2):"")};util$6.formatSize=function(a){return a>=1073741824?a=util$6.formatNumber(a/1073741824,2,".","")+" GiB":a>=1048576?a=util$6.formatNumber(a/1048576,2,".","")+" MiB":a>=1024?a=util$6.formatNumber(a/1024,0)+" KiB":a=util$6.formatNumber(a,0)+" bytes",a};util$6.bytesFromIP=function(a){return a.indexOf(".")!==-1?util$6.bytesFromIPv4(a):a.indexOf(":")!==-1?util$6.bytesFromIPv6(a):null};util$6.bytesFromIPv4=function(a){if(a=a.split("."),a.length!==4)return null;for(var e=util$6.createBuffer(),o=0;o<a.length;++o){var c=parseInt(a[o],10);if(isNaN(c))return null;e.putByte(c)}return e.getBytes()};util$6.bytesFromIPv6=function(a){var e=0;a=a.split(":").filter(function(et){return et.length===0&&++e,!0});for(var o=(8-a.length+e)*2,c=util$6.createBuffer(),d=0;d<8;++d){if(!a[d]||a[d].length===0){c.fillWithByte(0,o),o=0;continue}var h=util$6.hexToBytes(a[d]);h.length<2&&c.putByte(0),c.putBytes(h)}return c.getBytes()};util$6.bytesToIP=function(a){return a.length===4?util$6.bytesToIPv4(a):a.length===16?util$6.bytesToIPv6(a):null};util$6.bytesToIPv4=function(a){if(a.length!==4)return null;for(var e=[],o=0;o<a.length;++o)e.push(a.charCodeAt(o));return e.join(".")};util$6.bytesToIPv6=function(a){if(a.length!==16)return null;for(var e=[],o=[],c=0,d=0;d<a.length;d+=2){for(var h=util$6.bytesToHex(a[d]+a[d+1]);h[0]==="0"&&h!=="0";)h=h.substr(1);if(h==="0"){var et=o[o.length-1],tt=e.length;!et||tt!==et.end+1?o.push({start:tt,end:tt}):(et.end=tt,et.end-et.start>o[c].end-o[c].start&&(c=o.length-1))}e.push(h)}if(o.length>0){var ot=o[c];ot.end-ot.start>0&&(e.splice(ot.start,ot.end-ot.start+1,""),ot.start===0&&e.unshift(""),ot.end===7&&e.push(""))}return e.join(":")};util$6.estimateCores=function(a,e){if(typeof a=="function"&&(e=a,a={}),a=a||{},"cores"in util$6&&!a.update)return e(null,util$6.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return util$6.cores=navigator.hardwareConcurrency,e(null,util$6.cores);if(typeof Worker>"u")return util$6.cores=1,e(null,util$6.cores);if(typeof Blob>"u")return util$6.cores=2,e(null,util$6.cores);var o=URL.createObjectURL(new Blob(["(",(function(){self.addEventListener("message",function(et){var tt=Date.now(),ot=tt+4;self.postMessage({st:tt,et:ot})})}).toString(),")()"],{type:"application/javascript"}));c([],5,16);function c(et,tt,ot){if(tt===0){var ft=Math.floor(et.reduce(function(ht,yt){return ht+yt},0)/et.length);return util$6.cores=Math.max(1,ft),URL.revokeObjectURL(o),e(null,util$6.cores)}d(ot,function(ht,yt){et.push(h(ot,yt)),c(et,tt-1,ot)})}function d(et,tt){for(var ot=[],ft=[],ht=0;ht<et;++ht){var yt=new Worker(o);yt.addEventListener("message",function(gt){if(ft.push(gt.data),ft.length===et){for(var wt=0;wt<et;++wt)ot[wt].terminate();tt(null,ft)}}),ot.push(yt)}for(var ht=0;ht<et;++ht)ot[ht].postMessage(ht)}function h(et,tt){for(var ot=[],ft=0;ft<et;++ft)for(var ht=tt[ft],yt=ot[ft]=[],gt=0;gt<et;++gt)if(ft!==gt){var wt=tt[gt];(ht.st>wt.st&&ht.st<wt.et||wt.st>ht.st&&wt.st<ht.et)&&yt.push(gt)}return ot.reduce(function(bt,xt){return Math.max(bt,xt.length)},0)}};var forge$q=forge$s;forge$q.cipher=forge$q.cipher||{};forge$q.cipher.algorithms=forge$q.cipher.algorithms||{};forge$q.cipher.createCipher=function(a,e){var o=a;if(typeof o=="string"&&(o=forge$q.cipher.getAlgorithm(o),o&&(o=o())),!o)throw new Error("Unsupported algorithm: "+a);return new forge$q.cipher.BlockCipher({algorithm:o,key:e,decrypt:!1})};forge$q.cipher.createDecipher=function(a,e){var o=a;if(typeof o=="string"&&(o=forge$q.cipher.getAlgorithm(o),o&&(o=o())),!o)throw new Error("Unsupported algorithm: "+a);return new forge$q.cipher.BlockCipher({algorithm:o,key:e,decrypt:!0})};forge$q.cipher.registerAlgorithm=function(a,e){a=a.toUpperCase(),forge$q.cipher.algorithms[a]=e};forge$q.cipher.getAlgorithm=function(a){return a=a.toUpperCase(),a in forge$q.cipher.algorithms?forge$q.cipher.algorithms[a]:null};var BlockCipher=forge$q.cipher.BlockCipher=function(a){this.algorithm=a.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=a.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=a.decrypt,this.algorithm.initialize(a)};BlockCipher.prototype.start=function(a){a=a||{};var e={};for(var o in a)e[o]=a[o];e.decrypt=this._decrypt,this._finish=!1,this._input=forge$q.util.createBuffer(),this.output=a.output||forge$q.util.createBuffer(),this.mode.start(e)};BlockCipher.prototype.update=function(a){for(a&&this._input.putBuffer(a);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};BlockCipher.prototype.finish=function(a){a&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(o){return a(this.blockSize,o,!1)},this.mode.unpad=function(o){return a(this.blockSize,o,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,e))};var forge$p=forge$s;forge$p.cipher=forge$p.cipher||{};var modes=forge$p.cipher.modes=forge$p.cipher.modes||{};modes.ecb=function(a){a=a||{},this.name="ECB",this.cipher=a.cipher,this.blockSize=a.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};modes.ecb.prototype.start=function(a){};modes.ecb.prototype.encrypt=function(a,e,o){if(a.length()<this.blockSize&&!(o&&a.length()>0))return!0;for(var c=0;c<this._ints;++c)this._inBlock[c]=a.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var c=0;c<this._ints;++c)e.putInt32(this._outBlock[c])};modes.ecb.prototype.decrypt=function(a,e,o){if(a.length()<this.blockSize&&!(o&&a.length()>0))return!0;for(var c=0;c<this._ints;++c)this._inBlock[c]=a.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var c=0;c<this._ints;++c)e.putInt32(this._outBlock[c])};modes.ecb.prototype.pad=function(a,e){var o=a.length()===this.blockSize?this.blockSize:this.blockSize-a.length();return a.fillWithByte(o,o),!0};modes.ecb.prototype.unpad=function(a,e){if(e.overflow>0)return!1;var o=a.length(),c=a.at(o-1);return c>this.blockSize<<2?!1:(a.truncate(c),!0)};modes.cbc=function(a){a=a||{},this.name="CBC",this.cipher=a.cipher,this.blockSize=a.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};modes.cbc.prototype.start=function(a){if(a.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in a)this._iv=transformIV(a.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};modes.cbc.prototype.encrypt=function(a,e,o){if(a.length()<this.blockSize&&!(o&&a.length()>0))return!0;for(var c=0;c<this._ints;++c)this._inBlock[c]=this._prev[c]^a.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var c=0;c<this._ints;++c)e.putInt32(this._outBlock[c]);this._prev=this._outBlock};modes.cbc.prototype.decrypt=function(a,e,o){if(a.length()<this.blockSize&&!(o&&a.length()>0))return!0;for(var c=0;c<this._ints;++c)this._inBlock[c]=a.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var c=0;c<this._ints;++c)e.putInt32(this._prev[c]^this._outBlock[c]);this._prev=this._inBlock.slice(0)};modes.cbc.prototype.pad=function(a,e){var o=a.length()===this.blockSize?this.blockSize:this.blockSize-a.length();return a.fillWithByte(o,o),!0};modes.cbc.prototype.unpad=function(a,e){if(e.overflow>0)return!1;var o=a.length(),c=a.at(o-1);return c>this.blockSize<<2?!1:(a.truncate(c),!0)};modes.cfb=function(a){a=a||{},this.name="CFB",this.cipher=a.cipher,this.blockSize=a.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=forge$p.util.createBuffer(),this._partialBytes=0};modes.cfb.prototype.start=function(a){if(!("iv"in a))throw new Error("Invalid IV parameter.");this._iv=transformIV(a.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};modes.cfb.prototype.encrypt=function(a,e,o){var c=a.length();if(c===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&c>=this.blockSize){for(var d=0;d<this._ints;++d)this._inBlock[d]=a.getInt32()^this._outBlock[d],e.putInt32(this._inBlock[d]);return}var h=(this.blockSize-c)%this.blockSize;h>0&&(h=this.blockSize-h),this._partialOutput.clear();for(var d=0;d<this._ints;++d)this._partialBlock[d]=a.getInt32()^this._outBlock[d],this._partialOutput.putInt32(this._partialBlock[d]);if(h>0)a.read-=this.blockSize;else for(var d=0;d<this._ints;++d)this._inBlock[d]=this._partialBlock[d];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),h>0&&!o)return e.putBytes(this._partialOutput.getBytes(h-this._partialBytes)),this._partialBytes=h,!0;e.putBytes(this._partialOutput.getBytes(c-this._partialBytes)),this._partialBytes=0};modes.cfb.prototype.decrypt=function(a,e,o){var c=a.length();if(c===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&c>=this.blockSize){for(var d=0;d<this._ints;++d)this._inBlock[d]=a.getInt32(),e.putInt32(this._inBlock[d]^this._outBlock[d]);return}var h=(this.blockSize-c)%this.blockSize;h>0&&(h=this.blockSize-h),this._partialOutput.clear();for(var d=0;d<this._ints;++d)this._partialBlock[d]=a.getInt32(),this._partialOutput.putInt32(this._partialBlock[d]^this._outBlock[d]);if(h>0)a.read-=this.blockSize;else for(var d=0;d<this._ints;++d)this._inBlock[d]=this._partialBlock[d];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),h>0&&!o)return e.putBytes(this._partialOutput.getBytes(h-this._partialBytes)),this._partialBytes=h,!0;e.putBytes(this._partialOutput.getBytes(c-this._partialBytes)),this._partialBytes=0};modes.ofb=function(a){a=a||{},this.name="OFB",this.cipher=a.cipher,this.blockSize=a.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=forge$p.util.createBuffer(),this._partialBytes=0};modes.ofb.prototype.start=function(a){if(!("iv"in a))throw new Error("Invalid IV parameter.");this._iv=transformIV(a.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};modes.ofb.prototype.encrypt=function(a,e,o){var c=a.length();if(a.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&c>=this.blockSize){for(var d=0;d<this._ints;++d)e.putInt32(a.getInt32()^this._outBlock[d]),this._inBlock[d]=this._outBlock[d];return}var h=(this.blockSize-c)%this.blockSize;h>0&&(h=this.blockSize-h),this._partialOutput.clear();for(var d=0;d<this._ints;++d)this._partialOutput.putInt32(a.getInt32()^this._outBlock[d]);if(h>0)a.read-=this.blockSize;else for(var d=0;d<this._ints;++d)this._inBlock[d]=this._outBlock[d];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),h>0&&!o)return e.putBytes(this._partialOutput.getBytes(h-this._partialBytes)),this._partialBytes=h,!0;e.putBytes(this._partialOutput.getBytes(c-this._partialBytes)),this._partialBytes=0};modes.ofb.prototype.decrypt=modes.ofb.prototype.encrypt;modes.ctr=function(a){a=a||{},this.name="CTR",this.cipher=a.cipher,this.blockSize=a.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=forge$p.util.createBuffer(),this._partialBytes=0};modes.ctr.prototype.start=function(a){if(!("iv"in a))throw new Error("Invalid IV parameter.");this._iv=transformIV(a.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};modes.ctr.prototype.encrypt=function(a,e,o){var c=a.length();if(c===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&c>=this.blockSize)for(var d=0;d<this._ints;++d)e.putInt32(a.getInt32()^this._outBlock[d]);else{var h=(this.blockSize-c)%this.blockSize;h>0&&(h=this.blockSize-h),this._partialOutput.clear();for(var d=0;d<this._ints;++d)this._partialOutput.putInt32(a.getInt32()^this._outBlock[d]);if(h>0&&(a.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),h>0&&!o)return e.putBytes(this._partialOutput.getBytes(h-this._partialBytes)),this._partialBytes=h,!0;e.putBytes(this._partialOutput.getBytes(c-this._partialBytes)),this._partialBytes=0}inc32(this._inBlock)};modes.ctr.prototype.decrypt=modes.ctr.prototype.encrypt;modes.gcm=function(a){a=a||{},this.name="GCM",this.cipher=a.cipher,this.blockSize=a.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=forge$p.util.createBuffer(),this._partialBytes=0,this._R=3774873600};modes.gcm.prototype.start=function(a){if(!("iv"in a))throw new Error("Invalid IV parameter.");var e=forge$p.util.createBuffer(a.iv);this._cipherLength=0;var o;if("additionalData"in a?o=forge$p.util.createBuffer(a.additionalData):o=forge$p.util.createBuffer(),"tagLength"in a?this._tagLength=a.tagLength:this._tagLength=128,this._tag=null,a.decrypt&&(this._tag=forge$p.util.createBuffer(a.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var c=e.length();if(c===12)this._j0=[e.getInt32(),e.getInt32(),e.getInt32(),1];else{for(this._j0=[0,0,0,0];e.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(from64To32(c*8)))}this._inBlock=this._j0.slice(0),inc32(this._inBlock),this._partialBytes=0,o=forge$p.util.createBuffer(o),this._aDataLength=from64To32(o.length()*8);var d=o.length()%this.blockSize;for(d&&o.fillWithByte(0,this.blockSize-d),this._s=[0,0,0,0];o.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[o.getInt32(),o.getInt32(),o.getInt32(),o.getInt32()])};modes.gcm.prototype.encrypt=function(a,e,o){var c=a.length();if(c===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&c>=this.blockSize){for(var d=0;d<this._ints;++d)e.putInt32(this._outBlock[d]^=a.getInt32());this._cipherLength+=this.blockSize}else{var h=(this.blockSize-c)%this.blockSize;h>0&&(h=this.blockSize-h),this._partialOutput.clear();for(var d=0;d<this._ints;++d)this._partialOutput.putInt32(a.getInt32()^this._outBlock[d]);if(h<=0||o){if(o){var et=c%this.blockSize;this._cipherLength+=et,this._partialOutput.truncate(this.blockSize-et)}else this._cipherLength+=this.blockSize;for(var d=0;d<this._ints;++d)this._outBlock[d]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),h>0&&!o)return a.read-=this.blockSize,e.putBytes(this._partialOutput.getBytes(h-this._partialBytes)),this._partialBytes=h,!0;e.putBytes(this._partialOutput.getBytes(c-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),inc32(this._inBlock)};modes.gcm.prototype.decrypt=function(a,e,o){var c=a.length();if(c<this.blockSize&&!(o&&c>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),inc32(this._inBlock),this._hashBlock[0]=a.getInt32(),this._hashBlock[1]=a.getInt32(),this._hashBlock[2]=a.getInt32(),this._hashBlock[3]=a.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var d=0;d<this._ints;++d)e.putInt32(this._outBlock[d]^this._hashBlock[d]);c<this.blockSize?this._cipherLength+=c%this.blockSize:this._cipherLength+=this.blockSize};modes.gcm.prototype.afterFinish=function(a,e){var o=!0;e.decrypt&&e.overflow&&a.truncate(this.blockSize-e.overflow),this.tag=forge$p.util.createBuffer();var c=this._aDataLength.concat(from64To32(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,c);var d=[];this.cipher.encrypt(this._j0,d);for(var h=0;h<this._ints;++h)this.tag.putInt32(this._s[h]^d[h]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),e.decrypt&&this.tag.bytes()!==this._tag&&(o=!1),o};modes.gcm.prototype.multiply=function(a,e){for(var o=[0,0,0,0],c=e.slice(0),d=0;d<128;++d){var h=a[d/32|0]&1<<31-d%32;h&&(o[0]^=c[0],o[1]^=c[1],o[2]^=c[2],o[3]^=c[3]),this.pow(c,c)}return o};modes.gcm.prototype.pow=function(a,e){for(var o=a[3]&1,c=3;c>0;--c)e[c]=a[c]>>>1|(a[c-1]&1)<<31;e[0]=a[0]>>>1,o&&(e[0]^=this._R)};modes.gcm.prototype.tableMultiply=function(a){for(var e=[0,0,0,0],o=0;o<32;++o){var c=o/8|0,d=a[c]>>>(7-o%8)*4&15,h=this._m[o][d];e[0]^=h[0],e[1]^=h[1],e[2]^=h[2],e[3]^=h[3]}return e};modes.gcm.prototype.ghash=function(a,e,o){return e[0]^=o[0],e[1]^=o[1],e[2]^=o[2],e[3]^=o[3],this.tableMultiply(e)};modes.gcm.prototype.generateHashTable=function(a,e){for(var o=8/e,c=4*o,d=16*o,h=new Array(d),et=0;et<d;++et){var tt=[0,0,0,0],ot=et/c|0,ft=(c-1-et%c)*e;tt[ot]=1<<e-1<<ft,h[et]=this.generateSubHashTable(this.multiply(tt,a),e)}return h};modes.gcm.prototype.generateSubHashTable=function(a,e){var o=1<<e,c=o>>>1,d=new Array(o);d[c]=a.slice(0);for(var h=c>>>1;h>0;)this.pow(d[2*h],d[h]=[]),h>>=1;for(h=2;h<c;){for(var et=1;et<h;++et){var tt=d[h],ot=d[et];d[h+et]=[tt[0]^ot[0],tt[1]^ot[1],tt[2]^ot[2],tt[3]^ot[3]]}h*=2}for(d[0]=[0,0,0,0],h=c+1;h<o;++h){var ft=d[h^c];d[h]=[a[0]^ft[0],a[1]^ft[1],a[2]^ft[2],a[3]^ft[3]]}return d};function transformIV(a,e){if(typeof a=="string"&&(a=forge$p.util.createBuffer(a)),forge$p.util.isArray(a)&&a.length>4){var o=a;a=forge$p.util.createBuffer();for(var c=0;c<o.length;++c)a.putByte(o[c])}if(a.length()<e)throw new Error("Invalid IV length; got "+a.length()+" bytes and expected "+e+" bytes.");if(!forge$p.util.isArray(a)){for(var d=[],h=e/4,c=0;c<h;++c)d.push(a.getInt32());a=d}return a}function inc32(a){a[a.length-1]=a[a.length-1]+1&4294967295}function from64To32(a){return[a/4294967296|0,a&4294967295]}var forge$o=forge$s,aes=forge$o.aes=forge$o.aes||{};forge$o.aes.startEncrypting=function(a,e,o,c){var d=_createCipher$1({key:a,output:o,decrypt:!1,mode:c});return d.start(e),d};forge$o.aes.createEncryptionCipher=function(a,e){return _createCipher$1({key:a,output:null,decrypt:!1,mode:e})};forge$o.aes.startDecrypting=function(a,e,o,c){var d=_createCipher$1({key:a,output:o,decrypt:!0,mode:c});return d.start(e),d};forge$o.aes.createDecryptionCipher=function(a,e){return _createCipher$1({key:a,output:null,decrypt:!0,mode:e})};forge$o.aes.Algorithm=function(a,e){init||initialize();var o=this;o.name=a,o.mode=new e({blockSize:16,cipher:{encrypt:function(c,d){return _updateBlock$1(o._w,c,d,!1)},decrypt:function(c,d){return _updateBlock$1(o._w,c,d,!0)}}}),o._init=!1};forge$o.aes.Algorithm.prototype.initialize=function(a){if(!this._init){var e=a.key,o;if(typeof e=="string"&&(e.length===16||e.length===24||e.length===32))e=forge$o.util.createBuffer(e);else if(forge$o.util.isArray(e)&&(e.length===16||e.length===24||e.length===32)){o=e,e=forge$o.util.createBuffer();for(var c=0;c<o.length;++c)e.putByte(o[c])}if(!forge$o.util.isArray(e)){o=e,e=[];var d=o.length();if(d===16||d===24||d===32){d=d>>>2;for(var c=0;c<d;++c)e.push(o.getInt32())}}if(!forge$o.util.isArray(e)||!(e.length===4||e.length===6||e.length===8))throw new Error("Invalid key parameter.");var h=this.mode.name,et=["CFB","OFB","CTR","GCM"].indexOf(h)!==-1;this._w=_expandKey(e,a.decrypt&&!et),this._init=!0}};forge$o.aes._expandKey=function(a,e){return init||initialize(),_expandKey(a,e)};forge$o.aes._updateBlock=_updateBlock$1;registerAlgorithm$1("AES-ECB",forge$o.cipher.modes.ecb);registerAlgorithm$1("AES-CBC",forge$o.cipher.modes.cbc);registerAlgorithm$1("AES-CFB",forge$o.cipher.modes.cfb);registerAlgorithm$1("AES-OFB",forge$o.cipher.modes.ofb);registerAlgorithm$1("AES-CTR",forge$o.cipher.modes.ctr);registerAlgorithm$1("AES-GCM",forge$o.cipher.modes.gcm);function registerAlgorithm$1(a,e){var o=function(){return new forge$o.aes.Algorithm(a,e)};forge$o.cipher.registerAlgorithm(a,o)}var init=!1,Nb=4,sbox,isbox,rcon,mix,imix;function initialize(){init=!0,rcon=[0,1,2,4,8,16,32,64,128,27,54];for(var a=new Array(256),e=0;e<128;++e)a[e]=e<<1,a[e+128]=e+128<<1^283;sbox=new Array(256),isbox=new Array(256),mix=new Array(4),imix=new Array(4);for(var e=0;e<4;++e)mix[e]=new Array(256),imix[e]=new Array(256);for(var o=0,c=0,d,h,et,tt,ot,ft,ht,e=0;e<256;++e){tt=c^c<<1^c<<2^c<<3^c<<4,tt=tt>>8^tt&255^99,sbox[o]=tt,isbox[tt]=o,ot=a[tt],d=a[o],h=a[d],et=a[h],ft=ot<<24^tt<<16^tt<<8^(tt^ot),ht=(d^h^et)<<24^(o^et)<<16^(o^h^et)<<8^(o^d^et);for(var yt=0;yt<4;++yt)mix[yt][o]=ft,imix[yt][tt]=ht,ft=ft<<24|ft>>>8,ht=ht<<24|ht>>>8;o===0?o=c=1:(o=d^a[a[a[d^et]]],c^=a[a[c]])}}function _expandKey(a,e){for(var o=a.slice(0),c,d=1,h=o.length,et=h+6+1,tt=Nb*et,ot=h;ot<tt;++ot)c=o[ot-1],ot%h===0?(c=sbox[c>>>16&255]<<24^sbox[c>>>8&255]<<16^sbox[c&255]<<8^sbox[c>>>24]^rcon[d]<<24,d++):h>6&&ot%h===4&&(c=sbox[c>>>24]<<24^sbox[c>>>16&255]<<16^sbox[c>>>8&255]<<8^sbox[c&255]),o[ot]=o[ot-h]^c;if(e){var ft,ht=imix[0],yt=imix[1],gt=imix[2],wt=imix[3],bt=o.slice(0);tt=o.length;for(var ot=0,xt=tt-Nb;ot<tt;ot+=Nb,xt-=Nb)if(ot===0||ot===tt-Nb)bt[ot]=o[xt],bt[ot+1]=o[xt+3],bt[ot+2]=o[xt+2],bt[ot+3]=o[xt+1];else for(var Et=0;Et<Nb;++Et)ft=o[xt+Et],bt[ot+(3&-Et)]=ht[sbox[ft>>>24]]^yt[sbox[ft>>>16&255]]^gt[sbox[ft>>>8&255]]^wt[sbox[ft&255]];o=bt}return o}function _updateBlock$1(a,e,o,c){var d=a.length/4-1,h,et,tt,ot,ft;c?(h=imix[0],et=imix[1],tt=imix[2],ot=imix[3],ft=isbox):(h=mix[0],et=mix[1],tt=mix[2],ot=mix[3],ft=sbox);var ht,yt,gt,wt,bt,xt,Et;ht=e[0]^a[0],yt=e[c?3:1]^a[1],gt=e[2]^a[2],wt=e[c?1:3]^a[3];for(var vt=3,$t=1;$t<d;++$t)bt=h[ht>>>24]^et[yt>>>16&255]^tt[gt>>>8&255]^ot[wt&255]^a[++vt],xt=h[yt>>>24]^et[gt>>>16&255]^tt[wt>>>8&255]^ot[ht&255]^a[++vt],Et=h[gt>>>24]^et[wt>>>16&255]^tt[ht>>>8&255]^ot[yt&255]^a[++vt],wt=h[wt>>>24]^et[ht>>>16&255]^tt[yt>>>8&255]^ot[gt&255]^a[++vt],ht=bt,yt=xt,gt=Et;o[0]=ft[ht>>>24]<<24^ft[yt>>>16&255]<<16^ft[gt>>>8&255]<<8^ft[wt&255]^a[++vt],o[c?3:1]=ft[yt>>>24]<<24^ft[gt>>>16&255]<<16^ft[wt>>>8&255]<<8^ft[ht&255]^a[++vt],o[2]=ft[gt>>>24]<<24^ft[wt>>>16&255]<<16^ft[ht>>>8&255]<<8^ft[yt&255]^a[++vt],o[c?1:3]=ft[wt>>>24]<<24^ft[ht>>>16&255]<<16^ft[yt>>>8&255]<<8^ft[gt&255]^a[++vt]}function _createCipher$1(a){a=a||{};var e=(a.mode||"CBC").toUpperCase(),o="AES-"+e,c;a.decrypt?c=forge$o.cipher.createDecipher(o,a.key):c=forge$o.cipher.createCipher(o,a.key);var d=c.start;return c.start=function(h,et){var tt=null;et instanceof forge$o.util.ByteBuffer&&(tt=et,et={}),et=et||{},et.output=tt,et.iv=h,d.call(c,et)},c}const aes$1=getDefaultExportFromCjs(aes),forgeAes=forge$t;forgeAes.aes=aes$1;var pki$6={exports:{}},forge$n=forge$s;forge$n.pki=forge$n.pki||{};var oids$2=forge$n.pki.oids=forge$n.oids=forge$n.oids||{};function _IN(a,e){oids$2[a]=e,oids$2[e]=a}function _I_(a,e){oids$2[a]=e}_IN("1.2.840.113549.1.1.1","rsaEncryption");_IN("1.2.840.113549.1.1.4","md5WithRSAEncryption");_IN("1.2.840.113549.1.1.5","sha1WithRSAEncryption");_IN("1.2.840.113549.1.1.7","RSAES-OAEP");_IN("1.2.840.113549.1.1.8","mgf1");_IN("1.2.840.113549.1.1.9","pSpecified");_IN("1.2.840.113549.1.1.10","RSASSA-PSS");_IN("1.2.840.113549.1.1.11","sha256WithRSAEncryption");_IN("1.2.840.113549.1.1.12","sha384WithRSAEncryption");_IN("1.2.840.113549.1.1.13","sha512WithRSAEncryption");_IN("1.3.101.112","EdDSA25519");_IN("1.2.840.10040.4.3","dsa-with-sha1");_IN("1.3.14.3.2.7","desCBC");_IN("1.3.14.3.2.26","sha1");_IN("1.3.14.3.2.29","sha1WithRSASignature");_IN("2.16.840.1.101.3.4.2.1","sha256");_IN("2.16.840.1.101.3.4.2.2","sha384");_IN("2.16.840.1.101.3.4.2.3","sha512");_IN("2.16.840.1.101.3.4.2.4","sha224");_IN("2.16.840.1.101.3.4.2.5","sha512-224");_IN("2.16.840.1.101.3.4.2.6","sha512-256");_IN("1.2.840.113549.2.2","md2");_IN("1.2.840.113549.2.5","md5");_IN("1.2.840.113549.1.7.1","data");_IN("1.2.840.113549.1.7.2","signedData");_IN("1.2.840.113549.1.7.3","envelopedData");_IN("1.2.840.113549.1.7.4","signedAndEnvelopedData");_IN("1.2.840.113549.1.7.5","digestedData");_IN("1.2.840.113549.1.7.6","encryptedData");_IN("1.2.840.113549.1.9.1","emailAddress");_IN("1.2.840.113549.1.9.2","unstructuredName");_IN("1.2.840.113549.1.9.3","contentType");_IN("1.2.840.113549.1.9.4","messageDigest");_IN("1.2.840.113549.1.9.5","signingTime");_IN("1.2.840.113549.1.9.6","counterSignature");_IN("1.2.840.113549.1.9.7","challengePassword");_IN("1.2.840.113549.1.9.8","unstructuredAddress");_IN("1.2.840.113549.1.9.14","extensionRequest");_IN("1.2.840.113549.1.9.20","friendlyName");_IN("1.2.840.113549.1.9.21","localKeyId");_IN("1.2.840.113549.1.9.22.1","x509Certificate");_IN("1.2.840.113549.1.12.10.1.1","keyBag");_IN("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");_IN("1.2.840.113549.1.12.10.1.3","certBag");_IN("1.2.840.113549.1.12.10.1.4","crlBag");_IN("1.2.840.113549.1.12.10.1.5","secretBag");_IN("1.2.840.113549.1.12.10.1.6","safeContentsBag");_IN("1.2.840.113549.1.5.13","pkcs5PBES2");_IN("1.2.840.113549.1.5.12","pkcs5PBKDF2");_IN("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");_IN("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");_IN("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");_IN("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");_IN("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");_IN("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");_IN("1.2.840.113549.2.7","hmacWithSHA1");_IN("1.2.840.113549.2.8","hmacWithSHA224");_IN("1.2.840.113549.2.9","hmacWithSHA256");_IN("1.2.840.113549.2.10","hmacWithSHA384");_IN("1.2.840.113549.2.11","hmacWithSHA512");_IN("1.2.840.113549.3.7","des-EDE3-CBC");_IN("2.16.840.1.101.3.4.1.2","aes128-CBC");_IN("2.16.840.1.101.3.4.1.22","aes192-CBC");_IN("2.16.840.1.101.3.4.1.42","aes256-CBC");_IN("2.5.4.3","commonName");_IN("2.5.4.4","surname");_IN("2.5.4.5","serialNumber");_IN("2.5.4.6","countryName");_IN("2.5.4.7","localityName");_IN("2.5.4.8","stateOrProvinceName");_IN("2.5.4.9","streetAddress");_IN("2.5.4.10","organizationName");_IN("2.5.4.11","organizationalUnitName");_IN("2.5.4.12","title");_IN("2.5.4.13","description");_IN("2.5.4.15","businessCategory");_IN("2.5.4.17","postalCode");_IN("2.5.4.42","givenName");_IN("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");_IN("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");_IN("2.16.840.1.113730.1.1","nsCertType");_IN("2.16.840.1.113730.1.13","nsComment");_I_("2.5.29.1","authorityKeyIdentifier");_I_("2.5.29.2","keyAttributes");_I_("2.5.29.3","certificatePolicies");_I_("2.5.29.4","keyUsageRestriction");_I_("2.5.29.5","policyMapping");_I_("2.5.29.6","subtreesConstraint");_I_("2.5.29.7","subjectAltName");_I_("2.5.29.8","issuerAltName");_I_("2.5.29.9","subjectDirectoryAttributes");_I_("2.5.29.10","basicConstraints");_I_("2.5.29.11","nameConstraints");_I_("2.5.29.12","policyConstraints");_I_("2.5.29.13","basicConstraints");_IN("2.5.29.14","subjectKeyIdentifier");_IN("2.5.29.15","keyUsage");_I_("2.5.29.16","privateKeyUsagePeriod");_IN("2.5.29.17","subjectAltName");_IN("2.5.29.18","issuerAltName");_IN("2.5.29.19","basicConstraints");_I_("2.5.29.20","cRLNumber");_I_("2.5.29.21","cRLReason");_I_("2.5.29.22","expirationDate");_I_("2.5.29.23","instructionCode");_I_("2.5.29.24","invalidityDate");_I_("2.5.29.25","cRLDistributionPoints");_I_("2.5.29.26","issuingDistributionPoint");_I_("2.5.29.27","deltaCRLIndicator");_I_("2.5.29.28","issuingDistributionPoint");_I_("2.5.29.29","certificateIssuer");_I_("2.5.29.30","nameConstraints");_IN("2.5.29.31","cRLDistributionPoints");_IN("2.5.29.32","certificatePolicies");_I_("2.5.29.33","policyMappings");_I_("2.5.29.34","policyConstraints");_IN("2.5.29.35","authorityKeyIdentifier");_I_("2.5.29.36","policyConstraints");_IN("2.5.29.37","extKeyUsage");_I_("2.5.29.46","freshestCRL");_I_("2.5.29.54","inhibitAnyPolicy");_IN("1.3.6.1.4.1.11129.2.4.2","timestampList");_IN("1.3.6.1.5.5.7.1.1","authorityInfoAccess");_IN("1.3.6.1.5.5.7.3.1","serverAuth");_IN("1.3.6.1.5.5.7.3.2","clientAuth");_IN("1.3.6.1.5.5.7.3.3","codeSigning");_IN("1.3.6.1.5.5.7.3.4","emailProtection");_IN("1.3.6.1.5.5.7.3.8","timeStamping");var forge$m=forge$s,asn1$6=forge$m.asn1=forge$m.asn1||{};asn1$6.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};asn1$6.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};asn1$6.create=function(a,e,o,c,d){if(forge$m.util.isArray(c)){for(var h=[],et=0;et<c.length;++et)c[et]!==void 0&&h.push(c[et]);c=h}var tt={tagClass:a,type:e,constructed:o,composed:o||forge$m.util.isArray(c),value:c};return d&&"bitStringContents"in d&&(tt.bitStringContents=d.bitStringContents,tt.original=asn1$6.copy(tt)),tt};asn1$6.copy=function(a,e){var o;if(forge$m.util.isArray(a)){o=[];for(var c=0;c<a.length;++c)o.push(asn1$6.copy(a[c],e));return o}return typeof a=="string"?a:(o={tagClass:a.tagClass,type:a.type,constructed:a.constructed,composed:a.composed,value:asn1$6.copy(a.value,e)},e&&!e.excludeBitStringContents&&(o.bitStringContents=a.bitStringContents),o)};asn1$6.equals=function(a,e,o){if(forge$m.util.isArray(a)){if(!forge$m.util.isArray(e)||a.length!==e.length)return!1;for(var c=0;c<a.length;++c)if(!asn1$6.equals(a[c],e[c]))return!1;return!0}if(typeof a!=typeof e)return!1;if(typeof a=="string")return a===e;var d=a.tagClass===e.tagClass&&a.type===e.type&&a.constructed===e.constructed&&a.composed===e.composed&&asn1$6.equals(a.value,e.value);return o&&o.includeBitStringContents&&(d=d&&a.bitStringContents===e.bitStringContents),d};asn1$6.getBerValueLength=function(a){var e=a.getByte();if(e!==128){var o,c=e&128;return c?o=a.getInt((e&127)<<3):o=e,o}};function _checkBufferLength(a,e,o){if(o>e){var c=new Error("Too few bytes to parse DER.");throw c.available=a.length(),c.remaining=e,c.requested=o,c}}var _getValueLength=function(a,e){var o=a.getByte();if(e--,o!==128){var c,d=o&128;if(!d)c=o;else{var h=o&127;_checkBufferLength(a,e,h),c=a.getInt(h<<3)}if(c<0)throw new Error("Negative length: "+c);return c}};asn1$6.fromDer=function(a,e){e===void 0&&(e={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof e=="boolean"&&(e={strict:e,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in e||(e.strict=!0),"parseAllBytes"in e||(e.parseAllBytes=!0),"decodeBitStrings"in e||(e.decodeBitStrings=!0),typeof a=="string"&&(a=forge$m.util.createBuffer(a));var o=a.length(),c=_fromDer(a,a.length(),0,e);if(e.parseAllBytes&&a.length()!==0){var d=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw d.byteCount=o,d.remaining=a.length(),d}return c};function _fromDer(a,e,o,c){var d;_checkBufferLength(a,e,2);var h=a.getByte();e--;var et=h&192,tt=h&31;d=a.length();var ot=_getValueLength(a,e);if(e-=d-a.length(),ot!==void 0&&ot>e){if(c.strict){var ft=new Error("Too few bytes to read ASN.1 value.");throw ft.available=a.length(),ft.remaining=e,ft.requested=ot,ft}ot=e}var ht,yt,gt=(h&32)===32;if(gt)if(ht=[],ot===void 0)for(;;){if(_checkBufferLength(a,e,2),a.bytes(2)==="\0\0"){a.getBytes(2),e-=2;break}d=a.length(),ht.push(_fromDer(a,e,o+1,c)),e-=d-a.length()}else for(;ot>0;)d=a.length(),ht.push(_fromDer(a,ot,o+1,c)),e-=d-a.length(),ot-=d-a.length();if(ht===void 0&&et===asn1$6.Class.UNIVERSAL&&tt===asn1$6.Type.BITSTRING&&(yt=a.bytes(ot)),ht===void 0&&c.decodeBitStrings&&et===asn1$6.Class.UNIVERSAL&&tt===asn1$6.Type.BITSTRING&&ot>1){var wt=a.read,bt=e,xt=0;if(tt===asn1$6.Type.BITSTRING&&(_checkBufferLength(a,e,1),xt=a.getByte(),e--),xt===0)try{d=a.length();var Et={strict:!0,decodeBitStrings:!0},vt=_fromDer(a,e,o+1,Et),$t=d-a.length();e-=$t,tt==asn1$6.Type.BITSTRING&&$t++;var At=vt.tagClass;$t===ot&&(At===asn1$6.Class.UNIVERSAL||At===asn1$6.Class.CONTEXT_SPECIFIC)&&(ht=[vt])}catch{}ht===void 0&&(a.read=wt,e=bt)}if(ht===void 0){if(ot===void 0){if(c.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");ot=e}if(tt===asn1$6.Type.BMPSTRING)for(ht="";ot>0;ot-=2)_checkBufferLength(a,e,2),ht+=String.fromCharCode(a.getInt16()),e-=2;else ht=a.getBytes(ot),e-=ot}var kt=yt===void 0?null:{bitStringContents:yt};return asn1$6.create(et,tt,gt,ht,kt)}asn1$6.toDer=function(a){var e=forge$m.util.createBuffer(),o=a.tagClass|a.type,c=forge$m.util.createBuffer(),d=!1;if("bitStringContents"in a&&(d=!0,a.original&&(d=asn1$6.equals(a,a.original))),d)c.putBytes(a.bitStringContents);else if(a.composed){a.constructed?o|=32:c.putByte(0);for(var h=0;h<a.value.length;++h)a.value[h]!==void 0&&c.putBuffer(asn1$6.toDer(a.value[h]))}else if(a.type===asn1$6.Type.BMPSTRING)for(var h=0;h<a.value.length;++h)c.putInt16(a.value.charCodeAt(h));else a.type===asn1$6.Type.INTEGER&&a.value.length>1&&(a.value.charCodeAt(0)===0&&!(a.value.charCodeAt(1)&128)||a.value.charCodeAt(0)===255&&(a.value.charCodeAt(1)&128)===128)?c.putBytes(a.value.substr(1)):c.putBytes(a.value);if(e.putByte(o),c.length()<=127)e.putByte(c.length()&127);else{var et=c.length(),tt="";do tt+=String.fromCharCode(et&255),et=et>>>8;while(et>0);e.putByte(tt.length|128);for(var h=tt.length-1;h>=0;--h)e.putByte(tt.charCodeAt(h))}return e.putBuffer(c),e};asn1$6.oidToDer=function(a){var e=a.split("."),o=forge$m.util.createBuffer();o.putByte(40*parseInt(e[0],10)+parseInt(e[1],10));for(var c,d,h,et,tt=2;tt<e.length;++tt){c=!0,d=[],h=parseInt(e[tt],10);do et=h&127,h=h>>>7,c||(et|=128),d.push(et),c=!1;while(h>0);for(var ot=d.length-1;ot>=0;--ot)o.putByte(d[ot])}return o};asn1$6.derToOid=function(a){var e;typeof a=="string"&&(a=forge$m.util.createBuffer(a));var o=a.getByte();e=Math.floor(o/40)+"."+o%40;for(var c=0;a.length()>0;)o=a.getByte(),c=c<<7,o&128?c+=o&127:(e+="."+(c+o),c=0);return e};asn1$6.utcTimeToDate=function(a){var e=new Date,o=parseInt(a.substr(0,2),10);o=o>=50?1900+o:2e3+o;var c=parseInt(a.substr(2,2),10)-1,d=parseInt(a.substr(4,2),10),h=parseInt(a.substr(6,2),10),et=parseInt(a.substr(8,2),10),tt=0;if(a.length>11){var ot=a.charAt(10),ft=10;ot!=="+"&&ot!=="-"&&(tt=parseInt(a.substr(10,2),10),ft+=2)}if(e.setUTCFullYear(o,c,d),e.setUTCHours(h,et,tt,0),ft&&(ot=a.charAt(ft),ot==="+"||ot==="-")){var ht=parseInt(a.substr(ft+1,2),10),yt=parseInt(a.substr(ft+4,2),10),gt=ht*60+yt;gt*=6e4,ot==="+"?e.setTime(+e-gt):e.setTime(+e+gt)}return e};asn1$6.generalizedTimeToDate=function(a){var e=new Date,o=parseInt(a.substr(0,4),10),c=parseInt(a.substr(4,2),10)-1,d=parseInt(a.substr(6,2),10),h=parseInt(a.substr(8,2),10),et=parseInt(a.substr(10,2),10),tt=parseInt(a.substr(12,2),10),ot=0,ft=0,ht=!1;a.charAt(a.length-1)==="Z"&&(ht=!0);var yt=a.length-5,gt=a.charAt(yt);if(gt==="+"||gt==="-"){var wt=parseInt(a.substr(yt+1,2),10),bt=parseInt(a.substr(yt+4,2),10);ft=wt*60+bt,ft*=6e4,gt==="+"&&(ft*=-1),ht=!0}return a.charAt(14)==="."&&(ot=parseFloat(a.substr(14),10)*1e3),ht?(e.setUTCFullYear(o,c,d),e.setUTCHours(h,et,tt,ot),e.setTime(+e+ft)):(e.setFullYear(o,c,d),e.setHours(h,et,tt,ot)),e};asn1$6.dateToUtcTime=function(a){if(typeof a=="string")return a;var e="",o=[];o.push((""+a.getUTCFullYear()).substr(2)),o.push(""+(a.getUTCMonth()+1)),o.push(""+a.getUTCDate()),o.push(""+a.getUTCHours()),o.push(""+a.getUTCMinutes()),o.push(""+a.getUTCSeconds());for(var c=0;c<o.length;++c)o[c].length<2&&(e+="0"),e+=o[c];return e+="Z",e};asn1$6.dateToGeneralizedTime=function(a){if(typeof a=="string")return a;var e="",o=[];o.push(""+a.getUTCFullYear()),o.push(""+(a.getUTCMonth()+1)),o.push(""+a.getUTCDate()),o.push(""+a.getUTCHours()),o.push(""+a.getUTCMinutes()),o.push(""+a.getUTCSeconds());for(var c=0;c<o.length;++c)o[c].length<2&&(e+="0"),e+=o[c];return e+="Z",e};asn1$6.integerToDer=function(a){var e=forge$m.util.createBuffer();if(a>=-128&&a<128)return e.putSignedInt(a,8);if(a>=-32768&&a<32768)return e.putSignedInt(a,16);if(a>=-8388608&&a<8388608)return e.putSignedInt(a,24);if(a>=-2147483648&&a<2147483648)return e.putSignedInt(a,32);var o=new Error("Integer too large; max is 32-bits.");throw o.integer=a,o};asn1$6.derToInteger=function(a){typeof a=="string"&&(a=forge$m.util.createBuffer(a));var e=a.length()*8;if(e>32)throw new Error("Integer too large; max is 32-bits.");return a.getSignedInt(e)};asn1$6.validate=function(a,e,o,c){var d=!1;if((a.tagClass===e.tagClass||typeof e.tagClass>"u")&&(a.type===e.type||typeof e.type>"u"))if(a.constructed===e.constructed||typeof e.constructed>"u"){if(d=!0,e.value&&forge$m.util.isArray(e.value))for(var h=0,et=0;d&&et<e.value.length;++et)d=e.value[et].optional||!1,a.value[h]&&(d=asn1$6.validate(a.value[h],e.value[et],o,c),d?++h:e.value[et].optional&&(d=!0)),!d&&c&&c.push("["+e.name+'] Tag class "'+e.tagClass+'", type "'+e.type+'" expected value length "'+e.value.length+'", got "'+a.value.length+'"');if(d&&o&&(e.capture&&(o[e.capture]=a.value),e.captureAsn1&&(o[e.captureAsn1]=a),e.captureBitStringContents&&"bitStringContents"in a&&(o[e.captureBitStringContents]=a.bitStringContents),e.captureBitStringValue&&"bitStringContents"in a))if(a.bitStringContents.length<2)o[e.captureBitStringValue]="";else{var tt=a.bitStringContents.charCodeAt(0);if(tt!==0)throw new Error("captureBitStringValue only supported for zero unused bits");o[e.captureBitStringValue]=a.bitStringContents.slice(1)}}else c&&c.push("["+e.name+'] Expected constructed "'+e.constructed+'", got "'+a.constructed+'"');else c&&(a.tagClass!==e.tagClass&&c.push("["+e.name+'] Expected tag class "'+e.tagClass+'", got "'+a.tagClass+'"'),a.type!==e.type&&c.push("["+e.name+'] Expected type "'+e.type+'", got "'+a.type+'"'));return d};var _nonLatinRegex=/[^\\u0000-\\u00ff]/;asn1$6.prettyPrint=function(a,e,o){var c="";e=e||0,o=o||2,e>0&&(c+=`
`);for(var d="",h=0;h<e*o;++h)d+=" ";switch(c+=d+"Tag: ",a.tagClass){case asn1$6.Class.UNIVERSAL:c+="Universal:";break;case asn1$6.Class.APPLICATION:c+="Application:";break;case asn1$6.Class.CONTEXT_SPECIFIC:c+="Context-Specific:";break;case asn1$6.Class.PRIVATE:c+="Private:";break}if(a.tagClass===asn1$6.Class.UNIVERSAL)switch(c+=a.type,a.type){case asn1$6.Type.NONE:c+=" (None)";break;case asn1$6.Type.BOOLEAN:c+=" (Boolean)";break;case asn1$6.Type.INTEGER:c+=" (Integer)";break;case asn1$6.Type.BITSTRING:c+=" (Bit string)";break;case asn1$6.Type.OCTETSTRING:c+=" (Octet string)";break;case asn1$6.Type.NULL:c+=" (Null)";break;case asn1$6.Type.OID:c+=" (Object Identifier)";break;case asn1$6.Type.ODESC:c+=" (Object Descriptor)";break;case asn1$6.Type.EXTERNAL:c+=" (External or Instance of)";break;case asn1$6.Type.REAL:c+=" (Real)";break;case asn1$6.Type.ENUMERATED:c+=" (Enumerated)";break;case asn1$6.Type.EMBEDDED:c+=" (Embedded PDV)";break;case asn1$6.Type.UTF8:c+=" (UTF8)";break;case asn1$6.Type.ROID:c+=" (Relative Object Identifier)";break;case asn1$6.Type.SEQUENCE:c+=" (Sequence)";break;case asn1$6.Type.SET:c+=" (Set)";break;case asn1$6.Type.PRINTABLESTRING:c+=" (Printable String)";break;case asn1$6.Type.IA5String:c+=" (IA5String (ASCII))";break;case asn1$6.Type.UTCTIME:c+=" (UTC time)";break;case asn1$6.Type.GENERALIZEDTIME:c+=" (Generalized time)";break;case asn1$6.Type.BMPSTRING:c+=" (BMP String)";break}else c+=a.type;if(c+=`
`,c+=d+"Constructed: "+a.constructed+`
`,a.composed){for(var et=0,tt="",h=0;h<a.value.length;++h)a.value[h]!==void 0&&(et+=1,tt+=asn1$6.prettyPrint(a.value[h],e+1,o),h+1<a.value.length&&(tt+=","));c+=d+"Sub values: "+et+tt}else{if(c+=d+"Value: ",a.type===asn1$6.Type.OID){var ot=asn1$6.derToOid(a.value);c+=ot,forge$m.pki&&forge$m.pki.oids&&ot in forge$m.pki.oids&&(c+=" ("+forge$m.pki.oids[ot]+") ")}if(a.type===asn1$6.Type.INTEGER)try{c+=asn1$6.derToInteger(a.value)}catch{c+="0x"+forge$m.util.bytesToHex(a.value)}else if(a.type===asn1$6.Type.BITSTRING){if(a.value.length>1?c+="0x"+forge$m.util.bytesToHex(a.value.slice(1)):c+="(none)",a.value.length>0){var ft=a.value.charCodeAt(0);ft==1?c+=" (1 unused bit shown)":ft>1&&(c+=" ("+ft+" unused bits shown)")}}else if(a.type===asn1$6.Type.OCTETSTRING)_nonLatinRegex.test(a.value)||(c+="("+a.value+") "),c+="0x"+forge$m.util.bytesToHex(a.value);else if(a.type===asn1$6.Type.UTF8)try{c+=forge$m.util.decodeUtf8(a.value)}catch(ht){if(ht.message==="URI malformed")c+="0x"+forge$m.util.bytesToHex(a.value)+" (malformed UTF8)";else throw ht}else a.type===asn1$6.Type.PRINTABLESTRING||a.type===asn1$6.Type.IA5String?c+=a.value:_nonLatinRegex.test(a.value)?c+="0x"+forge$m.util.bytesToHex(a.value):a.value.length===0?c+="[null]":c+=a.value}return c};var forge$l=forge$s;forge$l.des=forge$l.des||{};forge$l.des.startEncrypting=function(a,e,o,c){var d=_createCipher({key:a,output:o,decrypt:!1,mode:c||(e===null?"ECB":"CBC")});return d.start(e),d};forge$l.des.createEncryptionCipher=function(a,e){return _createCipher({key:a,output:null,decrypt:!1,mode:e})};forge$l.des.startDecrypting=function(a,e,o,c){var d=_createCipher({key:a,output:o,decrypt:!0,mode:c||(e===null?"ECB":"CBC")});return d.start(e),d};forge$l.des.createDecryptionCipher=function(a,e){return _createCipher({key:a,output:null,decrypt:!0,mode:e})};forge$l.des.Algorithm=function(a,e){var o=this;o.name=a,o.mode=new e({blockSize:8,cipher:{encrypt:function(c,d){return _updateBlock(o._keys,c,d,!1)},decrypt:function(c,d){return _updateBlock(o._keys,c,d,!0)}}}),o._init=!1};forge$l.des.Algorithm.prototype.initialize=function(a){if(!this._init){var e=forge$l.util.createBuffer(a.key);if(this.name.indexOf("3DES")===0&&e.length()!==24)throw new Error("Invalid Triple-DES key size: "+e.length()*8);this._keys=_createKeys(e),this._init=!0}};registerAlgorithm("DES-ECB",forge$l.cipher.modes.ecb);registerAlgorithm("DES-CBC",forge$l.cipher.modes.cbc);registerAlgorithm("DES-CFB",forge$l.cipher.modes.cfb);registerAlgorithm("DES-OFB",forge$l.cipher.modes.ofb);registerAlgorithm("DES-CTR",forge$l.cipher.modes.ctr);registerAlgorithm("3DES-ECB",forge$l.cipher.modes.ecb);registerAlgorithm("3DES-CBC",forge$l.cipher.modes.cbc);registerAlgorithm("3DES-CFB",forge$l.cipher.modes.cfb);registerAlgorithm("3DES-OFB",forge$l.cipher.modes.ofb);registerAlgorithm("3DES-CTR",forge$l.cipher.modes.ctr);function registerAlgorithm(a,e){var o=function(){return new forge$l.des.Algorithm(a,e)};forge$l.cipher.registerAlgorithm(a,o)}var spfunction1=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],spfunction2=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],spfunction3=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],spfunction4=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],spfunction5=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],spfunction6=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],spfunction7=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],spfunction8=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function _createKeys(a){for(var e=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],o=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],c=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],d=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],h=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],et=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],tt=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],ot=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],ft=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],ht=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],yt=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],gt=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],wt=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],bt=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],xt=a.length()>8?3:1,Et=[],vt=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],$t=0,At,kt=0;kt<xt;kt++){var It=a.getInt32(),Dt=a.getInt32();At=(It>>>4^Dt)&252645135,Dt^=At,It^=At<<4,At=(Dt>>>-16^It)&65535,It^=At,Dt^=At<<-16,At=(It>>>2^Dt)&858993459,Dt^=At,It^=At<<2,At=(Dt>>>-16^It)&65535,It^=At,Dt^=At<<-16,At=(It>>>1^Dt)&1431655765,Dt^=At,It^=At<<1,At=(Dt>>>8^It)&16711935,It^=At,Dt^=At<<8,At=(It>>>1^Dt)&1431655765,Dt^=At,It^=At<<1,At=It<<8|Dt>>>20&240,It=Dt<<24|Dt<<8&16711680|Dt>>>8&65280|Dt>>>24&240,Dt=At;for(var Mt=0;Mt<vt.length;++Mt){vt[Mt]?(It=It<<2|It>>>26,Dt=Dt<<2|Dt>>>26):(It=It<<1|It>>>27,Dt=Dt<<1|Dt>>>27),It&=-15,Dt&=-15;var zt=e[It>>>28]|o[It>>>24&15]|c[It>>>20&15]|d[It>>>16&15]|h[It>>>12&15]|et[It>>>8&15]|tt[It>>>4&15],Kt=ot[Dt>>>28]|ft[Dt>>>24&15]|ht[Dt>>>20&15]|yt[Dt>>>16&15]|gt[Dt>>>12&15]|wt[Dt>>>8&15]|bt[Dt>>>4&15];At=(Kt>>>16^zt)&65535,Et[$t++]=zt^At,Et[$t++]=Kt^At<<16}}return Et}function _updateBlock(a,e,o,c){var d=a.length===32?3:9,h;d===3?h=c?[30,-2,-2]:[0,32,2]:h=c?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var et,tt=e[0],ot=e[1];et=(tt>>>4^ot)&252645135,ot^=et,tt^=et<<4,et=(tt>>>16^ot)&65535,ot^=et,tt^=et<<16,et=(ot>>>2^tt)&858993459,tt^=et,ot^=et<<2,et=(ot>>>8^tt)&16711935,tt^=et,ot^=et<<8,et=(tt>>>1^ot)&1431655765,ot^=et,tt^=et<<1,tt=tt<<1|tt>>>31,ot=ot<<1|ot>>>31;for(var ft=0;ft<d;ft+=3){for(var ht=h[ft+1],yt=h[ft+2],gt=h[ft];gt!=ht;gt+=yt){var wt=ot^a[gt],bt=(ot>>>4|ot<<28)^a[gt+1];et=tt,tt=ot,ot=et^(spfunction2[wt>>>24&63]|spfunction4[wt>>>16&63]|spfunction6[wt>>>8&63]|spfunction8[wt&63]|spfunction1[bt>>>24&63]|spfunction3[bt>>>16&63]|spfunction5[bt>>>8&63]|spfunction7[bt&63])}et=tt,tt=ot,ot=et}tt=tt>>>1|tt<<31,ot=ot>>>1|ot<<31,et=(tt>>>1^ot)&1431655765,ot^=et,tt^=et<<1,et=(ot>>>8^tt)&16711935,tt^=et,ot^=et<<8,et=(ot>>>2^tt)&858993459,tt^=et,ot^=et<<2,et=(tt>>>16^ot)&65535,ot^=et,tt^=et<<16,et=(tt>>>4^ot)&252645135,ot^=et,tt^=et<<4,o[0]=tt,o[1]=ot}function _createCipher(a){a=a||{};var e=(a.mode||"CBC").toUpperCase(),o="DES-"+e,c;a.decrypt?c=forge$l.cipher.createDecipher(o,a.key):c=forge$l.cipher.createCipher(o,a.key);var d=c.start;return c.start=function(h,et){var tt=null;et instanceof forge$l.util.ByteBuffer&&(tt=et,et={}),et=et||{},et.output=tt,et.iv=h,d.call(c,et)},c}var forge$k=forge$s;forge$k.md=forge$k.md||{};forge$k.md.algorithms=forge$k.md.algorithms||{};var forge$j=forge$s,hmac=forge$j.hmac=forge$j.hmac||{};hmac.create=function(){var a=null,e=null,o=null,c=null,d={};return d.start=function(h,et){if(h!==null)if(typeof h=="string")if(h=h.toLowerCase(),h in forge$j.md.algorithms)e=forge$j.md.algorithms[h].create();else throw new Error('Unknown hash algorithm "'+h+'"');else e=h;if(et===null)et=a;else{if(typeof et=="string")et=forge$j.util.createBuffer(et);else if(forge$j.util.isArray(et)){var tt=et;et=forge$j.util.createBuffer();for(var ot=0;ot<tt.length;++ot)et.putByte(tt[ot])}var ft=et.length();ft>e.blockLength&&(e.start(),e.update(et.bytes()),et=e.digest()),o=forge$j.util.createBuffer(),c=forge$j.util.createBuffer(),ft=et.length();for(var ot=0;ot<ft;++ot){var tt=et.at(ot);o.putByte(54^tt),c.putByte(92^tt)}if(ft<e.blockLength)for(var tt=e.blockLength-ft,ot=0;ot<tt;++ot)o.putByte(54),c.putByte(92);a=et,o=o.bytes(),c=c.bytes()}e.start(),e.update(o)},d.update=function(h){e.update(h)},d.getMac=function(){var h=e.digest().bytes();return e.start(),e.update(c),e.update(h),e.digest()},d.digest=d.getMac,d};var forge$i=forge$s,pkcs5=forge$i.pkcs5=forge$i.pkcs5||{},crypto$2;forge$i.util.isNodejs&&!forge$i.options.usePureJavaScript&&(crypto$2=require$$8);forge$i.pbkdf2=pkcs5.pbkdf2=function(a,e,o,c,d,h){if(typeof d=="function"&&(h=d,d=null),forge$i.util.isNodejs&&!forge$i.options.usePureJavaScript&&crypto$2.pbkdf2&&(d===null||typeof d!="object")&&(crypto$2.pbkdf2Sync.length>4||!d||d==="sha1"))return typeof d!="string"&&(d="sha1"),a=Buffer.from(a,"binary"),e=Buffer.from(e,"binary"),h?crypto$2.pbkdf2Sync.length===4?crypto$2.pbkdf2(a,e,o,c,function(At,kt){if(At)return h(At);h(null,kt.toString("binary"))}):crypto$2.pbkdf2(a,e,o,c,d,function(At,kt){if(At)return h(At);h(null,kt.toString("binary"))}):crypto$2.pbkdf2Sync.length===4?crypto$2.pbkdf2Sync(a,e,o,c).toString("binary"):crypto$2.pbkdf2Sync(a,e,o,c,d).toString("binary");if((typeof d>"u"||d===null)&&(d="sha1"),typeof d=="string"){if(!(d in forge$i.md.algorithms))throw new Error("Unknown hash algorithm: "+d);d=forge$i.md[d].create()}var et=d.digestLength;if(c>4294967295*et){var tt=new Error("Derived key is too long.");if(h)return h(tt);throw tt}var ot=Math.ceil(c/et),ft=c-(ot-1)*et,ht=forge$i.hmac.create();ht.start(d,a);var yt="",gt,wt,bt;if(!h){for(var xt=1;xt<=ot;++xt){ht.start(null,null),ht.update(e),ht.update(forge$i.util.int32ToBytes(xt)),gt=bt=ht.digest().getBytes();for(var Et=2;Et<=o;++Et)ht.start(null,null),ht.update(bt),wt=ht.digest().getBytes(),gt=forge$i.util.xorBytes(gt,wt,et),bt=wt;yt+=xt<ot?gt:gt.substr(0,ft)}return yt}var xt=1,Et;function vt(){if(xt>ot)return h(null,yt);ht.start(null,null),ht.update(e),ht.update(forge$i.util.int32ToBytes(xt)),gt=bt=ht.digest().getBytes(),Et=2,$t()}function $t(){if(Et<=o)return ht.start(null,null),ht.update(bt),wt=ht.digest().getBytes(),gt=forge$i.util.xorBytes(gt,wt,et),bt=wt,++Et,forge$i.util.setImmediate($t);yt+=xt<ot?gt:gt.substr(0,ft),++xt,vt()}vt()};var forge$h=forge$s,pem=forge$h.pem=forge$h.pem||{};pem.encode=function(a,e){e=e||{};var o="-----BEGIN "+a.type+`-----\r
`,c;if(a.procType&&(c={name:"Proc-Type",values:[String(a.procType.version),a.procType.type]},o+=foldHeader(c)),a.contentDomain&&(c={name:"Content-Domain",values:[a.contentDomain]},o+=foldHeader(c)),a.dekInfo&&(c={name:"DEK-Info",values:[a.dekInfo.algorithm]},a.dekInfo.parameters&&c.values.push(a.dekInfo.parameters),o+=foldHeader(c)),a.headers)for(var d=0;d<a.headers.length;++d)o+=foldHeader(a.headers[d]);return a.procType&&(o+=`\r
`),o+=forge$h.util.encode64(a.body,e.maxline||64)+`\r
`,o+="-----END "+a.type+`-----\r
`,o};pem.decode=function(a){for(var e=[],o=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,c=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,d=/\r?\n/,h;h=o.exec(a),!!h;){var et=h[1];et==="NEW CERTIFICATE REQUEST"&&(et="CERTIFICATE REQUEST");var tt={type:et,procType:null,contentDomain:null,dekInfo:null,headers:[],body:forge$h.util.decode64(h[3])};if(e.push(tt),!!h[2]){for(var ot=h[2].split(d),ft=0;h&&ft<ot.length;){for(var ht=ot[ft].replace(/\s+$/,""),yt=ft+1;yt<ot.length;++yt){var gt=ot[yt];if(!/\s/.test(gt[0]))break;ht+=gt,ft=yt}if(h=ht.match(c),h){for(var wt={name:h[1],values:[]},bt=h[2].split(","),xt=0;xt<bt.length;++xt)wt.values.push(ltrim(bt[xt]));if(tt.procType)if(!tt.contentDomain&&wt.name==="Content-Domain")tt.contentDomain=bt[0]||"";else if(!tt.dekInfo&&wt.name==="DEK-Info"){if(wt.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');tt.dekInfo={algorithm:bt[0],parameters:bt[1]||null}}else tt.headers.push(wt);else{if(wt.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(wt.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');tt.procType={version:bt[0],type:bt[1]}}}++ft}if(tt.procType==="ENCRYPTED"&&!tt.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(e.length===0)throw new Error("Invalid PEM formatted message.");return e};function foldHeader(a){for(var e=a.name+": ",o=[],c=function(ot,ft){return" "+ft},d=0;d<a.values.length;++d)o.push(a.values[d].replace(/^(\S+\r\n)/,c));e+=o.join(",")+`\r
`;for(var h=0,et=-1,d=0;d<e.length;++d,++h)if(h>65&&et!==-1){var tt=e[et];tt===","?(++et,e=e.substr(0,et)+`\r
 `+e.substr(et)):e=e.substr(0,et)+`\r
`+tt+e.substr(et+1),h=d-et-1,et=-1,++d}else(e[d]===" "||e[d]==="	"||e[d]===",")&&(et=d);return e}function ltrim(a){return a.replace(/^\s+/,"")}var forge$g=forge$s,sha256$2=forge$g.sha256=forge$g.sha256||{};forge$g.md.sha256=forge$g.md.algorithms.sha256=sha256$2;sha256$2.create=function(){_initialized$1||_init$1();var a=null,e=forge$g.util.createBuffer(),o=new Array(64),c={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return c.start=function(){c.messageLength=0,c.fullMessageLength=c.messageLength64=[];for(var d=c.messageLengthSize/4,h=0;h<d;++h)c.fullMessageLength.push(0);return e=forge$g.util.createBuffer(),a={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},c},c.start(),c.update=function(d,h){h==="utf8"&&(d=forge$g.util.encodeUtf8(d));var et=d.length;c.messageLength+=et,et=[et/4294967296>>>0,et>>>0];for(var tt=c.fullMessageLength.length-1;tt>=0;--tt)c.fullMessageLength[tt]+=et[1],et[1]=et[0]+(c.fullMessageLength[tt]/4294967296>>>0),c.fullMessageLength[tt]=c.fullMessageLength[tt]>>>0,et[0]=et[1]/4294967296>>>0;return e.putBytes(d),_update$1(a,o,e),(e.read>2048||e.length()===0)&&e.compact(),c},c.digest=function(){var d=forge$g.util.createBuffer();d.putBytes(e.bytes());var h=c.fullMessageLength[c.fullMessageLength.length-1]+c.messageLengthSize,et=h&c.blockLength-1;d.putBytes(_padding$1.substr(0,c.blockLength-et));for(var tt,ot,ft=c.fullMessageLength[0]*8,ht=0;ht<c.fullMessageLength.length-1;++ht)tt=c.fullMessageLength[ht+1]*8,ot=tt/4294967296>>>0,ft+=ot,d.putInt32(ft>>>0),ft=tt>>>0;d.putInt32(ft);var yt={h0:a.h0,h1:a.h1,h2:a.h2,h3:a.h3,h4:a.h4,h5:a.h5,h6:a.h6,h7:a.h7};_update$1(yt,o,d);var gt=forge$g.util.createBuffer();return gt.putInt32(yt.h0),gt.putInt32(yt.h1),gt.putInt32(yt.h2),gt.putInt32(yt.h3),gt.putInt32(yt.h4),gt.putInt32(yt.h5),gt.putInt32(yt.h6),gt.putInt32(yt.h7),gt},c};var _padding$1=null,_initialized$1=!1,_k=null;function _init$1(){_padding$1="",_padding$1+=forge$g.util.fillString("\0",64),_k=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],_initialized$1=!0}function _update$1(a,e,o){for(var c,d,h,et,tt,ot,ft,ht,yt,gt,wt,bt,xt,Et,vt,$t=o.length();$t>=64;){for(ft=0;ft<16;++ft)e[ft]=o.getInt32();for(;ft<64;++ft)c=e[ft-2],c=(c>>>17|c<<15)^(c>>>19|c<<13)^c>>>10,d=e[ft-15],d=(d>>>7|d<<25)^(d>>>18|d<<14)^d>>>3,e[ft]=c+e[ft-7]+d+e[ft-16]|0;for(ht=a.h0,yt=a.h1,gt=a.h2,wt=a.h3,bt=a.h4,xt=a.h5,Et=a.h6,vt=a.h7,ft=0;ft<64;++ft)et=(bt>>>6|bt<<26)^(bt>>>11|bt<<21)^(bt>>>25|bt<<7),tt=Et^bt&(xt^Et),h=(ht>>>2|ht<<30)^(ht>>>13|ht<<19)^(ht>>>22|ht<<10),ot=ht&yt|gt&(ht^yt),c=vt+et+tt+_k[ft]+e[ft],d=h+ot,vt=Et,Et=xt,xt=bt,bt=wt+c>>>0,wt=gt,gt=yt,yt=ht,ht=c+d>>>0;a.h0=a.h0+ht|0,a.h1=a.h1+yt|0,a.h2=a.h2+gt|0,a.h3=a.h3+wt|0,a.h4=a.h4+bt|0,a.h5=a.h5+xt|0,a.h6=a.h6+Et|0,a.h7=a.h7+vt|0,$t-=64}}var forge$f=forge$s,_crypto$1=null;forge$f.util.isNodejs&&!forge$f.options.usePureJavaScript&&!process.versions["node-webkit"]&&(_crypto$1=require$$8);var prng=forge$f.prng=forge$f.prng||{};prng.create=function(a){for(var e={plugin:a,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},o=a.md,c=new Array(32),d=0;d<32;++d)c[d]=o.create();e.pools=c,e.pool=0,e.generate=function(ft,ht){if(!ht)return e.generateSync(ft);var yt=e.plugin.cipher,gt=e.plugin.increment,wt=e.plugin.formatKey,bt=e.plugin.formatSeed,xt=forge$f.util.createBuffer();e.key=null,Et();function Et(vt){if(vt)return ht(vt);if(xt.length()>=ft)return ht(null,xt.getBytes(ft));if(e.generated>1048575&&(e.key=null),e.key===null)return forge$f.util.nextTick(function(){h(Et)});var $t=yt(e.key,e.seed);e.generated+=$t.length,xt.putBytes($t),e.key=wt(yt(e.key,gt(e.seed))),e.seed=bt(yt(e.key,e.seed)),forge$f.util.setImmediate(Et)}},e.generateSync=function(ft){var ht=e.plugin.cipher,yt=e.plugin.increment,gt=e.plugin.formatKey,wt=e.plugin.formatSeed;e.key=null;for(var bt=forge$f.util.createBuffer();bt.length()<ft;){e.generated>1048575&&(e.key=null),e.key===null&&et();var xt=ht(e.key,e.seed);e.generated+=xt.length,bt.putBytes(xt),e.key=gt(ht(e.key,yt(e.seed))),e.seed=wt(ht(e.key,e.seed))}return bt.getBytes(ft)};function h(ft){if(e.pools[0].messageLength>=32)return tt(),ft();var ht=32-e.pools[0].messageLength<<5;e.seedFile(ht,function(yt,gt){if(yt)return ft(yt);e.collect(gt),tt(),ft()})}function et(){if(e.pools[0].messageLength>=32)return tt();var ft=32-e.pools[0].messageLength<<5;e.collect(e.seedFileSync(ft)),tt()}function tt(){e.reseeds=e.reseeds===4294967295?0:e.reseeds+1;var ft=e.plugin.md.create();ft.update(e.keyBytes);for(var ht=1,yt=0;yt<32;++yt)e.reseeds%ht===0&&(ft.update(e.pools[yt].digest().getBytes()),e.pools[yt].start()),ht=ht<<1;e.keyBytes=ft.digest().getBytes(),ft.start(),ft.update(e.keyBytes);var gt=ft.digest().getBytes();e.key=e.plugin.formatKey(e.keyBytes),e.seed=e.plugin.formatSeed(gt),e.generated=0}function ot(ft){var ht=null,yt=forge$f.util.globalScope,gt=yt.crypto||yt.msCrypto;gt&&gt.getRandomValues&&(ht=function(It){return gt.getRandomValues(It)});var wt=forge$f.util.createBuffer();if(ht)for(;wt.length()<ft;){var bt=Math.max(1,Math.min(ft-wt.length(),65536)/4),xt=new Uint32Array(Math.floor(bt));try{ht(xt);for(var Et=0;Et<xt.length;++Et)wt.putInt32(xt[Et])}catch(It){if(!(typeof QuotaExceededError<"u"&&It instanceof QuotaExceededError))throw It}}if(wt.length()<ft)for(var vt,$t,At,kt=Math.floor(Math.random()*65536);wt.length()<ft;){$t=16807*(kt&65535),vt=16807*(kt>>16),$t+=(vt&32767)<<16,$t+=vt>>15,$t=($t&2147483647)+($t>>31),kt=$t&4294967295;for(var Et=0;Et<3;++Et)At=kt>>>(Et<<3),At^=Math.floor(Math.random()*256),wt.putByte(At&255)}return wt.getBytes(ft)}return _crypto$1?(e.seedFile=function(ft,ht){_crypto$1.randomBytes(ft,function(yt,gt){if(yt)return ht(yt);ht(null,gt.toString())})},e.seedFileSync=function(ft){return _crypto$1.randomBytes(ft).toString()}):(e.seedFile=function(ft,ht){try{ht(null,ot(ft))}catch(yt){ht(yt)}},e.seedFileSync=ot),e.collect=function(ft){for(var ht=ft.length,yt=0;yt<ht;++yt)e.pools[e.pool].update(ft.substr(yt,1)),e.pool=e.pool===31?0:e.pool+1},e.collectInt=function(ft,ht){for(var yt="",gt=0;gt<ht;gt+=8)yt+=String.fromCharCode(ft>>gt&255);e.collect(yt)},e.registerWorker=function(ft){if(ft===self)e.seedFile=function(yt,gt){function wt(bt){var xt=bt.data;xt.forge&&xt.forge.prng&&(self.removeEventListener("message",wt),gt(xt.forge.prng.err,xt.forge.prng.bytes))}self.addEventListener("message",wt),self.postMessage({forge:{prng:{needed:yt}}})};else{var ht=function(yt){var gt=yt.data;gt.forge&&gt.forge.prng&&e.seedFile(gt.forge.prng.needed,function(wt,bt){ft.postMessage({forge:{prng:{err:wt,bytes:bt}}})})};ft.addEventListener("message",ht)}},e};var forge$e=forge$s;(function(){if(forge$e.random&&forge$e.random.getBytes){forge$e.random;return}(function(a){var e={},o=new Array(4),c=forge$e.util.createBuffer();e.formatKey=function(yt){var gt=forge$e.util.createBuffer(yt);return yt=new Array(4),yt[0]=gt.getInt32(),yt[1]=gt.getInt32(),yt[2]=gt.getInt32(),yt[3]=gt.getInt32(),forge$e.aes._expandKey(yt,!1)},e.formatSeed=function(yt){var gt=forge$e.util.createBuffer(yt);return yt=new Array(4),yt[0]=gt.getInt32(),yt[1]=gt.getInt32(),yt[2]=gt.getInt32(),yt[3]=gt.getInt32(),yt},e.cipher=function(yt,gt){return forge$e.aes._updateBlock(yt,gt,o,!1),c.putInt32(o[0]),c.putInt32(o[1]),c.putInt32(o[2]),c.putInt32(o[3]),c.getBytes()},e.increment=function(yt){return++yt[3],yt},e.md=forge$e.md.sha256;function d(){var yt=forge$e.prng.create(e);return yt.getBytes=function(gt,wt){return yt.generate(gt,wt)},yt.getBytesSync=function(gt){return yt.generate(gt)},yt}var h=d(),et=null,tt=forge$e.util.globalScope,ot=tt.crypto||tt.msCrypto;if(ot&&ot.getRandomValues&&(et=function(yt){return ot.getRandomValues(yt)}),forge$e.options.usePureJavaScript||!forge$e.util.isNodejs&&!et){if(h.collectInt(+new Date,32),typeof navigator<"u"){var ft="";for(var ht in navigator)try{typeof navigator[ht]=="string"&&(ft+=navigator[ht])}catch{}h.collect(ft),ft=null}a&&(a().mousemove(function(yt){h.collectInt(yt.clientX,16),h.collectInt(yt.clientY,16)}),a().keypress(function(yt){h.collectInt(yt.charCode,8)}))}if(!forge$e.random)forge$e.random=h;else for(var ht in h)forge$e.random[ht]=h[ht];forge$e.random.createInstance=d,forge$e.random})(typeof jQuery<"u"?jQuery:null)})();var forge$d=forge$s,piTable=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],s=[1,2,3,5],rol=function(a,e){return a<<e&65535|(a&65535)>>16-e},ror=function(a,e){return(a&65535)>>e|a<<16-e&65535};forge$d.rc2=forge$d.rc2||{};forge$d.rc2.expandKey=function(a,e){typeof a=="string"&&(a=forge$d.util.createBuffer(a)),e=e||128;var o=a,c=a.length(),d=e,h=Math.ceil(d/8),et=255>>(d&7),tt;for(tt=c;tt<128;tt++)o.putByte(piTable[o.at(tt-1)+o.at(tt-c)&255]);for(o.setAt(128-h,piTable[o.at(128-h)&et]),tt=127-h;tt>=0;tt--)o.setAt(tt,piTable[o.at(tt+1)^o.at(tt+h)]);return o};var createCipher=function(a,e,o){var c=!1,d=null,h=null,et=null,tt,ot,ft,ht,yt=[];for(a=forge$d.rc2.expandKey(a,e),ft=0;ft<64;ft++)yt.push(a.getInt16Le());o?(tt=function(bt){for(ft=0;ft<4;ft++)bt[ft]+=yt[ht]+(bt[(ft+3)%4]&bt[(ft+2)%4])+(~bt[(ft+3)%4]&bt[(ft+1)%4]),bt[ft]=rol(bt[ft],s[ft]),ht++},ot=function(bt){for(ft=0;ft<4;ft++)bt[ft]+=yt[bt[(ft+3)%4]&63]}):(tt=function(bt){for(ft=3;ft>=0;ft--)bt[ft]=ror(bt[ft],s[ft]),bt[ft]-=yt[ht]+(bt[(ft+3)%4]&bt[(ft+2)%4])+(~bt[(ft+3)%4]&bt[(ft+1)%4]),ht--},ot=function(bt){for(ft=3;ft>=0;ft--)bt[ft]-=yt[bt[(ft+3)%4]&63]});var gt=function(bt){var xt=[];for(ft=0;ft<4;ft++){var Et=d.getInt16Le();et!==null&&(o?Et^=et.getInt16Le():et.putInt16Le(Et)),xt.push(Et&65535)}ht=o?0:63;for(var vt=0;vt<bt.length;vt++)for(var $t=0;$t<bt[vt][0];$t++)bt[vt][1](xt);for(ft=0;ft<4;ft++)et!==null&&(o?et.putInt16Le(xt[ft]):xt[ft]^=et.getInt16Le()),h.putInt16Le(xt[ft])},wt=null;return wt={start:function(bt,xt){bt&&typeof bt=="string"&&(bt=forge$d.util.createBuffer(bt)),c=!1,d=forge$d.util.createBuffer(),h=xt||new forge$d.util.createBuffer,et=bt,wt.output=h},update:function(bt){for(c||d.putBuffer(bt);d.length()>=8;)gt([[5,tt],[1,ot],[6,tt],[1,ot],[5,tt]])},finish:function(bt){var xt=!0;if(o)if(bt)xt=bt(8,d,!o);else{var Et=d.length()===8?8:8-d.length();d.fillWithByte(Et,Et)}if(xt&&(c=!0,wt.update()),!o&&(xt=d.length()===0,xt))if(bt)xt=bt(8,h,!o);else{var vt=h.length(),$t=h.at(vt-1);$t>vt?xt=!1:h.truncate($t)}return xt}},wt};forge$d.rc2.startEncrypting=function(a,e,o){var c=forge$d.rc2.createEncryptionCipher(a,128);return c.start(e,o),c};forge$d.rc2.createEncryptionCipher=function(a,e){return createCipher(a,e,!0)};forge$d.rc2.startDecrypting=function(a,e,o){var c=forge$d.rc2.createDecryptionCipher(a,128);return c.start(e,o),c};forge$d.rc2.createDecryptionCipher=function(a,e){return createCipher(a,e,!1)};var forge$c=forge$s;forge$c.jsbn=forge$c.jsbn||{};var dbits;function BigInteger$2(a,e,o){this.data=[],a!=null&&(typeof a=="number"?this.fromNumber(a,e,o):e==null&&typeof a!="string"?this.fromString(a,256):this.fromString(a,e))}forge$c.jsbn.BigInteger=BigInteger$2;function nbi(){return new BigInteger$2(null)}function am1(a,e,o,c,d,h){for(;--h>=0;){var et=e*this.data[a++]+o.data[c]+d;d=Math.floor(et/67108864),o.data[c++]=et&67108863}return d}function am2(a,e,o,c,d,h){for(var et=e&32767,tt=e>>15;--h>=0;){var ot=this.data[a]&32767,ft=this.data[a++]>>15,ht=tt*ot+ft*et;ot=et*ot+((ht&32767)<<15)+o.data[c]+(d&1073741823),d=(ot>>>30)+(ht>>>15)+tt*ft+(d>>>30),o.data[c++]=ot&1073741823}return d}function am3(a,e,o,c,d,h){for(var et=e&16383,tt=e>>14;--h>=0;){var ot=this.data[a]&16383,ft=this.data[a++]>>14,ht=tt*ot+ft*et;ot=et*ot+((ht&16383)<<14)+o.data[c]+d,d=(ot>>28)+(ht>>14)+tt*ft,o.data[c++]=ot&268435455}return d}typeof navigator>"u"?(BigInteger$2.prototype.am=am3,dbits=28):navigator.appName=="Microsoft Internet Explorer"?(BigInteger$2.prototype.am=am2,dbits=30):navigator.appName!="Netscape"?(BigInteger$2.prototype.am=am1,dbits=26):(BigInteger$2.prototype.am=am3,dbits=28);BigInteger$2.prototype.DB=dbits;BigInteger$2.prototype.DM=(1<<dbits)-1;BigInteger$2.prototype.DV=1<<dbits;var BI_FP=52;BigInteger$2.prototype.FV=Math.pow(2,BI_FP);BigInteger$2.prototype.F1=BI_FP-dbits;BigInteger$2.prototype.F2=2*dbits-BI_FP;var BI_RM="0123456789abcdefghijklmnopqrstuvwxyz",BI_RC=new Array,rr,vv;rr=48;for(vv=0;vv<=9;++vv)BI_RC[rr++]=vv;rr=97;for(vv=10;vv<36;++vv)BI_RC[rr++]=vv;rr=65;for(vv=10;vv<36;++vv)BI_RC[rr++]=vv;function int2char(a){return BI_RM.charAt(a)}function intAt(a,e){var o=BI_RC[a.charCodeAt(e)];return o??-1}function bnpCopyTo(a){for(var e=this.t-1;e>=0;--e)a.data[e]=this.data[e];a.t=this.t,a.s=this.s}function bnpFromInt(a){this.t=1,this.s=a<0?-1:0,a>0?this.data[0]=a:a<-1?this.data[0]=a+this.DV:this.t=0}function nbv(a){var e=nbi();return e.fromInt(a),e}function bnpFromString(a,e){var o;if(e==16)o=4;else if(e==8)o=3;else if(e==256)o=8;else if(e==2)o=1;else if(e==32)o=5;else if(e==4)o=2;else{this.fromRadix(a,e);return}this.t=0,this.s=0;for(var c=a.length,d=!1,h=0;--c>=0;){var et=o==8?a[c]&255:intAt(a,c);if(et<0){a.charAt(c)=="-"&&(d=!0);continue}d=!1,h==0?this.data[this.t++]=et:h+o>this.DB?(this.data[this.t-1]|=(et&(1<<this.DB-h)-1)<<h,this.data[this.t++]=et>>this.DB-h):this.data[this.t-1]|=et<<h,h+=o,h>=this.DB&&(h-=this.DB)}o==8&&a[0]&128&&(this.s=-1,h>0&&(this.data[this.t-1]|=(1<<this.DB-h)-1<<h)),this.clamp(),d&&BigInteger$2.ZERO.subTo(this,this)}function bnpClamp(){for(var a=this.s&this.DM;this.t>0&&this.data[this.t-1]==a;)--this.t}function bnToString(a){if(this.s<0)return"-"+this.negate().toString(a);var e;if(a==16)e=4;else if(a==8)e=3;else if(a==2)e=1;else if(a==32)e=5;else if(a==4)e=2;else return this.toRadix(a);var o=(1<<e)-1,c,d=!1,h="",et=this.t,tt=this.DB-et*this.DB%e;if(et-- >0)for(tt<this.DB&&(c=this.data[et]>>tt)>0&&(d=!0,h=int2char(c));et>=0;)tt<e?(c=(this.data[et]&(1<<tt)-1)<<e-tt,c|=this.data[--et]>>(tt+=this.DB-e)):(c=this.data[et]>>(tt-=e)&o,tt<=0&&(tt+=this.DB,--et)),c>0&&(d=!0),d&&(h+=int2char(c));return d?h:"0"}function bnNegate(){var a=nbi();return BigInteger$2.ZERO.subTo(this,a),a}function bnAbs(){return this.s<0?this.negate():this}function bnCompareTo(a){var e=this.s-a.s;if(e!=0)return e;var o=this.t;if(e=o-a.t,e!=0)return this.s<0?-e:e;for(;--o>=0;)if((e=this.data[o]-a.data[o])!=0)return e;return 0}function nbits(a){var e=1,o;return(o=a>>>16)!=0&&(a=o,e+=16),(o=a>>8)!=0&&(a=o,e+=8),(o=a>>4)!=0&&(a=o,e+=4),(o=a>>2)!=0&&(a=o,e+=2),(o=a>>1)!=0&&(a=o,e+=1),e}function bnBitLength(){return this.t<=0?0:this.DB*(this.t-1)+nbits(this.data[this.t-1]^this.s&this.DM)}function bnpDLShiftTo(a,e){var o;for(o=this.t-1;o>=0;--o)e.data[o+a]=this.data[o];for(o=a-1;o>=0;--o)e.data[o]=0;e.t=this.t+a,e.s=this.s}function bnpDRShiftTo(a,e){for(var o=a;o<this.t;++o)e.data[o-a]=this.data[o];e.t=Math.max(this.t-a,0),e.s=this.s}function bnpLShiftTo(a,e){var o=a%this.DB,c=this.DB-o,d=(1<<c)-1,h=Math.floor(a/this.DB),et=this.s<<o&this.DM,tt;for(tt=this.t-1;tt>=0;--tt)e.data[tt+h+1]=this.data[tt]>>c|et,et=(this.data[tt]&d)<<o;for(tt=h-1;tt>=0;--tt)e.data[tt]=0;e.data[h]=et,e.t=this.t+h+1,e.s=this.s,e.clamp()}function bnpRShiftTo(a,e){e.s=this.s;var o=Math.floor(a/this.DB);if(o>=this.t){e.t=0;return}var c=a%this.DB,d=this.DB-c,h=(1<<c)-1;e.data[0]=this.data[o]>>c;for(var et=o+1;et<this.t;++et)e.data[et-o-1]|=(this.data[et]&h)<<d,e.data[et-o]=this.data[et]>>c;c>0&&(e.data[this.t-o-1]|=(this.s&h)<<d),e.t=this.t-o,e.clamp()}function bnpSubTo(a,e){for(var o=0,c=0,d=Math.min(a.t,this.t);o<d;)c+=this.data[o]-a.data[o],e.data[o++]=c&this.DM,c>>=this.DB;if(a.t<this.t){for(c-=a.s;o<this.t;)c+=this.data[o],e.data[o++]=c&this.DM,c>>=this.DB;c+=this.s}else{for(c+=this.s;o<a.t;)c-=a.data[o],e.data[o++]=c&this.DM,c>>=this.DB;c-=a.s}e.s=c<0?-1:0,c<-1?e.data[o++]=this.DV+c:c>0&&(e.data[o++]=c),e.t=o,e.clamp()}function bnpMultiplyTo(a,e){var o=this.abs(),c=a.abs(),d=o.t;for(e.t=d+c.t;--d>=0;)e.data[d]=0;for(d=0;d<c.t;++d)e.data[d+o.t]=o.am(0,c.data[d],e,d,0,o.t);e.s=0,e.clamp(),this.s!=a.s&&BigInteger$2.ZERO.subTo(e,e)}function bnpSquareTo(a){for(var e=this.abs(),o=a.t=2*e.t;--o>=0;)a.data[o]=0;for(o=0;o<e.t-1;++o){var c=e.am(o,e.data[o],a,2*o,0,1);(a.data[o+e.t]+=e.am(o+1,2*e.data[o],a,2*o+1,c,e.t-o-1))>=e.DV&&(a.data[o+e.t]-=e.DV,a.data[o+e.t+1]=1)}a.t>0&&(a.data[a.t-1]+=e.am(o,e.data[o],a,2*o,0,1)),a.s=0,a.clamp()}function bnpDivRemTo(a,e,o){var c=a.abs();if(!(c.t<=0)){var d=this.abs();if(d.t<c.t){e!=null&&e.fromInt(0),o!=null&&this.copyTo(o);return}o==null&&(o=nbi());var h=nbi(),et=this.s,tt=a.s,ot=this.DB-nbits(c.data[c.t-1]);ot>0?(c.lShiftTo(ot,h),d.lShiftTo(ot,o)):(c.copyTo(h),d.copyTo(o));var ft=h.t,ht=h.data[ft-1];if(ht!=0){var yt=ht*(1<<this.F1)+(ft>1?h.data[ft-2]>>this.F2:0),gt=this.FV/yt,wt=(1<<this.F1)/yt,bt=1<<this.F2,xt=o.t,Et=xt-ft,vt=e??nbi();for(h.dlShiftTo(Et,vt),o.compareTo(vt)>=0&&(o.data[o.t++]=1,o.subTo(vt,o)),BigInteger$2.ONE.dlShiftTo(ft,vt),vt.subTo(h,h);h.t<ft;)h.data[h.t++]=0;for(;--Et>=0;){var $t=o.data[--xt]==ht?this.DM:Math.floor(o.data[xt]*gt+(o.data[xt-1]+bt)*wt);if((o.data[xt]+=h.am(0,$t,o,Et,0,ft))<$t)for(h.dlShiftTo(Et,vt),o.subTo(vt,o);o.data[xt]<--$t;)o.subTo(vt,o)}e!=null&&(o.drShiftTo(ft,e),et!=tt&&BigInteger$2.ZERO.subTo(e,e)),o.t=ft,o.clamp(),ot>0&&o.rShiftTo(ot,o),et<0&&BigInteger$2.ZERO.subTo(o,o)}}}function bnMod(a){var e=nbi();return this.abs().divRemTo(a,null,e),this.s<0&&e.compareTo(BigInteger$2.ZERO)>0&&a.subTo(e,e),e}function Classic(a){this.m=a}function cConvert(a){return a.s<0||a.compareTo(this.m)>=0?a.mod(this.m):a}function cRevert(a){return a}function cReduce(a){a.divRemTo(this.m,null,a)}function cMulTo(a,e,o){a.multiplyTo(e,o),this.reduce(o)}function cSqrTo(a,e){a.squareTo(e),this.reduce(e)}Classic.prototype.convert=cConvert;Classic.prototype.revert=cRevert;Classic.prototype.reduce=cReduce;Classic.prototype.mulTo=cMulTo;Classic.prototype.sqrTo=cSqrTo;function bnpInvDigit(){if(this.t<1)return 0;var a=this.data[0];if(!(a&1))return 0;var e=a&3;return e=e*(2-(a&15)*e)&15,e=e*(2-(a&255)*e)&255,e=e*(2-((a&65535)*e&65535))&65535,e=e*(2-a*e%this.DV)%this.DV,e>0?this.DV-e:-e}function Montgomery(a){this.m=a,this.mp=a.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<a.DB-15)-1,this.mt2=2*a.t}function montConvert(a){var e=nbi();return a.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),a.s<0&&e.compareTo(BigInteger$2.ZERO)>0&&this.m.subTo(e,e),e}function montRevert(a){var e=nbi();return a.copyTo(e),this.reduce(e),e}function montReduce(a){for(;a.t<=this.mt2;)a.data[a.t++]=0;for(var e=0;e<this.m.t;++e){var o=a.data[e]&32767,c=o*this.mpl+((o*this.mph+(a.data[e]>>15)*this.mpl&this.um)<<15)&a.DM;for(o=e+this.m.t,a.data[o]+=this.m.am(0,c,a,e,0,this.m.t);a.data[o]>=a.DV;)a.data[o]-=a.DV,a.data[++o]++}a.clamp(),a.drShiftTo(this.m.t,a),a.compareTo(this.m)>=0&&a.subTo(this.m,a)}function montSqrTo(a,e){a.squareTo(e),this.reduce(e)}function montMulTo(a,e,o){a.multiplyTo(e,o),this.reduce(o)}Montgomery.prototype.convert=montConvert;Montgomery.prototype.revert=montRevert;Montgomery.prototype.reduce=montReduce;Montgomery.prototype.mulTo=montMulTo;Montgomery.prototype.sqrTo=montSqrTo;function bnpIsEven(){return(this.t>0?this.data[0]&1:this.s)==0}function bnpExp(a,e){if(a>4294967295||a<1)return BigInteger$2.ONE;var o=nbi(),c=nbi(),d=e.convert(this),h=nbits(a)-1;for(d.copyTo(o);--h>=0;)if(e.sqrTo(o,c),(a&1<<h)>0)e.mulTo(c,d,o);else{var et=o;o=c,c=et}return e.revert(o)}function bnModPowInt(a,e){var o;return a<256||e.isEven()?o=new Classic(e):o=new Montgomery(e),this.exp(a,o)}BigInteger$2.prototype.copyTo=bnpCopyTo;BigInteger$2.prototype.fromInt=bnpFromInt;BigInteger$2.prototype.fromString=bnpFromString;BigInteger$2.prototype.clamp=bnpClamp;BigInteger$2.prototype.dlShiftTo=bnpDLShiftTo;BigInteger$2.prototype.drShiftTo=bnpDRShiftTo;BigInteger$2.prototype.lShiftTo=bnpLShiftTo;BigInteger$2.prototype.rShiftTo=bnpRShiftTo;BigInteger$2.prototype.subTo=bnpSubTo;BigInteger$2.prototype.multiplyTo=bnpMultiplyTo;BigInteger$2.prototype.squareTo=bnpSquareTo;BigInteger$2.prototype.divRemTo=bnpDivRemTo;BigInteger$2.prototype.invDigit=bnpInvDigit;BigInteger$2.prototype.isEven=bnpIsEven;BigInteger$2.prototype.exp=bnpExp;BigInteger$2.prototype.toString=bnToString;BigInteger$2.prototype.negate=bnNegate;BigInteger$2.prototype.abs=bnAbs;BigInteger$2.prototype.compareTo=bnCompareTo;BigInteger$2.prototype.bitLength=bnBitLength;BigInteger$2.prototype.mod=bnMod;BigInteger$2.prototype.modPowInt=bnModPowInt;BigInteger$2.ZERO=nbv(0);BigInteger$2.ONE=nbv(1);function bnClone(){var a=nbi();return this.copyTo(a),a}function bnIntValue(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function bnByteValue(){return this.t==0?this.s:this.data[0]<<24>>24}function bnShortValue(){return this.t==0?this.s:this.data[0]<<16>>16}function bnpChunkSize(a){return Math.floor(Math.LN2*this.DB/Math.log(a))}function bnSigNum(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function bnpToRadix(a){if(a==null&&(a=10),this.signum()==0||a<2||a>36)return"0";var e=this.chunkSize(a),o=Math.pow(a,e),c=nbv(o),d=nbi(),h=nbi(),et="";for(this.divRemTo(c,d,h);d.signum()>0;)et=(o+h.intValue()).toString(a).substr(1)+et,d.divRemTo(c,d,h);return h.intValue().toString(a)+et}function bnpFromRadix(a,e){this.fromInt(0),e==null&&(e=10);for(var o=this.chunkSize(e),c=Math.pow(e,o),d=!1,h=0,et=0,tt=0;tt<a.length;++tt){var ot=intAt(a,tt);if(ot<0){a.charAt(tt)=="-"&&this.signum()==0&&(d=!0);continue}et=e*et+ot,++h>=o&&(this.dMultiply(c),this.dAddOffset(et,0),h=0,et=0)}h>0&&(this.dMultiply(Math.pow(e,h)),this.dAddOffset(et,0)),d&&BigInteger$2.ZERO.subTo(this,this)}function bnpFromNumber(a,e,o){if(typeof e=="number")if(a<2)this.fromInt(1);else for(this.fromNumber(a,o),this.testBit(a-1)||this.bitwiseTo(BigInteger$2.ONE.shiftLeft(a-1),op_or,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>a&&this.subTo(BigInteger$2.ONE.shiftLeft(a-1),this);else{var c=new Array,d=a&7;c.length=(a>>3)+1,e.nextBytes(c),d>0?c[0]&=(1<<d)-1:c[0]=0,this.fromString(c,256)}}function bnToByteArray(){var a=this.t,e=new Array;e[0]=this.s;var o=this.DB-a*this.DB%8,c,d=0;if(a-- >0)for(o<this.DB&&(c=this.data[a]>>o)!=(this.s&this.DM)>>o&&(e[d++]=c|this.s<<this.DB-o);a>=0;)o<8?(c=(this.data[a]&(1<<o)-1)<<8-o,c|=this.data[--a]>>(o+=this.DB-8)):(c=this.data[a]>>(o-=8)&255,o<=0&&(o+=this.DB,--a)),c&128&&(c|=-256),d==0&&(this.s&128)!=(c&128)&&++d,(d>0||c!=this.s)&&(e[d++]=c);return e}function bnEquals(a){return this.compareTo(a)==0}function bnMin(a){return this.compareTo(a)<0?this:a}function bnMax(a){return this.compareTo(a)>0?this:a}function bnpBitwiseTo(a,e,o){var c,d,h=Math.min(a.t,this.t);for(c=0;c<h;++c)o.data[c]=e(this.data[c],a.data[c]);if(a.t<this.t){for(d=a.s&this.DM,c=h;c<this.t;++c)o.data[c]=e(this.data[c],d);o.t=this.t}else{for(d=this.s&this.DM,c=h;c<a.t;++c)o.data[c]=e(d,a.data[c]);o.t=a.t}o.s=e(this.s,a.s),o.clamp()}function op_and(a,e){return a&e}function bnAnd(a){var e=nbi();return this.bitwiseTo(a,op_and,e),e}function op_or(a,e){return a|e}function bnOr(a){var e=nbi();return this.bitwiseTo(a,op_or,e),e}function op_xor(a,e){return a^e}function bnXor(a){var e=nbi();return this.bitwiseTo(a,op_xor,e),e}function op_andnot(a,e){return a&~e}function bnAndNot(a){var e=nbi();return this.bitwiseTo(a,op_andnot,e),e}function bnNot(){for(var a=nbi(),e=0;e<this.t;++e)a.data[e]=this.DM&~this.data[e];return a.t=this.t,a.s=~this.s,a}function bnShiftLeft(a){var e=nbi();return a<0?this.rShiftTo(-a,e):this.lShiftTo(a,e),e}function bnShiftRight(a){var e=nbi();return a<0?this.lShiftTo(-a,e):this.rShiftTo(a,e),e}function lbit(a){if(a==0)return-1;var e=0;return a&65535||(a>>=16,e+=16),a&255||(a>>=8,e+=8),a&15||(a>>=4,e+=4),a&3||(a>>=2,e+=2),a&1||++e,e}function bnGetLowestSetBit(){for(var a=0;a<this.t;++a)if(this.data[a]!=0)return a*this.DB+lbit(this.data[a]);return this.s<0?this.t*this.DB:-1}function cbit(a){for(var e=0;a!=0;)a&=a-1,++e;return e}function bnBitCount(){for(var a=0,e=this.s&this.DM,o=0;o<this.t;++o)a+=cbit(this.data[o]^e);return a}function bnTestBit(a){var e=Math.floor(a/this.DB);return e>=this.t?this.s!=0:(this.data[e]&1<<a%this.DB)!=0}function bnpChangeBit(a,e){var o=BigInteger$2.ONE.shiftLeft(a);return this.bitwiseTo(o,e,o),o}function bnSetBit(a){return this.changeBit(a,op_or)}function bnClearBit(a){return this.changeBit(a,op_andnot)}function bnFlipBit(a){return this.changeBit(a,op_xor)}function bnpAddTo(a,e){for(var o=0,c=0,d=Math.min(a.t,this.t);o<d;)c+=this.data[o]+a.data[o],e.data[o++]=c&this.DM,c>>=this.DB;if(a.t<this.t){for(c+=a.s;o<this.t;)c+=this.data[o],e.data[o++]=c&this.DM,c>>=this.DB;c+=this.s}else{for(c+=this.s;o<a.t;)c+=a.data[o],e.data[o++]=c&this.DM,c>>=this.DB;c+=a.s}e.s=c<0?-1:0,c>0?e.data[o++]=c:c<-1&&(e.data[o++]=this.DV+c),e.t=o,e.clamp()}function bnAdd(a){var e=nbi();return this.addTo(a,e),e}function bnSubtract(a){var e=nbi();return this.subTo(a,e),e}function bnMultiply(a){var e=nbi();return this.multiplyTo(a,e),e}function bnDivide(a){var e=nbi();return this.divRemTo(a,e,null),e}function bnRemainder(a){var e=nbi();return this.divRemTo(a,null,e),e}function bnDivideAndRemainder(a){var e=nbi(),o=nbi();return this.divRemTo(a,e,o),new Array(e,o)}function bnpDMultiply(a){this.data[this.t]=this.am(0,a-1,this,0,0,this.t),++this.t,this.clamp()}function bnpDAddOffset(a,e){if(a!=0){for(;this.t<=e;)this.data[this.t++]=0;for(this.data[e]+=a;this.data[e]>=this.DV;)this.data[e]-=this.DV,++e>=this.t&&(this.data[this.t++]=0),++this.data[e]}}function NullExp(){}function nNop(a){return a}function nMulTo(a,e,o){a.multiplyTo(e,o)}function nSqrTo(a,e){a.squareTo(e)}NullExp.prototype.convert=nNop;NullExp.prototype.revert=nNop;NullExp.prototype.mulTo=nMulTo;NullExp.prototype.sqrTo=nSqrTo;function bnPow(a){return this.exp(a,new NullExp)}function bnpMultiplyLowerTo(a,e,o){var c=Math.min(this.t+a.t,e);for(o.s=0,o.t=c;c>0;)o.data[--c]=0;var d;for(d=o.t-this.t;c<d;++c)o.data[c+this.t]=this.am(0,a.data[c],o,c,0,this.t);for(d=Math.min(a.t,e);c<d;++c)this.am(0,a.data[c],o,c,0,e-c);o.clamp()}function bnpMultiplyUpperTo(a,e,o){--e;var c=o.t=this.t+a.t-e;for(o.s=0;--c>=0;)o.data[c]=0;for(c=Math.max(e-this.t,0);c<a.t;++c)o.data[this.t+c-e]=this.am(e-c,a.data[c],o,0,0,this.t+c-e);o.clamp(),o.drShiftTo(1,o)}function Barrett(a){this.r2=nbi(),this.q3=nbi(),BigInteger$2.ONE.dlShiftTo(2*a.t,this.r2),this.mu=this.r2.divide(a),this.m=a}function barrettConvert(a){if(a.s<0||a.t>2*this.m.t)return a.mod(this.m);if(a.compareTo(this.m)<0)return a;var e=nbi();return a.copyTo(e),this.reduce(e),e}function barrettRevert(a){return a}function barrettReduce(a){for(a.drShiftTo(this.m.t-1,this.r2),a.t>this.m.t+1&&(a.t=this.m.t+1,a.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);a.compareTo(this.r2)<0;)a.dAddOffset(1,this.m.t+1);for(a.subTo(this.r2,a);a.compareTo(this.m)>=0;)a.subTo(this.m,a)}function barrettSqrTo(a,e){a.squareTo(e),this.reduce(e)}function barrettMulTo(a,e,o){a.multiplyTo(e,o),this.reduce(o)}Barrett.prototype.convert=barrettConvert;Barrett.prototype.revert=barrettRevert;Barrett.prototype.reduce=barrettReduce;Barrett.prototype.mulTo=barrettMulTo;Barrett.prototype.sqrTo=barrettSqrTo;function bnModPow(a,e){var o=a.bitLength(),c,d=nbv(1),h;if(o<=0)return d;o<18?c=1:o<48?c=3:o<144?c=4:o<768?c=5:c=6,o<8?h=new Classic(e):e.isEven()?h=new Barrett(e):h=new Montgomery(e);var et=new Array,tt=3,ot=c-1,ft=(1<<c)-1;if(et[1]=h.convert(this),c>1){var ht=nbi();for(h.sqrTo(et[1],ht);tt<=ft;)et[tt]=nbi(),h.mulTo(ht,et[tt-2],et[tt]),tt+=2}var yt=a.t-1,gt,wt=!0,bt=nbi(),xt;for(o=nbits(a.data[yt])-1;yt>=0;){for(o>=ot?gt=a.data[yt]>>o-ot&ft:(gt=(a.data[yt]&(1<<o+1)-1)<<ot-o,yt>0&&(gt|=a.data[yt-1]>>this.DB+o-ot)),tt=c;!(gt&1);)gt>>=1,--tt;if((o-=tt)<0&&(o+=this.DB,--yt),wt)et[gt].copyTo(d),wt=!1;else{for(;tt>1;)h.sqrTo(d,bt),h.sqrTo(bt,d),tt-=2;tt>0?h.sqrTo(d,bt):(xt=d,d=bt,bt=xt),h.mulTo(bt,et[gt],d)}for(;yt>=0&&!(a.data[yt]&1<<o);)h.sqrTo(d,bt),xt=d,d=bt,bt=xt,--o<0&&(o=this.DB-1,--yt)}return h.revert(d)}function bnGCD(a){var e=this.s<0?this.negate():this.clone(),o=a.s<0?a.negate():a.clone();if(e.compareTo(o)<0){var c=e;e=o,o=c}var d=e.getLowestSetBit(),h=o.getLowestSetBit();if(h<0)return e;for(d<h&&(h=d),h>0&&(e.rShiftTo(h,e),o.rShiftTo(h,o));e.signum()>0;)(d=e.getLowestSetBit())>0&&e.rShiftTo(d,e),(d=o.getLowestSetBit())>0&&o.rShiftTo(d,o),e.compareTo(o)>=0?(e.subTo(o,e),e.rShiftTo(1,e)):(o.subTo(e,o),o.rShiftTo(1,o));return h>0&&o.lShiftTo(h,o),o}function bnpModInt(a){if(a<=0)return 0;var e=this.DV%a,o=this.s<0?a-1:0;if(this.t>0)if(e==0)o=this.data[0]%a;else for(var c=this.t-1;c>=0;--c)o=(e*o+this.data[c])%a;return o}function bnModInverse(a){var e=a.isEven();if(this.isEven()&&e||a.signum()==0)return BigInteger$2.ZERO;for(var o=a.clone(),c=this.clone(),d=nbv(1),h=nbv(0),et=nbv(0),tt=nbv(1);o.signum()!=0;){for(;o.isEven();)o.rShiftTo(1,o),e?((!d.isEven()||!h.isEven())&&(d.addTo(this,d),h.subTo(a,h)),d.rShiftTo(1,d)):h.isEven()||h.subTo(a,h),h.rShiftTo(1,h);for(;c.isEven();)c.rShiftTo(1,c),e?((!et.isEven()||!tt.isEven())&&(et.addTo(this,et),tt.subTo(a,tt)),et.rShiftTo(1,et)):tt.isEven()||tt.subTo(a,tt),tt.rShiftTo(1,tt);o.compareTo(c)>=0?(o.subTo(c,o),e&&d.subTo(et,d),h.subTo(tt,h)):(c.subTo(o,c),e&&et.subTo(d,et),tt.subTo(h,tt))}if(c.compareTo(BigInteger$2.ONE)!=0)return BigInteger$2.ZERO;if(tt.compareTo(a)>=0)return tt.subtract(a);if(tt.signum()<0)tt.addTo(a,tt);else return tt;return tt.signum()<0?tt.add(a):tt}var lowprimes=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],lplim=(1<<26)/lowprimes[lowprimes.length-1];function bnIsProbablePrime(a){var e,o=this.abs();if(o.t==1&&o.data[0]<=lowprimes[lowprimes.length-1]){for(e=0;e<lowprimes.length;++e)if(o.data[0]==lowprimes[e])return!0;return!1}if(o.isEven())return!1;for(e=1;e<lowprimes.length;){for(var c=lowprimes[e],d=e+1;d<lowprimes.length&&c<lplim;)c*=lowprimes[d++];for(c=o.modInt(c);e<d;)if(c%lowprimes[e++]==0)return!1}return o.millerRabin(a)}function bnpMillerRabin(a){var e=this.subtract(BigInteger$2.ONE),o=e.getLowestSetBit();if(o<=0)return!1;for(var c=e.shiftRight(o),d=bnGetPrng(),h,et=0;et<a;++et){do h=new BigInteger$2(this.bitLength(),d);while(h.compareTo(BigInteger$2.ONE)<=0||h.compareTo(e)>=0);var tt=h.modPow(c,this);if(tt.compareTo(BigInteger$2.ONE)!=0&&tt.compareTo(e)!=0){for(var ot=1;ot++<o&&tt.compareTo(e)!=0;)if(tt=tt.modPowInt(2,this),tt.compareTo(BigInteger$2.ONE)==0)return!1;if(tt.compareTo(e)!=0)return!1}}return!0}function bnGetPrng(){return{nextBytes:function(a){for(var e=0;e<a.length;++e)a[e]=Math.floor(Math.random()*256)}}}BigInteger$2.prototype.chunkSize=bnpChunkSize;BigInteger$2.prototype.toRadix=bnpToRadix;BigInteger$2.prototype.fromRadix=bnpFromRadix;BigInteger$2.prototype.fromNumber=bnpFromNumber;BigInteger$2.prototype.bitwiseTo=bnpBitwiseTo;BigInteger$2.prototype.changeBit=bnpChangeBit;BigInteger$2.prototype.addTo=bnpAddTo;BigInteger$2.prototype.dMultiply=bnpDMultiply;BigInteger$2.prototype.dAddOffset=bnpDAddOffset;BigInteger$2.prototype.multiplyLowerTo=bnpMultiplyLowerTo;BigInteger$2.prototype.multiplyUpperTo=bnpMultiplyUpperTo;BigInteger$2.prototype.modInt=bnpModInt;BigInteger$2.prototype.millerRabin=bnpMillerRabin;BigInteger$2.prototype.clone=bnClone;BigInteger$2.prototype.intValue=bnIntValue;BigInteger$2.prototype.byteValue=bnByteValue;BigInteger$2.prototype.shortValue=bnShortValue;BigInteger$2.prototype.signum=bnSigNum;BigInteger$2.prototype.toByteArray=bnToByteArray;BigInteger$2.prototype.equals=bnEquals;BigInteger$2.prototype.min=bnMin;BigInteger$2.prototype.max=bnMax;BigInteger$2.prototype.and=bnAnd;BigInteger$2.prototype.or=bnOr;BigInteger$2.prototype.xor=bnXor;BigInteger$2.prototype.andNot=bnAndNot;BigInteger$2.prototype.not=bnNot;BigInteger$2.prototype.shiftLeft=bnShiftLeft;BigInteger$2.prototype.shiftRight=bnShiftRight;BigInteger$2.prototype.getLowestSetBit=bnGetLowestSetBit;BigInteger$2.prototype.bitCount=bnBitCount;BigInteger$2.prototype.testBit=bnTestBit;BigInteger$2.prototype.setBit=bnSetBit;BigInteger$2.prototype.clearBit=bnClearBit;BigInteger$2.prototype.flipBit=bnFlipBit;BigInteger$2.prototype.add=bnAdd;BigInteger$2.prototype.subtract=bnSubtract;BigInteger$2.prototype.multiply=bnMultiply;BigInteger$2.prototype.divide=bnDivide;BigInteger$2.prototype.remainder=bnRemainder;BigInteger$2.prototype.divideAndRemainder=bnDivideAndRemainder;BigInteger$2.prototype.modPow=bnModPow;BigInteger$2.prototype.modInverse=bnModInverse;BigInteger$2.prototype.pow=bnPow;BigInteger$2.prototype.gcd=bnGCD;BigInteger$2.prototype.isProbablePrime=bnIsProbablePrime;var forge$b=forge$s,sha1=forge$b.sha1=forge$b.sha1||{};forge$b.md.sha1=forge$b.md.algorithms.sha1=sha1;sha1.create=function(){_initialized||_init();var a=null,e=forge$b.util.createBuffer(),o=new Array(80),c={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return c.start=function(){c.messageLength=0,c.fullMessageLength=c.messageLength64=[];for(var d=c.messageLengthSize/4,h=0;h<d;++h)c.fullMessageLength.push(0);return e=forge$b.util.createBuffer(),a={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},c},c.start(),c.update=function(d,h){h==="utf8"&&(d=forge$b.util.encodeUtf8(d));var et=d.length;c.messageLength+=et,et=[et/4294967296>>>0,et>>>0];for(var tt=c.fullMessageLength.length-1;tt>=0;--tt)c.fullMessageLength[tt]+=et[1],et[1]=et[0]+(c.fullMessageLength[tt]/4294967296>>>0),c.fullMessageLength[tt]=c.fullMessageLength[tt]>>>0,et[0]=et[1]/4294967296>>>0;return e.putBytes(d),_update(a,o,e),(e.read>2048||e.length()===0)&&e.compact(),c},c.digest=function(){var d=forge$b.util.createBuffer();d.putBytes(e.bytes());var h=c.fullMessageLength[c.fullMessageLength.length-1]+c.messageLengthSize,et=h&c.blockLength-1;d.putBytes(_padding.substr(0,c.blockLength-et));for(var tt,ot,ft=c.fullMessageLength[0]*8,ht=0;ht<c.fullMessageLength.length-1;++ht)tt=c.fullMessageLength[ht+1]*8,ot=tt/4294967296>>>0,ft+=ot,d.putInt32(ft>>>0),ft=tt>>>0;d.putInt32(ft);var yt={h0:a.h0,h1:a.h1,h2:a.h2,h3:a.h3,h4:a.h4};_update(yt,o,d);var gt=forge$b.util.createBuffer();return gt.putInt32(yt.h0),gt.putInt32(yt.h1),gt.putInt32(yt.h2),gt.putInt32(yt.h3),gt.putInt32(yt.h4),gt},c};var _padding=null,_initialized=!1;function _init(){_padding="",_padding+=forge$b.util.fillString("\0",64),_initialized=!0}function _update(a,e,o){for(var c,d,h,et,tt,ot,ft,ht,yt=o.length();yt>=64;){for(d=a.h0,h=a.h1,et=a.h2,tt=a.h3,ot=a.h4,ht=0;ht<16;++ht)c=o.getInt32(),e[ht]=c,ft=tt^h&(et^tt),c=(d<<5|d>>>27)+ft+ot+1518500249+c,ot=tt,tt=et,et=(h<<30|h>>>2)>>>0,h=d,d=c;for(;ht<20;++ht)c=e[ht-3]^e[ht-8]^e[ht-14]^e[ht-16],c=c<<1|c>>>31,e[ht]=c,ft=tt^h&(et^tt),c=(d<<5|d>>>27)+ft+ot+1518500249+c,ot=tt,tt=et,et=(h<<30|h>>>2)>>>0,h=d,d=c;for(;ht<32;++ht)c=e[ht-3]^e[ht-8]^e[ht-14]^e[ht-16],c=c<<1|c>>>31,e[ht]=c,ft=h^et^tt,c=(d<<5|d>>>27)+ft+ot+1859775393+c,ot=tt,tt=et,et=(h<<30|h>>>2)>>>0,h=d,d=c;for(;ht<40;++ht)c=e[ht-6]^e[ht-16]^e[ht-28]^e[ht-32],c=c<<2|c>>>30,e[ht]=c,ft=h^et^tt,c=(d<<5|d>>>27)+ft+ot+1859775393+c,ot=tt,tt=et,et=(h<<30|h>>>2)>>>0,h=d,d=c;for(;ht<60;++ht)c=e[ht-6]^e[ht-16]^e[ht-28]^e[ht-32],c=c<<2|c>>>30,e[ht]=c,ft=h&et|tt&(h^et),c=(d<<5|d>>>27)+ft+ot+2400959708+c,ot=tt,tt=et,et=(h<<30|h>>>2)>>>0,h=d,d=c;for(;ht<80;++ht)c=e[ht-6]^e[ht-16]^e[ht-28]^e[ht-32],c=c<<2|c>>>30,e[ht]=c,ft=h^et^tt,c=(d<<5|d>>>27)+ft+ot+3395469782+c,ot=tt,tt=et,et=(h<<30|h>>>2)>>>0,h=d,d=c;a.h0=a.h0+d|0,a.h1=a.h1+h|0,a.h2=a.h2+et|0,a.h3=a.h3+tt|0,a.h4=a.h4+ot|0,yt-=64}}var forge$a=forge$s,pkcs1=forge$a.pkcs1=forge$a.pkcs1||{};pkcs1.encode_rsa_oaep=function(a,e,o){var c,d,h,et;typeof o=="string"?(c=o,d=arguments[3]||void 0,h=arguments[4]||void 0):o&&(c=o.label||void 0,d=o.seed||void 0,h=o.md||void 0,o.mgf1&&o.mgf1.md&&(et=o.mgf1.md)),h?h.start():h=forge$a.md.sha1.create(),et||(et=h);var tt=Math.ceil(a.n.bitLength()/8),ot=tt-2*h.digestLength-2;if(e.length>ot){var ft=new Error("RSAES-OAEP input message length is too long.");throw ft.length=e.length,ft.maxLength=ot,ft}c||(c=""),h.update(c,"raw");for(var ht=h.digest(),yt="",gt=ot-e.length,wt=0;wt<gt;wt++)yt+="\0";var bt=ht.getBytes()+yt+""+e;if(!d)d=forge$a.random.getBytes(h.digestLength);else if(d.length!==h.digestLength){var ft=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw ft.seedLength=d.length,ft.digestLength=h.digestLength,ft}var xt=rsa_mgf1(d,tt-h.digestLength-1,et),Et=forge$a.util.xorBytes(bt,xt,bt.length),vt=rsa_mgf1(Et,h.digestLength,et),$t=forge$a.util.xorBytes(d,vt,d.length);return"\0"+$t+Et};pkcs1.decode_rsa_oaep=function(a,e,o){var c,d,h;typeof o=="string"?(c=o,d=arguments[3]||void 0):o&&(c=o.label||void 0,d=o.md||void 0,o.mgf1&&o.mgf1.md&&(h=o.mgf1.md));var et=Math.ceil(a.n.bitLength()/8);if(e.length!==et){var Et=new Error("RSAES-OAEP encoded message length is invalid.");throw Et.length=e.length,Et.expectedLength=et,Et}if(d===void 0?d=forge$a.md.sha1.create():d.start(),h||(h=d),et<2*d.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");c||(c=""),d.update(c,"raw");for(var tt=d.digest().getBytes(),ot=e.charAt(0),ft=e.substring(1,d.digestLength+1),ht=e.substring(1+d.digestLength),yt=rsa_mgf1(ht,d.digestLength,h),gt=forge$a.util.xorBytes(ft,yt,ft.length),wt=rsa_mgf1(gt,et-d.digestLength-1,h),bt=forge$a.util.xorBytes(ht,wt,ht.length),xt=bt.substring(0,d.digestLength),Et=ot!=="\0",vt=0;vt<d.digestLength;++vt)Et|=tt.charAt(vt)!==xt.charAt(vt);for(var $t=1,At=d.digestLength,kt=d.digestLength;kt<bt.length;kt++){var It=bt.charCodeAt(kt),Dt=It&1^1,Mt=$t?65534:0;Et|=It&Mt,$t=$t&Dt,At+=$t}if(Et||bt.charCodeAt(At)!==1)throw new Error("Invalid RSAES-OAEP padding.");return bt.substring(At+1)};function rsa_mgf1(a,e,o){o||(o=forge$a.md.sha1.create());for(var c="",d=Math.ceil(e/o.digestLength),h=0;h<d;++h){var et=String.fromCharCode(h>>24&255,h>>16&255,h>>8&255,h&255);o.start(),o.update(a+et),c+=o.digest().getBytes()}return c.substring(0,e)}var forge$9=forge$s;(function(){if(forge$9.prime){forge$9.prime;return}var a=forge$9.prime=forge$9.prime||{},e=forge$9.jsbn.BigInteger,o=[6,4,2,4,2,4,6,2],c=new e(null);c.fromInt(30);var d=function(yt,gt){return yt|gt};a.generateProbablePrime=function(yt,gt,wt){typeof gt=="function"&&(wt=gt,gt={}),gt=gt||{};var bt=gt.algorithm||"PRIMEINC";typeof bt=="string"&&(bt={name:bt}),bt.options=bt.options||{};var xt=gt.prng||forge$9.random,Et={nextBytes:function(vt){for(var $t=xt.getBytesSync(vt.length),At=0;At<vt.length;++At)vt[At]=$t.charCodeAt(At)}};if(bt.name==="PRIMEINC")return h(yt,Et,bt.options,wt);throw new Error("Invalid prime generation algorithm: "+bt.name)};function h(yt,gt,wt,bt){return"workers"in wt?ot(yt,gt,wt,bt):et(yt,gt,wt,bt)}function et(yt,gt,wt,bt){var xt=ft(yt,gt),Et=0,vt=ht(xt.bitLength());"millerRabinTests"in wt&&(vt=wt.millerRabinTests);var $t=10;"maxBlockTime"in wt&&($t=wt.maxBlockTime),tt(xt,yt,gt,Et,vt,$t,bt)}function tt(yt,gt,wt,bt,xt,Et,vt){var $t=+new Date;do{if(yt.bitLength()>gt&&(yt=ft(gt,wt)),yt.isProbablePrime(xt))return vt(null,yt);yt.dAddOffset(o[bt++%8],0)}while(Et<0||+new Date-$t<Et);forge$9.util.setImmediate(function(){tt(yt,gt,wt,bt,xt,Et,vt)})}function ot(yt,gt,wt,bt){if(typeof Worker>"u")return et(yt,gt,wt,bt);var xt=ft(yt,gt),Et=wt.workers,vt=wt.workLoad||100,$t=vt*30/8,At=wt.workerScript||"forge/prime.worker.js";if(Et===-1)return forge$9.util.estimateCores(function(It,Dt){It&&(Dt=2),Et=Dt-1,kt()});kt();function kt(){Et=Math.max(1,Et);for(var It=[],Dt=0;Dt<Et;++Dt)It[Dt]=new Worker(At);for(var Dt=0;Dt<Et;++Dt)It[Dt].addEventListener("message",zt);var Mt=!1;function zt(Kt){if(!Mt){var Yt=Kt.data;if(Yt.found){for(var er=0;er<It.length;++er)It[er].terminate();return Mt=!0,bt(null,new e(Yt.prime,16))}xt.bitLength()>yt&&(xt=ft(yt,gt));var qt=xt.toString(16);Kt.target.postMessage({hex:qt,workLoad:vt}),xt.dAddOffset($t,0)}}}}function ft(yt,gt){var wt=new e(yt,gt),bt=yt-1;return wt.testBit(bt)||wt.bitwiseTo(e.ONE.shiftLeft(bt),d,wt),wt.dAddOffset(31-wt.mod(c).byteValue(),0),wt}function ht(yt){return yt<=100?27:yt<=150?18:yt<=200?15:yt<=250?12:yt<=300?9:yt<=350?8:yt<=400?7:yt<=500?6:yt<=600?5:yt<=800?4:yt<=1250?3:2}})();var forge$8=forge$s;if(typeof BigInteger$1>"u")var BigInteger$1=forge$8.jsbn.BigInteger;var _crypto=forge$8.util.isNodejs?require$$8:null,asn1$5=forge$8.asn1,util$5=forge$8.util;forge$8.pki=forge$8.pki||{};forge$8.pki.rsa=forge$8.rsa=forge$8.rsa||{};var pki$5=forge$8.pki,GCD_30_DELTA=[6,4,2,4,2,4,6,2],privateKeyValidator={name:"PrivateKeyInfo",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},rsaPrivateKeyValidator={name:"RSAPrivateKey",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},rsaPublicKeyValidator={name:"RSAPublicKey",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},publicKeyValidator$1=forge$8.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},digestInfoValidator={name:"DigestInfo",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:asn1$5.Class.UNIVERSAL,type:asn1$5.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},emsaPkcs1v15encode=function(a){var e;if(a.algorithm in pki$5.oids)e=pki$5.oids[a.algorithm];else{var o=new Error("Unknown message digest algorithm.");throw o.algorithm=a.algorithm,o}var c=asn1$5.oidToDer(e).getBytes(),d=asn1$5.create(asn1$5.Class.UNIVERSAL,asn1$5.Type.SEQUENCE,!0,[]),h=asn1$5.create(asn1$5.Class.UNIVERSAL,asn1$5.Type.SEQUENCE,!0,[]);h.value.push(asn1$5.create(asn1$5.Class.UNIVERSAL,asn1$5.Type.OID,!1,c)),h.value.push(asn1$5.create(asn1$5.Class.UNIVERSAL,asn1$5.Type.NULL,!1,""));var et=asn1$5.create(asn1$5.Class.UNIVERSAL,asn1$5.Type.OCTETSTRING,!1,a.digest().getBytes());return d.value.push(h),d.value.push(et),asn1$5.toDer(d).getBytes()},_modPow=function(a,e,o){if(o)return a.modPow(e.e,e.n);if(!e.p||!e.q)return a.modPow(e.d,e.n);e.dP||(e.dP=e.d.mod(e.p.subtract(BigInteger$1.ONE))),e.dQ||(e.dQ=e.d.mod(e.q.subtract(BigInteger$1.ONE))),e.qInv||(e.qInv=e.q.modInverse(e.p));var c;do c=new BigInteger$1(forge$8.util.bytesToHex(forge$8.random.getBytes(e.n.bitLength()/8)),16);while(c.compareTo(e.n)>=0||!c.gcd(e.n).equals(BigInteger$1.ONE));a=a.multiply(c.modPow(e.e,e.n)).mod(e.n);for(var d=a.mod(e.p).modPow(e.dP,e.p),h=a.mod(e.q).modPow(e.dQ,e.q);d.compareTo(h)<0;)d=d.add(e.p);var et=d.subtract(h).multiply(e.qInv).mod(e.p).multiply(e.q).add(h);return et=et.multiply(c.modInverse(e.n)).mod(e.n),et};pki$5.rsa.encrypt=function(a,e,o){var c=o,d,h=Math.ceil(e.n.bitLength()/8);o!==!1&&o!==!0?(c=o===2,d=_encodePkcs1_v1_5(a,e,o)):(d=forge$8.util.createBuffer(),d.putBytes(a));for(var et=new BigInteger$1(d.toHex(),16),tt=_modPow(et,e,c),ot=tt.toString(16),ft=forge$8.util.createBuffer(),ht=h-Math.ceil(ot.length/2);ht>0;)ft.putByte(0),--ht;return ft.putBytes(forge$8.util.hexToBytes(ot)),ft.getBytes()};pki$5.rsa.decrypt=function(a,e,o,c){var d=Math.ceil(e.n.bitLength()/8);if(a.length!==d){var h=new Error("Encrypted message length is invalid.");throw h.length=a.length,h.expected=d,h}var et=new BigInteger$1(forge$8.util.createBuffer(a).toHex(),16);if(et.compareTo(e.n)>=0)throw new Error("Encrypted message is invalid.");for(var tt=_modPow(et,e,o),ot=tt.toString(16),ft=forge$8.util.createBuffer(),ht=d-Math.ceil(ot.length/2);ht>0;)ft.putByte(0),--ht;return ft.putBytes(forge$8.util.hexToBytes(ot)),c!==!1?_decodePkcs1_v1_5(ft.getBytes(),e,o):ft.getBytes()};pki$5.rsa.createKeyPairGenerationState=function(a,e,o){typeof a=="string"&&(a=parseInt(a,10)),a=a||2048,o=o||{};var c=o.prng||forge$8.random,d={nextBytes:function(tt){for(var ot=c.getBytesSync(tt.length),ft=0;ft<tt.length;++ft)tt[ft]=ot.charCodeAt(ft)}},h=o.algorithm||"PRIMEINC",et;if(h==="PRIMEINC")et={algorithm:h,state:0,bits:a,rng:d,eInt:e||65537,e:new BigInteger$1(null),p:null,q:null,qBits:a>>1,pBits:a-(a>>1),pqState:0,num:null,keys:null},et.e.fromInt(et.eInt);else throw new Error("Invalid key generation algorithm: "+h);return et};pki$5.rsa.stepKeyPairGenerationState=function(a,e){"algorithm"in a||(a.algorithm="PRIMEINC");var o=new BigInteger$1(null);o.fromInt(30);for(var c=0,d=function(yt,gt){return yt|gt},h=+new Date,et,tt=0;a.keys===null&&(e<=0||tt<e);){if(a.state===0){var ot=a.p===null?a.pBits:a.qBits,ft=ot-1;a.pqState===0?(a.num=new BigInteger$1(ot,a.rng),a.num.testBit(ft)||a.num.bitwiseTo(BigInteger$1.ONE.shiftLeft(ft),d,a.num),a.num.dAddOffset(31-a.num.mod(o).byteValue(),0),c=0,++a.pqState):a.pqState===1?a.num.bitLength()>ot?a.pqState=0:a.num.isProbablePrime(_getMillerRabinTests(a.num.bitLength()))?++a.pqState:a.num.dAddOffset(GCD_30_DELTA[c++%8],0):a.pqState===2?a.pqState=a.num.subtract(BigInteger$1.ONE).gcd(a.e).compareTo(BigInteger$1.ONE)===0?3:0:a.pqState===3&&(a.pqState=0,a.p===null?a.p=a.num:a.q=a.num,a.p!==null&&a.q!==null&&++a.state,a.num=null)}else if(a.state===1)a.p.compareTo(a.q)<0&&(a.num=a.p,a.p=a.q,a.q=a.num),++a.state;else if(a.state===2)a.p1=a.p.subtract(BigInteger$1.ONE),a.q1=a.q.subtract(BigInteger$1.ONE),a.phi=a.p1.multiply(a.q1),++a.state;else if(a.state===3)a.phi.gcd(a.e).compareTo(BigInteger$1.ONE)===0?++a.state:(a.p=null,a.q=null,a.state=0);else if(a.state===4)a.n=a.p.multiply(a.q),a.n.bitLength()===a.bits?++a.state:(a.q=null,a.state=0);else if(a.state===5){var ht=a.e.modInverse(a.phi);a.keys={privateKey:pki$5.rsa.setPrivateKey(a.n,a.e,ht,a.p,a.q,ht.mod(a.p1),ht.mod(a.q1),a.q.modInverse(a.p)),publicKey:pki$5.rsa.setPublicKey(a.n,a.e)}}et=+new Date,tt+=et-h,h=et}return a.keys!==null};pki$5.rsa.generateKeyPair=function(a,e,o,c){if(arguments.length===1?typeof a=="object"?(o=a,a=void 0):typeof a=="function"&&(c=a,a=void 0):arguments.length===2?typeof a=="number"?typeof e=="function"?(c=e,e=void 0):typeof e!="number"&&(o=e,e=void 0):(o=a,c=e,a=void 0,e=void 0):arguments.length===3&&(typeof e=="number"?typeof o=="function"&&(c=o,o=void 0):(c=o,o=e,e=void 0)),o=o||{},a===void 0&&(a=o.bits||2048),e===void 0&&(e=o.e||65537),!forge$8.options.usePureJavaScript&&!o.prng&&a>=256&&a<=16384&&(e===65537||e===3)){if(c){if(_detectNodeCrypto("generateKeyPair"))return _crypto.generateKeyPair("rsa",{modulusLength:a,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(tt,ot,ft){if(tt)return c(tt);c(null,{privateKey:pki$5.privateKeyFromPem(ft),publicKey:pki$5.publicKeyFromPem(ot)})});if(_detectSubtleCrypto("generateKey")&&_detectSubtleCrypto("exportKey"))return util$5.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:a,publicExponent:_intToUint8Array(e),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(tt){return util$5.globalScope.crypto.subtle.exportKey("pkcs8",tt.privateKey)}).then(void 0,function(tt){c(tt)}).then(function(tt){if(tt){var ot=pki$5.privateKeyFromAsn1(asn1$5.fromDer(forge$8.util.createBuffer(tt)));c(null,{privateKey:ot,publicKey:pki$5.setRsaPublicKey(ot.n,ot.e)})}});if(_detectSubtleMsCrypto("generateKey")&&_detectSubtleMsCrypto("exportKey")){var d=util$5.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:a,publicExponent:_intToUint8Array(e),hash:{name:"SHA-256"}},!0,["sign","verify"]);d.oncomplete=function(tt){var ot=tt.target.result,ft=util$5.globalScope.msCrypto.subtle.exportKey("pkcs8",ot.privateKey);ft.oncomplete=function(ht){var yt=ht.target.result,gt=pki$5.privateKeyFromAsn1(asn1$5.fromDer(forge$8.util.createBuffer(yt)));c(null,{privateKey:gt,publicKey:pki$5.setRsaPublicKey(gt.n,gt.e)})},ft.onerror=function(ht){c(ht)}},d.onerror=function(tt){c(tt)};return}}else if(_detectNodeCrypto("generateKeyPairSync")){var h=_crypto.generateKeyPairSync("rsa",{modulusLength:a,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:pki$5.privateKeyFromPem(h.privateKey),publicKey:pki$5.publicKeyFromPem(h.publicKey)}}}var et=pki$5.rsa.createKeyPairGenerationState(a,e,o);if(!c)return pki$5.rsa.stepKeyPairGenerationState(et,0),et.keys;_generateKeyPair(et,o,c)};pki$5.setRsaPublicKey=pki$5.rsa.setPublicKey=function(a,e){var o={n:a,e};return o.encrypt=function(c,d,h){if(typeof d=="string"?d=d.toUpperCase():d===void 0&&(d="RSAES-PKCS1-V1_5"),d==="RSAES-PKCS1-V1_5")d={encode:function(tt,ot,ft){return _encodePkcs1_v1_5(tt,ot,2).getBytes()}};else if(d==="RSA-OAEP"||d==="RSAES-OAEP")d={encode:function(tt,ot){return forge$8.pkcs1.encode_rsa_oaep(ot,tt,h)}};else if(["RAW","NONE","NULL",null].indexOf(d)!==-1)d={encode:function(tt){return tt}};else if(typeof d=="string")throw new Error('Unsupported encryption scheme: "'+d+'".');var et=d.encode(c,o,!0);return pki$5.rsa.encrypt(et,o,!0)},o.verify=function(c,d,h,et){typeof h=="string"?h=h.toUpperCase():h===void 0&&(h="RSASSA-PKCS1-V1_5"),et===void 0&&(et={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in et||(et._parseAllDigestBytes=!0),h==="RSASSA-PKCS1-V1_5"?h={verify:function(ot,ft){ft=_decodePkcs1_v1_5(ft,o,!0);var ht=asn1$5.fromDer(ft,{parseAllBytes:et._parseAllDigestBytes}),yt={},gt=[];if(!asn1$5.validate(ht,digestInfoValidator,yt,gt)){var wt=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw wt.errors=gt,wt}var bt=asn1$5.derToOid(yt.algorithmIdentifier);if(!(bt===forge$8.oids.md2||bt===forge$8.oids.md5||bt===forge$8.oids.sha1||bt===forge$8.oids.sha224||bt===forge$8.oids.sha256||bt===forge$8.oids.sha384||bt===forge$8.oids.sha512||bt===forge$8.oids["sha512-224"]||bt===forge$8.oids["sha512-256"])){var wt=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw wt.oid=bt,wt}if((bt===forge$8.oids.md2||bt===forge$8.oids.md5)&&!("parameters"in yt))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return ot===yt.digest}}:(h==="NONE"||h==="NULL"||h===null)&&(h={verify:function(ot,ft){return ft=_decodePkcs1_v1_5(ft,o,!0),ot===ft}});var tt=pki$5.rsa.decrypt(d,o,!0,!1);return h.verify(c,tt,o.n.bitLength())},o};pki$5.setRsaPrivateKey=pki$5.rsa.setPrivateKey=function(a,e,o,c,d,h,et,tt){var ot={n:a,e,d:o,p:c,q:d,dP:h,dQ:et,qInv:tt};return ot.decrypt=function(ft,ht,yt){typeof ht=="string"?ht=ht.toUpperCase():ht===void 0&&(ht="RSAES-PKCS1-V1_5");var gt=pki$5.rsa.decrypt(ft,ot,!1,!1);if(ht==="RSAES-PKCS1-V1_5")ht={decode:_decodePkcs1_v1_5};else if(ht==="RSA-OAEP"||ht==="RSAES-OAEP")ht={decode:function(wt,bt){return forge$8.pkcs1.decode_rsa_oaep(bt,wt,yt)}};else if(["RAW","NONE","NULL",null].indexOf(ht)!==-1)ht={decode:function(wt){return wt}};else throw new Error('Unsupported encryption scheme: "'+ht+'".');return ht.decode(gt,ot,!1)},ot.sign=function(ft,ht){var yt=!1;typeof ht=="string"&&(ht=ht.toUpperCase()),ht===void 0||ht==="RSASSA-PKCS1-V1_5"?(ht={encode:emsaPkcs1v15encode},yt=1):(ht==="NONE"||ht==="NULL"||ht===null)&&(ht={encode:function(){return ft}},yt=1);var gt=ht.encode(ft,ot.n.bitLength());return pki$5.rsa.encrypt(gt,ot,yt)},ot};pki$5.wrapRsaPrivateKey=function(a){return asn1$5.create(asn1$5.Class.UNIVERSAL,asn1$5.Type.SEQUENCE,!0,[asn1$5.create(asn1$5.Class.UNIVERSAL,asn1$5.Type.INTEGER,!1,asn1$5.integerToDer(0).getBytes()),asn1$5.create(asn1$5.Class.UNIVERSAL,asn1$5.Type.SEQUENCE,!0,[asn1$5.create(asn1$5.Class.UNIVERSAL,asn1$5.Type.OID,!1,asn1$5.oidToDer(pki$5.oids.rsaEncryption).getBytes()),asn1$5.create(asn1$5.Class.UNIVERSAL,asn1$5.Type.NULL,!1,"")]),asn1$5.create(asn1$5.Class.UNIVERSAL,asn1$5.Type.OCTETSTRING,!1,asn1$5.toDer(a).getBytes())])};pki$5.privateKeyFromAsn1=function(a){var e={},o=[];if(asn1$5.validate(a,privateKeyValidator,e,o)&&(a=asn1$5.fromDer(forge$8.util.createBuffer(e.privateKey))),e={},o=[],!asn1$5.validate(a,rsaPrivateKeyValidator,e,o)){var c=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw c.errors=o,c}var d,h,et,tt,ot,ft,ht,yt;return d=forge$8.util.createBuffer(e.privateKeyModulus).toHex(),h=forge$8.util.createBuffer(e.privateKeyPublicExponent).toHex(),et=forge$8.util.createBuffer(e.privateKeyPrivateExponent).toHex(),tt=forge$8.util.createBuffer(e.privateKeyPrime1).toHex(),ot=forge$8.util.createBuffer(e.privateKeyPrime2).toHex(),ft=forge$8.util.createBuffer(e.privateKeyExponent1).toHex(),ht=forge$8.util.createBuffer(e.privateKeyExponent2).toHex(),yt=forge$8.util.createBuffer(e.privateKeyCoefficient).toHex(),pki$5.setRsaPrivateKey(new BigInteger$1(d,16),new BigInteger$1(h,16),new BigInteger$1(et,16),new BigInteger$1(tt,16),new BigInteger$1(ot,16),new BigInteger$1(ft,16),new BigInteger$1(ht,16),new BigInteger$1(yt,16))};pki$5.privateKeyToAsn1=pki$5.privateKeyToRSAPrivateKey=function(a){return asn1$5.create(asn1$5.Class.UNIVERSAL,asn1$5.Type.SEQUENCE,!0,[asn1$5.create(asn1$5.Class.UNIVERSAL,asn1$5.Type.INTEGER,!1,asn1$5.integerToDer(0).getBytes()),asn1$5.create(asn1$5.Class.UNIVERSAL,asn1$5.Type.INTEGER,!1,_bnToBytes(a.n)),asn1$5.create(asn1$5.Class.UNIVERSAL,asn1$5.Type.INTEGER,!1,_bnToBytes(a.e)),asn1$5.create(asn1$5.Class.UNIVERSAL,asn1$5.Type.INTEGER,!1,_bnToBytes(a.d)),asn1$5.create(asn1$5.Class.UNIVERSAL,asn1$5.Type.INTEGER,!1,_bnToBytes(a.p)),asn1$5.create(asn1$5.Class.UNIVERSAL,asn1$5.Type.INTEGER,!1,_bnToBytes(a.q)),asn1$5.create(asn1$5.Class.UNIVERSAL,asn1$5.Type.INTEGER,!1,_bnToBytes(a.dP)),asn1$5.create(asn1$5.Class.UNIVERSAL,asn1$5.Type.INTEGER,!1,_bnToBytes(a.dQ)),asn1$5.create(asn1$5.Class.UNIVERSAL,asn1$5.Type.INTEGER,!1,_bnToBytes(a.qInv))])};pki$5.publicKeyFromAsn1=function(a){var e={},o=[];if(asn1$5.validate(a,publicKeyValidator$1,e,o)){var c=asn1$5.derToOid(e.publicKeyOid);if(c!==pki$5.oids.rsaEncryption){var d=new Error("Cannot read public key. Unknown OID.");throw d.oid=c,d}a=e.rsaPublicKey}if(o=[],!asn1$5.validate(a,rsaPublicKeyValidator,e,o)){var d=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw d.errors=o,d}var h=forge$8.util.createBuffer(e.publicKeyModulus).toHex(),et=forge$8.util.createBuffer(e.publicKeyExponent).toHex();return pki$5.setRsaPublicKey(new BigInteger$1(h,16),new BigInteger$1(et,16))};pki$5.publicKeyToAsn1=pki$5.publicKeyToSubjectPublicKeyInfo=function(a){return asn1$5.create(asn1$5.Class.UNIVERSAL,asn1$5.Type.SEQUENCE,!0,[asn1$5.create(asn1$5.Class.UNIVERSAL,asn1$5.Type.SEQUENCE,!0,[asn1$5.create(asn1$5.Class.UNIVERSAL,asn1$5.Type.OID,!1,asn1$5.oidToDer(pki$5.oids.rsaEncryption).getBytes()),asn1$5.create(asn1$5.Class.UNIVERSAL,asn1$5.Type.NULL,!1,"")]),asn1$5.create(asn1$5.Class.UNIVERSAL,asn1$5.Type.BITSTRING,!1,[pki$5.publicKeyToRSAPublicKey(a)])])};pki$5.publicKeyToRSAPublicKey=function(a){return asn1$5.create(asn1$5.Class.UNIVERSAL,asn1$5.Type.SEQUENCE,!0,[asn1$5.create(asn1$5.Class.UNIVERSAL,asn1$5.Type.INTEGER,!1,_bnToBytes(a.n)),asn1$5.create(asn1$5.Class.UNIVERSAL,asn1$5.Type.INTEGER,!1,_bnToBytes(a.e))])};function _encodePkcs1_v1_5(a,e,o){var c=forge$8.util.createBuffer(),d=Math.ceil(e.n.bitLength()/8);if(a.length>d-11){var h=new Error("Message is too long for PKCS#1 v1.5 padding.");throw h.length=a.length,h.max=d-11,h}c.putByte(0),c.putByte(o);var et=d-3-a.length,tt;if(o===0||o===1){tt=o===0?0:255;for(var ot=0;ot<et;++ot)c.putByte(tt)}else for(;et>0;){for(var ft=0,ht=forge$8.random.getBytes(et),ot=0;ot<et;++ot)tt=ht.charCodeAt(ot),tt===0?++ft:c.putByte(tt);et=ft}return c.putByte(0),c.putBytes(a),c}function _decodePkcs1_v1_5(a,e,o,c){var d=Math.ceil(e.n.bitLength()/8),h=forge$8.util.createBuffer(a),et=h.getByte(),tt=h.getByte();if(et!==0||o&&tt!==0&&tt!==1||!o&&tt!=2||o&&tt===0&&typeof c>"u")throw new Error("Encryption block is invalid.");var ot=0;if(tt===0){ot=d-3-c;for(var ft=0;ft<ot;++ft)if(h.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(tt===1)for(ot=0;h.length()>1;){if(h.getByte()!==255){--h.read;break}++ot}else if(tt===2)for(ot=0;h.length()>1;){if(h.getByte()===0){--h.read;break}++ot}var ht=h.getByte();if(ht!==0||ot!==d-3-h.length())throw new Error("Encryption block is invalid.");return h.getBytes()}function _generateKeyPair(a,e,o){typeof e=="function"&&(o=e,e={}),e=e||{};var c={algorithm:{name:e.algorithm||"PRIMEINC",options:{workers:e.workers||2,workLoad:e.workLoad||100,workerScript:e.workerScript}}};"prng"in e&&(c.prng=e.prng),d();function d(){h(a.pBits,function(tt,ot){if(tt)return o(tt);if(a.p=ot,a.q!==null)return et(tt,a.q);h(a.qBits,et)})}function h(tt,ot){forge$8.prime.generateProbablePrime(tt,c,ot)}function et(tt,ot){if(tt)return o(tt);if(a.q=ot,a.p.compareTo(a.q)<0){var ft=a.p;a.p=a.q,a.q=ft}if(a.p.subtract(BigInteger$1.ONE).gcd(a.e).compareTo(BigInteger$1.ONE)!==0){a.p=null,d();return}if(a.q.subtract(BigInteger$1.ONE).gcd(a.e).compareTo(BigInteger$1.ONE)!==0){a.q=null,h(a.qBits,et);return}if(a.p1=a.p.subtract(BigInteger$1.ONE),a.q1=a.q.subtract(BigInteger$1.ONE),a.phi=a.p1.multiply(a.q1),a.phi.gcd(a.e).compareTo(BigInteger$1.ONE)!==0){a.p=a.q=null,d();return}if(a.n=a.p.multiply(a.q),a.n.bitLength()!==a.bits){a.q=null,h(a.qBits,et);return}var ht=a.e.modInverse(a.phi);a.keys={privateKey:pki$5.rsa.setPrivateKey(a.n,a.e,ht,a.p,a.q,ht.mod(a.p1),ht.mod(a.q1),a.q.modInverse(a.p)),publicKey:pki$5.rsa.setPublicKey(a.n,a.e)},o(null,a.keys)}}function _bnToBytes(a){var e=a.toString(16);e[0]>="8"&&(e="00"+e);var o=forge$8.util.hexToBytes(e);return o.length>1&&(o.charCodeAt(0)===0&&!(o.charCodeAt(1)&128)||o.charCodeAt(0)===255&&(o.charCodeAt(1)&128)===128)?o.substr(1):o}function _getMillerRabinTests(a){return a<=100?27:a<=150?18:a<=200?15:a<=250?12:a<=300?9:a<=350?8:a<=400?7:a<=500?6:a<=600?5:a<=800?4:a<=1250?3:2}function _detectNodeCrypto(a){return forge$8.util.isNodejs&&typeof _crypto[a]=="function"}function _detectSubtleCrypto(a){return typeof util$5.globalScope<"u"&&typeof util$5.globalScope.crypto=="object"&&typeof util$5.globalScope.crypto.subtle=="object"&&typeof util$5.globalScope.crypto.subtle[a]=="function"}function _detectSubtleMsCrypto(a){return typeof util$5.globalScope<"u"&&typeof util$5.globalScope.msCrypto=="object"&&typeof util$5.globalScope.msCrypto.subtle=="object"&&typeof util$5.globalScope.msCrypto.subtle[a]=="function"}function _intToUint8Array(a){for(var e=forge$8.util.hexToBytes(a.toString(16)),o=new Uint8Array(e.length),c=0;c<e.length;++c)o[c]=e.charCodeAt(c);return o}var forge$7=forge$s;if(typeof BigInteger>"u")var BigInteger=forge$7.jsbn.BigInteger;var asn1$4=forge$7.asn1,pki$4=forge$7.pki=forge$7.pki||{};pki$4.pbe=forge$7.pbe=forge$7.pbe||{};var oids$1=pki$4.oids,encryptedPrivateKeyValidator={name:"EncryptedPrivateKeyInfo",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},PBES2AlgorithmsValidator={name:"PBES2Algorithms",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},pkcs12PbeParamsValidator={name:"pkcs-12PbeParams",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:asn1$4.Class.UNIVERSAL,type:asn1$4.Type.INTEGER,constructed:!1,capture:"iterations"}]};pki$4.encryptPrivateKeyInfo=function(a,e,o){o=o||{},o.saltSize=o.saltSize||8,o.count=o.count||2048,o.algorithm=o.algorithm||"aes128",o.prfAlgorithm=o.prfAlgorithm||"sha1";var c=forge$7.random.getBytesSync(o.saltSize),d=o.count,h=asn1$4.integerToDer(d),et,tt,ot;if(o.algorithm.indexOf("aes")===0||o.algorithm==="des"){var ft,ht,yt;switch(o.algorithm){case"aes128":et=16,ft=16,ht=oids$1["aes128-CBC"],yt=forge$7.aes.createEncryptionCipher;break;case"aes192":et=24,ft=16,ht=oids$1["aes192-CBC"],yt=forge$7.aes.createEncryptionCipher;break;case"aes256":et=32,ft=16,ht=oids$1["aes256-CBC"],yt=forge$7.aes.createEncryptionCipher;break;case"des":et=8,ft=8,ht=oids$1.desCBC,yt=forge$7.des.createEncryptionCipher;break;default:var gt=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw gt.algorithm=o.algorithm,gt}var wt="hmacWith"+o.prfAlgorithm.toUpperCase(),bt=prfAlgorithmToMessageDigest(wt),xt=forge$7.pkcs5.pbkdf2(e,c,d,et,bt),Et=forge$7.random.getBytesSync(ft),vt=yt(xt);vt.start(Et),vt.update(asn1$4.toDer(a)),vt.finish(),ot=vt.output.getBytes();var $t=createPbkdf2Params(c,h,et,wt);tt=asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.SEQUENCE,!0,[asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.OID,!1,asn1$4.oidToDer(oids$1.pkcs5PBES2).getBytes()),asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.SEQUENCE,!0,[asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.SEQUENCE,!0,[asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.OID,!1,asn1$4.oidToDer(oids$1.pkcs5PBKDF2).getBytes()),$t]),asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.SEQUENCE,!0,[asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.OID,!1,asn1$4.oidToDer(ht).getBytes()),asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.OCTETSTRING,!1,Et)])])])}else if(o.algorithm==="3des"){et=24;var At=new forge$7.util.ByteBuffer(c),xt=pki$4.pbe.generatePkcs12Key(e,At,1,d,et),Et=pki$4.pbe.generatePkcs12Key(e,At,2,d,et),vt=forge$7.des.createEncryptionCipher(xt);vt.start(Et),vt.update(asn1$4.toDer(a)),vt.finish(),ot=vt.output.getBytes(),tt=asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.SEQUENCE,!0,[asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.OID,!1,asn1$4.oidToDer(oids$1["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.SEQUENCE,!0,[asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.OCTETSTRING,!1,c),asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.INTEGER,!1,h.getBytes())])])}else{var gt=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw gt.algorithm=o.algorithm,gt}var kt=asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.SEQUENCE,!0,[tt,asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.OCTETSTRING,!1,ot)]);return kt};pki$4.decryptPrivateKeyInfo=function(a,e){var o=null,c={},d=[];if(!asn1$4.validate(a,encryptedPrivateKeyValidator,c,d)){var h=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw h.errors=d,h}var et=asn1$4.derToOid(c.encryptionOid),tt=pki$4.pbe.getCipher(et,c.encryptionParams,e),ot=forge$7.util.createBuffer(c.encryptedData);return tt.update(ot),tt.finish()&&(o=asn1$4.fromDer(tt.output)),o};pki$4.encryptedPrivateKeyToPem=function(a,e){var o={type:"ENCRYPTED PRIVATE KEY",body:asn1$4.toDer(a).getBytes()};return forge$7.pem.encode(o,{maxline:e})};pki$4.encryptedPrivateKeyFromPem=function(a){var e=forge$7.pem.decode(a)[0];if(e.type!=="ENCRYPTED PRIVATE KEY"){var o=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw o.headerType=e.type,o}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return asn1$4.fromDer(e.body)};pki$4.encryptRsaPrivateKey=function(a,e,o){if(o=o||{},!o.legacy){var c=pki$4.wrapRsaPrivateKey(pki$4.privateKeyToAsn1(a));return c=pki$4.encryptPrivateKeyInfo(c,e,o),pki$4.encryptedPrivateKeyToPem(c)}var d,h,et,tt;switch(o.algorithm){case"aes128":d="AES-128-CBC",et=16,h=forge$7.random.getBytesSync(16),tt=forge$7.aes.createEncryptionCipher;break;case"aes192":d="AES-192-CBC",et=24,h=forge$7.random.getBytesSync(16),tt=forge$7.aes.createEncryptionCipher;break;case"aes256":d="AES-256-CBC",et=32,h=forge$7.random.getBytesSync(16),tt=forge$7.aes.createEncryptionCipher;break;case"3des":d="DES-EDE3-CBC",et=24,h=forge$7.random.getBytesSync(8),tt=forge$7.des.createEncryptionCipher;break;case"des":d="DES-CBC",et=8,h=forge$7.random.getBytesSync(8),tt=forge$7.des.createEncryptionCipher;break;default:var ot=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+o.algorithm+'".');throw ot.algorithm=o.algorithm,ot}var ft=forge$7.pbe.opensslDeriveBytes(e,h.substr(0,8),et),ht=tt(ft);ht.start(h),ht.update(asn1$4.toDer(pki$4.privateKeyToAsn1(a))),ht.finish();var yt={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:d,parameters:forge$7.util.bytesToHex(h).toUpperCase()},body:ht.output.getBytes()};return forge$7.pem.encode(yt)};pki$4.decryptRsaPrivateKey=function(a,e){var o=null,c=forge$7.pem.decode(a)[0];if(c.type!=="ENCRYPTED PRIVATE KEY"&&c.type!=="PRIVATE KEY"&&c.type!=="RSA PRIVATE KEY"){var d=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw d.headerType=d,d}if(c.procType&&c.procType.type==="ENCRYPTED"){var h,et;switch(c.dekInfo.algorithm){case"DES-CBC":h=8,et=forge$7.des.createDecryptionCipher;break;case"DES-EDE3-CBC":h=24,et=forge$7.des.createDecryptionCipher;break;case"AES-128-CBC":h=16,et=forge$7.aes.createDecryptionCipher;break;case"AES-192-CBC":h=24,et=forge$7.aes.createDecryptionCipher;break;case"AES-256-CBC":h=32,et=forge$7.aes.createDecryptionCipher;break;case"RC2-40-CBC":h=5,et=function(yt){return forge$7.rc2.createDecryptionCipher(yt,40)};break;case"RC2-64-CBC":h=8,et=function(yt){return forge$7.rc2.createDecryptionCipher(yt,64)};break;case"RC2-128-CBC":h=16,et=function(yt){return forge$7.rc2.createDecryptionCipher(yt,128)};break;default:var d=new Error('Could not decrypt private key; unsupported encryption algorithm "'+c.dekInfo.algorithm+'".');throw d.algorithm=c.dekInfo.algorithm,d}var tt=forge$7.util.hexToBytes(c.dekInfo.parameters),ot=forge$7.pbe.opensslDeriveBytes(e,tt.substr(0,8),h),ft=et(ot);if(ft.start(tt),ft.update(forge$7.util.createBuffer(c.body)),ft.finish())o=ft.output.getBytes();else return o}else o=c.body;return c.type==="ENCRYPTED PRIVATE KEY"?o=pki$4.decryptPrivateKeyInfo(asn1$4.fromDer(o),e):o=asn1$4.fromDer(o),o!==null&&(o=pki$4.privateKeyFromAsn1(o)),o};pki$4.pbe.generatePkcs12Key=function(a,e,o,c,d,h){var et,tt;if(typeof h>"u"||h===null){if(!("sha1"in forge$7.md))throw new Error('"sha1" hash algorithm unavailable.');h=forge$7.md.sha1.create()}var ot=h.digestLength,ft=h.blockLength,ht=new forge$7.util.ByteBuffer,yt=new forge$7.util.ByteBuffer;if(a!=null){for(tt=0;tt<a.length;tt++)yt.putInt16(a.charCodeAt(tt));yt.putInt16(0)}var gt=yt.length(),wt=e.length(),bt=new forge$7.util.ByteBuffer;bt.fillWithByte(o,ft);var xt=ft*Math.ceil(wt/ft),Et=new forge$7.util.ByteBuffer;for(tt=0;tt<xt;tt++)Et.putByte(e.at(tt%wt));var vt=ft*Math.ceil(gt/ft),$t=new forge$7.util.ByteBuffer;for(tt=0;tt<vt;tt++)$t.putByte(yt.at(tt%gt));var At=Et;At.putBuffer($t);for(var kt=Math.ceil(d/ot),It=1;It<=kt;It++){var Dt=new forge$7.util.ByteBuffer;Dt.putBytes(bt.bytes()),Dt.putBytes(At.bytes());for(var Mt=0;Mt<c;Mt++)h.start(),h.update(Dt.getBytes()),Dt=h.digest();var zt=new forge$7.util.ByteBuffer;for(tt=0;tt<ft;tt++)zt.putByte(Dt.at(tt%ot));var Kt=Math.ceil(wt/ft)+Math.ceil(gt/ft),Yt=new forge$7.util.ByteBuffer;for(et=0;et<Kt;et++){var er=new forge$7.util.ByteBuffer(At.getBytes(ft)),qt=511;for(tt=zt.length()-1;tt>=0;tt--)qt=qt>>8,qt+=zt.at(tt)+er.at(tt),er.setAt(tt,qt&255);Yt.putBuffer(er)}At=Yt,ht.putBuffer(Dt)}return ht.truncate(ht.length()-d),ht};pki$4.pbe.getCipher=function(a,e,o){switch(a){case pki$4.oids.pkcs5PBES2:return pki$4.pbe.getCipherForPBES2(a,e,o);case pki$4.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case pki$4.oids["pbewithSHAAnd40BitRC2-CBC"]:return pki$4.pbe.getCipherForPKCS12PBE(a,e,o);default:var c=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw c.oid=a,c.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],c}};pki$4.pbe.getCipherForPBES2=function(a,e,o){var c={},d=[];if(!asn1$4.validate(e,PBES2AlgorithmsValidator,c,d)){var h=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw h.errors=d,h}if(a=asn1$4.derToOid(c.kdfOid),a!==pki$4.oids.pkcs5PBKDF2){var h=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw h.oid=a,h.supportedOids=["pkcs5PBKDF2"],h}if(a=asn1$4.derToOid(c.encOid),a!==pki$4.oids["aes128-CBC"]&&a!==pki$4.oids["aes192-CBC"]&&a!==pki$4.oids["aes256-CBC"]&&a!==pki$4.oids["des-EDE3-CBC"]&&a!==pki$4.oids.desCBC){var h=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw h.oid=a,h.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],h}var et=c.kdfSalt,tt=forge$7.util.createBuffer(c.kdfIterationCount);tt=tt.getInt(tt.length()<<3);var ot,ft;switch(pki$4.oids[a]){case"aes128-CBC":ot=16,ft=forge$7.aes.createDecryptionCipher;break;case"aes192-CBC":ot=24,ft=forge$7.aes.createDecryptionCipher;break;case"aes256-CBC":ot=32,ft=forge$7.aes.createDecryptionCipher;break;case"des-EDE3-CBC":ot=24,ft=forge$7.des.createDecryptionCipher;break;case"desCBC":ot=8,ft=forge$7.des.createDecryptionCipher;break}var ht=prfOidToMessageDigest(c.prfOid),yt=forge$7.pkcs5.pbkdf2(o,et,tt,ot,ht),gt=c.encIv,wt=ft(yt);return wt.start(gt),wt};pki$4.pbe.getCipherForPKCS12PBE=function(a,e,o){var c={},d=[];if(!asn1$4.validate(e,pkcs12PbeParamsValidator,c,d)){var h=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw h.errors=d,h}var et=forge$7.util.createBuffer(c.salt),tt=forge$7.util.createBuffer(c.iterations);tt=tt.getInt(tt.length()<<3);var ot,ft,ht;switch(a){case pki$4.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:ot=24,ft=8,ht=forge$7.des.startDecrypting;break;case pki$4.oids["pbewithSHAAnd40BitRC2-CBC"]:ot=5,ft=8,ht=function(xt,Et){var vt=forge$7.rc2.createDecryptionCipher(xt,40);return vt.start(Et,null),vt};break;default:var h=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw h.oid=a,h}var yt=prfOidToMessageDigest(c.prfOid),gt=pki$4.pbe.generatePkcs12Key(o,et,1,tt,ot,yt);yt.start();var wt=pki$4.pbe.generatePkcs12Key(o,et,2,tt,ft,yt);return ht(gt,wt)};pki$4.pbe.opensslDeriveBytes=function(a,e,o,c){if(typeof c>"u"||c===null){if(!("md5"in forge$7.md))throw new Error('"md5" hash algorithm unavailable.');c=forge$7.md.md5.create()}e===null&&(e="");for(var d=[hash(c,a+e)],h=16,et=1;h<o;++et,h+=16)d.push(hash(c,d[et-1]+a+e));return d.join("").substr(0,o)};function hash(a,e){return a.start().update(e).digest().getBytes()}function prfOidToMessageDigest(a){var e;if(!a)e="hmacWithSHA1";else if(e=pki$4.oids[asn1$4.derToOid(a)],!e){var o=new Error("Unsupported PRF OID.");throw o.oid=a,o.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],o}return prfAlgorithmToMessageDigest(e)}function prfAlgorithmToMessageDigest(a){var e=forge$7.md;switch(a){case"hmacWithSHA224":e=forge$7.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":a=a.substr(8).toLowerCase();break;default:var o=new Error("Unsupported PRF algorithm.");throw o.algorithm=a,o.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],o}if(!e||!(a in e))throw new Error("Unknown hash algorithm: "+a);return e[a].create()}function createPbkdf2Params(a,e,o,c){var d=asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.SEQUENCE,!0,[asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.OCTETSTRING,!1,a),asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.INTEGER,!1,e.getBytes())]);return c!=="hmacWithSHA1"&&d.value.push(asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.INTEGER,!1,forge$7.util.hexToBytes(o.toString(16))),asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.SEQUENCE,!0,[asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.OID,!1,asn1$4.oidToDer(pki$4.oids[c]).getBytes()),asn1$4.create(asn1$4.Class.UNIVERSAL,asn1$4.Type.NULL,!1,"")])),d}var forge$6=forge$s,asn1$3=forge$6.asn1,p7v=forge$6.pkcs7asn1=forge$6.pkcs7asn1||{};forge$6.pkcs7=forge$6.pkcs7||{};forge$6.pkcs7.asn1=p7v;var contentInfoValidator$1={name:"ContentInfo",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:asn1$3.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};p7v.contentInfoValidator=contentInfoValidator$1;var encryptedContentInfoValidator={name:"EncryptedContentInfo",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:asn1$3.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:asn1$3.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};p7v.envelopedDataValidator={name:"EnvelopedData",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(encryptedContentInfoValidator)};p7v.encryptedDataValidator={name:"EncryptedData",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.INTEGER,constructed:!1,capture:"version"}].concat(encryptedContentInfoValidator)};var signerValidator={name:"SignerInfo",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:asn1$3.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:asn1$3.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:asn1$3.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};p7v.signedDataValidator={name:"SignedData",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},contentInfoValidator$1,{name:"SignedData.Certificates",tagClass:asn1$3.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:asn1$3.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.SET,capture:"signerInfos",optional:!0,value:[signerValidator]}]};p7v.recipientInfoValidator={name:"RecipientInfo",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:asn1$3.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:asn1$3.Class.UNIVERSAL,type:asn1$3.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]};var forge$5=forge$s;forge$5.mgf=forge$5.mgf||{};var mgf1=forge$5.mgf.mgf1=forge$5.mgf1=forge$5.mgf1||{};mgf1.create=function(a){var e={generate:function(o,c){for(var d=new forge$5.util.ByteBuffer,h=Math.ceil(c/a.digestLength),et=0;et<h;et++){var tt=new forge$5.util.ByteBuffer;tt.putInt32(et),a.start(),a.update(o+tt.getBytes()),d.putBuffer(a.digest())}return d.truncate(d.length()-c),d.getBytes()}};return e};var forge$4=forge$s;forge$4.mgf=forge$4.mgf||{};forge$4.mgf.mgf1=forge$4.mgf1;var forge$3=forge$s,pss=forge$3.pss=forge$3.pss||{};pss.create=function(a){arguments.length===3&&(a={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var e=a.md,o=a.mgf,c=e.digestLength,d=a.salt||null;typeof d=="string"&&(d=forge$3.util.createBuffer(d));var h;if("saltLength"in a)h=a.saltLength;else if(d!==null)h=d.length();else throw new Error("Salt length not specified or specific salt not given.");if(d!==null&&d.length()!==h)throw new Error("Given salt length does not match length of given salt.");var et=a.prng||forge$3.random,tt={};return tt.encode=function(ot,ft){var ht,yt=ft-1,gt=Math.ceil(yt/8),wt=ot.digest().getBytes();if(gt<c+h+2)throw new Error("Message is too long to encrypt.");var bt;d===null?bt=et.getBytesSync(h):bt=d.bytes();var xt=new forge$3.util.ByteBuffer;xt.fillWithByte(0,8),xt.putBytes(wt),xt.putBytes(bt),e.start(),e.update(xt.getBytes());var Et=e.digest().getBytes(),vt=new forge$3.util.ByteBuffer;vt.fillWithByte(0,gt-h-c-2),vt.putByte(1),vt.putBytes(bt);var $t=vt.getBytes(),At=gt-c-1,kt=o.generate(Et,At),It="";for(ht=0;ht<At;ht++)It+=String.fromCharCode($t.charCodeAt(ht)^kt.charCodeAt(ht));var Dt=65280>>8*gt-yt&255;return It=String.fromCharCode(It.charCodeAt(0)&~Dt)+It.substr(1),It+Et+""},tt.verify=function(ot,ft,ht){var yt,gt=ht-1,wt=Math.ceil(gt/8);if(ft=ft.substr(-wt),wt<c+h+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(ft.charCodeAt(wt-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var bt=wt-c-1,xt=ft.substr(0,bt),Et=ft.substr(bt,c),vt=65280>>8*wt-gt&255;if(xt.charCodeAt(0)&vt)throw new Error("Bits beyond keysize not zero as expected.");var $t=o.generate(Et,bt),At="";for(yt=0;yt<bt;yt++)At+=String.fromCharCode(xt.charCodeAt(yt)^$t.charCodeAt(yt));At=String.fromCharCode(At.charCodeAt(0)&~vt)+At.substr(1);var kt=wt-c-h-2;for(yt=0;yt<kt;yt++)if(At.charCodeAt(yt)!==0)throw new Error("Leftmost octets not zero as expected");if(At.charCodeAt(kt)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var It=At.substr(-h),Dt=new forge$3.util.ByteBuffer;Dt.fillWithByte(0,8),Dt.putBytes(ot),Dt.putBytes(It),e.start(),e.update(Dt.getBytes());var Mt=e.digest().getBytes();return Et===Mt},tt};var forge$2=forge$s,asn1$2=forge$2.asn1,pki$3=forge$2.pki=forge$2.pki||{},oids=pki$3.oids,_shortNames={};_shortNames.CN=oids.commonName;_shortNames.commonName="CN";_shortNames.C=oids.countryName;_shortNames.countryName="C";_shortNames.L=oids.localityName;_shortNames.localityName="L";_shortNames.ST=oids.stateOrProvinceName;_shortNames.stateOrProvinceName="ST";_shortNames.O=oids.organizationName;_shortNames.organizationName="O";_shortNames.OU=oids.organizationalUnitName;_shortNames.organizationalUnitName="OU";_shortNames.E=oids.emailAddress;_shortNames.emailAddress="E";var publicKeyValidator=forge$2.pki.rsa.publicKeyValidator,x509CertificateValidator={name:"Certificate",tagClass:asn1$2.Class.UNIVERSAL,type:asn1$2.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:asn1$2.Class.UNIVERSAL,type:asn1$2.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:asn1$2.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:asn1$2.Class.UNIVERSAL,type:asn1$2.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:asn1$2.Class.UNIVERSAL,type:asn1$2.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:asn1$2.Class.UNIVERSAL,type:asn1$2.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:asn1$2.Class.UNIVERSAL,type:asn1$2.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:asn1$2.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:asn1$2.Class.UNIVERSAL,type:asn1$2.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:asn1$2.Class.UNIVERSAL,type:asn1$2.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:asn1$2.Class.UNIVERSAL,type:asn1$2.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:asn1$2.Class.UNIVERSAL,type:asn1$2.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:asn1$2.Class.UNIVERSAL,type:asn1$2.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:asn1$2.Class.UNIVERSAL,type:asn1$2.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:asn1$2.Class.UNIVERSAL,type:asn1$2.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},publicKeyValidator,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:asn1$2.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:asn1$2.Class.UNIVERSAL,type:asn1$2.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:asn1$2.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:asn1$2.Class.UNIVERSAL,type:asn1$2.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:asn1$2.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:asn1$2.Class.UNIVERSAL,type:asn1$2.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:asn1$2.Class.UNIVERSAL,type:asn1$2.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:asn1$2.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:asn1$2.Class.UNIVERSAL,type:asn1$2.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},rsassaPssParameterValidator={name:"rsapss",tagClass:asn1$2.Class.UNIVERSAL,type:asn1$2.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:asn1$2.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:asn1$2.Class.UNIVERSAL,type:asn1$2.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:asn1$2.Class.UNIVERSAL,type:asn1$2.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:asn1$2.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:asn1$2.Class.UNIVERSAL,type:asn1$2.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:asn1$2.Class.UNIVERSAL,type:asn1$2.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:asn1$2.Class.UNIVERSAL,type:asn1$2.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:asn1$2.Class.UNIVERSAL,type:asn1$2.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:asn1$2.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:asn1$2.Class.UNIVERSAL,type:asn1$2.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:asn1$2.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:asn1$2.Class.UNIVERSAL,type:asn1$2.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},certificationRequestInfoValidator={name:"CertificationRequestInfo",tagClass:asn1$2.Class.UNIVERSAL,type:asn1$2.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:asn1$2.Class.UNIVERSAL,type:asn1$2.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:asn1$2.Class.UNIVERSAL,type:asn1$2.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},publicKeyValidator,{name:"CertificationRequestInfo.attributes",tagClass:asn1$2.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:asn1$2.Class.UNIVERSAL,type:asn1$2.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:asn1$2.Class.UNIVERSAL,type:asn1$2.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:asn1$2.Class.UNIVERSAL,type:asn1$2.Type.SET,constructed:!0}]}]}]},certificationRequestValidator={name:"CertificationRequest",tagClass:asn1$2.Class.UNIVERSAL,type:asn1$2.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[certificationRequestInfoValidator,{name:"CertificationRequest.signatureAlgorithm",tagClass:asn1$2.Class.UNIVERSAL,type:asn1$2.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:asn1$2.Class.UNIVERSAL,type:asn1$2.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:asn1$2.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:asn1$2.Class.UNIVERSAL,type:asn1$2.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};pki$3.RDNAttributesAsArray=function(a,e){for(var o=[],c,d,h,et=0;et<a.value.length;++et){c=a.value[et];for(var tt=0;tt<c.value.length;++tt)h={},d=c.value[tt],h.type=asn1$2.derToOid(d.value[0].value),h.value=d.value[1].value,h.valueTagClass=d.value[1].type,h.type in oids&&(h.name=oids[h.type],h.name in _shortNames&&(h.shortName=_shortNames[h.name])),e&&(e.update(h.type),e.update(h.value)),o.push(h)}return o};pki$3.CRIAttributesAsArray=function(a){for(var e=[],o=0;o<a.length;++o)for(var c=a[o],d=asn1$2.derToOid(c.value[0].value),h=c.value[1].value,et=0;et<h.length;++et){var tt={};if(tt.type=d,tt.value=h[et].value,tt.valueTagClass=h[et].type,tt.type in oids&&(tt.name=oids[tt.type],tt.name in _shortNames&&(tt.shortName=_shortNames[tt.name])),tt.type===oids.extensionRequest){tt.extensions=[];for(var ot=0;ot<tt.value.length;++ot)tt.extensions.push(pki$3.certificateExtensionFromAsn1(tt.value[ot]))}e.push(tt)}return e};function _getAttribute(a,e){typeof e=="string"&&(e={shortName:e});for(var o=null,c,d=0;o===null&&d<a.attributes.length;++d)c=a.attributes[d],(e.type&&e.type===c.type||e.name&&e.name===c.name||e.shortName&&e.shortName===c.shortName)&&(o=c);return o}var _readSignatureParameters=function(a,e,o){var c={};if(a!==oids["RSASSA-PSS"])return c;o&&(c={hash:{algorithmOid:oids.sha1},mgf:{algorithmOid:oids.mgf1,hash:{algorithmOid:oids.sha1}},saltLength:20});var d={},h=[];if(!asn1$2.validate(e,rsassaPssParameterValidator,d,h)){var et=new Error("Cannot read RSASSA-PSS parameter block.");throw et.errors=h,et}return d.hashOid!==void 0&&(c.hash=c.hash||{},c.hash.algorithmOid=asn1$2.derToOid(d.hashOid)),d.maskGenOid!==void 0&&(c.mgf=c.mgf||{},c.mgf.algorithmOid=asn1$2.derToOid(d.maskGenOid),c.mgf.hash=c.mgf.hash||{},c.mgf.hash.algorithmOid=asn1$2.derToOid(d.maskGenHashOid)),d.saltLength!==void 0&&(c.saltLength=d.saltLength.charCodeAt(0)),c},_createSignatureDigest=function(a){switch(oids[a.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return forge$2.md.sha1.create();case"md5WithRSAEncryption":return forge$2.md.md5.create();case"sha256WithRSAEncryption":return forge$2.md.sha256.create();case"sha384WithRSAEncryption":return forge$2.md.sha384.create();case"sha512WithRSAEncryption":return forge$2.md.sha512.create();case"RSASSA-PSS":return forge$2.md.sha256.create();default:var e=new Error("Could not compute "+a.type+" digest. Unknown signature OID.");throw e.signatureOid=a.signatureOid,e}},_verifySignature=function(a){var e=a.certificate,o;switch(e.signatureOid){case oids.sha1WithRSAEncryption:case oids.sha1WithRSASignature:break;case oids["RSASSA-PSS"]:var c,d;if(c=oids[e.signatureParameters.mgf.hash.algorithmOid],c===void 0||forge$2.md[c]===void 0){var h=new Error("Unsupported MGF hash function.");throw h.oid=e.signatureParameters.mgf.hash.algorithmOid,h.name=c,h}if(d=oids[e.signatureParameters.mgf.algorithmOid],d===void 0||forge$2.mgf[d]===void 0){var h=new Error("Unsupported MGF function.");throw h.oid=e.signatureParameters.mgf.algorithmOid,h.name=d,h}if(d=forge$2.mgf[d].create(forge$2.md[c].create()),c=oids[e.signatureParameters.hash.algorithmOid],c===void 0||forge$2.md[c]===void 0){var h=new Error("Unsupported RSASSA-PSS hash function.");throw h.oid=e.signatureParameters.hash.algorithmOid,h.name=c,h}o=forge$2.pss.create(forge$2.md[c].create(),d,e.signatureParameters.saltLength);break}return e.publicKey.verify(a.md.digest().getBytes(),a.signature,o)};pki$3.certificateFromPem=function(a,e,o){var c=forge$2.pem.decode(a)[0];if(c.type!=="CERTIFICATE"&&c.type!=="X509 CERTIFICATE"&&c.type!=="TRUSTED CERTIFICATE"){var d=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw d.headerType=c.type,d}if(c.procType&&c.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var h=asn1$2.fromDer(c.body,o);return pki$3.certificateFromAsn1(h,e)};pki$3.certificateToPem=function(a,e){var o={type:"CERTIFICATE",body:asn1$2.toDer(pki$3.certificateToAsn1(a)).getBytes()};return forge$2.pem.encode(o,{maxline:e})};pki$3.publicKeyFromPem=function(a){var e=forge$2.pem.decode(a)[0];if(e.type!=="PUBLIC KEY"&&e.type!=="RSA PUBLIC KEY"){var o=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw o.headerType=e.type,o}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var c=asn1$2.fromDer(e.body);return pki$3.publicKeyFromAsn1(c)};pki$3.publicKeyToPem=function(a,e){var o={type:"PUBLIC KEY",body:asn1$2.toDer(pki$3.publicKeyToAsn1(a)).getBytes()};return forge$2.pem.encode(o,{maxline:e})};pki$3.publicKeyToRSAPublicKeyPem=function(a,e){var o={type:"RSA PUBLIC KEY",body:asn1$2.toDer(pki$3.publicKeyToRSAPublicKey(a)).getBytes()};return forge$2.pem.encode(o,{maxline:e})};pki$3.getPublicKeyFingerprint=function(a,e){e=e||{};var o=e.md||forge$2.md.sha1.create(),c=e.type||"RSAPublicKey",d;switch(c){case"RSAPublicKey":d=asn1$2.toDer(pki$3.publicKeyToRSAPublicKey(a)).getBytes();break;case"SubjectPublicKeyInfo":d=asn1$2.toDer(pki$3.publicKeyToAsn1(a)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+e.type+'".')}o.start(),o.update(d);var h=o.digest();if(e.encoding==="hex"){var et=h.toHex();return e.delimiter?et.match(/.{2}/g).join(e.delimiter):et}else{if(e.encoding==="binary")return h.getBytes();if(e.encoding)throw new Error('Unknown encoding "'+e.encoding+'".')}return h};pki$3.certificationRequestFromPem=function(a,e,o){var c=forge$2.pem.decode(a)[0];if(c.type!=="CERTIFICATE REQUEST"){var d=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw d.headerType=c.type,d}if(c.procType&&c.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var h=asn1$2.fromDer(c.body,o);return pki$3.certificationRequestFromAsn1(h,e)};pki$3.certificationRequestToPem=function(a,e){var o={type:"CERTIFICATE REQUEST",body:asn1$2.toDer(pki$3.certificationRequestToAsn1(a)).getBytes()};return forge$2.pem.encode(o,{maxline:e})};pki$3.createCertificate=function(){var a={};return a.version=2,a.serialNumber="00",a.signatureOid=null,a.signature=null,a.siginfo={},a.siginfo.algorithmOid=null,a.validity={},a.validity.notBefore=new Date,a.validity.notAfter=new Date,a.issuer={},a.issuer.getField=function(e){return _getAttribute(a.issuer,e)},a.issuer.addField=function(e){_fillMissingFields([e]),a.issuer.attributes.push(e)},a.issuer.attributes=[],a.issuer.hash=null,a.subject={},a.subject.getField=function(e){return _getAttribute(a.subject,e)},a.subject.addField=function(e){_fillMissingFields([e]),a.subject.attributes.push(e)},a.subject.attributes=[],a.subject.hash=null,a.extensions=[],a.publicKey=null,a.md=null,a.setSubject=function(e,o){_fillMissingFields(e),a.subject.attributes=e,delete a.subject.uniqueId,o&&(a.subject.uniqueId=o),a.subject.hash=null},a.setIssuer=function(e,o){_fillMissingFields(e),a.issuer.attributes=e,delete a.issuer.uniqueId,o&&(a.issuer.uniqueId=o),a.issuer.hash=null},a.setExtensions=function(e){for(var o=0;o<e.length;++o)_fillMissingExtensionFields(e[o],{cert:a});a.extensions=e},a.getExtension=function(e){typeof e=="string"&&(e={name:e});for(var o=null,c,d=0;o===null&&d<a.extensions.length;++d)c=a.extensions[d],(e.id&&c.id===e.id||e.name&&c.name===e.name)&&(o=c);return o},a.sign=function(e,o){a.md=o||forge$2.md.sha1.create();var c=oids[a.md.algorithm+"WithRSAEncryption"];if(!c){var d=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw d.algorithm=a.md.algorithm,d}a.signatureOid=a.siginfo.algorithmOid=c,a.tbsCertificate=pki$3.getTBSCertificate(a);var h=asn1$2.toDer(a.tbsCertificate);a.md.update(h.getBytes()),a.signature=e.sign(a.md)},a.verify=function(e){var o=!1;if(!a.issued(e)){var c=e.issuer,d=a.subject,h=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw h.expectedIssuer=d.attributes,h.actualIssuer=c.attributes,h}var et=e.md;if(et===null){et=_createSignatureDigest({signatureOid:e.signatureOid,type:"certificate"});var tt=e.tbsCertificate||pki$3.getTBSCertificate(e),ot=asn1$2.toDer(tt);et.update(ot.getBytes())}return et!==null&&(o=_verifySignature({certificate:a,md:et,signature:e.signature})),o},a.isIssuer=function(e){var o=!1,c=a.issuer,d=e.subject;if(c.hash&&d.hash)o=c.hash===d.hash;else if(c.attributes.length===d.attributes.length){o=!0;for(var h,et,tt=0;o&&tt<c.attributes.length;++tt)h=c.attributes[tt],et=d.attributes[tt],(h.type!==et.type||h.value!==et.value)&&(o=!1)}return o},a.issued=function(e){return e.isIssuer(a)},a.generateSubjectKeyIdentifier=function(){return pki$3.getPublicKeyFingerprint(a.publicKey,{type:"RSAPublicKey"})},a.verifySubjectKeyIdentifier=function(){for(var e=oids.subjectKeyIdentifier,o=0;o<a.extensions.length;++o){var c=a.extensions[o];if(c.id===e){var d=a.generateSubjectKeyIdentifier().getBytes();return forge$2.util.hexToBytes(c.subjectKeyIdentifier)===d}}return!1},a};pki$3.certificateFromAsn1=function(a,e){var o={},c=[];if(!asn1$2.validate(a,x509CertificateValidator,o,c)){var d=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw d.errors=c,d}var h=asn1$2.derToOid(o.publicKeyOid);if(h!==pki$3.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var et=pki$3.createCertificate();et.version=o.certVersion?o.certVersion.charCodeAt(0):0;var tt=forge$2.util.createBuffer(o.certSerialNumber);et.serialNumber=tt.toHex(),et.signatureOid=forge$2.asn1.derToOid(o.certSignatureOid),et.signatureParameters=_readSignatureParameters(et.signatureOid,o.certSignatureParams,!0),et.siginfo.algorithmOid=forge$2.asn1.derToOid(o.certinfoSignatureOid),et.siginfo.parameters=_readSignatureParameters(et.siginfo.algorithmOid,o.certinfoSignatureParams,!1),et.signature=o.certSignature;var ot=[];if(o.certValidity1UTCTime!==void 0&&ot.push(asn1$2.utcTimeToDate(o.certValidity1UTCTime)),o.certValidity2GeneralizedTime!==void 0&&ot.push(asn1$2.generalizedTimeToDate(o.certValidity2GeneralizedTime)),o.certValidity3UTCTime!==void 0&&ot.push(asn1$2.utcTimeToDate(o.certValidity3UTCTime)),o.certValidity4GeneralizedTime!==void 0&&ot.push(asn1$2.generalizedTimeToDate(o.certValidity4GeneralizedTime)),ot.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(ot.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(et.validity.notBefore=ot[0],et.validity.notAfter=ot[1],et.tbsCertificate=o.tbsCertificate,e){et.md=_createSignatureDigest({signatureOid:et.signatureOid,type:"certificate"});var ft=asn1$2.toDer(et.tbsCertificate);et.md.update(ft.getBytes())}var ht=forge$2.md.sha1.create(),yt=asn1$2.toDer(o.certIssuer);ht.update(yt.getBytes()),et.issuer.getField=function(bt){return _getAttribute(et.issuer,bt)},et.issuer.addField=function(bt){_fillMissingFields([bt]),et.issuer.attributes.push(bt)},et.issuer.attributes=pki$3.RDNAttributesAsArray(o.certIssuer),o.certIssuerUniqueId&&(et.issuer.uniqueId=o.certIssuerUniqueId),et.issuer.hash=ht.digest().toHex();var gt=forge$2.md.sha1.create(),wt=asn1$2.toDer(o.certSubject);return gt.update(wt.getBytes()),et.subject.getField=function(bt){return _getAttribute(et.subject,bt)},et.subject.addField=function(bt){_fillMissingFields([bt]),et.subject.attributes.push(bt)},et.subject.attributes=pki$3.RDNAttributesAsArray(o.certSubject),o.certSubjectUniqueId&&(et.subject.uniqueId=o.certSubjectUniqueId),et.subject.hash=gt.digest().toHex(),o.certExtensions?et.extensions=pki$3.certificateExtensionsFromAsn1(o.certExtensions):et.extensions=[],et.publicKey=pki$3.publicKeyFromAsn1(o.subjectPublicKeyInfo),et};pki$3.certificateExtensionsFromAsn1=function(a){for(var e=[],o=0;o<a.value.length;++o)for(var c=a.value[o],d=0;d<c.value.length;++d)e.push(pki$3.certificateExtensionFromAsn1(c.value[d]));return e};pki$3.certificateExtensionFromAsn1=function(a){var e={};if(e.id=asn1$2.derToOid(a.value[0].value),e.critical=!1,a.value[1].type===asn1$2.Type.BOOLEAN?(e.critical=a.value[1].value.charCodeAt(0)!==0,e.value=a.value[2].value):e.value=a.value[1].value,e.id in oids){if(e.name=oids[e.id],e.name==="keyUsage"){var o=asn1$2.fromDer(e.value),c=0,d=0;o.value.length>1&&(c=o.value.charCodeAt(1),d=o.value.length>2?o.value.charCodeAt(2):0),e.digitalSignature=(c&128)===128,e.nonRepudiation=(c&64)===64,e.keyEncipherment=(c&32)===32,e.dataEncipherment=(c&16)===16,e.keyAgreement=(c&8)===8,e.keyCertSign=(c&4)===4,e.cRLSign=(c&2)===2,e.encipherOnly=(c&1)===1,e.decipherOnly=(d&128)===128}else if(e.name==="basicConstraints"){var o=asn1$2.fromDer(e.value);o.value.length>0&&o.value[0].type===asn1$2.Type.BOOLEAN?e.cA=o.value[0].value.charCodeAt(0)!==0:e.cA=!1;var h=null;o.value.length>0&&o.value[0].type===asn1$2.Type.INTEGER?h=o.value[0].value:o.value.length>1&&(h=o.value[1].value),h!==null&&(e.pathLenConstraint=asn1$2.derToInteger(h))}else if(e.name==="extKeyUsage")for(var o=asn1$2.fromDer(e.value),et=0;et<o.value.length;++et){var tt=asn1$2.derToOid(o.value[et].value);tt in oids?e[oids[tt]]=!0:e[tt]=!0}else if(e.name==="nsCertType"){var o=asn1$2.fromDer(e.value),c=0;o.value.length>1&&(c=o.value.charCodeAt(1)),e.client=(c&128)===128,e.server=(c&64)===64,e.email=(c&32)===32,e.objsign=(c&16)===16,e.reserved=(c&8)===8,e.sslCA=(c&4)===4,e.emailCA=(c&2)===2,e.objCA=(c&1)===1}else if(e.name==="subjectAltName"||e.name==="issuerAltName"){e.altNames=[];for(var ot,o=asn1$2.fromDer(e.value),ft=0;ft<o.value.length;++ft){ot=o.value[ft];var ht={type:ot.type,value:ot.value};switch(e.altNames.push(ht),ot.type){case 1:case 2:case 6:break;case 7:ht.ip=forge$2.util.bytesToIP(ot.value);break;case 8:ht.oid=asn1$2.derToOid(ot.value);break}}}else if(e.name==="subjectKeyIdentifier"){var o=asn1$2.fromDer(e.value);e.subjectKeyIdentifier=forge$2.util.bytesToHex(o.value)}}return e};pki$3.certificationRequestFromAsn1=function(a,e){var o={},c=[];if(!asn1$2.validate(a,certificationRequestValidator,o,c)){var d=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw d.errors=c,d}var h=asn1$2.derToOid(o.publicKeyOid);if(h!==pki$3.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var et=pki$3.createCertificationRequest();if(et.version=o.csrVersion?o.csrVersion.charCodeAt(0):0,et.signatureOid=forge$2.asn1.derToOid(o.csrSignatureOid),et.signatureParameters=_readSignatureParameters(et.signatureOid,o.csrSignatureParams,!0),et.siginfo.algorithmOid=forge$2.asn1.derToOid(o.csrSignatureOid),et.siginfo.parameters=_readSignatureParameters(et.siginfo.algorithmOid,o.csrSignatureParams,!1),et.signature=o.csrSignature,et.certificationRequestInfo=o.certificationRequestInfo,e){et.md=_createSignatureDigest({signatureOid:et.signatureOid,type:"certification request"});var tt=asn1$2.toDer(et.certificationRequestInfo);et.md.update(tt.getBytes())}var ot=forge$2.md.sha1.create();return et.subject.getField=function(ft){return _getAttribute(et.subject,ft)},et.subject.addField=function(ft){_fillMissingFields([ft]),et.subject.attributes.push(ft)},et.subject.attributes=pki$3.RDNAttributesAsArray(o.certificationRequestInfoSubject,ot),et.subject.hash=ot.digest().toHex(),et.publicKey=pki$3.publicKeyFromAsn1(o.subjectPublicKeyInfo),et.getAttribute=function(ft){return _getAttribute(et,ft)},et.addAttribute=function(ft){_fillMissingFields([ft]),et.attributes.push(ft)},et.attributes=pki$3.CRIAttributesAsArray(o.certificationRequestInfoAttributes||[]),et};pki$3.createCertificationRequest=function(){var a={};return a.version=0,a.signatureOid=null,a.signature=null,a.siginfo={},a.siginfo.algorithmOid=null,a.subject={},a.subject.getField=function(e){return _getAttribute(a.subject,e)},a.subject.addField=function(e){_fillMissingFields([e]),a.subject.attributes.push(e)},a.subject.attributes=[],a.subject.hash=null,a.publicKey=null,a.attributes=[],a.getAttribute=function(e){return _getAttribute(a,e)},a.addAttribute=function(e){_fillMissingFields([e]),a.attributes.push(e)},a.md=null,a.setSubject=function(e){_fillMissingFields(e),a.subject.attributes=e,a.subject.hash=null},a.setAttributes=function(e){_fillMissingFields(e),a.attributes=e},a.sign=function(e,o){a.md=o||forge$2.md.sha1.create();var c=oids[a.md.algorithm+"WithRSAEncryption"];if(!c){var d=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw d.algorithm=a.md.algorithm,d}a.signatureOid=a.siginfo.algorithmOid=c,a.certificationRequestInfo=pki$3.getCertificationRequestInfo(a);var h=asn1$2.toDer(a.certificationRequestInfo);a.md.update(h.getBytes()),a.signature=e.sign(a.md)},a.verify=function(){var e=!1,o=a.md;if(o===null){o=_createSignatureDigest({signatureOid:a.signatureOid,type:"certification request"});var c=a.certificationRequestInfo||pki$3.getCertificationRequestInfo(a),d=asn1$2.toDer(c);o.update(d.getBytes())}return o!==null&&(e=_verifySignature({certificate:a,md:o,signature:a.signature})),e},a};function _dnToAsn1(a){for(var e=asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.SEQUENCE,!0,[]),o,c,d=a.attributes,h=0;h<d.length;++h){o=d[h];var et=o.value,tt=asn1$2.Type.PRINTABLESTRING;"valueTagClass"in o&&(tt=o.valueTagClass,tt===asn1$2.Type.UTF8&&(et=forge$2.util.encodeUtf8(et))),c=asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.SET,!0,[asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.SEQUENCE,!0,[asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.OID,!1,asn1$2.oidToDer(o.type).getBytes()),asn1$2.create(asn1$2.Class.UNIVERSAL,tt,!1,et)])]),e.value.push(c)}return e}function _fillMissingFields(a){for(var e,o=0;o<a.length;++o){if(e=a[o],typeof e.name>"u"&&(e.type&&e.type in pki$3.oids?e.name=pki$3.oids[e.type]:e.shortName&&e.shortName in _shortNames&&(e.name=pki$3.oids[_shortNames[e.shortName]])),typeof e.type>"u")if(e.name&&e.name in pki$3.oids)e.type=pki$3.oids[e.name];else{var c=new Error("Attribute type not specified.");throw c.attribute=e,c}if(typeof e.shortName>"u"&&e.name&&e.name in _shortNames&&(e.shortName=_shortNames[e.name]),e.type===oids.extensionRequest&&(e.valueConstructed=!0,e.valueTagClass=asn1$2.Type.SEQUENCE,!e.value&&e.extensions)){e.value=[];for(var d=0;d<e.extensions.length;++d)e.value.push(pki$3.certificateExtensionToAsn1(_fillMissingExtensionFields(e.extensions[d])))}if(typeof e.value>"u"){var c=new Error("Attribute value not specified.");throw c.attribute=e,c}}}function _fillMissingExtensionFields(a,e){if(e=e||{},typeof a.name>"u"&&a.id&&a.id in pki$3.oids&&(a.name=pki$3.oids[a.id]),typeof a.id>"u")if(a.name&&a.name in pki$3.oids)a.id=pki$3.oids[a.name];else{var o=new Error("Extension ID not specified.");throw o.extension=a,o}if(typeof a.value<"u")return a;if(a.name==="keyUsage"){var c=0,d=0,h=0;a.digitalSignature&&(d|=128,c=7),a.nonRepudiation&&(d|=64,c=6),a.keyEncipherment&&(d|=32,c=5),a.dataEncipherment&&(d|=16,c=4),a.keyAgreement&&(d|=8,c=3),a.keyCertSign&&(d|=4,c=2),a.cRLSign&&(d|=2,c=1),a.encipherOnly&&(d|=1,c=0),a.decipherOnly&&(h|=128,c=7);var et=String.fromCharCode(c);h!==0?et+=String.fromCharCode(d)+String.fromCharCode(h):d!==0&&(et+=String.fromCharCode(d)),a.value=asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.BITSTRING,!1,et)}else if(a.name==="basicConstraints")a.value=asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.SEQUENCE,!0,[]),a.cA&&a.value.value.push(asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.BOOLEAN,!1,"")),"pathLenConstraint"in a&&a.value.value.push(asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.INTEGER,!1,asn1$2.integerToDer(a.pathLenConstraint).getBytes()));else if(a.name==="extKeyUsage"){a.value=asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.SEQUENCE,!0,[]);var tt=a.value.value;for(var ot in a)a[ot]===!0&&(ot in oids?tt.push(asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.OID,!1,asn1$2.oidToDer(oids[ot]).getBytes())):ot.indexOf(".")!==-1&&tt.push(asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.OID,!1,asn1$2.oidToDer(ot).getBytes())))}else if(a.name==="nsCertType"){var c=0,d=0;a.client&&(d|=128,c=7),a.server&&(d|=64,c=6),a.email&&(d|=32,c=5),a.objsign&&(d|=16,c=4),a.reserved&&(d|=8,c=3),a.sslCA&&(d|=4,c=2),a.emailCA&&(d|=2,c=1),a.objCA&&(d|=1,c=0);var et=String.fromCharCode(c);d!==0&&(et+=String.fromCharCode(d)),a.value=asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.BITSTRING,!1,et)}else if(a.name==="subjectAltName"||a.name==="issuerAltName"){a.value=asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.SEQUENCE,!0,[]);for(var ft,ht=0;ht<a.altNames.length;++ht){ft=a.altNames[ht];var et=ft.value;if(ft.type===7&&ft.ip){if(et=forge$2.util.bytesFromIP(ft.ip),et===null){var o=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw o.extension=a,o}}else ft.type===8&&(ft.oid?et=asn1$2.oidToDer(asn1$2.oidToDer(ft.oid)):et=asn1$2.oidToDer(et));a.value.value.push(asn1$2.create(asn1$2.Class.CONTEXT_SPECIFIC,ft.type,!1,et))}}else if(a.name==="nsComment"&&e.cert){if(!/^[\x00-\x7F]*$/.test(a.comment)||a.comment.length<1||a.comment.length>128)throw new Error('Invalid "nsComment" content.');a.value=asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.IA5STRING,!1,a.comment)}else if(a.name==="subjectKeyIdentifier"&&e.cert){var yt=e.cert.generateSubjectKeyIdentifier();a.subjectKeyIdentifier=yt.toHex(),a.value=asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.OCTETSTRING,!1,yt.getBytes())}else if(a.name==="authorityKeyIdentifier"&&e.cert){a.value=asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.SEQUENCE,!0,[]);var tt=a.value.value;if(a.keyIdentifier){var gt=a.keyIdentifier===!0?e.cert.generateSubjectKeyIdentifier().getBytes():a.keyIdentifier;tt.push(asn1$2.create(asn1$2.Class.CONTEXT_SPECIFIC,0,!1,gt))}if(a.authorityCertIssuer){var wt=[asn1$2.create(asn1$2.Class.CONTEXT_SPECIFIC,4,!0,[_dnToAsn1(a.authorityCertIssuer===!0?e.cert.issuer:a.authorityCertIssuer)])];tt.push(asn1$2.create(asn1$2.Class.CONTEXT_SPECIFIC,1,!0,wt))}if(a.serialNumber){var bt=forge$2.util.hexToBytes(a.serialNumber===!0?e.cert.serialNumber:a.serialNumber);tt.push(asn1$2.create(asn1$2.Class.CONTEXT_SPECIFIC,2,!1,bt))}}else if(a.name==="cRLDistributionPoints"){a.value=asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.SEQUENCE,!0,[]);for(var tt=a.value.value,xt=asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.SEQUENCE,!0,[]),Et=asn1$2.create(asn1$2.Class.CONTEXT_SPECIFIC,0,!0,[]),ft,ht=0;ht<a.altNames.length;++ht){ft=a.altNames[ht];var et=ft.value;if(ft.type===7&&ft.ip){if(et=forge$2.util.bytesFromIP(ft.ip),et===null){var o=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw o.extension=a,o}}else ft.type===8&&(ft.oid?et=asn1$2.oidToDer(asn1$2.oidToDer(ft.oid)):et=asn1$2.oidToDer(et));Et.value.push(asn1$2.create(asn1$2.Class.CONTEXT_SPECIFIC,ft.type,!1,et))}xt.value.push(asn1$2.create(asn1$2.Class.CONTEXT_SPECIFIC,0,!0,[Et])),tt.push(xt)}if(typeof a.value>"u"){var o=new Error("Extension value not specified.");throw o.extension=a,o}return a}function _signatureParametersToAsn1(a,e){switch(a){case oids["RSASSA-PSS"]:var o=[];return e.hash.algorithmOid!==void 0&&o.push(asn1$2.create(asn1$2.Class.CONTEXT_SPECIFIC,0,!0,[asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.SEQUENCE,!0,[asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.OID,!1,asn1$2.oidToDer(e.hash.algorithmOid).getBytes()),asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.NULL,!1,"")])])),e.mgf.algorithmOid!==void 0&&o.push(asn1$2.create(asn1$2.Class.CONTEXT_SPECIFIC,1,!0,[asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.SEQUENCE,!0,[asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.OID,!1,asn1$2.oidToDer(e.mgf.algorithmOid).getBytes()),asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.SEQUENCE,!0,[asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.OID,!1,asn1$2.oidToDer(e.mgf.hash.algorithmOid).getBytes()),asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.NULL,!1,"")])])])),e.saltLength!==void 0&&o.push(asn1$2.create(asn1$2.Class.CONTEXT_SPECIFIC,2,!0,[asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.INTEGER,!1,asn1$2.integerToDer(e.saltLength).getBytes())])),asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.SEQUENCE,!0,o);default:return asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.NULL,!1,"")}}function _CRIAttributesToAsn1(a){var e=asn1$2.create(asn1$2.Class.CONTEXT_SPECIFIC,0,!0,[]);if(a.attributes.length===0)return e;for(var o=a.attributes,c=0;c<o.length;++c){var d=o[c],h=d.value,et=asn1$2.Type.UTF8;"valueTagClass"in d&&(et=d.valueTagClass),et===asn1$2.Type.UTF8&&(h=forge$2.util.encodeUtf8(h));var tt=!1;"valueConstructed"in d&&(tt=d.valueConstructed);var ot=asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.SEQUENCE,!0,[asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.OID,!1,asn1$2.oidToDer(d.type).getBytes()),asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.SET,!0,[asn1$2.create(asn1$2.Class.UNIVERSAL,et,tt,h)])]);e.value.push(ot)}return e}var jan_1_1950=new Date("1950-01-01T00:00:00Z"),jan_1_2050=new Date("2050-01-01T00:00:00Z");function _dateToAsn1(a){return a>=jan_1_1950&&a<jan_1_2050?asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.UTCTIME,!1,asn1$2.dateToUtcTime(a)):asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.GENERALIZEDTIME,!1,asn1$2.dateToGeneralizedTime(a))}pki$3.getTBSCertificate=function(a){var e=_dateToAsn1(a.validity.notBefore),o=_dateToAsn1(a.validity.notAfter),c=asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.SEQUENCE,!0,[asn1$2.create(asn1$2.Class.CONTEXT_SPECIFIC,0,!0,[asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.INTEGER,!1,asn1$2.integerToDer(a.version).getBytes())]),asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.INTEGER,!1,forge$2.util.hexToBytes(a.serialNumber)),asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.SEQUENCE,!0,[asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.OID,!1,asn1$2.oidToDer(a.siginfo.algorithmOid).getBytes()),_signatureParametersToAsn1(a.siginfo.algorithmOid,a.siginfo.parameters)]),_dnToAsn1(a.issuer),asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.SEQUENCE,!0,[e,o]),_dnToAsn1(a.subject),pki$3.publicKeyToAsn1(a.publicKey)]);return a.issuer.uniqueId&&c.value.push(asn1$2.create(asn1$2.Class.CONTEXT_SPECIFIC,1,!0,[asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.BITSTRING,!1,"\0"+a.issuer.uniqueId)])),a.subject.uniqueId&&c.value.push(asn1$2.create(asn1$2.Class.CONTEXT_SPECIFIC,2,!0,[asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.BITSTRING,!1,"\0"+a.subject.uniqueId)])),a.extensions.length>0&&c.value.push(pki$3.certificateExtensionsToAsn1(a.extensions)),c};pki$3.getCertificationRequestInfo=function(a){var e=asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.SEQUENCE,!0,[asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.INTEGER,!1,asn1$2.integerToDer(a.version).getBytes()),_dnToAsn1(a.subject),pki$3.publicKeyToAsn1(a.publicKey),_CRIAttributesToAsn1(a)]);return e};pki$3.distinguishedNameToAsn1=function(a){return _dnToAsn1(a)};pki$3.certificateToAsn1=function(a){var e=a.tbsCertificate||pki$3.getTBSCertificate(a);return asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.SEQUENCE,!0,[e,asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.SEQUENCE,!0,[asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.OID,!1,asn1$2.oidToDer(a.signatureOid).getBytes()),_signatureParametersToAsn1(a.signatureOid,a.signatureParameters)]),asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.BITSTRING,!1,"\0"+a.signature)])};pki$3.certificateExtensionsToAsn1=function(a){var e=asn1$2.create(asn1$2.Class.CONTEXT_SPECIFIC,3,!0,[]),o=asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.SEQUENCE,!0,[]);e.value.push(o);for(var c=0;c<a.length;++c)o.value.push(pki$3.certificateExtensionToAsn1(a[c]));return e};pki$3.certificateExtensionToAsn1=function(a){var e=asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.SEQUENCE,!0,[]);e.value.push(asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.OID,!1,asn1$2.oidToDer(a.id).getBytes())),a.critical&&e.value.push(asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.BOOLEAN,!1,""));var o=a.value;return typeof a.value!="string"&&(o=asn1$2.toDer(o).getBytes()),e.value.push(asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.OCTETSTRING,!1,o)),e};pki$3.certificationRequestToAsn1=function(a){var e=a.certificationRequestInfo||pki$3.getCertificationRequestInfo(a);return asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.SEQUENCE,!0,[e,asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.SEQUENCE,!0,[asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.OID,!1,asn1$2.oidToDer(a.signatureOid).getBytes()),_signatureParametersToAsn1(a.signatureOid,a.signatureParameters)]),asn1$2.create(asn1$2.Class.UNIVERSAL,asn1$2.Type.BITSTRING,!1,"\0"+a.signature)])};pki$3.createCaStore=function(a){var e={certs:{}};e.getIssuer=function(et){var tt=o(et.issuer);return tt},e.addCertificate=function(et){if(typeof et=="string"&&(et=forge$2.pki.certificateFromPem(et)),c(et.subject),!e.hasCertificate(et))if(et.subject.hash in e.certs){var tt=e.certs[et.subject.hash];forge$2.util.isArray(tt)||(tt=[tt]),tt.push(et),e.certs[et.subject.hash]=tt}else e.certs[et.subject.hash]=et},e.hasCertificate=function(et){typeof et=="string"&&(et=forge$2.pki.certificateFromPem(et));var tt=o(et.subject);if(!tt)return!1;forge$2.util.isArray(tt)||(tt=[tt]);for(var ot=asn1$2.toDer(pki$3.certificateToAsn1(et)).getBytes(),ft=0;ft<tt.length;++ft){var ht=asn1$2.toDer(pki$3.certificateToAsn1(tt[ft])).getBytes();if(ot===ht)return!0}return!1},e.listAllCertificates=function(){var et=[];for(var tt in e.certs)if(e.certs.hasOwnProperty(tt)){var ot=e.certs[tt];if(!forge$2.util.isArray(ot))et.push(ot);else for(var ft=0;ft<ot.length;++ft)et.push(ot[ft])}return et},e.removeCertificate=function(et){var tt;if(typeof et=="string"&&(et=forge$2.pki.certificateFromPem(et)),c(et.subject),!e.hasCertificate(et))return null;var ot=o(et.subject);if(!forge$2.util.isArray(ot))return tt=e.certs[et.subject.hash],delete e.certs[et.subject.hash],tt;for(var ft=asn1$2.toDer(pki$3.certificateToAsn1(et)).getBytes(),ht=0;ht<ot.length;++ht){var yt=asn1$2.toDer(pki$3.certificateToAsn1(ot[ht])).getBytes();ft===yt&&(tt=ot[ht],ot.splice(ht,1))}return ot.length===0&&delete e.certs[et.subject.hash],tt};function o(et){return c(et),e.certs[et.hash]||null}function c(et){if(!et.hash){var tt=forge$2.md.sha1.create();et.attributes=pki$3.RDNAttributesAsArray(_dnToAsn1(et),tt),et.hash=tt.digest().toHex()}}if(a)for(var d=0;d<a.length;++d){var h=a[d];e.addCertificate(h)}return e};pki$3.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};pki$3.verifyCertificateChain=function(a,e,o){typeof o=="function"&&(o={verify:o}),o=o||{},e=e.slice(0);var c=e.slice(0),d=o.validityCheckDate;typeof d>"u"&&(d=new Date);var h=!0,et=null,tt=0;do{var ot=e.shift(),ft=null,ht=!1;if(d&&(d<ot.validity.notBefore||d>ot.validity.notAfter)&&(et={message:"Certificate is not valid yet or has expired.",error:pki$3.certificateError.certificate_expired,notBefore:ot.validity.notBefore,notAfter:ot.validity.notAfter,now:d}),et===null){if(ft=e[0]||a.getIssuer(ot),ft===null&&ot.isIssuer(ot)&&(ht=!0,ft=ot),ft){var yt=ft;forge$2.util.isArray(yt)||(yt=[yt]);for(var gt=!1;!gt&&yt.length>0;){ft=yt.shift();try{gt=ft.verify(ot)}catch{}}gt||(et={message:"Certificate signature is invalid.",error:pki$3.certificateError.bad_certificate})}et===null&&(!ft||ht)&&!a.hasCertificate(ot)&&(et={message:"Certificate is not trusted.",error:pki$3.certificateError.unknown_ca})}if(et===null&&ft&&!ot.isIssuer(ft)&&(et={message:"Certificate issuer is invalid.",error:pki$3.certificateError.bad_certificate}),et===null)for(var wt={keyUsage:!0,basicConstraints:!0},bt=0;et===null&&bt<ot.extensions.length;++bt){var xt=ot.extensions[bt];xt.critical&&!(xt.name in wt)&&(et={message:"Certificate has an unsupported critical extension.",error:pki$3.certificateError.unsupported_certificate})}if(et===null&&(!h||e.length===0&&(!ft||ht))){var Et=ot.getExtension("basicConstraints"),vt=ot.getExtension("keyUsage");if(vt!==null&&(!vt.keyCertSign||Et===null)&&(et={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:pki$3.certificateError.bad_certificate}),et===null&&Et!==null&&!Et.cA&&(et={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:pki$3.certificateError.bad_certificate}),et===null&&vt!==null&&"pathLenConstraint"in Et){var $t=tt-1;$t>Et.pathLenConstraint&&(et={message:"Certificate basicConstraints pathLenConstraint violated.",error:pki$3.certificateError.bad_certificate})}}var At=et===null?!0:et.error,kt=o.verify?o.verify(At,tt,c):At;if(kt===!0)et=null;else throw At===!0&&(et={message:"The application rejected the certificate.",error:pki$3.certificateError.bad_certificate}),(kt||kt===0)&&(typeof kt=="object"&&!forge$2.util.isArray(kt)?(kt.message&&(et.message=kt.message),kt.error&&(et.error=kt.error)):typeof kt=="string"&&(et.error=kt)),et;h=!1,++tt}while(e.length>0);return!0};var forge$1=forge$s,asn1$1=forge$1.asn1,pki$2=forge$1.pki,p12=forge$1.pkcs12=forge$1.pkcs12||{},contentInfoValidator={name:"ContentInfo",tagClass:asn1$1.Class.UNIVERSAL,type:asn1$1.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:asn1$1.Class.UNIVERSAL,type:asn1$1.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:asn1$1.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},pfxValidator={name:"PFX",tagClass:asn1$1.Class.UNIVERSAL,type:asn1$1.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:asn1$1.Class.UNIVERSAL,type:asn1$1.Type.INTEGER,constructed:!1,capture:"version"},contentInfoValidator,{name:"PFX.macData",tagClass:asn1$1.Class.UNIVERSAL,type:asn1$1.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:asn1$1.Class.UNIVERSAL,type:asn1$1.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:asn1$1.Class.UNIVERSAL,type:asn1$1.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:asn1$1.Class.UNIVERSAL,type:asn1$1.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:asn1$1.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:asn1$1.Class.UNIVERSAL,type:asn1$1.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:asn1$1.Class.UNIVERSAL,type:asn1$1.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:asn1$1.Class.UNIVERSAL,type:asn1$1.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},safeBagValidator={name:"SafeBag",tagClass:asn1$1.Class.UNIVERSAL,type:asn1$1.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:asn1$1.Class.UNIVERSAL,type:asn1$1.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:asn1$1.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:asn1$1.Class.UNIVERSAL,type:asn1$1.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},attributeValidator={name:"Attribute",tagClass:asn1$1.Class.UNIVERSAL,type:asn1$1.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:asn1$1.Class.UNIVERSAL,type:asn1$1.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:asn1$1.Class.UNIVERSAL,type:asn1$1.Type.SET,constructed:!0,capture:"values"}]},certBagValidator={name:"CertBag",tagClass:asn1$1.Class.UNIVERSAL,type:asn1$1.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:asn1$1.Class.UNIVERSAL,type:asn1$1.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:asn1$1.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:asn1$1.Class.UNIVERSAL,type:asn1$1.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function _getBagsByAttribute(a,e,o,c){for(var d=[],h=0;h<a.length;h++)for(var et=0;et<a[h].safeBags.length;et++){var tt=a[h].safeBags[et];if(!(c!==void 0&&tt.type!==c)){if(e===null){d.push(tt);continue}tt.attributes[e]!==void 0&&tt.attributes[e].indexOf(o)>=0&&d.push(tt)}}return d}p12.pkcs12FromAsn1=function(a,e,o){typeof e=="string"?(o=e,e=!0):e===void 0&&(e=!0);var c={},d=[];if(!asn1$1.validate(a,pfxValidator,c,d)){var h=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw h.errors=h,h}var et={version:c.version.charCodeAt(0),safeContents:[],getBags:function(Et){var vt={},$t;return"localKeyId"in Et?$t=Et.localKeyId:"localKeyIdHex"in Et&&($t=forge$1.util.hexToBytes(Et.localKeyIdHex)),$t===void 0&&!("friendlyName"in Et)&&"bagType"in Et&&(vt[Et.bagType]=_getBagsByAttribute(et.safeContents,null,null,Et.bagType)),$t!==void 0&&(vt.localKeyId=_getBagsByAttribute(et.safeContents,"localKeyId",$t,Et.bagType)),"friendlyName"in Et&&(vt.friendlyName=_getBagsByAttribute(et.safeContents,"friendlyName",Et.friendlyName,Et.bagType)),vt},getBagsByFriendlyName:function(Et,vt){return _getBagsByAttribute(et.safeContents,"friendlyName",Et,vt)},getBagsByLocalKeyId:function(Et,vt){return _getBagsByAttribute(et.safeContents,"localKeyId",Et,vt)}};if(c.version.charCodeAt(0)!==3){var h=new Error("PKCS#12 PFX of version other than 3 not supported.");throw h.version=c.version.charCodeAt(0),h}if(asn1$1.derToOid(c.contentType)!==pki$2.oids.data){var h=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw h.oid=asn1$1.derToOid(c.contentType),h}var tt=c.content.value[0];if(tt.tagClass!==asn1$1.Class.UNIVERSAL||tt.type!==asn1$1.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(tt=_decodePkcs7Data(tt),c.mac){var ot=null,ft=0,ht=asn1$1.derToOid(c.macAlgorithm);switch(ht){case pki$2.oids.sha1:ot=forge$1.md.sha1.create(),ft=20;break;case pki$2.oids.sha256:ot=forge$1.md.sha256.create(),ft=32;break;case pki$2.oids.sha384:ot=forge$1.md.sha384.create(),ft=48;break;case pki$2.oids.sha512:ot=forge$1.md.sha512.create(),ft=64;break;case pki$2.oids.md5:ot=forge$1.md.md5.create(),ft=16;break}if(ot===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+ht);var yt=new forge$1.util.ByteBuffer(c.macSalt),gt="macIterations"in c?parseInt(forge$1.util.bytesToHex(c.macIterations),16):1,wt=p12.generateKey(o,yt,3,gt,ft,ot),bt=forge$1.hmac.create();bt.start(ot,wt),bt.update(tt.value);var xt=bt.getMac();if(xt.getBytes()!==c.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return _decodeAuthenticatedSafe(et,tt.value,e,o),et};function _decodePkcs7Data(a){if(a.composed||a.constructed){for(var e=forge$1.util.createBuffer(),o=0;o<a.value.length;++o)e.putBytes(a.value[o].value);a.composed=a.constructed=!1,a.value=e.getBytes()}return a}function _decodeAuthenticatedSafe(a,e,o,c){if(e=asn1$1.fromDer(e,o),e.tagClass!==asn1$1.Class.UNIVERSAL||e.type!==asn1$1.Type.SEQUENCE||e.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var d=0;d<e.value.length;d++){var h=e.value[d],et={},tt=[];if(!asn1$1.validate(h,contentInfoValidator,et,tt)){var ot=new Error("Cannot read ContentInfo.");throw ot.errors=tt,ot}var ft={encrypted:!1},ht=null,yt=et.content.value[0];switch(asn1$1.derToOid(et.contentType)){case pki$2.oids.data:if(yt.tagClass!==asn1$1.Class.UNIVERSAL||yt.type!==asn1$1.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");ht=_decodePkcs7Data(yt).value;break;case pki$2.oids.encryptedData:ht=_decryptSafeContents(yt,c),ft.encrypted=!0;break;default:var ot=new Error("Unsupported PKCS#12 contentType.");throw ot.contentType=asn1$1.derToOid(et.contentType),ot}ft.safeBags=_decodeSafeContents(ht,o,c),a.safeContents.push(ft)}}function _decryptSafeContents(a,e){var o={},c=[];if(!asn1$1.validate(a,forge$1.pkcs7.asn1.encryptedDataValidator,o,c)){var d=new Error("Cannot read EncryptedContentInfo.");throw d.errors=c,d}var h=asn1$1.derToOid(o.contentType);if(h!==pki$2.oids.data){var d=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw d.oid=h,d}h=asn1$1.derToOid(o.encAlgorithm);var et=pki$2.pbe.getCipher(h,o.encParameter,e),tt=_decodePkcs7Data(o.encryptedContentAsn1),ot=forge$1.util.createBuffer(tt.value);if(et.update(ot),!et.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return et.output.getBytes()}function _decodeSafeContents(a,e,o){if(!e&&a.length===0)return[];if(a=asn1$1.fromDer(a,e),a.tagClass!==asn1$1.Class.UNIVERSAL||a.type!==asn1$1.Type.SEQUENCE||a.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var c=[],d=0;d<a.value.length;d++){var h=a.value[d],et={},tt=[];if(!asn1$1.validate(h,safeBagValidator,et,tt)){var ot=new Error("Cannot read SafeBag.");throw ot.errors=tt,ot}var ft={type:asn1$1.derToOid(et.bagId),attributes:_decodeBagAttributes(et.bagAttributes)};c.push(ft);var ht,yt,gt=et.bagValue.value[0];switch(ft.type){case pki$2.oids.pkcs8ShroudedKeyBag:if(gt=pki$2.decryptPrivateKeyInfo(gt,o),gt===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case pki$2.oids.keyBag:try{ft.key=pki$2.privateKeyFromAsn1(gt)}catch{ft.key=null,ft.asn1=gt}continue;case pki$2.oids.certBag:ht=certBagValidator,yt=function(){if(asn1$1.derToOid(et.certId)!==pki$2.oids.x509Certificate){var bt=new Error("Unsupported certificate type, only X.509 supported.");throw bt.oid=asn1$1.derToOid(et.certId),bt}var xt=asn1$1.fromDer(et.cert,e);try{ft.cert=pki$2.certificateFromAsn1(xt,!0)}catch{ft.cert=null,ft.asn1=xt}};break;default:var ot=new Error("Unsupported PKCS#12 SafeBag type.");throw ot.oid=ft.type,ot}if(ht!==void 0&&!asn1$1.validate(gt,ht,et,tt)){var ot=new Error("Cannot read PKCS#12 "+ht.name);throw ot.errors=tt,ot}yt()}return c}function _decodeBagAttributes(a){var e={};if(a!==void 0)for(var o=0;o<a.length;++o){var c={},d=[];if(!asn1$1.validate(a[o],attributeValidator,c,d)){var h=new Error("Cannot read PKCS#12 BagAttribute.");throw h.errors=d,h}var et=asn1$1.derToOid(c.oid);if(pki$2.oids[et]!==void 0){e[pki$2.oids[et]]=[];for(var tt=0;tt<c.values.length;++tt)e[pki$2.oids[et]].push(c.values[tt].value)}}return e}p12.toPkcs12Asn1=function(a,e,o,c){c=c||{},c.saltSize=c.saltSize||8,c.count=c.count||2048,c.algorithm=c.algorithm||c.encAlgorithm||"aes128","useMac"in c||(c.useMac=!0),"localKeyId"in c||(c.localKeyId=null),"generateLocalKeyId"in c||(c.generateLocalKeyId=!0);var d=c.localKeyId,h;if(d!==null)d=forge$1.util.hexToBytes(d);else if(c.generateLocalKeyId)if(e){var et=forge$1.util.isArray(e)?e[0]:e;typeof et=="string"&&(et=pki$2.certificateFromPem(et));var tt=forge$1.md.sha1.create();tt.update(asn1$1.toDer(pki$2.certificateToAsn1(et)).getBytes()),d=tt.digest().getBytes()}else d=forge$1.random.getBytes(20);var ot=[];d!==null&&ot.push(asn1$1.create(asn1$1.Class.UNIVERSAL,asn1$1.Type.SEQUENCE,!0,[asn1$1.create(asn1$1.Class.UNIVERSAL,asn1$1.Type.OID,!1,asn1$1.oidToDer(pki$2.oids.localKeyId).getBytes()),asn1$1.create(asn1$1.Class.UNIVERSAL,asn1$1.Type.SET,!0,[asn1$1.create(asn1$1.Class.UNIVERSAL,asn1$1.Type.OCTETSTRING,!1,d)])])),"friendlyName"in c&&ot.push(asn1$1.create(asn1$1.Class.UNIVERSAL,asn1$1.Type.SEQUENCE,!0,[asn1$1.create(asn1$1.Class.UNIVERSAL,asn1$1.Type.OID,!1,asn1$1.oidToDer(pki$2.oids.friendlyName).getBytes()),asn1$1.create(asn1$1.Class.UNIVERSAL,asn1$1.Type.SET,!0,[asn1$1.create(asn1$1.Class.UNIVERSAL,asn1$1.Type.BMPSTRING,!1,c.friendlyName)])])),ot.length>0&&(h=asn1$1.create(asn1$1.Class.UNIVERSAL,asn1$1.Type.SET,!0,ot));var ft=[],ht=[];e!==null&&(forge$1.util.isArray(e)?ht=e:ht=[e]);for(var yt=[],gt=0;gt<ht.length;++gt){e=ht[gt],typeof e=="string"&&(e=pki$2.certificateFromPem(e));var wt=gt===0?h:void 0,bt=pki$2.certificateToAsn1(e),xt=asn1$1.create(asn1$1.Class.UNIVERSAL,asn1$1.Type.SEQUENCE,!0,[asn1$1.create(asn1$1.Class.UNIVERSAL,asn1$1.Type.OID,!1,asn1$1.oidToDer(pki$2.oids.certBag).getBytes()),asn1$1.create(asn1$1.Class.CONTEXT_SPECIFIC,0,!0,[asn1$1.create(asn1$1.Class.UNIVERSAL,asn1$1.Type.SEQUENCE,!0,[asn1$1.create(asn1$1.Class.UNIVERSAL,asn1$1.Type.OID,!1,asn1$1.oidToDer(pki$2.oids.x509Certificate).getBytes()),asn1$1.create(asn1$1.Class.CONTEXT_SPECIFIC,0,!0,[asn1$1.create(asn1$1.Class.UNIVERSAL,asn1$1.Type.OCTETSTRING,!1,asn1$1.toDer(bt).getBytes())])])]),wt]);yt.push(xt)}if(yt.length>0){var Et=asn1$1.create(asn1$1.Class.UNIVERSAL,asn1$1.Type.SEQUENCE,!0,yt),vt=asn1$1.create(asn1$1.Class.UNIVERSAL,asn1$1.Type.SEQUENCE,!0,[asn1$1.create(asn1$1.Class.UNIVERSAL,asn1$1.Type.OID,!1,asn1$1.oidToDer(pki$2.oids.data).getBytes()),asn1$1.create(asn1$1.Class.CONTEXT_SPECIFIC,0,!0,[asn1$1.create(asn1$1.Class.UNIVERSAL,asn1$1.Type.OCTETSTRING,!1,asn1$1.toDer(Et).getBytes())])]);ft.push(vt)}var $t=null;if(a!==null){var At=pki$2.wrapRsaPrivateKey(pki$2.privateKeyToAsn1(a));o===null?$t=asn1$1.create(asn1$1.Class.UNIVERSAL,asn1$1.Type.SEQUENCE,!0,[asn1$1.create(asn1$1.Class.UNIVERSAL,asn1$1.Type.OID,!1,asn1$1.oidToDer(pki$2.oids.keyBag).getBytes()),asn1$1.create(asn1$1.Class.CONTEXT_SPECIFIC,0,!0,[At]),h]):$t=asn1$1.create(asn1$1.Class.UNIVERSAL,asn1$1.Type.SEQUENCE,!0,[asn1$1.create(asn1$1.Class.UNIVERSAL,asn1$1.Type.OID,!1,asn1$1.oidToDer(pki$2.oids.pkcs8ShroudedKeyBag).getBytes()),asn1$1.create(asn1$1.Class.CONTEXT_SPECIFIC,0,!0,[pki$2.encryptPrivateKeyInfo(At,o,c)]),h]);var kt=asn1$1.create(asn1$1.Class.UNIVERSAL,asn1$1.Type.SEQUENCE,!0,[$t]),It=asn1$1.create(asn1$1.Class.UNIVERSAL,asn1$1.Type.SEQUENCE,!0,[asn1$1.create(asn1$1.Class.UNIVERSAL,asn1$1.Type.OID,!1,asn1$1.oidToDer(pki$2.oids.data).getBytes()),asn1$1.create(asn1$1.Class.CONTEXT_SPECIFIC,0,!0,[asn1$1.create(asn1$1.Class.UNIVERSAL,asn1$1.Type.OCTETSTRING,!1,asn1$1.toDer(kt).getBytes())])]);ft.push(It)}var Dt=asn1$1.create(asn1$1.Class.UNIVERSAL,asn1$1.Type.SEQUENCE,!0,ft),Mt;if(c.useMac){var tt=forge$1.md.sha1.create(),zt=new forge$1.util.ByteBuffer(forge$1.random.getBytes(c.saltSize)),Kt=c.count,a=p12.generateKey(o,zt,3,Kt,20),Yt=forge$1.hmac.create();Yt.start(tt,a),Yt.update(asn1$1.toDer(Dt).getBytes());var er=Yt.getMac();Mt=asn1$1.create(asn1$1.Class.UNIVERSAL,asn1$1.Type.SEQUENCE,!0,[asn1$1.create(asn1$1.Class.UNIVERSAL,asn1$1.Type.SEQUENCE,!0,[asn1$1.create(asn1$1.Class.UNIVERSAL,asn1$1.Type.SEQUENCE,!0,[asn1$1.create(asn1$1.Class.UNIVERSAL,asn1$1.Type.OID,!1,asn1$1.oidToDer(pki$2.oids.sha1).getBytes()),asn1$1.create(asn1$1.Class.UNIVERSAL,asn1$1.Type.NULL,!1,"")]),asn1$1.create(asn1$1.Class.UNIVERSAL,asn1$1.Type.OCTETSTRING,!1,er.getBytes())]),asn1$1.create(asn1$1.Class.UNIVERSAL,asn1$1.Type.OCTETSTRING,!1,zt.getBytes()),asn1$1.create(asn1$1.Class.UNIVERSAL,asn1$1.Type.INTEGER,!1,asn1$1.integerToDer(Kt).getBytes())])}return asn1$1.create(asn1$1.Class.UNIVERSAL,asn1$1.Type.SEQUENCE,!0,[asn1$1.create(asn1$1.Class.UNIVERSAL,asn1$1.Type.INTEGER,!1,asn1$1.integerToDer(3).getBytes()),asn1$1.create(asn1$1.Class.UNIVERSAL,asn1$1.Type.SEQUENCE,!0,[asn1$1.create(asn1$1.Class.UNIVERSAL,asn1$1.Type.OID,!1,asn1$1.oidToDer(pki$2.oids.data).getBytes()),asn1$1.create(asn1$1.Class.CONTEXT_SPECIFIC,0,!0,[asn1$1.create(asn1$1.Class.UNIVERSAL,asn1$1.Type.OCTETSTRING,!1,asn1$1.toDer(Dt).getBytes())])]),Mt])};p12.generateKey=forge$1.pbe.generatePkcs12Key;var forge=forge$s,asn1=forge.asn1,pki=pki$6.exports=forge.pki=forge.pki||{};pki.pemToDer=function(a){var e=forge.pem.decode(a)[0];if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return forge.util.createBuffer(e.body)};pki.privateKeyFromPem=function(a){var e=forge.pem.decode(a)[0];if(e.type!=="PRIVATE KEY"&&e.type!=="RSA PRIVATE KEY"){var o=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw o.headerType=e.type,o}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var c=asn1.fromDer(e.body);return pki.privateKeyFromAsn1(c)};pki.privateKeyToPem=function(a,e){var o={type:"RSA PRIVATE KEY",body:asn1.toDer(pki.privateKeyToAsn1(a)).getBytes()};return forge.pem.encode(o,{maxline:e})};pki.privateKeyInfoToPem=function(a,e){var o={type:"PRIVATE KEY",body:asn1.toDer(a).getBytes()};return forge.pem.encode(o,{maxline:e})};var pkiExports=pki$6.exports;const pki$1=getDefaultExportFromCjs(pkiExports),forgePki=forge$t;forgePki.pki=pki$1;Debug("iexec:result-utils");const hostMap={1:"mainnet",134:"https://bellecour.iex.ec"},ensMap={1:{publicResolver:"0x4976fb03C32e5B8cfe2b6cCB31c09Ba78EBaBa41"},134:{registry:"0x5f5B93fca68c9C79318d1F3868A354EE67D8c006",publicResolver:"0x1347d8a1840A810B990d0B774A6b7Bb8A1bd62BB"}},networkMap={134:{name:"bellecour",chainId:134,ensAddress:ensMap[134].registry}},hubMap={standard:{},enterprise:{}},smsMap={standard:{134:{[TEE_FRAMEWORKS.SCONE]:"https://sms.scone-prod.v8-bellecour.iex.ec",[TEE_FRAMEWORKS.GRAMINE]:"https://sms.gramine.v8-bellecour.iex.ec"}},enterprise:{}},resultProxyMap={standard:{134:"https://result.v8-bellecour.iex.ec"},enterprise:{}},bridgeMap={standard:{1:{contract:"0x4e55c9B8953AB1957ad0A59D413631A66798c6a2",bridgedChainId:"134"},134:{contract:"0x188A4376a1D818bF2434972Eb34eFd57102a19b7",bridgedChainId:"1"}},enterprise:{}},enterpriseEnabledMap={},ipfsGatewayMap={standard:{134:"https://ipfs-gateway.v8-bellecour.iex.ec"},enterprise:{}},iexecGatewayMap={standard:{134:"https://api.market.v8-bellecour.iex.ec"},enterprise:{}},idMap={mainnet:1,bellecour:134},getId=a=>idMap[a]||a,getChainDefaults=({id:a,flavour:e})=>({host:hostMap[a],hub:hubMap[e]&&hubMap[e][a],sms:smsMap[e]&&smsMap[e][a],ensRegistry:ensMap[a]&&ensMap[a].registry,ensPublicResolver:ensMap[a]&&ensMap[a].publicResolver,resultProxy:resultProxyMap[e]&&resultProxyMap[e][a],ipfsGateway:ipfsGatewayMap[e]&&ipfsGatewayMap[e][a],iexecGateway:iexecGatewayMap[e]&&iexecGatewayMap[e][a],bridge:bridgeMap[e]&&bridgeMap[e][a],flavour:e,network:networkMap[a]}),isEnterpriseEnabled=a=>!!enterpriseEnabledMap[a],getReadOnlyProvider=(a,e={})=>{const o=e.providers||{},c=e.network;let d=a;const h=getChainDefaults({id:getId(a)});if(h&&h.host)d=h.host;else if(typeof d!="string"||!d.startsWith("http"))throw Error("Invalid provider host name or url");let et=c;if(!et&&h&&h.network&&(et=h.network),d.startsWith("http"))return new JsonRpcProvider(d,et);const{quorum:tt,...ot}=o,ft=["etherscan","infura","alchemy","pocket","ankr","quicknode"],ht=ft.filter(yt=>!Object.keys(ot).includes(yt));return getDefaultProvider(et||d,{quorum:tt||1,...ht.length<ft.length&&Object.fromEntries(ht.map(yt=>[yt,"-"])),...ot})};class EnhancedWallet extends Wallet{constructor(e,o,c={}){if(super(e,o),this._options=c,c.gasPrice)try{BigInt(c.gasPrice)}catch{throw Error("Invalid gasPrice option")}if(c.getTransactionCount!==void 0&&typeof c.getTransactionCount!="function")throw Error("Invalid getTransactionCount option, must be a function")}static createRandom(){return new EnhancedWallet(super.createRandom().privateKey)}connect(e){return new EnhancedWallet(this.privateKey,e,this._options)}getFeeData(){return this._options.gasPrice===void 0?super.getFeeData():{gasPrice:BigInt(this._options.gasPrice),maxFeePerGas:null,maxPriorityFeePerGas:null}}getNonce(...e){return this._options.getTransactionCount===void 0?super.getNonce(...e):this._options.getTransactionCount(...e)}sendTransaction(e){let o;return this._options.gasPrice!==void 0&&(o=BigInt(this._options.gasPrice)),super.sendTransaction({gasPrice:o,...e})}}class BrowserProviderSigner extends AbstractSigner{constructor(...e){super(new BrowserProvider(...e))}getAddress(){return this.provider.getSigner().then(e=>e.getAddress())}connect(){throw Error("Unsupported")}signMessage(e){return this.provider.getSigner().then(o=>o.signMessage(e))}signTypedData(e,o,c){return this.provider.getSigner().then(d=>d.signTypedData(e,o,c))}signTransaction(e){return this.provider.getSigner().then(o=>o.signTransaction(e))}sendTransaction(e){return this.provider.getSigner().then(o=>o.sendTransaction(e))}}const version$4="8.5.2",version$3="5.3.0",networks$a={1:{events:{"0xaa1c0a0a78cec2470f9652e5d29540752e7a64d70f926933cebf13afaeda45de":{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"message",type:"string"}],name:"CommitMessage",type:"event"},"0x3234040ce3bd4564874e44810f198910133a1b24c4e84aac87edbf6b458f5353":{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes4",name:"functionId",type:"bytes4"},{indexed:!0,internalType:"address",name:"oldDelegate",type:"address"},{indexed:!0,internalType:"address",name:"newDelegate",type:"address"},{indexed:!1,internalType:"string",name:"functionSignature",type:"string"}],name:"FunctionUpdate",type:"event"},"0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"}},links:{},address:"0x3eca1B216A7DF1C7689aEb259fFB83ADFB894E7f"},3:{events:{"0xaa1c0a0a78cec2470f9652e5d29540752e7a64d70f926933cebf13afaeda45de":{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"message",type:"string"}],name:"CommitMessage",type:"event"},"0x3234040ce3bd4564874e44810f198910133a1b24c4e84aac87edbf6b458f5353":{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes4",name:"functionId",type:"bytes4"},{indexed:!0,internalType:"address",name:"oldDelegate",type:"address"},{indexed:!0,internalType:"address",name:"newDelegate",type:"address"},{indexed:!1,internalType:"string",name:"functionSignature",type:"string"}],name:"FunctionUpdate",type:"event"},"0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"}},links:{},address:"0x3eca1B216A7DF1C7689aEb259fFB83ADFB894E7f"},4:{events:{"0xaa1c0a0a78cec2470f9652e5d29540752e7a64d70f926933cebf13afaeda45de":{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"message",type:"string"}],name:"CommitMessage",type:"event"},"0x3234040ce3bd4564874e44810f198910133a1b24c4e84aac87edbf6b458f5353":{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes4",name:"functionId",type:"bytes4"},{indexed:!0,internalType:"address",name:"oldDelegate",type:"address"},{indexed:!0,internalType:"address",name:"newDelegate",type:"address"},{indexed:!1,internalType:"string",name:"functionSignature",type:"string"}],name:"FunctionUpdate",type:"event"},"0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"}},links:{},address:"0x3eca1B216A7DF1C7689aEb259fFB83ADFB894E7f"},5:{events:{"0xaa1c0a0a78cec2470f9652e5d29540752e7a64d70f926933cebf13afaeda45de":{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"message",type:"string"}],name:"CommitMessage",type:"event"},"0x3234040ce3bd4564874e44810f198910133a1b24c4e84aac87edbf6b458f5353":{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes4",name:"functionId",type:"bytes4"},{indexed:!0,internalType:"address",name:"oldDelegate",type:"address"},{indexed:!0,internalType:"address",name:"newDelegate",type:"address"},{indexed:!1,internalType:"string",name:"functionSignature",type:"string"}],name:"FunctionUpdate",type:"event"},"0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"}},links:{},address:"0x3eca1B216A7DF1C7689aEb259fFB83ADFB894E7f"},42:{events:{"0xaa1c0a0a78cec2470f9652e5d29540752e7a64d70f926933cebf13afaeda45de":{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"message",type:"string"}],name:"CommitMessage",type:"event"},"0x3234040ce3bd4564874e44810f198910133a1b24c4e84aac87edbf6b458f5353":{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes4",name:"functionId",type:"bytes4"},{indexed:!0,internalType:"address",name:"oldDelegate",type:"address"},{indexed:!0,internalType:"address",name:"newDelegate",type:"address"},{indexed:!1,internalType:"string",name:"functionSignature",type:"string"}],name:"FunctionUpdate",type:"event"},"0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"}},links:{},address:"0x3eca1B216A7DF1C7689aEb259fFB83ADFB894E7f"},133:{events:{"0xaa1c0a0a78cec2470f9652e5d29540752e7a64d70f926933cebf13afaeda45de":{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"message",type:"string"}],name:"CommitMessage",type:"event"},"0x3234040ce3bd4564874e44810f198910133a1b24c4e84aac87edbf6b458f5353":{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes4",name:"functionId",type:"bytes4"},{indexed:!0,internalType:"address",name:"oldDelegate",type:"address"},{indexed:!0,internalType:"address",name:"newDelegate",type:"address"},{indexed:!1,internalType:"string",name:"functionSignature",type:"string"}],name:"FunctionUpdate",type:"event"},"0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"}},links:{},address:"0x3eca1B216A7DF1C7689aEb259fFB83ADFB894E7f"},134:{events:{"0xaa1c0a0a78cec2470f9652e5d29540752e7a64d70f926933cebf13afaeda45de":{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"message",type:"string"}],name:"CommitMessage",type:"event"},"0x3234040ce3bd4564874e44810f198910133a1b24c4e84aac87edbf6b458f5353":{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes4",name:"functionId",type:"bytes4"},{indexed:!0,internalType:"address",name:"oldDelegate",type:"address"},{indexed:!0,internalType:"address",name:"newDelegate",type:"address"},{indexed:!1,internalType:"string",name:"functionSignature",type:"string"}],name:"FunctionUpdate",type:"event"},"0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"}},links:{},address:"0x3eca1B216A7DF1C7689aEb259fFB83ADFB894E7f"}},abi$g=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"worker",type:"address"},{indexed:!0,internalType:"bytes32",name:"taskid",type:"bytes32"}],name:"AccurateContribution",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"address",name:"app",type:"address"},{internalType:"uint256",name:"appprice",type:"uint256"},{internalType:"uint256",name:"volume",type:"uint256"},{internalType:"bytes32",name:"tag",type:"bytes32"},{internalType:"address",name:"datasetrestrict",type:"address"},{internalType:"address",name:"workerpoolrestrict",type:"address"},{internalType:"address",name:"requesterrestrict",type:"address"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"bytes",name:"sign",type:"bytes"}],indexed:!1,internalType:"struct IexecLibOrders_v5.AppOrder",name:"apporder",type:"tuple"}],name:"BroadcastAppOrder",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"address",name:"dataset",type:"address"},{internalType:"uint256",name:"datasetprice",type:"uint256"},{internalType:"uint256",name:"volume",type:"uint256"},{internalType:"bytes32",name:"tag",type:"bytes32"},{internalType:"address",name:"apprestrict",type:"address"},{internalType:"address",name:"workerpoolrestrict",type:"address"},{internalType:"address",name:"requesterrestrict",type:"address"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"bytes",name:"sign",type:"bytes"}],indexed:!1,internalType:"struct IexecLibOrders_v5.DatasetOrder",name:"datasetorder",type:"tuple"}],name:"BroadcastDatasetOrder",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"address",name:"app",type:"address"},{internalType:"uint256",name:"appmaxprice",type:"uint256"},{internalType:"address",name:"dataset",type:"address"},{internalType:"uint256",name:"datasetmaxprice",type:"uint256"},{internalType:"address",name:"workerpool",type:"address"},{internalType:"uint256",name:"workerpoolmaxprice",type:"uint256"},{internalType:"address",name:"requester",type:"address"},{internalType:"uint256",name:"volume",type:"uint256"},{internalType:"bytes32",name:"tag",type:"bytes32"},{internalType:"uint256",name:"category",type:"uint256"},{internalType:"uint256",name:"trust",type:"uint256"},{internalType:"address",name:"beneficiary",type:"address"},{internalType:"address",name:"callback",type:"address"},{internalType:"string",name:"params",type:"string"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"bytes",name:"sign",type:"bytes"}],indexed:!1,internalType:"struct IexecLibOrders_v5.RequestOrder",name:"requestorder",type:"tuple"}],name:"BroadcastRequestOrder",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"address",name:"workerpool",type:"address"},{internalType:"uint256",name:"workerpoolprice",type:"uint256"},{internalType:"uint256",name:"volume",type:"uint256"},{internalType:"bytes32",name:"tag",type:"bytes32"},{internalType:"uint256",name:"category",type:"uint256"},{internalType:"uint256",name:"trust",type:"uint256"},{internalType:"address",name:"apprestrict",type:"address"},{internalType:"address",name:"datasetrestrict",type:"address"},{internalType:"address",name:"requesterrestrict",type:"address"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"bytes",name:"sign",type:"bytes"}],indexed:!1,internalType:"struct IexecLibOrders_v5.WorkerpoolOrder",name:"workerpoolorder",type:"tuple"}],name:"BroadcastWorkerpoolOrder",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"appHash",type:"bytes32"}],name:"ClosedAppOrder",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"datasetHash",type:"bytes32"}],name:"ClosedDatasetOrder",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"requestHash",type:"bytes32"}],name:"ClosedRequestOrder",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"workerpoolHash",type:"bytes32"}],name:"ClosedWorkerpoolOrder",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"catid",type:"uint256"},{indexed:!1,internalType:"string",name:"name",type:"string"},{indexed:!1,internalType:"string",name:"description",type:"string"},{indexed:!1,internalType:"uint256",name:"workClockTimeRef",type:"uint256"}],name:"CreateCategory",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"worker",type:"address"},{indexed:!0,internalType:"bytes32",name:"taskid",type:"bytes32"}],name:"FaultyContribution",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Lock",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"dealid",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"appHash",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"datasetHash",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"workerpoolHash",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"requestHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"volume",type:"uint256"}],name:"OrdersMatched",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"ref",type:"bytes32"}],name:"Reward",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"workerpool",type:"address"},{indexed:!1,internalType:"bytes32",name:"dealid",type:"bytes32"}],name:"SchedulerNotice",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"ref",type:"bytes32"}],name:"Seize",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"appHash",type:"bytes32"}],name:"SignedAppOrder",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"datasetHash",type:"bytes32"}],name:"SignedDatasetOrder",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"requestHash",type:"bytes32"}],name:"SignedRequestOrder",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"workerpoolHash",type:"bytes32"}],name:"SignedWorkerpoolOrder",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"taskid",type:"bytes32"}],name:"TaskClaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"taskid",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"consensus",type:"bytes32"}],name:"TaskConsensus",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"taskid",type:"bytes32"},{indexed:!0,internalType:"address",name:"worker",type:"address"},{indexed:!1,internalType:"bytes32",name:"hash",type:"bytes32"}],name:"TaskContribute",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"taskid",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"results",type:"bytes"}],name:"TaskFinalize",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"taskid",type:"bytes32"},{indexed:!0,internalType:"address",name:"workerpool",type:"address"}],name:"TaskInitialize",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"taskid",type:"bytes32"}],name:"TaskReopen",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"taskid",type:"bytes32"},{indexed:!0,internalType:"address",name:"worker",type:"address"},{indexed:!1,internalType:"bytes32",name:"digest",type:"bytes32"}],name:"TaskReveal",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Unlock",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[],name:"UniswapV2Router",outputs:[{internalType:"contract IUniswapV2Router02",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"appregistry",outputs:[{internalType:"contract IRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"approveAndCall",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"app",type:"address"},{internalType:"uint256",name:"appprice",type:"uint256"},{internalType:"uint256",name:"volume",type:"uint256"},{internalType:"bytes32",name:"tag",type:"bytes32"},{internalType:"address",name:"datasetrestrict",type:"address"},{internalType:"address",name:"workerpoolrestrict",type:"address"},{internalType:"address",name:"requesterrestrict",type:"address"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"bytes",name:"sign",type:"bytes"}],internalType:"struct IexecLibOrders_v5.AppOrder",name:"",type:"tuple"}],name:"broadcastAppOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"dataset",type:"address"},{internalType:"uint256",name:"datasetprice",type:"uint256"},{internalType:"uint256",name:"volume",type:"uint256"},{internalType:"bytes32",name:"tag",type:"bytes32"},{internalType:"address",name:"apprestrict",type:"address"},{internalType:"address",name:"workerpoolrestrict",type:"address"},{internalType:"address",name:"requesterrestrict",type:"address"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"bytes",name:"sign",type:"bytes"}],internalType:"struct IexecLibOrders_v5.DatasetOrder",name:"",type:"tuple"}],name:"broadcastDatasetOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"app",type:"address"},{internalType:"uint256",name:"appmaxprice",type:"uint256"},{internalType:"address",name:"dataset",type:"address"},{internalType:"uint256",name:"datasetmaxprice",type:"uint256"},{internalType:"address",name:"workerpool",type:"address"},{internalType:"uint256",name:"workerpoolmaxprice",type:"uint256"},{internalType:"address",name:"requester",type:"address"},{internalType:"uint256",name:"volume",type:"uint256"},{internalType:"bytes32",name:"tag",type:"bytes32"},{internalType:"uint256",name:"category",type:"uint256"},{internalType:"uint256",name:"trust",type:"uint256"},{internalType:"address",name:"beneficiary",type:"address"},{internalType:"address",name:"callback",type:"address"},{internalType:"string",name:"params",type:"string"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"bytes",name:"sign",type:"bytes"}],internalType:"struct IexecLibOrders_v5.RequestOrder",name:"",type:"tuple"}],name:"broadcastRequestOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"workerpool",type:"address"},{internalType:"uint256",name:"workerpoolprice",type:"uint256"},{internalType:"uint256",name:"volume",type:"uint256"},{internalType:"bytes32",name:"tag",type:"bytes32"},{internalType:"uint256",name:"category",type:"uint256"},{internalType:"uint256",name:"trust",type:"uint256"},{internalType:"address",name:"apprestrict",type:"address"},{internalType:"address",name:"datasetrestrict",type:"address"},{internalType:"address",name:"requesterrestrict",type:"address"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"bytes",name:"sign",type:"bytes"}],internalType:"struct IexecLibOrders_v5.WorkerpoolOrder",name:"",type:"tuple"}],name:"broadcastWorkerpoolOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"callbackgas",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"claim",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"}],name:"claimArray",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"string",name:"",type:"string"},{internalType:"string",name:"",type:"string"},{internalType:"uint8",name:"",type:"uint8"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"configure",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"address",name:"",type:"address"},{internalType:"bytes",name:"",type:"bytes"},{internalType:"bytes",name:"",type:"bytes"}],name:"contribute",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes",name:"",type:"bytes"},{internalType:"bytes",name:"",type:"bytes"},{internalType:"address",name:"",type:"address"},{internalType:"bytes",name:"",type:"bytes"},{internalType:"bytes",name:"",type:"bytes"}],name:"contributeAndFinalize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"contribution_deadline_ratio",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"countCategory",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"",type:"string"},{internalType:"string",name:"",type:"string"},{internalType:"uint256",name:"",type:"uint256"}],name:"createCategory",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"datasetregistry",outputs:[{internalType:"contract IRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"deposit",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"depositEth",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"depositEthFor",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"depositFor",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"address[]",name:"",type:"address[]"}],name:"depositForArray",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"domain",outputs:[{components:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"version",type:"string"},{internalType:"uint256",name:"chainId",type:"uint256"},{internalType:"address",name:"verifyingContract",type:"address"}],internalType:"struct IexecLibOrders_v5.EIP712Domain",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"eip712domain_separator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"estimateDepositEthSent",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"estimateDepositTokenWanted",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"estimateWithdrawEthWanted",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"estimateWithdrawTokenSent",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"final_deadline_ratio",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes",name:"",type:"bytes"},{internalType:"bytes",name:"",type:"bytes"}],name:"finalize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"frozenOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"groupmember_purpose",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"importScore",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"uint256",name:"",type:"uint256"}],name:"initialize",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"},{internalType:"uint256[]",name:"",type:"uint256[]"}],name:"initializeAndClaimArray",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"},{internalType:"uint256[]",name:"",type:"uint256[]"}],name:"initializeArray",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"kitty_address",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"kitty_min",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"kitty_ratio",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"app",type:"address"},{internalType:"uint256",name:"appprice",type:"uint256"},{internalType:"uint256",name:"volume",type:"uint256"},{internalType:"bytes32",name:"tag",type:"bytes32"},{internalType:"address",name:"datasetrestrict",type:"address"},{internalType:"address",name:"workerpoolrestrict",type:"address"},{internalType:"address",name:"requesterrestrict",type:"address"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"bytes",name:"sign",type:"bytes"}],internalType:"struct IexecLibOrders_v5.AppOrder",name:"order",type:"tuple"},{internalType:"enum IexecLibOrders_v5.OrderOperationEnum",name:"operation",type:"uint8"},{internalType:"bytes",name:"sign",type:"bytes"}],internalType:"struct IexecLibOrders_v5.AppOrderOperation",name:"",type:"tuple"}],name:"manageAppOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"dataset",type:"address"},{internalType:"uint256",name:"datasetprice",type:"uint256"},{internalType:"uint256",name:"volume",type:"uint256"},{internalType:"bytes32",name:"tag",type:"bytes32"},{internalType:"address",name:"apprestrict",type:"address"},{internalType:"address",name:"workerpoolrestrict",type:"address"},{internalType:"address",name:"requesterrestrict",type:"address"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"bytes",name:"sign",type:"bytes"}],internalType:"struct IexecLibOrders_v5.DatasetOrder",name:"order",type:"tuple"},{internalType:"enum IexecLibOrders_v5.OrderOperationEnum",name:"operation",type:"uint8"},{internalType:"bytes",name:"sign",type:"bytes"}],internalType:"struct IexecLibOrders_v5.DatasetOrderOperation",name:"",type:"tuple"}],name:"manageDatasetOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"app",type:"address"},{internalType:"uint256",name:"appmaxprice",type:"uint256"},{internalType:"address",name:"dataset",type:"address"},{internalType:"uint256",name:"datasetmaxprice",type:"uint256"},{internalType:"address",name:"workerpool",type:"address"},{internalType:"uint256",name:"workerpoolmaxprice",type:"uint256"},{internalType:"address",name:"requester",type:"address"},{internalType:"uint256",name:"volume",type:"uint256"},{internalType:"bytes32",name:"tag",type:"bytes32"},{internalType:"uint256",name:"category",type:"uint256"},{internalType:"uint256",name:"trust",type:"uint256"},{internalType:"address",name:"beneficiary",type:"address"},{internalType:"address",name:"callback",type:"address"},{internalType:"string",name:"params",type:"string"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"bytes",name:"sign",type:"bytes"}],internalType:"struct IexecLibOrders_v5.RequestOrder",name:"order",type:"tuple"},{internalType:"enum IexecLibOrders_v5.OrderOperationEnum",name:"operation",type:"uint8"},{internalType:"bytes",name:"sign",type:"bytes"}],internalType:"struct IexecLibOrders_v5.RequestOrderOperation",name:"",type:"tuple"}],name:"manageRequestOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"workerpool",type:"address"},{internalType:"uint256",name:"workerpoolprice",type:"uint256"},{internalType:"uint256",name:"volume",type:"uint256"},{internalType:"bytes32",name:"tag",type:"bytes32"},{internalType:"uint256",name:"category",type:"uint256"},{internalType:"uint256",name:"trust",type:"uint256"},{internalType:"address",name:"apprestrict",type:"address"},{internalType:"address",name:"datasetrestrict",type:"address"},{internalType:"address",name:"requesterrestrict",type:"address"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"bytes",name:"sign",type:"bytes"}],internalType:"struct IexecLibOrders_v5.WorkerpoolOrder",name:"order",type:"tuple"},{internalType:"enum IexecLibOrders_v5.OrderOperationEnum",name:"operation",type:"uint8"},{internalType:"bytes",name:"sign",type:"bytes"}],internalType:"struct IexecLibOrders_v5.WorkerpoolOrderOperation",name:"",type:"tuple"}],name:"manageWorkerpoolOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"app",type:"address"},{internalType:"uint256",name:"appprice",type:"uint256"},{internalType:"uint256",name:"volume",type:"uint256"},{internalType:"bytes32",name:"tag",type:"bytes32"},{internalType:"address",name:"datasetrestrict",type:"address"},{internalType:"address",name:"workerpoolrestrict",type:"address"},{internalType:"address",name:"requesterrestrict",type:"address"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"bytes",name:"sign",type:"bytes"}],internalType:"struct IexecLibOrders_v5.AppOrder",name:"",type:"tuple"},{components:[{internalType:"address",name:"dataset",type:"address"},{internalType:"uint256",name:"datasetprice",type:"uint256"},{internalType:"uint256",name:"volume",type:"uint256"},{internalType:"bytes32",name:"tag",type:"bytes32"},{internalType:"address",name:"apprestrict",type:"address"},{internalType:"address",name:"workerpoolrestrict",type:"address"},{internalType:"address",name:"requesterrestrict",type:"address"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"bytes",name:"sign",type:"bytes"}],internalType:"struct IexecLibOrders_v5.DatasetOrder",name:"",type:"tuple"},{components:[{internalType:"address",name:"workerpool",type:"address"},{internalType:"uint256",name:"workerpoolprice",type:"uint256"},{internalType:"uint256",name:"volume",type:"uint256"},{internalType:"bytes32",name:"tag",type:"bytes32"},{internalType:"uint256",name:"category",type:"uint256"},{internalType:"uint256",name:"trust",type:"uint256"},{internalType:"address",name:"apprestrict",type:"address"},{internalType:"address",name:"datasetrestrict",type:"address"},{internalType:"address",name:"requesterrestrict",type:"address"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"bytes",name:"sign",type:"bytes"}],internalType:"struct IexecLibOrders_v5.WorkerpoolOrder",name:"",type:"tuple"},{components:[{internalType:"address",name:"app",type:"address"},{internalType:"uint256",name:"appmaxprice",type:"uint256"},{internalType:"address",name:"dataset",type:"address"},{internalType:"uint256",name:"datasetmaxprice",type:"uint256"},{internalType:"address",name:"workerpool",type:"address"},{internalType:"uint256",name:"workerpoolmaxprice",type:"uint256"},{internalType:"address",name:"requester",type:"address"},{internalType:"uint256",name:"volume",type:"uint256"},{internalType:"bytes32",name:"tag",type:"bytes32"},{internalType:"uint256",name:"category",type:"uint256"},{internalType:"uint256",name:"trust",type:"uint256"},{internalType:"address",name:"beneficiary",type:"address"},{internalType:"address",name:"callback",type:"address"},{internalType:"string",name:"params",type:"string"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"bytes",name:"sign",type:"bytes"}],internalType:"struct IexecLibOrders_v5.RequestOrder",name:"",type:"tuple"}],name:"matchOrders",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"app",type:"address"},{internalType:"uint256",name:"appprice",type:"uint256"},{internalType:"uint256",name:"volume",type:"uint256"},{internalType:"bytes32",name:"tag",type:"bytes32"},{internalType:"address",name:"datasetrestrict",type:"address"},{internalType:"address",name:"workerpoolrestrict",type:"address"},{internalType:"address",name:"requesterrestrict",type:"address"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"bytes",name:"sign",type:"bytes"}],internalType:"struct IexecLibOrders_v5.AppOrder",name:"",type:"tuple"},{components:[{internalType:"address",name:"dataset",type:"address"},{internalType:"uint256",name:"datasetprice",type:"uint256"},{internalType:"uint256",name:"volume",type:"uint256"},{internalType:"bytes32",name:"tag",type:"bytes32"},{internalType:"address",name:"apprestrict",type:"address"},{internalType:"address",name:"workerpoolrestrict",type:"address"},{internalType:"address",name:"requesterrestrict",type:"address"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"bytes",name:"sign",type:"bytes"}],internalType:"struct IexecLibOrders_v5.DatasetOrder",name:"",type:"tuple"},{components:[{internalType:"address",name:"workerpool",type:"address"},{internalType:"uint256",name:"workerpoolprice",type:"uint256"},{internalType:"uint256",name:"volume",type:"uint256"},{internalType:"bytes32",name:"tag",type:"bytes32"},{internalType:"uint256",name:"category",type:"uint256"},{internalType:"uint256",name:"trust",type:"uint256"},{internalType:"address",name:"apprestrict",type:"address"},{internalType:"address",name:"datasetrestrict",type:"address"},{internalType:"address",name:"requesterrestrict",type:"address"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"bytes",name:"sign",type:"bytes"}],internalType:"struct IexecLibOrders_v5.WorkerpoolOrder",name:"",type:"tuple"},{components:[{internalType:"address",name:"app",type:"address"},{internalType:"uint256",name:"appmaxprice",type:"uint256"},{internalType:"address",name:"dataset",type:"address"},{internalType:"uint256",name:"datasetmaxprice",type:"uint256"},{internalType:"address",name:"workerpool",type:"address"},{internalType:"uint256",name:"workerpoolmaxprice",type:"uint256"},{internalType:"address",name:"requester",type:"address"},{internalType:"uint256",name:"volume",type:"uint256"},{internalType:"bytes32",name:"tag",type:"bytes32"},{internalType:"uint256",name:"category",type:"uint256"},{internalType:"uint256",name:"trust",type:"uint256"},{internalType:"address",name:"beneficiary",type:"address"},{internalType:"address",name:"callback",type:"address"},{internalType:"string",name:"params",type:"string"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"bytes",name:"sign",type:"bytes"}],internalType:"struct IexecLibOrders_v5.RequestOrder",name:"",type:"tuple"}],name:"matchOrdersWithEth",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"payable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"},{internalType:"bytes",name:"",type:"bytes"}],name:"receiveApproval",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"recover",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"reopen",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"requestToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"requestTokenFor",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"resultFor",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"",type:"bytes32"}],name:"reveal",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"reveal_deadline_ratio",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"safeDepositEth",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"safeDepositEthFor",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],name:"safeWithdrawEth",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"safeWithdrawEthTo",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"setCallbackGas",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"ens",type:"address"},{internalType:"string",name:"name",type:"string"}],name:"setName",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"setTeeBroker",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"teebroker",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"updateDomainSeparator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"bytes32",name:"",type:"bytes32"}],name:"verifyPresignature",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes",name:"",type:"bytes"}],name:"verifyPresignatureOrSignature",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes",name:"",type:"bytes"}],name:"verifySignature",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"viewAccount",outputs:[{components:[{internalType:"uint256",name:"stake",type:"uint256"},{internalType:"uint256",name:"locked",type:"uint256"}],internalType:"struct IexecLibCore_v5.Account",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"viewCategory",outputs:[{components:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"description",type:"string"},{internalType:"uint256",name:"workClockTimeRef",type:"uint256"}],internalType:"struct IexecLibCore_v5.Category",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"viewConsumed",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"address",name:"",type:"address"}],name:"viewContribution",outputs:[{components:[{internalType:"enum IexecLibCore_v5.ContributionStatusEnum",name:"status",type:"uint8"},{internalType:"bytes32",name:"resultHash",type:"bytes32"},{internalType:"bytes32",name:"resultSeal",type:"bytes32"},{internalType:"address",name:"enclaveChallenge",type:"address"},{internalType:"uint256",name:"weight",type:"uint256"}],internalType:"struct IexecLibCore_v5.Contribution",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"viewDeal",outputs:[{components:[{components:[{internalType:"address",name:"pointer",type:"address"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"price",type:"uint256"}],internalType:"struct IexecLibCore_v5.Resource",name:"app",type:"tuple"},{components:[{internalType:"address",name:"pointer",type:"address"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"price",type:"uint256"}],internalType:"struct IexecLibCore_v5.Resource",name:"dataset",type:"tuple"},{components:[{internalType:"address",name:"pointer",type:"address"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"price",type:"uint256"}],internalType:"struct IexecLibCore_v5.Resource",name:"workerpool",type:"tuple"},{internalType:"uint256",name:"trust",type:"uint256"},{internalType:"uint256",name:"category",type:"uint256"},{internalType:"bytes32",name:"tag",type:"bytes32"},{internalType:"address",name:"requester",type:"address"},{internalType:"address",name:"beneficiary",type:"address"},{internalType:"address",name:"callback",type:"address"},{internalType:"string",name:"params",type:"string"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"botFirst",type:"uint256"},{internalType:"uint256",name:"botSize",type:"uint256"},{internalType:"uint256",name:"workerStake",type:"uint256"},{internalType:"uint256",name:"schedulerRewardRatio",type:"uint256"}],internalType:"struct IexecLibCore_v5.Deal",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"viewPresigned",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"viewScore",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"viewTask",outputs:[{components:[{internalType:"enum IexecLibCore_v5.TaskStatusEnum",name:"status",type:"uint8"},{internalType:"bytes32",name:"dealid",type:"bytes32"},{internalType:"uint256",name:"idx",type:"uint256"},{internalType:"uint256",name:"timeref",type:"uint256"},{internalType:"uint256",name:"contributionDeadline",type:"uint256"},{internalType:"uint256",name:"revealDeadline",type:"uint256"},{internalType:"uint256",name:"finalDeadline",type:"uint256"},{internalType:"bytes32",name:"consensusValue",type:"bytes32"},{internalType:"uint256",name:"revealCounter",type:"uint256"},{internalType:"uint256",name:"winnerCounter",type:"uint256"},{internalType:"address[]",name:"contributors",type:"address[]"},{internalType:"bytes32",name:"resultDigest",type:"bytes32"},{internalType:"bytes",name:"results",type:"bytes"},{internalType:"uint256",name:"resultsTimestamp",type:"uint256"},{internalType:"bytes",name:"resultsCallback",type:"bytes"}],internalType:"struct IexecLibCore_v5.Task",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"withdraw",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"withdrawEth",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"withdrawEthTo",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"withdrawTo",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"workerpool_stake_ratio",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"workerpoolregistry",outputs:[{internalType:"contract IRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}],networks$9={},iexecTokenDesc={abi:abi$g,networks:networks$9},abi$f=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"worker",type:"address"},{indexed:!0,internalType:"bytes32",name:"taskid",type:"bytes32"}],name:"AccurateContribution",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"address",name:"app",type:"address"},{internalType:"uint256",name:"appprice",type:"uint256"},{internalType:"uint256",name:"volume",type:"uint256"},{internalType:"bytes32",name:"tag",type:"bytes32"},{internalType:"address",name:"datasetrestrict",type:"address"},{internalType:"address",name:"workerpoolrestrict",type:"address"},{internalType:"address",name:"requesterrestrict",type:"address"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"bytes",name:"sign",type:"bytes"}],indexed:!1,internalType:"struct IexecLibOrders_v5.AppOrder",name:"apporder",type:"tuple"}],name:"BroadcastAppOrder",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"address",name:"dataset",type:"address"},{internalType:"uint256",name:"datasetprice",type:"uint256"},{internalType:"uint256",name:"volume",type:"uint256"},{internalType:"bytes32",name:"tag",type:"bytes32"},{internalType:"address",name:"apprestrict",type:"address"},{internalType:"address",name:"workerpoolrestrict",type:"address"},{internalType:"address",name:"requesterrestrict",type:"address"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"bytes",name:"sign",type:"bytes"}],indexed:!1,internalType:"struct IexecLibOrders_v5.DatasetOrder",name:"datasetorder",type:"tuple"}],name:"BroadcastDatasetOrder",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"address",name:"app",type:"address"},{internalType:"uint256",name:"appmaxprice",type:"uint256"},{internalType:"address",name:"dataset",type:"address"},{internalType:"uint256",name:"datasetmaxprice",type:"uint256"},{internalType:"address",name:"workerpool",type:"address"},{internalType:"uint256",name:"workerpoolmaxprice",type:"uint256"},{internalType:"address",name:"requester",type:"address"},{internalType:"uint256",name:"volume",type:"uint256"},{internalType:"bytes32",name:"tag",type:"bytes32"},{internalType:"uint256",name:"category",type:"uint256"},{internalType:"uint256",name:"trust",type:"uint256"},{internalType:"address",name:"beneficiary",type:"address"},{internalType:"address",name:"callback",type:"address"},{internalType:"string",name:"params",type:"string"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"bytes",name:"sign",type:"bytes"}],indexed:!1,internalType:"struct IexecLibOrders_v5.RequestOrder",name:"requestorder",type:"tuple"}],name:"BroadcastRequestOrder",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"address",name:"workerpool",type:"address"},{internalType:"uint256",name:"workerpoolprice",type:"uint256"},{internalType:"uint256",name:"volume",type:"uint256"},{internalType:"bytes32",name:"tag",type:"bytes32"},{internalType:"uint256",name:"category",type:"uint256"},{internalType:"uint256",name:"trust",type:"uint256"},{internalType:"address",name:"apprestrict",type:"address"},{internalType:"address",name:"datasetrestrict",type:"address"},{internalType:"address",name:"requesterrestrict",type:"address"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"bytes",name:"sign",type:"bytes"}],indexed:!1,internalType:"struct IexecLibOrders_v5.WorkerpoolOrder",name:"workerpoolorder",type:"tuple"}],name:"BroadcastWorkerpoolOrder",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"appHash",type:"bytes32"}],name:"ClosedAppOrder",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"datasetHash",type:"bytes32"}],name:"ClosedDatasetOrder",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"requestHash",type:"bytes32"}],name:"ClosedRequestOrder",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"workerpoolHash",type:"bytes32"}],name:"ClosedWorkerpoolOrder",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"catid",type:"uint256"},{indexed:!1,internalType:"string",name:"name",type:"string"},{indexed:!1,internalType:"string",name:"description",type:"string"},{indexed:!1,internalType:"uint256",name:"workClockTimeRef",type:"uint256"}],name:"CreateCategory",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"worker",type:"address"},{indexed:!0,internalType:"bytes32",name:"taskid",type:"bytes32"}],name:"FaultyContribution",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Lock",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"dealid",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"appHash",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"datasetHash",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"workerpoolHash",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"requestHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"volume",type:"uint256"}],name:"OrdersMatched",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"ref",type:"bytes32"}],name:"Reward",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"workerpool",type:"address"},{indexed:!1,internalType:"bytes32",name:"dealid",type:"bytes32"}],name:"SchedulerNotice",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"bytes32",name:"ref",type:"bytes32"}],name:"Seize",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"appHash",type:"bytes32"}],name:"SignedAppOrder",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"datasetHash",type:"bytes32"}],name:"SignedDatasetOrder",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"requestHash",type:"bytes32"}],name:"SignedRequestOrder",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"workerpoolHash",type:"bytes32"}],name:"SignedWorkerpoolOrder",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"taskid",type:"bytes32"}],name:"TaskClaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"taskid",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"consensus",type:"bytes32"}],name:"TaskConsensus",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"taskid",type:"bytes32"},{indexed:!0,internalType:"address",name:"worker",type:"address"},{indexed:!1,internalType:"bytes32",name:"hash",type:"bytes32"}],name:"TaskContribute",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"taskid",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"results",type:"bytes"}],name:"TaskFinalize",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"taskid",type:"bytes32"},{indexed:!0,internalType:"address",name:"workerpool",type:"address"}],name:"TaskInitialize",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"taskid",type:"bytes32"}],name:"TaskReopen",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"taskid",type:"bytes32"},{indexed:!0,internalType:"address",name:"worker",type:"address"},{indexed:!1,internalType:"bytes32",name:"digest",type:"bytes32"}],name:"TaskReveal",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Unlock",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"appregistry",outputs:[{internalType:"contract IRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"approveAndCall",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"app",type:"address"},{internalType:"uint256",name:"appprice",type:"uint256"},{internalType:"uint256",name:"volume",type:"uint256"},{internalType:"bytes32",name:"tag",type:"bytes32"},{internalType:"address",name:"datasetrestrict",type:"address"},{internalType:"address",name:"workerpoolrestrict",type:"address"},{internalType:"address",name:"requesterrestrict",type:"address"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"bytes",name:"sign",type:"bytes"}],internalType:"struct IexecLibOrders_v5.AppOrder",name:"",type:"tuple"}],name:"broadcastAppOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"dataset",type:"address"},{internalType:"uint256",name:"datasetprice",type:"uint256"},{internalType:"uint256",name:"volume",type:"uint256"},{internalType:"bytes32",name:"tag",type:"bytes32"},{internalType:"address",name:"apprestrict",type:"address"},{internalType:"address",name:"workerpoolrestrict",type:"address"},{internalType:"address",name:"requesterrestrict",type:"address"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"bytes",name:"sign",type:"bytes"}],internalType:"struct IexecLibOrders_v5.DatasetOrder",name:"",type:"tuple"}],name:"broadcastDatasetOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"app",type:"address"},{internalType:"uint256",name:"appmaxprice",type:"uint256"},{internalType:"address",name:"dataset",type:"address"},{internalType:"uint256",name:"datasetmaxprice",type:"uint256"},{internalType:"address",name:"workerpool",type:"address"},{internalType:"uint256",name:"workerpoolmaxprice",type:"uint256"},{internalType:"address",name:"requester",type:"address"},{internalType:"uint256",name:"volume",type:"uint256"},{internalType:"bytes32",name:"tag",type:"bytes32"},{internalType:"uint256",name:"category",type:"uint256"},{internalType:"uint256",name:"trust",type:"uint256"},{internalType:"address",name:"beneficiary",type:"address"},{internalType:"address",name:"callback",type:"address"},{internalType:"string",name:"params",type:"string"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"bytes",name:"sign",type:"bytes"}],internalType:"struct IexecLibOrders_v5.RequestOrder",name:"",type:"tuple"}],name:"broadcastRequestOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"workerpool",type:"address"},{internalType:"uint256",name:"workerpoolprice",type:"uint256"},{internalType:"uint256",name:"volume",type:"uint256"},{internalType:"bytes32",name:"tag",type:"bytes32"},{internalType:"uint256",name:"category",type:"uint256"},{internalType:"uint256",name:"trust",type:"uint256"},{internalType:"address",name:"apprestrict",type:"address"},{internalType:"address",name:"datasetrestrict",type:"address"},{internalType:"address",name:"requesterrestrict",type:"address"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"bytes",name:"sign",type:"bytes"}],internalType:"struct IexecLibOrders_v5.WorkerpoolOrder",name:"",type:"tuple"}],name:"broadcastWorkerpoolOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"callbackgas",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"claim",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"}],name:"claimArray",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"string",name:"",type:"string"},{internalType:"string",name:"",type:"string"},{internalType:"uint8",name:"",type:"uint8"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"configure",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"address",name:"",type:"address"},{internalType:"bytes",name:"",type:"bytes"},{internalType:"bytes",name:"",type:"bytes"}],name:"contribute",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes",name:"",type:"bytes"},{internalType:"bytes",name:"",type:"bytes"},{internalType:"address",name:"",type:"address"},{internalType:"bytes",name:"",type:"bytes"},{internalType:"bytes",name:"",type:"bytes"}],name:"contributeAndFinalize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"contribution_deadline_ratio",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"countCategory",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"",type:"string"},{internalType:"string",name:"",type:"string"},{internalType:"uint256",name:"",type:"uint256"}],name:"createCategory",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"datasetregistry",outputs:[{internalType:"contract IRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"deposit",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"depositFor",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"address[]",name:"",type:"address[]"}],name:"depositForArray",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[],name:"domain",outputs:[{components:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"version",type:"string"},{internalType:"uint256",name:"chainId",type:"uint256"},{internalType:"address",name:"verifyingContract",type:"address"}],internalType:"struct IexecLibOrders_v5.EIP712Domain",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"eip712domain_separator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"final_deadline_ratio",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes",name:"",type:"bytes"},{internalType:"bytes",name:"",type:"bytes"}],name:"finalize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"frozenOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"groupmember_purpose",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"importScore",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"uint256",name:"",type:"uint256"}],name:"initialize",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"},{internalType:"uint256[]",name:"",type:"uint256[]"}],name:"initializeAndClaimArray",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"},{internalType:"uint256[]",name:"",type:"uint256[]"}],name:"initializeArray",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"kitty_address",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"kitty_min",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"kitty_ratio",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"app",type:"address"},{internalType:"uint256",name:"appprice",type:"uint256"},{internalType:"uint256",name:"volume",type:"uint256"},{internalType:"bytes32",name:"tag",type:"bytes32"},{internalType:"address",name:"datasetrestrict",type:"address"},{internalType:"address",name:"workerpoolrestrict",type:"address"},{internalType:"address",name:"requesterrestrict",type:"address"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"bytes",name:"sign",type:"bytes"}],internalType:"struct IexecLibOrders_v5.AppOrder",name:"order",type:"tuple"},{internalType:"enum IexecLibOrders_v5.OrderOperationEnum",name:"operation",type:"uint8"},{internalType:"bytes",name:"sign",type:"bytes"}],internalType:"struct IexecLibOrders_v5.AppOrderOperation",name:"",type:"tuple"}],name:"manageAppOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"dataset",type:"address"},{internalType:"uint256",name:"datasetprice",type:"uint256"},{internalType:"uint256",name:"volume",type:"uint256"},{internalType:"bytes32",name:"tag",type:"bytes32"},{internalType:"address",name:"apprestrict",type:"address"},{internalType:"address",name:"workerpoolrestrict",type:"address"},{internalType:"address",name:"requesterrestrict",type:"address"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"bytes",name:"sign",type:"bytes"}],internalType:"struct IexecLibOrders_v5.DatasetOrder",name:"order",type:"tuple"},{internalType:"enum IexecLibOrders_v5.OrderOperationEnum",name:"operation",type:"uint8"},{internalType:"bytes",name:"sign",type:"bytes"}],internalType:"struct IexecLibOrders_v5.DatasetOrderOperation",name:"",type:"tuple"}],name:"manageDatasetOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"app",type:"address"},{internalType:"uint256",name:"appmaxprice",type:"uint256"},{internalType:"address",name:"dataset",type:"address"},{internalType:"uint256",name:"datasetmaxprice",type:"uint256"},{internalType:"address",name:"workerpool",type:"address"},{internalType:"uint256",name:"workerpoolmaxprice",type:"uint256"},{internalType:"address",name:"requester",type:"address"},{internalType:"uint256",name:"volume",type:"uint256"},{internalType:"bytes32",name:"tag",type:"bytes32"},{internalType:"uint256",name:"category",type:"uint256"},{internalType:"uint256",name:"trust",type:"uint256"},{internalType:"address",name:"beneficiary",type:"address"},{internalType:"address",name:"callback",type:"address"},{internalType:"string",name:"params",type:"string"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"bytes",name:"sign",type:"bytes"}],internalType:"struct IexecLibOrders_v5.RequestOrder",name:"order",type:"tuple"},{internalType:"enum IexecLibOrders_v5.OrderOperationEnum",name:"operation",type:"uint8"},{internalType:"bytes",name:"sign",type:"bytes"}],internalType:"struct IexecLibOrders_v5.RequestOrderOperation",name:"",type:"tuple"}],name:"manageRequestOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"workerpool",type:"address"},{internalType:"uint256",name:"workerpoolprice",type:"uint256"},{internalType:"uint256",name:"volume",type:"uint256"},{internalType:"bytes32",name:"tag",type:"bytes32"},{internalType:"uint256",name:"category",type:"uint256"},{internalType:"uint256",name:"trust",type:"uint256"},{internalType:"address",name:"apprestrict",type:"address"},{internalType:"address",name:"datasetrestrict",type:"address"},{internalType:"address",name:"requesterrestrict",type:"address"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"bytes",name:"sign",type:"bytes"}],internalType:"struct IexecLibOrders_v5.WorkerpoolOrder",name:"order",type:"tuple"},{internalType:"enum IexecLibOrders_v5.OrderOperationEnum",name:"operation",type:"uint8"},{internalType:"bytes",name:"sign",type:"bytes"}],internalType:"struct IexecLibOrders_v5.WorkerpoolOrderOperation",name:"",type:"tuple"}],name:"manageWorkerpoolOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"app",type:"address"},{internalType:"uint256",name:"appprice",type:"uint256"},{internalType:"uint256",name:"volume",type:"uint256"},{internalType:"bytes32",name:"tag",type:"bytes32"},{internalType:"address",name:"datasetrestrict",type:"address"},{internalType:"address",name:"workerpoolrestrict",type:"address"},{internalType:"address",name:"requesterrestrict",type:"address"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"bytes",name:"sign",type:"bytes"}],internalType:"struct IexecLibOrders_v5.AppOrder",name:"",type:"tuple"},{components:[{internalType:"address",name:"dataset",type:"address"},{internalType:"uint256",name:"datasetprice",type:"uint256"},{internalType:"uint256",name:"volume",type:"uint256"},{internalType:"bytes32",name:"tag",type:"bytes32"},{internalType:"address",name:"apprestrict",type:"address"},{internalType:"address",name:"workerpoolrestrict",type:"address"},{internalType:"address",name:"requesterrestrict",type:"address"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"bytes",name:"sign",type:"bytes"}],internalType:"struct IexecLibOrders_v5.DatasetOrder",name:"",type:"tuple"},{components:[{internalType:"address",name:"workerpool",type:"address"},{internalType:"uint256",name:"workerpoolprice",type:"uint256"},{internalType:"uint256",name:"volume",type:"uint256"},{internalType:"bytes32",name:"tag",type:"bytes32"},{internalType:"uint256",name:"category",type:"uint256"},{internalType:"uint256",name:"trust",type:"uint256"},{internalType:"address",name:"apprestrict",type:"address"},{internalType:"address",name:"datasetrestrict",type:"address"},{internalType:"address",name:"requesterrestrict",type:"address"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"bytes",name:"sign",type:"bytes"}],internalType:"struct IexecLibOrders_v5.WorkerpoolOrder",name:"",type:"tuple"},{components:[{internalType:"address",name:"app",type:"address"},{internalType:"uint256",name:"appmaxprice",type:"uint256"},{internalType:"address",name:"dataset",type:"address"},{internalType:"uint256",name:"datasetmaxprice",type:"uint256"},{internalType:"address",name:"workerpool",type:"address"},{internalType:"uint256",name:"workerpoolmaxprice",type:"uint256"},{internalType:"address",name:"requester",type:"address"},{internalType:"uint256",name:"volume",type:"uint256"},{internalType:"bytes32",name:"tag",type:"bytes32"},{internalType:"uint256",name:"category",type:"uint256"},{internalType:"uint256",name:"trust",type:"uint256"},{internalType:"address",name:"beneficiary",type:"address"},{internalType:"address",name:"callback",type:"address"},{internalType:"string",name:"params",type:"string"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"bytes",name:"sign",type:"bytes"}],internalType:"struct IexecLibOrders_v5.RequestOrder",name:"",type:"tuple"}],name:"matchOrders",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"},{internalType:"bytes",name:"",type:"bytes"}],name:"receiveApproval",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"recover",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"reopen",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"resultFor",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"",type:"bytes32"}],name:"reveal",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"reveal_deadline_ratio",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"setCallbackGas",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"ens",type:"address"},{internalType:"string",name:"name",type:"string"}],name:"setName",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"setTeeBroker",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"teebroker",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"updateDomainSeparator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"bytes32",name:"",type:"bytes32"}],name:"verifyPresignature",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes",name:"",type:"bytes"}],name:"verifyPresignatureOrSignature",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes",name:"",type:"bytes"}],name:"verifySignature",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"viewAccount",outputs:[{components:[{internalType:"uint256",name:"stake",type:"uint256"},{internalType:"uint256",name:"locked",type:"uint256"}],internalType:"struct IexecLibCore_v5.Account",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"viewCategory",outputs:[{components:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"description",type:"string"},{internalType:"uint256",name:"workClockTimeRef",type:"uint256"}],internalType:"struct IexecLibCore_v5.Category",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"viewConsumed",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"address",name:"",type:"address"}],name:"viewContribution",outputs:[{components:[{internalType:"enum IexecLibCore_v5.ContributionStatusEnum",name:"status",type:"uint8"},{internalType:"bytes32",name:"resultHash",type:"bytes32"},{internalType:"bytes32",name:"resultSeal",type:"bytes32"},{internalType:"address",name:"enclaveChallenge",type:"address"},{internalType:"uint256",name:"weight",type:"uint256"}],internalType:"struct IexecLibCore_v5.Contribution",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"viewDeal",outputs:[{components:[{components:[{internalType:"address",name:"pointer",type:"address"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"price",type:"uint256"}],internalType:"struct IexecLibCore_v5.Resource",name:"app",type:"tuple"},{components:[{internalType:"address",name:"pointer",type:"address"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"price",type:"uint256"}],internalType:"struct IexecLibCore_v5.Resource",name:"dataset",type:"tuple"},{components:[{internalType:"address",name:"pointer",type:"address"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"price",type:"uint256"}],internalType:"struct IexecLibCore_v5.Resource",name:"workerpool",type:"tuple"},{internalType:"uint256",name:"trust",type:"uint256"},{internalType:"uint256",name:"category",type:"uint256"},{internalType:"bytes32",name:"tag",type:"bytes32"},{internalType:"address",name:"requester",type:"address"},{internalType:"address",name:"beneficiary",type:"address"},{internalType:"address",name:"callback",type:"address"},{internalType:"string",name:"params",type:"string"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"botFirst",type:"uint256"},{internalType:"uint256",name:"botSize",type:"uint256"},{internalType:"uint256",name:"workerStake",type:"uint256"},{internalType:"uint256",name:"schedulerRewardRatio",type:"uint256"}],internalType:"struct IexecLibCore_v5.Deal",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"viewPresigned",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"viewScore",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"viewTask",outputs:[{components:[{internalType:"enum IexecLibCore_v5.TaskStatusEnum",name:"status",type:"uint8"},{internalType:"bytes32",name:"dealid",type:"bytes32"},{internalType:"uint256",name:"idx",type:"uint256"},{internalType:"uint256",name:"timeref",type:"uint256"},{internalType:"uint256",name:"contributionDeadline",type:"uint256"},{internalType:"uint256",name:"revealDeadline",type:"uint256"},{internalType:"uint256",name:"finalDeadline",type:"uint256"},{internalType:"bytes32",name:"consensusValue",type:"bytes32"},{internalType:"uint256",name:"revealCounter",type:"uint256"},{internalType:"uint256",name:"winnerCounter",type:"uint256"},{internalType:"address[]",name:"contributors",type:"address[]"},{internalType:"bytes32",name:"resultDigest",type:"bytes32"},{internalType:"bytes",name:"results",type:"bytes"},{internalType:"uint256",name:"resultsTimestamp",type:"uint256"},{internalType:"bytes",name:"resultsCallback",type:"bytes"}],internalType:"struct IexecLibCore_v5.Task",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"withdraw",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"withdrawTo",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"workerpool_stake_ratio",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"workerpoolregistry",outputs:[{internalType:"contract IRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}],networks$8={},iexecNativeDesc={abi:abi$f,networks:networks$8},abi$e=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"baseURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"_previous",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"initialized",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"_entry",type:"address"}],name:"isRegistered",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"master",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"previous",outputs:[{internalType:"contract IRegistry",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"proxyCode",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"proxyCodeHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_baseURI",type:"string"}],name:"setBaseURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_ens",type:"address"},{internalType:"string",name:"_name",type:"string"}],name:"setName",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_appOwner",type:"address"},{internalType:"string",name:"_appName",type:"string"},{internalType:"string",name:"_appType",type:"string"},{internalType:"bytes",name:"_appMultiaddr",type:"bytes"},{internalType:"bytes32",name:"_appChecksum",type:"bytes32"},{internalType:"bytes",name:"_appMREnclave",type:"bytes"}],name:"createApp",outputs:[{internalType:"contract App",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_appOwner",type:"address"},{internalType:"string",name:"_appName",type:"string"},{internalType:"string",name:"_appType",type:"string"},{internalType:"bytes",name:"_appMultiaddr",type:"bytes"},{internalType:"bytes32",name:"_appChecksum",type:"bytes32"},{internalType:"bytes",name:"_appMREnclave",type:"bytes"}],name:"predictApp",outputs:[{internalType:"contract App",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0}],networks$7={1:{events:{"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},"0x17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},"0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"}},links:{},address:"0xB1C52075b276f87b1834919167312221d50c9D16"},3:{events:{"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},"0x17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},"0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"}},links:{},address:"0xB1C52075b276f87b1834919167312221d50c9D16"},4:{events:{"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},"0x17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},"0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"}},links:{},address:"0xB1C52075b276f87b1834919167312221d50c9D16"},5:{events:{"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},"0x17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},"0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"}},links:{},address:"0xB1C52075b276f87b1834919167312221d50c9D16"},42:{events:{"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},"0x17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},"0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"}},links:{},address:"0xB1C52075b276f87b1834919167312221d50c9D16"},133:{events:{"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},"0x17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},"0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"}},links:{},address:"0xB1C52075b276f87b1834919167312221d50c9D16"},134:{events:{"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},"0x17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},"0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"}},links:{},address:"0xB1C52075b276f87b1834919167312221d50c9D16"}},appRegistryDesc={abi:abi$e,networks:networks$7},abi$d=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"baseURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"_previous",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"initialized",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"_entry",type:"address"}],name:"isRegistered",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"master",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"previous",outputs:[{internalType:"contract IRegistry",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"proxyCode",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"proxyCodeHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_baseURI",type:"string"}],name:"setBaseURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_ens",type:"address"},{internalType:"string",name:"_name",type:"string"}],name:"setName",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_workerpoolOwner",type:"address"},{internalType:"string",name:"_workerpoolDescription",type:"string"}],name:"createWorkerpool",outputs:[{internalType:"contract Workerpool",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_workerpoolOwner",type:"address"},{internalType:"string",name:"_workerpoolDescription",type:"string"}],name:"predictWorkerpool",outputs:[{internalType:"contract Workerpool",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0}],networks$6={1:{events:{"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},"0x17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},"0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"}},links:{},address:"0xC76A18c78B7e530A165c5683CB1aB134E21938B4"},3:{events:{"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},"0x17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},"0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"}},links:{},address:"0xC76A18c78B7e530A165c5683CB1aB134E21938B4"},4:{events:{"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},"0x17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},"0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"}},links:{},address:"0xC76A18c78B7e530A165c5683CB1aB134E21938B4"},5:{events:{"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},"0x17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},"0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"}},links:{},address:"0xC76A18c78B7e530A165c5683CB1aB134E21938B4"},42:{events:{"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},"0x17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},"0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"}},links:{},address:"0xC76A18c78B7e530A165c5683CB1aB134E21938B4"},133:{events:{"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},"0x17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},"0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"}},links:{},address:"0xC76A18c78B7e530A165c5683CB1aB134E21938B4"},134:{events:{"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},"0x17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},"0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"}},links:{},address:"0xC76A18c78B7e530A165c5683CB1aB134E21938B4"}},workerpoolRegistryDesc={abi:abi$d,networks:networks$6},abi$c=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"baseURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"_previous",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"initialized",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"_entry",type:"address"}],name:"isRegistered",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"master",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"previous",outputs:[{internalType:"contract IRegistry",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"proxyCode",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"proxyCodeHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_baseURI",type:"string"}],name:"setBaseURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_ens",type:"address"},{internalType:"string",name:"_name",type:"string"}],name:"setName",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_datasetOwner",type:"address"},{internalType:"string",name:"_datasetName",type:"string"},{internalType:"bytes",name:"_datasetMultiaddr",type:"bytes"},{internalType:"bytes32",name:"_datasetChecksum",type:"bytes32"}],name:"createDataset",outputs:[{internalType:"contract Dataset",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_datasetOwner",type:"address"},{internalType:"string",name:"_datasetName",type:"string"},{internalType:"bytes",name:"_datasetMultiaddr",type:"bytes"},{internalType:"bytes32",name:"_datasetChecksum",type:"bytes32"}],name:"predictDataset",outputs:[{internalType:"contract Dataset",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0}],networks$5={1:{events:{"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},"0x17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},"0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"}},links:{},address:"0x799DAa22654128d0C64d5b79eac9283008158730"},3:{events:{"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},"0x17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},"0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"}},links:{},address:"0x799DAa22654128d0C64d5b79eac9283008158730"},4:{events:{"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},"0x17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},"0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"}},links:{},address:"0x799DAa22654128d0C64d5b79eac9283008158730"},5:{events:{"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},"0x17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},"0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"}},links:{},address:"0x799DAa22654128d0C64d5b79eac9283008158730"},42:{events:{"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},"0x17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},"0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"}},links:{},address:"0x799DAa22654128d0C64d5b79eac9283008158730"},133:{events:{"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},"0x17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},"0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"}},links:{},address:"0x799DAa22654128d0C64d5b79eac9283008158730"},134:{events:{"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},"0x17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},"0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"}},links:{},address:"0x799DAa22654128d0C64d5b79eac9283008158730"}},datasetRegistryDesc={abi:abi$c,networks:networks$5},abi$b=[{inputs:[],name:"m_appChecksum",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"m_appMREnclave",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[],name:"m_appMultiaddr",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[],name:"m_appName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"m_appType",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"registry",outputs:[{internalType:"contract IRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_ens",type:"address"},{internalType:"string",name:"_name",type:"string"}],name:"setName",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_appName",type:"string"},{internalType:"string",name:"_appType",type:"string"},{internalType:"bytes",name:"_appMultiaddr",type:"bytes"},{internalType:"bytes32",name:"_appChecksum",type:"bytes32"},{internalType:"bytes",name:"_appMREnclave",type:"bytes"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"}],networks$4={},appDesc={abi:abi$b,networks:networks$4},abi$a=[{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"oldWorkerStakeRatioPolicy",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newWorkerStakeRatioPolicy",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldSchedulerRewardRatioPolicy",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newSchedulerRewardRatioPolicy",type:"uint256"}],name:"PolicyUpdate",type:"event"},{inputs:[],name:"m_schedulerRewardRatioPolicy",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"m_workerStakeRatioPolicy",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"m_workerpoolDescription",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"registry",outputs:[{internalType:"contract IRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_ens",type:"address"},{internalType:"string",name:"_name",type:"string"}],name:"setName",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_workerpoolDescription",type:"string"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_newWorkerStakeRatioPolicy",type:"uint256"},{internalType:"uint256",name:"_newSchedulerRewardRatioPolicy",type:"uint256"}],name:"changePolicy",outputs:[],stateMutability:"nonpayable",type:"function"}],networks$3={},workerpoolDesc={abi:abi$a,networks:networks$3},abi$9=[{inputs:[],name:"m_datasetChecksum",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"m_datasetMultiaddr",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[],name:"m_datasetName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"registry",outputs:[{internalType:"contract IRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_ens",type:"address"},{internalType:"string",name:"_name",type:"string"}],name:"setName",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_datasetName",type:"string"},{internalType:"bytes",name:"_datasetMultiaddr",type:"bytes"},{internalType:"bytes32",name:"_datasetChecksum",type:"bytes32"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"}],networks$2={},datasetDesc={abi:abi$9,networks:networks$2},abi$8=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"initialSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"version",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"locked",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"refill",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_giver",type:"address"},{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"forceApprove",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_toburn",type:"address"},{name:"_value",type:"uint256"}],name:"forceBurn",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_value",type:"uint256"}],name:"burn",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"},{name:"_extraData",type:"bytes"}],name:"approveAndCall",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],networks$1={1:{address:"0x607F4C5BB672230e8672085532f7e901544a7375",links:{}},3:{events:{"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef":{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925":{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"}},links:{},address:"0x7314dc4d7794b5e7894212ca1556ae8e3de58621",updated_at:1507185226658},4:{events:{"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef":{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925":{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"}},links:{},address:"0xf1e6ad3a7ef0c86c915f0fedf80ed851809bea90",updated_at:1507153008876},5:{events:{"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef":{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925":{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"}},links:{},address:"0xe0d00540a3729B4fdB96f92534dA97DC7973Af8b",updated_at:1561724003e3},31:{events:{"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef":{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925":{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"}},links:{},address:"0x88b37ff3c0df0692f982a28099a9999c4a422293",updated_at:1521045503088},42:{events:{"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef":{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925":{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"}},links:{},address:"0xc57538846ec405ea25deb00e0f9b29a432d53507",updated_at:1507187064558}},rlcDesc={abi:abi$8,networks:networks$1},abi$7=[{inputs:[{internalType:"address",name:"underlyingtoken",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"uint256",name:"softcap",type:"uint256"},{internalType:"address[]",name:"admins",type:"address[]"},{internalType:"address[]",name:"kycadmins",type:"address[]"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"id",type:"uint256"}],name:"Snapshot",type:"event"},{anonymous:!1,inputs:[],name:"SoftCapReached",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"KYC_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"KYC_MEMBER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"extraData",type:"bytes"}],name:"approveAndCall",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"snapshotId",type:"uint256"}],name:"balanceOfAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"detectTransferRestriction",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"getRoleMember",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleMemberCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"}],name:"grantKYC",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"isKYC",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint8",name:"restrictionCode",type:"uint8"}],name:"messageForTransferRestriction",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"}],name:"revokeKYC",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"snapshot",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"softCap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"softCapReached",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"snapshotId",type:"uint256"}],name:"totalSupplyAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"transferAndCall",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"underlyingToken",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"deposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"recover",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"to",type:"address"}],name:"claim",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"token",type:"address"},{internalType:"bytes",name:"",type:"bytes"}],name:"receiveApproval",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onTokenTransfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],networks={1:{events:{"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},"0xbd79b86ffe0ab8e8776151514217cd7cacd52c909f66475c3af44e129f0b00ff":{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},"0x2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d":{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},"0xf6391f5c32d9c69d2a47ea670b442974b53935d1edc7fd64eb21e047a839171b":{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},"0x8030e83b04d87bef53480e26263266d6ca66863aa8506aca6f2559d18aa1cb67":{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"id",type:"uint256"}],name:"Snapshot",type:"event"},"0x629c1b672a634075c61f1cbfbec5f3e47b94c3f90f065486f615ecfa18713d34":{anonymous:!1,inputs:[],name:"SoftCapReached",type:"event"},"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"}},links:{},address:"0xA3B26327482312f70E077aAba62336f7643e41E1",transactionHash:"0x978c7b48dbf5830976c095929e8cfd65e9d657d46f526aea580981bf0de20a17"},5:{events:{"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},"0xbd79b86ffe0ab8e8776151514217cd7cacd52c909f66475c3af44e129f0b00ff":{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},"0x2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d":{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},"0xf6391f5c32d9c69d2a47ea670b442974b53935d1edc7fd64eb21e047a839171b":{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},"0x8030e83b04d87bef53480e26263266d6ca66863aa8506aca6f2559d18aa1cb67":{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"id",type:"uint256"}],name:"Snapshot",type:"event"},"0x629c1b672a634075c61f1cbfbec5f3e47b94c3f90f065486f615ecfa18713d34":{anonymous:!1,inputs:[],name:"SoftCapReached",type:"event"},"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"}},links:{},address:"0xe8D9DB06F99536612c6B193E4C7347866B84C9d5",transactionHash:"0x2dc477812cbeed9ed49b1943952492d4c3684f699e81d4ddc5b43e677c103274"},"1607418933360":{events:{"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},"0xbd79b86ffe0ab8e8776151514217cd7cacd52c909f66475c3af44e129f0b00ff":{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},"0x2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d":{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},"0xf6391f5c32d9c69d2a47ea670b442974b53935d1edc7fd64eb21e047a839171b":{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},"0x8030e83b04d87bef53480e26263266d6ca66863aa8506aca6f2559d18aa1cb67":{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"id",type:"uint256"}],name:"Snapshot",type:"event"},"0x629c1b672a634075c61f1cbfbec5f3e47b94c3f90f065486f615ecfa18713d34":{anonymous:!1,inputs:[],name:"SoftCapReached",type:"event"},"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef":{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"}},links:{},address:"0x63e0E0F3e1628318572ECD2f5d5B91FDfdf10bd2",transactionHash:"0xa74d2f6b211c9cedc38a2b4501dcd5081852bf39f83a26f7b1205c060e313353"}},erlcDesc={abi:abi$7,networks},debug$u=Debug("iexec:IExecContractsClient"),enterpriseHubMap={1:"0x0bf375A6238359CE14987C2285B8B099eE8e8709",5:"0x0bf375A6238359CE14987C2285B8B099eE8e8709"},nativeNetworks={standard:["134"],enterprise:[]},gasPriceByNetwork={134:0n},getHubAddress=(a,e)=>{if(e==="enterprise"){if(enterpriseHubMap[a])return enterpriseHubMap[a];throw Error(`Missing iExec enterprise contract default address for chain ${a}`)}else{if(networks$a&&networks$a[a]&&networks$a[a].address)return networks$a[a].address;throw Error(`Missing iExec contract default address for chain ${a}`)}},getIsNative=(a,e)=>nativeNetworks[e].includes(a),getGasPriceOverride=a=>gasPriceByNetwork[a],getTokenDesc=(a,e)=>{if(!a)return e==="enterprise"?erlcDesc:rlcDesc},getContractsDescMap=(a,e)=>({hub:{contractDesc:a?iexecNativeDesc:iexecTokenDesc},token:{contractDesc:getTokenDesc(a,e),hubPropName:"token"},app:{contractDesc:appDesc,registryName:"appRegistry"},appRegistry:{contractDesc:appRegistryDesc,hubPropName:"appregistry"},dataset:{contractDesc:datasetDesc,registryName:"datasetRegistry"},datasetRegistry:{contractDesc:datasetRegistryDesc,hubPropName:"datasetregistry"},workerpool:{contractDesc:workerpoolDesc,registryName:"workerpoolRegistry"},workerpoolRegistry:{contractDesc:workerpoolRegistryDesc,hubPropName:"workerpoolregistry"}}),createClient=({ethSigner:a,ethProvider:e,chainId:o,globalHubAddress:c,isNative:d,flavour:h})=>{const et={},tt=getContractsDescMap(d,h),ot=c||getHubAddress(o,h),ft=(xt,Et)=>{try{const{contractDesc:vt}=tt[xt];if(!Et)throw Error("no contract address provided");return new Contract(Et,vt.abi,a||e)}catch(vt){throw debug$u("getContract()",vt),vt}},ht=()=>ft("hub",ot),yt=async xt=>{try{const{registryName:Et}=tt[xt];if(et[Et])return et[Et];const $t=await ht()[tt[Et].hubPropName]();return et[Et]=$t,$t}catch(Et){throw debug$u("fetchRegistryAddress()",Et),Et}},gt=async xt=>{try{const Et=await yt(xt);return ft(tt[xt].registryName,Et)}catch(Et){throw debug$u("fetchRegistryContract()",Et),Et}},wt=async()=>{try{if(et.token)return et.token;const Et=await ht().token();return et.token=Et,Et}catch(xt){throw debug$u("fetchTokenAddress()",xt),xt}};return{pocoVersion:version$3,isNative:d,flavour:h,hubAddress:ot,getContract:ft,getIExecContract:ht,fetchRegistryContract:gt,...!d&&{fetchTokenContract:async()=>{try{const xt=await wt();return ft("token",xt)}catch(xt){throw debug$u("fetchTokenContract()",xt),xt}}},...!d&&{fetchTokenAddress:wt},fetchRegistryAddress:yt}};class IExecContractsClient{constructor({provider:e,signer:o,chainId:c,hubAddress:d,useGas:h=!0,isNative:et,flavour:tt="standard",confirms:ot=1}={}){const ft=`${c}`;if(!e)throw Error("missing provider key");if(!ft)throw Error("missing chainId key");if(!Number.isInteger(ot)||ot<=0)throw Error("invalid confirms");if(tt!=="standard"&&tt!=="enterprise")throw Error("invalid flavour");this._args={provider:e,signer:o,chainId:ft,hubAddress:d,useGas:h,isNative:et,flavour:tt};const ht=et!==void 0?!!et:getIsNative(ft,tt),yt=h===!1?0n:getGasPriceOverride(ft),gt=createClient({ethSigner:o,ethProvider:e,chainId:ft,globalHubAddress:d,isNative:ht,flavour:tt});this.setSigner=wt=>{const bt=wt.connect(this.provider);Object.assign(this,new IExecContractsClient({...this._args,signer:bt}))},Object.assign(this,{provider:e,signer:o,chainId:ft,txOptions:{gasPrice:yt},confirms:ot,...gt})}}const getMessage=a=>typeof a=="string"?a:a.info&&a.info.error&&a.info.error.message?a.info.error.message:a.message,wrapCall=async a=>{try{return await a}catch(e){throw new Web3ProviderCallError(getMessage(e),e)}},wrapWait=wrapCall,wrapSend=async a=>{try{return await a}catch(e){throw new Web3ProviderSendError(getMessage(e),e)}},wrapSign=async a=>{try{return await a}catch(e){throw new Web3ProviderSignMessageError(getMessage(e),e)}},wrapSignTypedData=wrapSign,wrapPersonalSign=wrapSign,debug$t=Debug("validators"),posIntRegex=/^\d+$/,posStrictIntRegex=/^[1-9]\d*$/,teeFrameworksList=Object.values(TEE_FRAMEWORKS),stringSchema$1=create$6$1,teeFrameworkSchema=()=>create$6$1().transform(a=>a.toLowerCase()).oneOf(teeFrameworksList,"${path} is not a valid TEE framework"),stringNumberSchema=({message:a}={})=>create$6$1().transform(e=>{const o=e.replace(/^0+/,"");return o.length>0?o:"0"}).matches(posIntRegex,a||"${originalValue} is not a valid number"),integerSchema=()=>create$5$1().integer(),positiveIntSchema=()=>integerSchema().min(0).max(Number.MAX_SAFE_INTEGER-1),positiveStrictIntSchema=()=>integerSchema().min(1).max(Number.MAX_SAFE_INTEGER-1),uint256Schema=()=>stringNumberSchema({message:"${originalValue} is not a valid uint256"}),amountErrorMessage=({originalValue:a})=>`${Array.isArray(a)?a.join(" "):a} is not a valid amount`,nRlcAmountSchema=({defaultUnit:a="nRLC"}={})=>create$6$1().transform((e,o)=>{if(Array.isArray(o)){if(o.length>2)throw new ValidationError(amountErrorMessage({originalValue:o}));return o.length===2&&o[1]?`${o[0]} ${o[1]}`:`${o[0]}`}return e}).transform(e=>{const[o,c]=e.split(" "),d=o.replace(/^0+/,""),h=d.length>0?d:"0";return c!==void 0?[h,c].join(" "):h}).transform((e,o)=>{try{return parseRLC(e,a).toString()}catch{throw new ValidationError(amountErrorMessage({originalValue:o}))}}).matches(/^[0-9]*$/,amountErrorMessage),weiAmountSchema=({defaultUnit:a="wei"}={})=>create$6$1().transform((e,o)=>{if(Array.isArray(o)){if(o.length>2)throw new ValidationError(amountErrorMessage({originalValue:o}));return o.length===2&&o[1]?`${o[0]} ${o[1]}`:`${o[0]}`}return e}).transform(e=>{const[o,c]=e.split(" "),d=o.replace(/^0+/,""),h=d.length>0?d:"0";return c!==void 0?[h,c].join(" "):h}).transform((e,o)=>{try{return parseEth(e,a).toString()}catch{throw new ValidationError(amountErrorMessage({originalValue:o}))}}).matches(/^[0-9]*$/,amountErrorMessage),chainIdSchema=()=>stringNumberSchema({message:"${originalValue} is not a valid chainId"}),transformAddressOrEns=a=>e=>{try{if(typeof e=="string"){if(e.match(/^.*\.eth$/)){if(a&&a.resolveName&&typeof a.resolveName=="function")return debug$t("resolving ENS",e),wrapCall(a.resolveName(e)).then(o=>(debug$t("resolved ENS",o),o)).catch(o=>(debug$t("ENS resolution error",o),null));debug$t("no ethProvider ENS can't be resolved")}return getAddress$1(e.toLowerCase())}}catch(o){debug$t("Error",o)}return e},testResolveEnsPromise=async a=>{if(a===void 0)return!0;if(typeof a=="string")return!a.match(/^.*\.eth$/);try{const e=await a;return e?(getAddress$1(e),!0):!1}catch(e){return debug$t("resolve-ens",e),!1}},testAddressOrAddressPromise=async a=>{const e=typeof a=="string"?a:await a;return isAddress(e)},addressSchema$1=({ethProvider:a}={})=>create$8().transform(e=>transformAddressOrEns(a)(e)).test("resolve-ens","Unable to resolve ENS ${originalValue}",e=>testResolveEnsPromise(e)).test("is-address","${originalValue} is not a valid ethereum address",e=>testAddressOrAddressPromise(e)),addressOrAnySchema=({ethProvider:a}={})=>create$8().transform(e=>e===ANY?e:transformAddressOrEns(a)(e)).test("resolve-ens","Unable to resolve ENS ${originalValue}",e=>e===ANY?!0:testResolveEnsPromise(e)).test("is-address","${originalValue} is not a valid ethereum address",e=>e===ANY?!0:testAddressOrAddressPromise(e)),bytes32Schema=()=>create$6$1().lowercase().matches(bytes32Regex,"${originalValue} is not a bytes32 hexstring"),orderSignSchema=()=>create$6$1().matches(/^(0x)([0-9a-f]{2})*/,"${originalValue} is not a valid signature"),salted=()=>({salt:bytes32Schema().required()}),signed=()=>({sign:orderSignSchema().required()}),catidSchema=()=>uint256Schema(),paramsArgsSchema=()=>create$6$1(),paramsInputFilesArraySchema=()=>create$2$1().transform((a,e)=>Array.isArray(e)?e:typeof e=="string"?e.split(","):a).of(create$6$1().url('${path} "${value}" is not a valid URL').required('${path} "${value}" is not a valid URL')),paramsEncryptResultSchema=()=>create$7(),addAllStorageProviders=a=>a.oneOf(Object.values(STORAGE_PROVIDERS),'${path} "${value}" is not a valid storage provider, use one of the supported providers (${values})'),paramsRequesterSecretsSchema=()=>create$3$1().test("keys-are-int","${path} mapping keys must be strictly positive integers",a=>!(a!=null&&Object.keys(a).find(e=>!posStrictIntRegex.test(e)))).test("values-are-string","${path} mapping names must be strings",a=>!(a!=null&&Object.values(a).find(e=>typeof e!="string"||e.length===0))).nonNullable(),objParamsSchema=()=>create$3$1({[IEXEC_REQUEST_PARAMS.IEXEC_ARGS]:paramsArgsSchema(),[IEXEC_REQUEST_PARAMS.IEXEC_INPUT_FILES]:paramsInputFilesArraySchema(),[IEXEC_REQUEST_PARAMS.IEXEC_RESULT_ENCRYPTION]:paramsEncryptResultSchema(),[IEXEC_REQUEST_PARAMS.IEXEC_RESULT_STORAGE_PROVIDER]:create$6$1().when("$isCallback",([a],e)=>a===!0?e.notRequired():e.default(STORAGE_PROVIDERS.IPFS).when("$isTee",([o],c)=>o===!0?addAllStorageProviders(c):c.oneOf([STORAGE_PROVIDERS.IPFS],'${path} "${value}" is not supported for non TEE tasks use supported storage provider ${values}')).required()),[IEXEC_REQUEST_PARAMS.IEXEC_SECRETS]:create$8().when("$isTee",([a])=>a===!0?paramsRequesterSecretsSchema():create$8().test("is-not-defined","${path} is not supported for non TEE tasks",e=>e===void 0)),[IEXEC_REQUEST_PARAMS.IEXEC_RESULT_STORAGE_PROXY]:create$6$1().when(`${IEXEC_REQUEST_PARAMS.IEXEC_RESULT_STORAGE_PROVIDER}`,([a],e)=>a===STORAGE_PROVIDERS.IPFS?e.when("$resultProxyURL",([o],c)=>c.default(o)).required(`\${path} is required field with "${STORAGE_PROVIDERS.IPFS}" storage`):e.notRequired()),[IEXEC_REQUEST_PARAMS.IEXEC_DEVELOPER_LOGGER]:create$7().notRequired()}).json().noUnknown(!0,'Unknown key "${unknown}" in params'),paramsSchema=()=>create$6$1().transform((a,e)=>typeof e=="object"?JSON.stringify(e):a).test("is-json","${originalValue} is not a valid params, must be a json",a=>{if(a===void 0)return!0;try{return JSON.parse(a),!0}catch{return!1}}),tagSchema=()=>create$8().transform(a=>{if(Array.isArray(a))try{return encodeTag$1(a)}catch(e){return e}if(typeof a=="string"){const e=a.toLowerCase();if(e.substring(0,2)==="0x")return e;try{return encodeTag$1(a.split(","))}catch(o){return o}}return Error("Invalid tag")}).test("no-transform-error",({originalValue:a,value:e})=>`${a} is not a valid tag. ${e.message}`,a=>!(a instanceof Error)).test("is-bytes32","${originalValue} is not a valid bytes32 hexstring",async a=>{if(a instanceof Error)return!0;try{return await bytes32Schema().validate(a),!0}catch{return!1}}).test("is-valid-tee-tag","${originalValue} has a invalid tee combination",(a,{createError:e})=>{if(a instanceof Error)return!0;const o=checkActiveBitInTag(a,TAG_MAP.tee),c=Object.values(TEE_FRAMEWORKS).filter(d=>checkActiveBitInTag(a,TAG_MAP[d]));try{if(o){if(c.length<1)throw Error(`'tee' tag must be used with a tee framework (${Object.values(TEE_FRAMEWORKS).map(d=>`'${d}'`).join("|")})`);if(c.length>1)throw Error(`tee framework tags are exclusive (${Object.values(TEE_FRAMEWORKS).map(d=>`'${d}'`).join("|")})`)}else if(c.length>0)throw Error(`'${c[0]}' tag must be used with 'tee' tag`)}catch(d){return e({message:d.message})}return!0}),apporderSchema=a=>create$3$1({app:addressSchema$1(a).required(),appprice:nRlcAmountSchema().required(),volume:uint256Schema().required(),tag:tagSchema().required(),datasetrestrict:addressSchema$1(a).required(),workerpoolrestrict:addressSchema$1(a).required(),requesterrestrict:addressSchema$1(a).required()}),saltedApporderSchema=a=>apporderSchema(a).shape(salted(),"${originalValue} is not a valid salted apporder"),signedApporderSchema=a=>saltedApporderSchema(a).shape(signed(),"${originalValue} is not a valid signed apporder"),datasetorderSchema=a=>create$3$1({dataset:addressSchema$1(a).required(),datasetprice:nRlcAmountSchema().required(),volume:uint256Schema().required(),tag:tagSchema().required(),apprestrict:addressSchema$1(a).required(),workerpoolrestrict:addressSchema$1(a).required(),requesterrestrict:addressSchema$1(a).required()}),saltedDatasetorderSchema=a=>datasetorderSchema(a).shape(salted(),"${originalValue} is not a valid salted datasetorder"),signedDatasetorderSchema=a=>saltedDatasetorderSchema(a).shape(signed(),"${originalValue} is not a valid signed datasetorder"),workerpoolorderSchema=a=>create$3$1({workerpool:addressSchema$1(a).required(),workerpoolprice:nRlcAmountSchema().required(),volume:uint256Schema().required(),tag:tagSchema().required(),category:catidSchema().required(),trust:uint256Schema().required(),apprestrict:addressSchema$1(a).required(),datasetrestrict:addressSchema$1(a).required(),requesterrestrict:addressSchema$1(a).required()}),saltedWorkerpoolorderSchema=a=>workerpoolorderSchema(a).shape(salted(),"${originalValue} is not a valid salted workerpoolorder"),signedWorkerpoolorderSchema=a=>saltedWorkerpoolorderSchema(a).shape(signed(),"${originalValue} is not a valid signed workerpoolorder"),requestorderSchema=a=>create$3$1({app:addressSchema$1(a).required(),appmaxprice:nRlcAmountSchema().required(),dataset:addressSchema$1(a).required(),datasetmaxprice:nRlcAmountSchema().required(),workerpool:addressSchema$1(a).required(),workerpoolmaxprice:nRlcAmountSchema().required(),requester:addressSchema$1(a).required(),volume:uint256Schema().required(),tag:tagSchema().required(),category:catidSchema().required(),trust:uint256Schema().required(),beneficiary:addressSchema$1(a).required(),callback:addressSchema$1(a).required(),params:paramsSchema()}),saltedRequestorderSchema=a=>requestorderSchema(a).shape(salted(),"${originalValue} is not a valid salted requestorder"),signedRequestorderSchema=a=>saltedRequestorderSchema(a).shape(signed(),"${originalValue} is not a valid signed requestorder"),multiaddressSchema=()=>create$8().transform(a=>{if(a instanceof Uint8Array)return a;if(typeof a=="string")return humanToMultiaddrBuffer(a,{strict:!1});throw new ValidationError("${originalValue} is not a valid multiaddr")}),objMrenclaveSchema=()=>create$3$1({framework:teeFrameworkSchema().required(),version:create$6$1().required(),fingerprint:create$6$1().required(),entrypoint:create$8().when("framework",([a],e)=>a&&a.toLowerCase()===TEE_FRAMEWORKS.SCONE?create$6$1().required():e.is([void 0],'Unknown key "${path}" in mrenclave')),heapSize:create$8().when("framework",([a],e)=>a&&a.toLowerCase()===TEE_FRAMEWORKS.SCONE?positiveIntSchema().required():e.is([void 0],'Unknown key "${path}" in mrenclave'))}).json().noUnknown(!0,'Unknown key "${unknown}" in mrenclave'),mrenclaveSchema=()=>create$8().transform(a=>a instanceof Uint8Array?a:utf8ToBuffer(typeof a=="string"?a:typeof a=="object"?JSON.stringify(a):"")).test("is-valid-mrenclave","${path} is not a valid mrenclave",async(a,{originalValue:e,createError:o})=>{let c,d;if(e instanceof Uint8Array)try{c=buffer$1.Buffer.from(e).toString()}catch{return!1}else if(typeof e=="string")c=e;else if(e&&typeof e=="object")d=e;else if(e!==void 0)return!1;try{return c!==void 0&&c!==""&&(d=JSON.parse(c)),d&&await objMrenclaveSchema().validate(d,{stripUnknown:!1}),!0}catch(h){return h instanceof ValidationError?o({message:h.message}):!1}}).default(()=>utf8ToBuffer("")),appTypeSchema=()=>create$6$1().oneOf(["DOCKER"],"${originalValue} is not a valid type"),appSchema=a=>create$3$1({owner:addressSchema$1(a).required(),name:create$6$1().required(),type:appTypeSchema().required(),multiaddr:multiaddressSchema().required(),checksum:bytes32Schema().required(),mrenclave:mrenclaveSchema().required()}),datasetSchema=a=>create$3$1({owner:addressSchema$1(a).required(),name:create$6$1().required(),multiaddr:multiaddressSchema().required(),checksum:bytes32Schema().required()}),workerpoolSchema=a=>create$3$1({owner:addressSchema$1(a).required(),description:create$6$1().required()}),categorySchema=()=>create$3$1({name:create$6$1().required(),description:create$6$1().required(),workClockTimeRef:uint256Schema().required()}),fileBufferSchema=()=>create$8().transform(a=>{try{if(typeof a=="string")throw Error("unsupported string");return buffer$1.Buffer.from(a)}catch{throw new ValidationError("Invalid file buffer, must be ArrayBuffer or Buffer")}}),base64Encoded256bitsKeySchema=()=>create$6$1().test("is-base64-256bits-key","${originalValue} is not a valid encryption key (must be base64 encoded 256 bits key)",async a=>{try{if(buffer$1.Buffer.from(a,"base64").length!==32)throw Error("Invalid key length");return!0}catch(e){return debug$t("is-base64-256bits-key",e),!1}}),ensDomainSchema=()=>create$6$1().test("no-empty-label","${originalValue} is not a valid ENS domain (domain cannot have empty labels)",a=>{try{if(a.split(".").filter(c=>c.length<1).length>0)throw new Error("Domain cannot have empty labels");return!0}catch(e){return debug$t("ensDomainSchema no-empty-label",e),!1}}).test("valid-namehash","${originalValue} is not a valid ENS domain (domain cannot contain unsupported characters)",a=>{try{return namehash(a),!0}catch(e){return debug$t("ensDomainSchema valid-namehash",e),!1}}).test("no-uppercase","${originalValue} is not a valid ENS domain (domain cannot contain uppercase characters)",a=>{try{if(a!==a.toLowerCase())throw Error("Domain cannot have uppercase characters");return!0}catch(e){return debug$t("ensDomainSchema no-uppercase",e),!1}}),ensLabelSchema=()=>create$6$1().test("no-dot","${originalValue} is not a valid ENS label (label cannot have `.`)",async a=>{try{if(a.indexOf(".")!==-1)throw new Error("Label cannot have `.`");return!0}catch(e){return debug$t("ensLabelSchema no-dot",e),!1}}).test("valid-namehash","${originalValue} is not a valid ENS label (label cannot contain unsupported characters)",a=>{try{return namehash(a),!0}catch(e){return debug$t("ensLabelSchema valid-namehash",e),!1}}).test("no-uppercase","${originalValue} is not a valid ENS label (label cannot contain uppercase characters)",a=>{try{if(a!==a.toLowerCase())throw Error("Label cannot have uppercase characters");return!0}catch(e){return debug$t("ensLabelSchema no-uppercase",e),!1}}),textRecordKeySchema=()=>create$6$1().required().strict(!0),textRecordValueSchema=()=>create$6$1().default("").strict(!0),workerpoolApiUrlSchema=()=>create$6$1().url().default(""),basicUrlSchema=()=>create$6$1().matches(/^http[s]?:\/\//,"${path} is not a valid url"),smsUrlOrMapSchema=()=>create$9(a=>typeof a=="object"&&a!==null?create$3$1(teeFrameworksList.reduce((e,o)=>({...e,[o]:basicUrlSchema()}),{})).noUnknown(!0).nonNullable().strict(!0):basicUrlSchema()),throwIfMissing$1=()=>{throw new ValidationError("Missing parameter")},debug$s=Debug("iexec:IExecConfig");class IExecConfig{constructor({ethProvider:e,flavour:o="standard"}={},{hubAddress:c,ensRegistryAddress:d,ensPublicResolverAddress:h,isNative:et,useGas:tt=!0,confirms:ot,bridgeAddress:ft,bridgedNetworkConf:ht={},enterpriseSwapConf:yt={},smsURL:gt,resultProxyURL:wt,ipfsGatewayURL:bt,iexecGatewayURL:xt,defaultTeeFramework:Et,providerOptions:vt}={}){if(e==null||e==="")throw new ConfigurationError("Missing ethProvider");const $t=typeof e=="string"||typeof e=="number",At=e instanceof EnhancedWallet;let kt;try{if(At)kt=e.provider;else if($t)kt=getReadOnlyProvider(e,{providers:vt});else try{kt=new BrowserProvider(e)}catch(mt){throw debug$s("BrowserProvider",mt),Error("Unsupported provider")}}catch(mt){throw new ConfigurationError(`Invalid ethProvider: ${mt.message}`)}let It;try{It=smsUrlOrMapSchema().validateSync(gt)}catch(mt){throw new ConfigurationError(`Invalid smsURL: ${mt.message}`)}let Dt;try{Dt=teeFrameworkSchema().validateSync(Et)}catch(mt){throw new ConfigurationError(`Invalid defaultTeeFramework: ${mt.message}`)}const Mt=(async()=>{const{chainId:mt,name:Tt,ensAddress:Rt}=await kt.getNetwork().catch(Ot=>{throw Error(`Failed to detect network: ${Ot.message}`)});return{chainId:Number(mt),name:Tt,ensAddress:Rt}})();Mt.catch(mt=>{debug$s("networkPromise",mt)});const zt=(async()=>{const{chainId:mt}=await Mt;return getChainDefaults({id:mt,flavour:o})})();zt.catch(mt=>{debug$s("chainConfDefaultsPromise",mt)});const Kt=(async()=>{let mt,Tt;const Rt=await Mt,Ot=await zt,Lt={...Rt,...Ot.network,...d&&{ensAddress:d}};if(At)e.provider instanceof JsonRpcProvider?Tt=e.connect(new JsonRpcProvider(e.provider._getConnection().url,Lt)):(d&&console.warn("IExec: ensRegistryAddress option is not supported when using a default provider"),Tt=e),mt=Tt.provider;else if($t)mt=getReadOnlyProvider(e,{providers:vt,network:Lt});else{const Ut=new BrowserProviderSigner(e,Lt);Tt=Ut,mt=Ut.provider}return{provider:mt,signer:Tt}})();Kt.catch(mt=>{debug$s("providerAndSignerPromise",mt)});const Yt=(async()=>{const{chainId:mt}=await Mt,{provider:Tt,signer:Rt}=await Kt;try{return new IExecContractsClient({chainId:mt,provider:Tt,signer:Rt,hubAddress:c,useGas:tt,confirms:ot,isNative:et,flavour:o})}catch(Ot){throw new ConfigurationError(`Failed to create contracts client: ${Ot.message}`)}})();Yt.catch(mt=>{debug$s("contractsPromise",mt)});const er=(async()=>{const{chainId:mt}=await Mt,{provider:Tt,signer:Rt}=await Kt;if(!(yt.hubAddress||isEnterpriseEnabled(mt)))throw new ConfigurationError(`enterpriseSwapConf option not set and no default value for your chain ${mt}`);const Lt=o==="enterprise"?"standard":"enterprise",Ut={...getChainDefaults({id:mt,flavour:Lt}),...yt};try{return new IExecContractsClient({chainId:mt,provider:Tt,signer:Rt,hubAddress:Ut.hubAddress,confirms:ot,isNative:Ut.isNative,flavour:Lt})}catch(Gt){throw new ConfigurationError(`Failed to create enterprise swap contracts client: ${Gt.message}`)}})();er.catch(mt=>{debug$s("enterpriseSwapContractsPromise",mt)});const qt=(async()=>{const{chainId:mt}=await Mt,Tt=await zt;if(!(Object.getOwnPropertyNames(ht).length>0||Tt.bridge))throw new ConfigurationError(`bridgedNetworkConf option not set and no default value for your chain ${mt}`);const Ot=ht.chainId!==void 0?ht.chainId:Tt.bridge&&Tt.bridge.bridgedChainId;if(!Ot)throw new ConfigurationError(`Missing chainId in bridgedNetworkConf and no default value for your chain ${mt}`);const Lt=getChainDefaults({id:Ot,flavour:o}),Ut=ht.rpcURL!==void 0?ht.rpcURL:Lt.host;if(!Ut)throw new ConfigurationError(`Missing rpcURL in bridgedNetworkConf and no default value for bridged chain ${Ot}`);const Gt=ht.bridgeAddress!==void 0?ht.bridgeAddress:Lt.bridge&&Lt.bridge.contract;if(!Gt)throw new ConfigurationError(`Missing bridgeAddress in bridgedNetworkConf and no default value for bridged chain ${Ot}`);const Bt=await Yt;return{chainId:Ot,rpcURL:Ut,isNative:o==="standard"?!Bt.isNative:Bt.isNative,hubAddress:ht.hubAddress,bridgeAddress:Gt,network:Lt.network}})();qt.catch(mt=>{debug$s("bridgedConfPromise",mt)});const Ft=(async()=>{const mt=await qt;try{return new IExecContractsClient({chainId:mt.chainId,provider:getReadOnlyProvider(mt.rpcURL,{providers:vt,network:mt.network}),hubAddress:mt.hubAddress,confirms:ot,isNative:mt.isNative,flavour:o})}catch(Tt){throw new ConfigurationError(`Failed to create bridged contracts client: ${Tt.message}`)}})();Ft.catch(mt=>{debug$s("bridgedContractsPromise",mt)}),this.resolveChainId=async()=>(await Mt).chainId,this.resolveContractsClient=async()=>Yt,this.resolveBridgedContractsClient=async()=>Ft,this.resolveStandardContractsClient=async()=>{const mt=await Yt;return mt.flavour==="standard"?mt:er},this.resolveEnterpriseContractsClient=async()=>{const mt=await Yt;return mt.flavour==="enterprise"?mt:er},this.resolveSmsURL=async({teeFramework:mt=Dt||TEE_FRAMEWORKS.SCONE}={})=>{const{chainId:Tt}=await Mt,Rt=await zt,Ot=await teeFrameworkSchema().label("teeFramework").validate(mt),Lt=typeof It=="string"&&It||typeof It=="object"&&It[Ot]||Rt.sms&&Rt.sms[Ot];if(Lt!==void 0)return Lt;throw new ConfigurationError(`smsURL option not set and no default value for your chain ${Tt}`)},this.resolveResultProxyURL=async()=>{const{chainId:mt}=await Mt,Tt=await zt,Rt=wt||Tt.resultProxy;if(Rt!==void 0)return Rt;throw new ConfigurationError(`resultProxyURL option not set and no default value for your chain ${mt}`)},this.resolveIexecGatewayURL=async()=>{const{chainId:mt}=await Mt,Tt=await zt,Rt=xt||Tt.iexecGateway;if(Rt!==void 0)return Rt;throw new ConfigurationError(`iexecGatewayURL option not set and no default value for your chain ${mt}`)},this.resolveIpfsGatewayURL=async()=>{const{chainId:mt}=await Mt,Tt=await zt,Rt=bt||Tt.ipfsGateway;if(Rt!==void 0)return Rt;throw new ConfigurationError(`ipfsGatewayURL option not set and no default value for your chain ${mt}`)},this.resolveBridgeAddress=async()=>{const{chainId:mt}=await Mt,Tt=await zt,Rt=ft||Tt.bridge&&Tt.bridge.contract;if(Rt!==void 0)return Rt;throw new ConfigurationError(`bridgeAddress option not set and no default value for your chain ${mt}`)},this.resolveBridgeBackAddress=async()=>(await qt).bridgeAddress,this.resolveEnsPublicResolverAddress=async()=>{const{chainId:mt}=await Mt,Tt=await zt,Rt=h||Tt.ensPublicResolver;if(Rt!==void 0)return Rt;throw new ConfigurationError(`ensPublicResolverAddress option not set and no default value for your chain ${mt}`)}}}class IExecModule{constructor(...e){if(!e[0])throw Error(`${this.constructor.name} requires at least one argument`);e[0]instanceof IExecConfig?[this.config]=e:this.config=new IExecConfig(...e),this.version=version$4}static fromConfig(e){if(!(e instanceof IExecConfig))throw Error("fromConfig requires an instance of IExecConfig");return new this.prototype.constructor(e)}}const debug$r=Debug("iexec:account:balance"),checkBalance=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>{try{const o=await addressSchema$1({ethProvider:a.provider}).validate(e),c=a.getIExecContract(),{stake:d,locked:h}=await wrapCall(c.viewAccount(o));return{stake:bigIntToBn(d),locked:bigIntToBn(h)}}catch(o){throw debug$r("checkBalance()",o),o}},getAddress=async(a=throwIfMissing$1())=>{if(!a.signer)throw new ConfigurationError("Missing Signer");const e=await wrapCall(a.signer.getAddress());return checksummedAddress(e)},debug$q=Debug("iexec:wallet:balance"),getRlcBalance=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>{const o=await addressSchema$1({ethProvider:a.provider}).validate(e),{isNative:c}=a;if(c){const et=await a.provider.getBalance(o);return truncateBnWeiToBnNRlc(bigIntToBn(et))}const d=await wrapCall(a.fetchTokenContract()),h=await wrapCall(d.balanceOf(o));return bigIntToBn(h)},getEthBalance=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>{const o=await addressSchema$1({ethProvider:a.provider}).validate(e),c=await a.provider.getBalance(o);return bigIntToBn(c)},checkBalances=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>{try{const o=await addressSchema$1({ethProvider:a.provider}).validate(e),[c,d]=await Promise.all([getEthBalance(a,o),getRlcBalance(a,o)]),h={wei:c,nRLC:d};return debug$q("balances",h),h}catch(o){throw debug$q("checkBalances()",o),o}},debug$p=Debug("iexec:wallet:enterprise"),isInWhitelist=async(a=throwIfMissing$1(),e=throwIfMissing$1(),{strict:o=!0}={})=>{if(a.flavour!=="enterprise")throw Error("Cannot check authorized eRLC holders on current chain");const c=await addressSchema$1({ethProvider:a.provider}).validate(e);try{const d=await wrapCall(a.fetchTokenContract()),h=await wrapCall(d.isKYC(c));if(!h&&o)throw Error(`${c} is not authorized to interact with eRLC`);return h}catch(d){throw debug$p("isInWhitelist()",d),d}},wrapEnterpriseRLC=async(a=throwIfMissing$1(),e,o=throwIfMissing$1())=>{if(checkSigner(a),a.flavour!=="standard"||a.isNative)throw Error("Unable to wrap RLC into eRLC on current chain");if(!e)throw Error("Unable to find eRLC on current chain");const c=await nRlcAmountSchema().validate(o);if(await isInWhitelist(e,await getAddress(a),{strict:!0}),(await getRlcBalance(a,await getAddress(a))).lt(new BN$1(c)))throw Error("Amount to wrap exceed wallet balance");try{const h=await wrapCall(e.fetchTokenAddress()),et=await wrapCall(a.fetchTokenContract()),tt=await wrapSend(et.approveAndCall(h,c,NULL_BYTES,a.txOptions));return await wrapWait(tt.wait(a.confirms)),tt.hash}catch(h){throw debug$p("wrapEnterpriseRLC()",h),h}},unwrapEnterpriseRLC=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>{if(checkSigner(a),a.flavour!=="enterprise"||a.isNative)throw Error("Unable to unwrap eRLC into RLC on current chain");const o=await nRlcAmountSchema().validate(e);if(await isInWhitelist(a,await getAddress(a),{strict:!0}),(await getRlcBalance(a,await getAddress(a))).lt(new BN$1(o)))throw Error("Amount to unwrap exceed wallet balance");try{const d=await wrapCall(a.fetchTokenContract()),h=await wrapSend(d.withdraw(o));return await wrapWait(h.wait(a.confirms)),h.hash}catch(d){throw debug$p("unwrapEnterpriseRLC()",d),d}},debug$o=Debug("iexec:account:fund"),deposit=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>{try{checkSigner(a);const o=await nRlcAmountSchema().validate(e);if(new BN$1(o).lte(new BN$1(0)))throw Error("Deposit amount must be greater than 0");a.flavour==="enterprise"&&await isInWhitelist(a,await getAddress(a),{strict:!0});let c;const{nRLC:d}=await checkBalances(a,await getAddress(a));if(d.lt(new BN$1(o)))throw Error("Deposit amount exceed wallet balance");const h=a.getIExecContract();if(a.isNative){const et=bnToBigInt(bnNRlcToBnWei(new BN$1(o))),tt=await wrapSend(h.deposit({value:et,...a.txOptions})),ot=await wrapWait(tt.wait(a.confirms));if(!checkEventFromLogs("Transfer",ot.logs))throw Error("Deposit not confirmed");c=tt.hash}else{const et=await wrapCall(a.fetchTokenContract()),tt=await wrapSend(et.approveAndCall(a.hubAddress,o,NULL_BYTES,a.txOptions)),ot=await wrapWait(tt.wait(a.confirms));if(!checkEventFromLogs("Approval",ot.logs))throw Error("Approval not confirmed");if(!checkEventFromLogs("Transfer",ot.logs))throw Error("Transfer not confirmed");c=tt.hash}return{amount:o,txHash:c}}catch(o){throw debug$o("deposit()",o),o}},withdraw=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>{try{checkSigner(a);const o=await nRlcAmountSchema().validate(e);if(new BN$1(o).lte(new BN$1(0)))throw Error("Withdraw amount must be greater than 0");a.flavour==="enterprise"&&await isInWhitelist(a,await getAddress(a),{strict:!0});const c=a.getIExecContract(),{stake:d}=await checkBalance(a,await getAddress(a));if(d.lt(new BN$1(o)))throw Error("Withdraw amount exceed account balance");const h=await wrapSend(c.withdraw(o,a.txOptions)),et=await wrapWait(h.wait(a.confirms));if(!checkEventFromLogs("Transfer",et.logs))throw Error("Withdraw not confirmed");return{amount:o,txHash:h.hash}}catch(o){throw debug$o("withdraw()",o),o}};class IExecAccountModule extends IExecModule{constructor(...e){super(...e),this.checkBalance=async o=>checkBalance(await this.config.resolveContractsClient(),o),this.checkBridgedBalance=async o=>checkBalance(await this.config.resolveBridgedContractsClient(),o),this.deposit=async o=>deposit(await this.config.resolveContractsClient(),o),this.withdraw=async o=>withdraw(await this.config.resolveContractsClient(),o)}}const debug$n=Debug("iexec:protocol:registries"),tokenIdToAddress=a=>{const e=toBeHex(a,20);return checksummedAddress(e)},checkDeployedObj=(a=throwIfMissing$1())=>async(e=throwIfMissing$1(),o=throwIfMissing$1())=>{try{const c=await wrapCall(e.fetchRegistryContract(a));return await wrapCall(c.isRegistered(o))}catch(c){throw debug$n("checkDeployedObj()",c),c}},checkDeployedApp=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>checkDeployedObj(APP)(a,await addressSchema$1({ethProvider:a.provider}).validate(e)),checkDeployedDataset=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>checkDeployedObj(DATASET)(a,await addressSchema$1({ethProvider:a.provider}).validate(e)),checkDeployedWorkerpool=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>checkDeployedObj(WORKERPOOL)(a,await addressSchema$1({ethProvider:a.provider}).validate(e)),toUpperFirst=a=>"".concat(a[0].toUpperCase(),a.substr(1)),createArgs={[APP]:["owner","name","type","multiaddr","checksum","mrenclave"],[DATASET]:["owner","name","multiaddr","checksum"],[WORKERPOOL]:["owner","description"]},predictObjAddress=(a=throwIfMissing$1())=>async(e=throwIfMissing$1(),o=throwIfMissing$1())=>{try{const c=await wrapCall(e.fetchRegistryContract(a)),d=createArgs[a].map(et=>o[et]),h="predict".concat(toUpperFirst(a));return await wrapCall(c[h](...d))}catch(c){throw debug$n("predictObjAddress()",c),c}},deployObj=(a=throwIfMissing$1())=>async(e=throwIfMissing$1(),o=throwIfMissing$1())=>{try{checkSigner(e);const c=await wrapCall(e.fetchRegistryContract(a)),d=await predictObjAddress(a)(e,o);if(await checkDeployedObj(a)(e,d))throw Error(`${toUpperFirst(a)} already deployed at address ${d}`);const et=createArgs[a].map(bt=>o[bt]),tt="create".concat(toUpperFirst(a)),ot=await wrapSend(c[tt](...et,e.txOptions)),ft=await wrapWait(ot.wait(e.confirms)),ht=getEventFromLogs("Transfer",ft.logs,{strict:!0}),{tokenId:yt}=ht.args,gt=tokenIdToAddress(yt),wt=ot.hash;return{address:gt,txHash:wt}}catch(c){throw debug$n("deployObj()",c),c}},predictAppAddress=async(a,e)=>predictObjAddress(APP)(a,await appSchema({ethProvider:a.provider}).validate(e)),predictDatasetAddress=async(a,e)=>predictObjAddress(DATASET)(a,await datasetSchema({ethProvider:a.provider}).validate(e)),predictWorkerpoolAddress=async(a,e)=>predictObjAddress(WORKERPOOL)(a,await workerpoolSchema({ethProvider:a.provider}).validate(e)),deployApp=async(a,e)=>deployObj(APP)(a,await appSchema({ethProvider:a.provider}).validate(e)),deployDataset=async(a,e)=>deployObj(DATASET)(a,await datasetSchema({ethProvider:a.provider}).validate(e)),deployWorkerpool=async(a,e)=>deployObj(WORKERPOOL)(a,await workerpoolSchema({ethProvider:a.provider}).validate(e)),getObjOwner=(a=throwIfMissing$1())=>async(e=throwIfMissing$1(),o=throwIfMissing$1())=>{try{const c=e.getContract(a,o);return checksummedAddress(await wrapCall(c.owner()))}catch(c){throw debug$n("getObjOwner()",c),c}},getAppOwner=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>getObjOwner(APP)(a,await addressSchema$1({ethProvider:a.provider}).validate(e)),getDatasetOwner=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>getObjOwner(DATASET)(a,await addressSchema$1({ethProvider:a.provider}).validate(e)),getWorkerpoolOwner=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>getObjOwner(WORKERPOOL)(a,await addressSchema$1({ethProvider:a.provider}).validate(e)),showObjByAddress=(a=throwIfMissing$1())=>async(e=throwIfMissing$1(),o=throwIfMissing$1())=>{try{const c=await addressSchema$1({ethProvider:e.provider}).validate(o);if(!await checkDeployedObj(a)(e,o))throw new ObjectNotFoundError(a,o,e.chainId);const h=e.getContract(a,c),et=Object.values(h.interface.fragments).filter(ht=>ht.stateMutability==="view").map(ht=>ht.name),ot=(await Promise.all(et.map(ht=>wrapCall(h[ht]())))).reduce((ht,yt,gt)=>({...ht,[et[gt]]:yt}),{});return{obj:bnifyNestedBigInt(ot),objAddress:c}}catch(c){throw debug$n("showObjByAddress()",c),c}},countUserObj=(a=throwIfMissing$1())=>async(e=throwIfMissing$1(),o=throwIfMissing$1())=>{try{const c=await addressSchema$1({ethProvider:e.provider}).validate(o),d=await wrapCall(e.fetchRegistryContract(a)),h=await wrapCall(d.balanceOf(c));return bigIntToBn(h)}catch(c){throw debug$n("countObj()",c),c}},countUserApps=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>countUserObj(APP)(a,await addressSchema$1({ethProvider:a.provider}).validate(e)),countUserDatasets=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>countUserObj(DATASET)(a,await addressSchema$1({ethProvider:a.provider}).validate(e)),countUserWorkerpools=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>countUserObj(WORKERPOOL)(a,await addressSchema$1({ethProvider:a.provider}).validate(e)),showUserObjByIndex=(a=throwIfMissing$1())=>async(e=throwIfMissing$1(),o=throwIfMissing$1(),c=throwIfMissing$1())=>{try{const d=await uint256Schema().validate(o),h=await addressSchema$1({ethProvider:e.provider}).validate(c),et=await countUserObj(a)(e,c);if(new BN(d).gte(et))throw Error(`${a} not deployed`);const tt=await wrapCall(e.fetchRegistryContract(a)),ot=await wrapCall(tt.tokenOfOwnerByIndex(h,d)),ft=tokenIdToAddress(ot);return showObjByAddress(a)(e,ft)}catch(d){throw debug$n("showObjByIndex()",d),d}},cleanObj=a=>{const e=(o,c)=>{const d=c[0].substr(0,2)==="m_"?c[0].split("m_")[1]:c[0];return Object.assign(o,{[d]:c[1]})};return Object.entries(a).reduce(e,{})},cleanApp=a=>Object.assign(cleanObj(a),a.m_appMultiaddr&&{appMultiaddr:multiaddrHexToHuman(a.m_appMultiaddr)},a.m_appMREnclave&&{appMREnclave:hexToBuffer(a.m_appMREnclave).toString()}),showApp=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>{const{obj:o,objAddress:c}=await showObjByAddress(APP)(a,await addressSchema$1({ethProvider:a.provider}).validate(e));return{objAddress:c,app:cleanApp(o)}},showUserApp=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1())=>{const{obj:c,objAddress:d}=await showUserObjByIndex(APP)(a,await uint256Schema().validate(e),await addressSchema$1({ethProvider:a.provider}).validate(o));return{objAddress:d,app:cleanApp(c)}},showDataset=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>{const{obj:o,objAddress:c}=await showObjByAddress(DATASET)(a,await addressSchema$1({ethProvider:a.provider}).validate(e)),d=Object.assign(cleanObj(o),o.m_datasetMultiaddr&&{datasetMultiaddr:multiaddrHexToHuman(o.m_datasetMultiaddr)});return{objAddress:c,dataset:d}},showUserDataset=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1())=>{const{obj:c,objAddress:d}=await showUserObjByIndex(DATASET)(a,await uint256Schema().validate(e),await addressSchema$1({ethProvider:a.provider}).validate(o)),h=Object.assign(cleanObj(c),c.m_datasetMultiaddr&&{datasetMultiaddr:multiaddrHexToHuman(c.m_datasetMultiaddr)});return{objAddress:d,dataset:h}},showWorkerpool=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>{const{obj:o,objAddress:c}=await showObjByAddress(WORKERPOOL)(a,await addressSchema$1({ethProvider:a.provider}).validate(e)),d=cleanObj(o);return{objAddress:c,workerpool:d}},showUserWorkerpool=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1())=>{const{obj:c,objAddress:d}=await showUserObjByIndex(WORKERPOOL)(a,await uint256Schema().validate(e),await addressSchema$1({ethProvider:a.provider}).validate(o)),h=cleanObj(c);return{objAddress:d,workerpool:h}},transferObj=(a=throwIfMissing$1())=>async(e=throwIfMissing$1(),o=throwIfMissing$1(),c=throwIfMissing$1())=>{try{checkSigner(e);const d=await getAddress(e);if(!await checkDeployedObj(a)(e,o))throw Error(`Invalid ${a} address`);const et=await getObjOwner(a)(e,o);if(d!==et)throw Error(`Only ${a} owner can transfer ${a} ownership`);const tt=await wrapCall(e.fetchRegistryContract(a)),ot=await wrapSend(tt["safeTransferFrom(address,address,uint256)"](d,c,o,e.txOptions));await wrapWait(ot.wait(e.confirms));const ft=ot.hash;return{address:o,to:c,txHash:ft}}catch(d){throw debug$n("transferObj()",d),d}},transferApp=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1())=>transferObj(APP)(a,await addressSchema$1({ethProvider:a.provider}).validate(e),await addressSchema$1({ethProvider:a.provider}).validate(o)),transferDataset=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1())=>transferObj(DATASET)(a,await addressSchema$1({ethProvider:a.provider}).validate(e),await addressSchema$1({ethProvider:a.provider}).validate(o)),transferWorkerpool=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1())=>transferObj(WORKERPOOL)(a,await addressSchema$1({ethProvider:a.provider}).validate(e),await addressSchema$1({ethProvider:a.provider}).validate(o)),resolveTeeFrameworkFromApp=async(a,{strict:e=!0}={})=>{if(a.appMREnclave)try{return(await objMrenclaveSchema().validate(a.appMREnclave)).framework}catch(o){if(debug$n("resolveTeeFrameworkFromApp()",o),e)throw Error("Failed to resolve TEE framework from app")}},token="%[a-f0-9]{2}",singleMatcher=new RegExp("("+token+")|([^%]+?)","gi"),multiMatcher=new RegExp("("+token+")+","gi");function decodeComponents(a,e){try{return[decodeURIComponent(a.join(""))]}catch{}if(a.length===1)return a;e=e||1;const o=a.slice(0,e),c=a.slice(e);return Array.prototype.concat.call([],decodeComponents(o),decodeComponents(c))}function decode$A(a){try{return decodeURIComponent(a)}catch{let e=a.match(singleMatcher)||[];for(let o=1;o<e.length;o++)a=decodeComponents(e,o).join(""),e=a.match(singleMatcher)||[];return a}}function customDecodeURIComponent(a){const e={"%FE%FF":"","%FF%FE":""};let o=multiMatcher.exec(a);for(;o;){try{e[o[0]]=decodeURIComponent(o[0])}catch{const d=decode$A(o[0]);d!==o[0]&&(e[o[0]]=d)}o=multiMatcher.exec(a)}e["%C2"]="";const c=Object.keys(e);for(const d of c)a=a.replace(new RegExp(d,"g"),e[d]);return a}function decodeUriComponent(a){if(typeof a!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof a+"`");try{return decodeURIComponent(a)}catch{return customDecodeURIComponent(a)}}function splitOnFirst(a,e){if(!(typeof a=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(a===""||e==="")return[];const o=a.indexOf(e);return o===-1?[]:[a.slice(0,o),a.slice(o+e.length)]}function includeKeys(a,e){const o={};if(Array.isArray(e))for(const c of e){const d=Object.getOwnPropertyDescriptor(a,c);d!=null&&d.enumerable&&Object.defineProperty(o,c,d)}else for(const c of Reflect.ownKeys(a)){const d=Object.getOwnPropertyDescriptor(a,c);if(d.enumerable){const h=a[c];e(c,h,a)&&Object.defineProperty(o,c,d)}}return o}const isNullOrUndefined=a=>a==null,strictUriEncode=a=>encodeURIComponent(a).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),encodeFragmentIdentifier=Symbol("encodeFragmentIdentifier");function encoderForArrayFormat(a){switch(a.arrayFormat){case"index":return e=>(o,c)=>{const d=o.length;return c===void 0||a.skipNull&&c===null||a.skipEmptyString&&c===""?o:c===null?[...o,[encode$t(e,a),"[",d,"]"].join("")]:[...o,[encode$t(e,a),"[",encode$t(d,a),"]=",encode$t(c,a)].join("")]};case"bracket":return e=>(o,c)=>c===void 0||a.skipNull&&c===null||a.skipEmptyString&&c===""?o:c===null?[...o,[encode$t(e,a),"[]"].join("")]:[...o,[encode$t(e,a),"[]=",encode$t(c,a)].join("")];case"colon-list-separator":return e=>(o,c)=>c===void 0||a.skipNull&&c===null||a.skipEmptyString&&c===""?o:c===null?[...o,[encode$t(e,a),":list="].join("")]:[...o,[encode$t(e,a),":list=",encode$t(c,a)].join("")];case"comma":case"separator":case"bracket-separator":{const e=a.arrayFormat==="bracket-separator"?"[]=":"=";return o=>(c,d)=>d===void 0||a.skipNull&&d===null||a.skipEmptyString&&d===""?c:(d=d===null?"":d,c.length===0?[[encode$t(o,a),e,encode$t(d,a)].join("")]:[[c,encode$t(d,a)].join(a.arrayFormatSeparator)])}default:return e=>(o,c)=>c===void 0||a.skipNull&&c===null||a.skipEmptyString&&c===""?o:c===null?[...o,encode$t(e,a)]:[...o,[encode$t(e,a),"=",encode$t(c,a)].join("")]}}function parserForArrayFormat(a){let e;switch(a.arrayFormat){case"index":return(o,c,d)=>{if(e=/\[(\d*)]$/.exec(o),o=o.replace(/\[\d*]$/,""),!e){d[o]=c;return}d[o]===void 0&&(d[o]={}),d[o][e[1]]=c};case"bracket":return(o,c,d)=>{if(e=/(\[])$/.exec(o),o=o.replace(/\[]$/,""),!e){d[o]=c;return}if(d[o]===void 0){d[o]=[c];return}d[o]=[...d[o],c]};case"colon-list-separator":return(o,c,d)=>{if(e=/(:list)$/.exec(o),o=o.replace(/:list$/,""),!e){d[o]=c;return}if(d[o]===void 0){d[o]=[c];return}d[o]=[...d[o],c]};case"comma":case"separator":return(o,c,d)=>{const h=typeof c=="string"&&c.includes(a.arrayFormatSeparator),et=typeof c=="string"&&!h&&decode$z(c,a).includes(a.arrayFormatSeparator);c=et?decode$z(c,a):c;const tt=h||et?c.split(a.arrayFormatSeparator).map(ot=>decode$z(ot,a)):c===null?c:decode$z(c,a);d[o]=tt};case"bracket-separator":return(o,c,d)=>{const h=/(\[])$/.test(o);if(o=o.replace(/\[]$/,""),!h){d[o]=c&&decode$z(c,a);return}const et=c===null?[]:c.split(a.arrayFormatSeparator).map(tt=>decode$z(tt,a));if(d[o]===void 0){d[o]=et;return}d[o]=[...d[o],...et]};default:return(o,c,d)=>{if(d[o]===void 0){d[o]=c;return}d[o]=[...[d[o]].flat(),c]}}}function validateArrayFormatSeparator(a){if(typeof a!="string"||a.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function encode$t(a,e){return e.encode?e.strict?strictUriEncode(a):encodeURIComponent(a):a}function decode$z(a,e){return e.decode?decodeUriComponent(a):a}function keysSorter(a){return Array.isArray(a)?a.sort():typeof a=="object"?keysSorter(Object.keys(a)).sort((e,o)=>Number(e)-Number(o)).map(e=>a[e]):a}function removeHash(a){const e=a.indexOf("#");return e!==-1&&(a=a.slice(0,e)),a}function getHash(a){let e="";const o=a.indexOf("#");return o!==-1&&(e=a.slice(o)),e}function parseValue(a,e){return e.parseNumbers&&!Number.isNaN(Number(a))&&typeof a=="string"&&a.trim()!==""?a=Number(a):e.parseBooleans&&a!==null&&(a.toLowerCase()==="true"||a.toLowerCase()==="false")&&(a=a.toLowerCase()==="true"),a}function extract(a){a=removeHash(a);const e=a.indexOf("?");return e===-1?"":a.slice(e+1)}function parse$2(a,e){e={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,...e},validateArrayFormatSeparator(e.arrayFormatSeparator);const o=parserForArrayFormat(e),c=Object.create(null);if(typeof a!="string"||(a=a.trim().replace(/^[?#&]/,""),!a))return c;for(const d of a.split("&")){if(d==="")continue;const h=e.decode?d.replace(/\+/g," "):d;let[et,tt]=splitOnFirst(h,"=");et===void 0&&(et=h),tt=tt===void 0?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?tt:decode$z(tt,e),o(decode$z(et,e),tt,c)}for(const[d,h]of Object.entries(c))if(typeof h=="object"&&h!==null)for(const[et,tt]of Object.entries(h))h[et]=parseValue(tt,e);else c[d]=parseValue(h,e);return e.sort===!1?c:(e.sort===!0?Object.keys(c).sort():Object.keys(c).sort(e.sort)).reduce((d,h)=>{const et=c[h];return d[h]=et&&typeof et=="object"&&!Array.isArray(et)?keysSorter(et):et,d},Object.create(null))}function stringify(a,e){if(!a)return"";e={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...e},validateArrayFormatSeparator(e.arrayFormatSeparator);const o=et=>e.skipNull&&isNullOrUndefined(a[et])||e.skipEmptyString&&a[et]==="",c=encoderForArrayFormat(e),d={};for(const[et,tt]of Object.entries(a))o(et)||(d[et]=tt);const h=Object.keys(d);return e.sort!==!1&&h.sort(e.sort),h.map(et=>{const tt=a[et];return tt===void 0?"":tt===null?encode$t(et,e):Array.isArray(tt)?tt.length===0&&e.arrayFormat==="bracket-separator"?encode$t(et,e)+"[]":tt.reduce(c(et),[]).join("&"):encode$t(et,e)+"="+encode$t(tt,e)}).filter(et=>et.length>0).join("&")}function parseUrl(a,e){var d;e={decode:!0,...e};let[o,c]=splitOnFirst(a,"#");return o===void 0&&(o=a),{url:((d=o==null?void 0:o.split("?"))==null?void 0:d[0])??"",query:parse$2(extract(a),e),...e&&e.parseFragmentIdentifier&&c?{fragmentIdentifier:decode$z(c,e)}:{}}}function stringifyUrl(a,e){e={encode:!0,strict:!0,[encodeFragmentIdentifier]:!0,...e};const o=removeHash(a.url).split("?")[0]||"",c=extract(a.url),d={...parse$2(c,{sort:!1}),...a.query};let h=stringify(d,e);h&&(h=`?${h}`);let et=getHash(a.url);if(a.fragmentIdentifier){const tt=new URL(o);tt.hash=a.fragmentIdentifier,et=e[encodeFragmentIdentifier]?tt.hash:`#${a.fragmentIdentifier}`}return`${o}${h}${et}`}function pick(a,e,o){o={parseFragmentIdentifier:!0,[encodeFragmentIdentifier]:!1,...o};const{url:c,query:d,fragmentIdentifier:h}=parseUrl(a,o);return stringifyUrl({url:c,query:includeKeys(d,e),fragmentIdentifier:h},o)}function exclude(a,e,o){const c=Array.isArray(e)?d=>!e.includes(d):(d,h)=>!e(d,h);return pick(a,c,o)}const queryString=Object.freeze(Object.defineProperty({__proto__:null,exclude,extract,parse:parse$2,parseUrl,pick,stringify,stringifyUrl},Symbol.toStringTag,{value:"Module"})),debug$m=Debug("iexec:sig-utils"),hashEIP712=a=>{try{const{domain:e,message:o}=a,{EIP712Domain:c,...d}=a.types;return TypedDataEncoder.hash(e,d,o)}catch(e){throw debug$m("hashEIP712()",e),e}},debug$l=Debug("iexec:api-utils"),makeBody=(a,e)=>a==="POST"||a==="PUT"?typeof e=="object"?{body:JSON.stringify(e)}:{body:e}:{},makeQueryString=a=>Object.keys(a).length!==0?"?".concat(queryString.stringify(a)):"",makeHeaders=(a,e,o)=>{const c={};return(a==="POST"||a==="PUT")&&(c["Content-Type"]=typeof o=="object"?"application/json":"text/plain"),{headers:{...c,...e}}},httpRequest=a=>async({api:e,endpoint:o="",query:c={},body:d={},headers:h={}})=>{debug$l("httpRequest()",`
method`,a,`
api`,e,`
endpoint`,o,`
query`,c,`
body`,d,`
headers`,h);const et=new URL(o,e).href,tt=makeQueryString(c),ot=et.concat(tt);return fetch(ot,{method:a,...makeHeaders(a,h,d),...makeBody(a,d)}).catch(ft=>{throw debug$l("httpRequest() fetch:",ft),Error(`Connection to ${et} failed with a network error`)})},checkResponseOk=a=>{if(!a.ok)throw Error(`API call error: ${a.status} ${a.statusText?a.statusText:""}`);return a},responseToJson=async a=>{const e=a.headers.get("Content-Type");if(e&&e.indexOf("application/json")!==-1){if(a.ok)return a.json();const o=await a.json().then(c=>c&&c.error).catch(()=>{});throw o?new Error(`API error: ${o}`):Error(`API error: ${a.status} ${a.statusText?a.statusText:""}`)}throw a.ok?new Error("The http response is not of JSON type"):Error(`API error: ${a.status} ${a.statusText?a.statusText:""}`)},wrapPaginableRequest=a=>async e=>{const{pageIndex:o=0}=e.query;return a(e).then(({nextPage:c,...d})=>({...d,...c&&{more:()=>wrapPaginableRequest(a)({...e,query:{...e.query,pageIndex:o+1}})}}))},jsonApi={get:a=>httpRequest("GET")({...a,headers:{Accept:"application/json",...a.headers}}).then(responseToJson),post:a=>httpRequest("POST")({...a,headers:{Accept:"application/json",...a.headers}}).then(responseToJson),put:a=>httpRequest("PUT")({...a,headers:{Accept:"application/json",...a.headers}}).then(responseToJson)},downloadZipApi={get:a=>httpRequest("GET")({...a,headers:{Accept:"application/zip",...a.headers}}).then(checkResponseOk)},getAuthorization=(a,e="/challenge")=>async(o,c,d)=>{try{const h=await jsonApi.get({api:a,endpoint:e,query:{chainId:o,address:c}}),et=h.data||h,{domain:tt,message:ot}=et||{},{EIP712Domain:ft,...ht}=et.types||{};if(!tt||!ht||!ot)throw Error("Unexpected challenge format");const yt=await wrapSignTypedData(d.signTypedData(tt,ht,ot)),gt=hashEIP712(et),wt="_";return gt.concat(wt).concat(yt).concat(wt).concat(c)}catch(h){throw debug$l("getAuthorization()",h),Error(`Failed to get authorization: ${h}`)}},debug$k=Debug("iexec:sms:check"),checkWeb3SecretExists=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1())=>{try{const c=await addressSchema$1({ethProvider:a.provider}).validate(o),d=await httpRequest("HEAD")({api:e,endpoint:"/secrets/web3",query:{secretAddress:c}}).catch(h=>{throw debug$k(h),Error(`SMS at ${e} didn't answered`)});if(d.ok)return!0;if(d.status===404)return!1;throw Error(`SMS answered with unexpected status: ${d.status} ${d.statusText}`)}catch(c){throw debug$k("checkWeb3SecretExists()",c),c}},checkWeb2SecretExists=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1(),c=throwIfMissing$1())=>{try{const d=await addressSchema$1({ethProvider:a.provider}).validate(o),h=await httpRequest("HEAD")({api:e,endpoint:"/secrets/web2",query:{ownerAddress:d,secretName:c}}).catch(et=>{throw debug$k(et),Error(`SMS at ${e} didn't answered`)});if(h.ok)return!0;if(h.status===404)return!1;throw Error(`SMS answered with unexpected status: ${h.status} ${h.statusText}`)}catch(d){throw debug$k("checkWeb2SecretExists()",d),d}},checkRequesterSecretExists=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1(),c=throwIfMissing$1())=>{try{const d=await addressSchema$1({ethProvider:a.provider}).validate(o),h=await httpRequest("HEAD")({api:e,endpoint:`/requesters/${d}/secrets/${c}`}).catch(et=>{throw debug$k(et),Error(`SMS at ${e} didn't answered`)});if(h.ok)return!0;if(h.status===404)return!1;throw Error(`SMS answered with unexpected status: ${h.status} ${h.statusText}`)}catch(d){throw debug$k("checkRequesterSecretExists()",d),d}},checkAppSecretExists=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1(),c=1)=>{try{const d=await addressSchema$1({ethProvider:a.provider}).validate(o),h=await positiveIntSchema().validate(c),et=await httpRequest("HEAD")({api:e,endpoint:`/apps/${d}/secrets/${h}`}).catch(tt=>{throw debug$k(tt),Error(`SMS at ${e} didn't answered`)});if(et.ok)return!0;if(et.status===404)return!1;throw Error(`SMS answered with unexpected status: ${et.status} ${et.statusText}`)}catch(d){throw debug$k("checkRequesterSecretExists()",d),d}},debug$j=Debug("iexec:sms"),DOMAIN="IEXEC_SMS_DOMAIN",concatenateAndHash=(...a)=>{const e=buffer$1.Buffer.concat(a.map(o=>buffer$1.Buffer.from(getBytes(o))));return keccak256(e)},getChallengeForSetWeb3Secret=(a,e)=>concatenateAndHash(keccak256(buffer$1.Buffer.from(DOMAIN,"utf8")),a,keccak256(buffer$1.Buffer.from(e,"utf8"))),getChallengeForSetWeb2Secret=(a,e,o)=>concatenateAndHash(keccak256(buffer$1.Buffer.from(DOMAIN,"utf8")),a,keccak256(buffer$1.Buffer.from(e,"utf8")),keccak256(buffer$1.Buffer.from(o,"utf8"))),handleNonUpdatablePushSecret=({response:a,signerAddress:e,targetAddress:o})=>{if(a.ok)return!0;throw a.status===409?Error(`Secret already exists for ${o} and can't be updated`):a.status===401?Error(`Wallet ${e} is not allowed to set secret for ${o}`):Error(`SMS answered with unexpected status: ${a.status} ${a.statusText}`)},pushWeb3Secret=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1(),c=throwIfMissing$1())=>{try{checkSigner(a);const d=await addressSchema$1({ethProvider:a.provider}).validate(o),h=await getAddress(a);await stringSchema$1().validate(c,{strict:!0});const et=getChallengeForSetWeb3Secret(d,c),tt=getBytes(et),ot=await wrapPersonalSign(a.signer.signMessage(tt)),ft=await httpRequest("POST")({api:e,endpoint:"/secrets/web3",query:{secretAddress:d},body:c,headers:{Authorization:ot}}).catch(ht=>{throw debug$j(ht),Error(`SMS at ${e} didn't answered`)});return handleNonUpdatablePushSecret({response:ft,signerAddress:h,targetAddress:d})}catch(d){throw debug$j("pushWeb3Secret()",d),d}},pushWeb2Secret=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1(),c=throwIfMissing$1(),{forceUpdate:d=!1}={})=>{try{checkSigner(a);const h=await getAddress(a);await stringSchema$1().validate(o,{strict:!0}),await stringSchema$1().validate(c,{strict:!0});const et=await checkWeb2SecretExists(a,e,h,o);if(et&&!d)throw Error(`Secret "${o}" already exists for ${h}`);const tt=!!et,ot=getChallengeForSetWeb2Secret(h,o,c),ft=getBytes(ot),ht=await wrapPersonalSign(a.signer.signMessage(ft)),yt=await httpRequest(tt?"PUT":"POST")({api:e,endpoint:"/secrets/web2",query:{ownerAddress:h,secretName:o},body:c,headers:{Authorization:ht}}).catch(gt=>{throw debug$j(gt),Error(`SMS at ${e} didn't answered`)});if(yt.ok)return{isPushed:!0,isUpdated:tt};throw Error(`SMS answered with unexpected status: ${yt.status} ${yt.statusText}`)}catch(h){throw debug$j("pushWeb2Secret()",h),h}},pushRequesterSecret$1=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1(),c=throwIfMissing$1())=>{try{checkSigner(a);const d=await getAddress(a);if(await stringSchema$1().validate(o,{strict:!0}),await stringSchema$1().validate(c,{strict:!0}),await checkRequesterSecretExists(a,e,d,o))throw Error(`Secret "${o}" already exists for ${d}`);const et=getChallengeForSetWeb2Secret(d,o,c),tt=getBytes(et),ot=await wrapPersonalSign(a.signer.signMessage(tt)),ft=await httpRequest("POST")({api:e,endpoint:`/requesters/${d}/secrets/${o}`,body:c,headers:{Authorization:ot}}).catch(ht=>{throw debug$j(ht),Error(`SMS at ${e} didn't answered`)});if(ft.ok)return{isPushed:!0};throw Error(`SMS answered with unexpected status: ${ft.status} ${ft.statusText}`)}catch(d){throw debug$j("pushRequesterSecret()",d),d}},pushAppSecret=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1(),c=throwIfMissing$1(),d=1)=>{try{checkSigner(a);const h=await getAddress(a),et=await addressSchema$1({ethProvider:a.provider}).validate(o),tt=await positiveIntSchema().validate(d);await stringSchema$1().validate(c,{strict:!0});const ot=getChallengeForSetWeb2Secret(et,tt.toString(),c),ft=getBytes(ot),ht=await wrapPersonalSign(a.signer.signMessage(ft)),yt=await httpRequest("POST")({api:e,endpoint:`/apps/${et}/secrets/${tt}`,body:c,headers:{Authorization:ht}}).catch(gt=>{throw debug$j(gt),Error(`SMS at ${e} didn't answered`)});return handleNonUpdatablePushSecret({response:yt,signerAddress:h,targetAddress:et})}catch(h){throw debug$j("pushAppSecret()",h),h}};class IExecAppModule extends IExecModule{constructor(...e){super(...e),this.deployApp=async o=>deployApp(await this.config.resolveContractsClient(),o),this.showApp=async o=>showApp(await this.config.resolveContractsClient(),o),this.showUserApp=async(o,c)=>showUserApp(await this.config.resolveContractsClient(),o,c),this.countUserApps=async o=>countUserApps(await this.config.resolveContractsClient(),o),this.checkAppSecretExists=async(o,{teeFramework:c}={})=>{let d=c;if(d===void 0){const{app:h}=await showApp(await this.config.resolveContractsClient(),o);d=await resolveTeeFrameworkFromApp(h)}return checkAppSecretExists(await this.config.resolveContractsClient(),await this.config.resolveSmsURL({teeFramework:d}),o)},this.pushAppSecret=async(o,c,{teeFramework:d}={})=>{let h=d;if(h===void 0){const{app:et}=await showApp(await this.config.resolveContractsClient(),o);h=await resolveTeeFrameworkFromApp(et)}return pushAppSecret(await this.config.resolveContractsClient(),await this.config.resolveSmsURL({teeFramework:h}),o,c)},this.predictAppAddress=async o=>predictAppAddress(await this.config.resolveContractsClient(),o),this.checkDeployedApp=async o=>checkDeployedApp(await this.config.resolveContractsClient(),o),this.transferApp=async(o,c)=>transferApp(await this.config.resolveContractsClient(),o,c)}}const generateAes256Key=()=>buffer$1.Buffer.from(randomBytes$1(32)).toString("base64"),encryptAes256Cbc=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>{const o=buffer$1.Buffer.from(await base64Encoded256bitsKeySchema().validate(e),"base64");let c=await fileBufferSchema().validate(a);const d=randomBytes$1(16),h=forgeAes.cipher.createCipher("AES-CBC",forgeAes.util.createBuffer(o));h.start({iv:forgeAes.util.createBuffer(d)});const et=10*1e3*1e3;let tt=buffer$1.Buffer.from([]);for(;c.byteLength>0;){const ft=buffer$1.Buffer.from(h.output.getBytes(),"binary");tt=buffer$1.Buffer.concat([tt,ft]);const ht=c.slice(0,et);c=c.slice(et),h.update(forgeAes.util.createBuffer(ht))}h.finish();const ot=buffer$1.Buffer.from(h.output.getBytes(),"binary");return buffer$1.Buffer.concat([d,tt,ot])},sha256Sum=async(a=throwIfMissing$1())=>{const e=await fileBufferSchema().validate(a);return sha256$3(e)};class IExecDatasetModule extends IExecModule{constructor(...e){super(...e),this.generateEncryptionKey=()=>generateAes256Key(),this.encrypt=(o,c)=>encryptAes256Cbc(o,c),this.computeEncryptedFileChecksum=o=>sha256Sum(o),this.deployDataset=async o=>deployDataset(await this.config.resolveContractsClient(),o),this.showDataset=async o=>showDataset(await this.config.resolveContractsClient(),o),this.showUserDataset=async(o,c)=>showUserDataset(await this.config.resolveContractsClient(),o,c),this.countUserDatasets=async o=>countUserDatasets(await this.config.resolveContractsClient(),o),this.checkDatasetSecretExists=async(o,{teeFramework:c}={})=>checkWeb3SecretExists(await this.config.resolveContractsClient(),await this.config.resolveSmsURL({teeFramework:c}),o),this.pushDatasetSecret=async(o,c,{teeFramework:d}={})=>pushWeb3Secret(await this.config.resolveContractsClient(),await this.config.resolveSmsURL({teeFramework:d}),o,c),this.predictDatasetAddress=async o=>predictDatasetAddress(await this.config.resolveContractsClient(),o),this.checkDeployedDataset=async o=>checkDeployedDataset(await this.config.resolveContractsClient(),o),this.transferDataset=async(o,c)=>transferDataset(await this.config.resolveContractsClient(),o,c)}}const debug$i=Debug("iexec:protocol:category"),createCategory=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>{try{checkSigner(a);const o=await categorySchema().validate(e),c=a.getIExecContract(),d=await wrapCall(c.owner()),h=await getAddress(a);if(d!==h)throw Error(`only category owner ${d} can create new categories`);const et=[o.name,o.description,o.workClockTimeRef],tt=await wrapSend(c.createCategory(...et,a.txOptions)),ot=await wrapWait(tt.wait(a.confirms)),{catid:ft}=getEventFromLogs("CreateCategory",ot.logs,{strict:!0}).args,ht=bigIntToBn(ft),yt=tt.hash;return{catid:ht,txHash:yt}}catch(o){throw debug$i("createCategory()",o),o}},showCategory=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>{try{const o=await uint256Schema().validate(e),c=a.getIExecContract(),d=await wrapCall(c.viewCategory(o));return formatEthersResult(d)}catch(o){throw debug$i("showCategory()",o),o}},countCategory=async(a=throwIfMissing$1())=>{try{const e=a.getIExecContract();return bigIntToBn(await wrapCall(e.countCategory()))}catch(e){throw debug$i("countCategory()",e),e}},debug$h=Debug("iexec:protocol:configuration"),getTimeoutRatio=async(a=throwIfMissing$1())=>{try{const e=a.getIExecContract();return bigIntToBn(await wrapCall(e.final_deadline_ratio()))}catch(e){throw debug$h("getTimeoutRatio()",e),e}},debug$g=Debug("iexec:execution:common"),viewDeal=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>{try{const o=await bytes32Schema().validate(e),{chainId:c}=a,d=a.getIExecContract(),h=await wrapCall(d.viewDeal(o)),et=formatEthersResult(h);if(!(et&&et.app&&et.app.pointer&&et.app.pointer!==NULL_ADDRESS))throw new ObjectNotFoundError("deal",e,c);return et}catch(o){throw debug$g("viewDeal()",o),o}},viewTask=async(a=throwIfMissing$1(),e=throwIfMissing$1(),{strict:o=!0}={})=>{try{const c=await bytes32Schema().validate(e),{chainId:d}=a,h=a.getIExecContract(),et=formatEthersResult(await wrapCall(h.viewTask(c)));if(et.status=et.status.toNumber(),et.dealid===NULL_BYTES32&&o)throw new ObjectNotFoundError("task",c,d);return et}catch(c){throw debug$g("viewTask()",c),c}};let SafeObserver$1=class{constructor(e){this.destination=e}next(e){if(!this.isUnsubscribed&&this.destination.next)try{this.destination.next(e)}catch(o){throw this.unsubscribe(),o}}error(e){if(!this.isUnsubscribed&&this.destination.error){try{this.destination.error(e)}catch(o){throw this.unsubscribe(),o}this.unsubscribe()}}complete(){if(!this.isUnsubscribed&&this.destination.complete){try{this.destination.complete()}catch(e){throw this.unsubscribe(),e}this.unsubscribe()}}unsubscribe(){this.isUnsubscribed=!0,this.unsub&&this.unsub()}},Observable$1=class{constructor(e){this._subscribe=e}subscribe(e){const o=new SafeObserver$1(e);return this._subscribe(o)}};const debug$f=Debug("iexec:execution:task"),TASK_STATUS_MAP={0:"UNSET",1:"ACTIVE",2:"REVEALING",3:"COMPLETED",4:"FAILED",timeout:"TIMEOUT"},decodeTaskResult=a=>{try{if(a!==NULL_BYTES)return JSON.parse(buffer$1.Buffer.from(a.substr(2),"hex").toString("utf8"))}catch{}return{storage:"none"}},show$1=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>{try{const o=await bytes32Schema().validate(e),c=await viewTask(a,o),d=Math.floor(Date.now()/1e3),h=parseInt(c.finalDeadline,10),et=c.status!==3&&d>=h,tt=decodeTaskResult(c.results);return{taskid:o,...c,statusName:c.status<3&&et?TASK_STATUS_MAP.timeout:TASK_STATUS_MAP[c.status],taskTimedOut:et,results:tt}}catch(o){throw debug$f("show()",o),o}},obsTaskMessages={TASK_UPDATED:"TASK_UPDATED",TASK_COMPLETED:"TASK_COMPLETED",TASK_TIMEDOUT:"TASK_TIMEDOUT",TASK_FAILED:"TASK_FAILED"},obsTask=(a=throwIfMissing$1(),e=throwIfMissing$1(),{dealid:o}={})=>new Observable$1(c=>{const d=new SafeObserver$1(c);let h,et,tt=!1;const ot=async yt=>{const gt=await bytes32Schema().validate(o);if(yt instanceof ObjectNotFoundError&&gt){const wt=await bytes32Schema().validate(e),bt=await viewDeal(a,gt),[{workClockTimeRef:xt},Et]=await Promise.all([showCategory(a,bt.category),getTimeoutRatio(a)]),vt=bt.startTime.add(Et.mul(xt)),At=Math.floor(Date.now()/1e3)>=vt.toNumber();return{taskid:wt,dealid:gt,status:0,statusName:At?TASK_STATUS_MAP.timeout:TASK_STATUS_MAP[0],taskTimedOut:At}}throw yt},ft=({status:yt,taskTimedOut:gt}={})=>gt||yt===3||yt===4,ht=async()=>{try{const yt=await bytes32Schema().validate(e),gt=await show$1(a,yt).catch(ot);if(!h||gt.status!==h.status||gt.taskTimedOut){if(h=gt,h.status===3){d.next({message:obsTaskMessages.TASK_COMPLETED,task:h}),d.complete();return}if(h.status===4){d.next({message:obsTaskMessages.TASK_FAILED,task:h}),d.complete();return}if(h.taskTimedOut){d.next({message:obsTaskMessages.TASK_TIMEDOUT,task:h}),d.complete();return}d.next({message:obsTaskMessages.TASK_UPDATED,task:h})}}catch(yt){d.error(yt)}};return ht().then(()=>{!tt&&!ft(h)&&(et=setInterval(ht,FETCH_INTERVAL))}),d.unsub=()=>{tt=!0,et&&clearInterval(et)},d.unsubscribe.bind(d)}),claim$1=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>{try{checkSigner(a);const o=await bytes32Schema().validate(e),c=await show$1(a,o),d=c.status;if([3,4].includes(d))throw Error(`Cannot claim a task having status ${TASK_STATUS_MAP[d.toString()]}`);if(!c.taskTimedOut)throw Error(`Cannot claim a task before reaching the consensus deadline date: ${new Date(1e3*parseInt(c.finalDeadline,10))}`);const h=a.getIExecContract(),et=await wrapSend(h.claim(e,a.txOptions)),tt=await wrapWait(et.wait(a.confirms));if(!checkEventFromLogs("TaskClaimed",tt.logs))throw Error("TaskClaimed not confirmed");return et.hash}catch(o){throw debug$f("claim()",o),o}},debug$e=Debug("iexec:execution:deal"),fetchRequesterDeals=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1(),{appAddress:c,datasetAddress:d,workerpoolAddress:h,page:et=0,pageSize:tt=20}={})=>{try{const ot=await addressSchema$1({ethProvider:a.provider}).validate(o),ft=await chainIdSchema().validate(a.chainId);let ht,yt,gt;c&&(ht=await addressSchema$1({ethProvider:a.provider}).validate(c)),d&&(yt=await addressSchema$1({ethProvider:a.provider}).validate(d)),h&&(gt=await addressSchema$1({ethProvider:a.provider}).validate(h));const wt={chainId:ft,requester:ot,...c&&{app:ht},...d&&{dataset:yt},...h&&{workerpool:gt},...et!==void 0&&{pageIndex:await positiveIntSchema().label("page").validate(et)},...tt!==void 0&&{pageSize:await positiveStrictIntSchema().min(10).label("pageSize").validate(tt)}},bt=await wrapPaginableRequest(jsonApi.get)({api:e,endpoint:"/deals",query:wt});if(bt.ok&&bt.deals)return bt;throw Error("An error occurred while getting deals")}catch(ot){throw debug$e("fetchRequesterDeals()",ot),ot}},computeTaskId=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>{try{const o=["bytes32","uint256"],c=[await bytes32Schema().validate(a),await uint256Schema().validate(e)],d=AbiCoder.defaultAbiCoder().encode(o,c);return keccak256(d)}catch(o){throw debug$e("computeTaskId()",o),o}},computeTaskIdsArray=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1())=>{const c=await bytes32Schema().validate(a),d=await positiveIntSchema().validate(e),h=await positiveStrictIntSchema().validate(o),et=[...Array(h).keys()].map(tt=>tt+d);return Promise.all(et.map(tt=>computeTaskId(c,tt)))},show=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>{try{const o=await bytes32Schema().validate(e),c=await viewDeal(a,e),[{workClockTimeRef:d},h]=await Promise.all([showCategory(a,c.category),getTimeoutRatio(a)]),et=c.startTime.add(h.mul(d)),ot=Math.floor(Date.now()/1e3)>=et.toNumber(),ft=await computeTaskIdsArray(e,c.botFirst.toString(),c.botSize.toString());return{dealid:o,...c,finalTime:et,deadlineReached:ot,tasks:ft}}catch(o){throw debug$e("show()",o),o}},obsDealMessages={DEAL_UPDATED:"DEAL_UPDATED",DEAL_COMPLETED:"DEAL_COMPLETED",DEAL_TIMEDOUT:"DEAL_TIMEDOUT"},obsDeal=(a=throwIfMissing$1(),e=throwIfMissing$1())=>new Observable$1(o=>{const c=new SafeObserver$1(o);let d=[];const h=async()=>{try{const et=await show(a,e),tt=Object.entries(et.tasks).reduce((ft,[ht,yt])=>(ft[ht]={idx:ht,taskid:yt},ft),{}),ot=()=>{const ft={...tt},ht=Object.values(ft);if(!ht.find(({status:yt})=>yt===void 0)){let yt=!1;const gt=ht.length,wt=ht.filter(Et=>Et.status===3).length,bt=ht.filter(Et=>Et.taskTimedOut===!0).length;let xt;wt===gt?(xt=obsDealMessages.DEAL_COMPLETED,yt=!0):wt+bt===gt?(xt=obsDealMessages.DEAL_TIMEDOUT,yt=!0):xt=obsDealMessages.DEAL_UPDATED,c.next({message:xt,tasksCount:gt,completedTasksCount:wt,failedTasksCount:bt,deal:{...et},tasks:ft}),yt&&c.complete()}};d=Object.entries(tt).map(([ft,{taskid:ht}])=>obsTask(a,ht,{dealid:e}).subscribe({next:({task:yt})=>{tt[ft]={...tt[ft],...yt},ot()},error:yt=>{c.error(yt),d.forEach(gt=>gt())}}))}catch(et){c.error(et)}};return c.unsub=()=>{d.forEach(et=>et())},h(),c.unsubscribe.bind(c)}),numericStringPropAscSort=a=>(e,o)=>parseInt(e[a],10)>parseInt(o[a],10)?1:-1,claim=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>{const o=[],c={};try{checkSigner(a);const d=await bytes32Schema().validate(e),h=await show(a,d);if(!h.deadlineReached)throw Error(`Cannot claim a deal before reaching the final time: ${new Date(1e3*h.finalTime)}`);const{tasks:et}=h,tt=[],ot=[];if(await Promise.all(Object.entries(et).map(async([gt,wt])=>{const bt=await viewTask(a,wt,{strict:!1}),xt=new BN(bt.status).toNumber();xt===0?ot.push({idx:gt,taskid:wt}):xt<3&&tt.push({idx:gt,taskid:wt})})),tt.length===0&&ot.length===0)throw Error("Nothing to claim");tt.sort(numericStringPropAscSort("idx")),ot.sort(numericStringPropAscSort("idx"));const ft=await wrapCall(a.provider.getBlock("latest")),ht=bigIntToBn(ft.gasLimit);debug$e("blockGasLimit",ht.toString());const yt=a.getIExecContract();if(tt.length>0){const gt=new BN(55e3),wt=ht.div(gt),bt=async()=>{if(!tt.length)return;const xt=tt.splice(0,wt.toNumber()),Et=xt.map(({taskid:$t})=>$t),vt=await wrapSend(yt.claimArray(Et,a.txOptions));debug$e(`claimArray ${vt.hash} (${xt.length} tasks)`),await wrapWait(vt.wait(a.confirms)),o.push({txHash:vt.hash,type:"claimArray"}),Object.assign(c,...xt.map($t=>({[$t.idx]:$t.taskid}))),await bt()};await bt()}if(ot.length>0){const gt=new BN(25e4),wt=ht.div(gt),bt=async()=>{if(!ot.length)return;const xt=ot.splice(0,wt.toNumber()),Et=xt.map(({idx:At})=>At),vt=new Array(Et.length).fill(d),$t=await wrapSend(yt.initializeAndClaimArray(vt,Et,a.txOptions));debug$e(`initializeAndClaimArray ${$t.hash} (${xt.length} tasks)`),await wrapWait($t.wait(a.confirms)),o.push({txHash:$t.hash,type:"initializeAndClaimArray"}),Object.assign(c,...xt.map(At=>({[At.idx]:At.taskid}))),await bt()};await bt()}return{transactions:o,claimed:c}}catch(d){throw debug$e("claim()",d),d}},apiDealField={[APP_ORDER]:"apporderHash",[DATASET_ORDER]:"datasetorderHash",[WORKERPOOL_ORDER]:"workerpoolorderHash",[REQUEST_ORDER]:"requestorderHash"},fetchDealsByOrderHash=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1(),c=throwIfMissing$1(),{page:d=0,pageSize:h=20}={})=>{try{const et=await chainIdSchema().validate(o),tt=await bytes32Schema().validate(c),ot=apiDealField[e],ft={chainId:et,[ot]:tt,...d!==void 0&&{pageIndex:await positiveIntSchema().label("page").validate(d)},...h!==void 0&&{pageSize:await positiveStrictIntSchema().min(10).label("pageSize").validate(h)}},ht=await jsonApi.get({api:a,endpoint:"/deals",query:ft});if(ht.ok&&ht.deals)return{count:ht.count,deals:ht.deals};throw Error("An error occurred while getting deals")}catch(et){throw debug$e("fetchDealsByOrderHash()",et),et}};class IExecDealModule extends IExecModule{constructor(...e){super(...e),this.show=async o=>show(await this.config.resolveContractsClient(),o),this.obsDeal=async o=>obsDeal(await this.config.resolveContractsClient(),o),this.computeTaskId=(o,c)=>computeTaskId(o,c),this.fetchRequesterDeals=async(o,{appAddress:c,datasetAddress:d,workerpoolAddress:h,page:et,pageSize:tt}={})=>fetchRequesterDeals(await this.config.resolveContractsClient(),await this.config.resolveIexecGatewayURL(),o,{appAddress:c,datasetAddress:d,workerpoolAddress:h,page:et,pageSize:tt}),this.claim=async o=>claim(await this.config.resolveContractsClient(),o),this.fetchDealsByApporder=async(o,{page:c,pageSize:d}={})=>fetchDealsByOrderHash(await this.config.resolveIexecGatewayURL(),APP_ORDER,await this.config.resolveChainId(),o,{page:c,pageSize:d}),this.fetchDealsByDatasetorder=async(o,{page:c,pageSize:d}={})=>fetchDealsByOrderHash(await this.config.resolveIexecGatewayURL(),DATASET_ORDER,await this.config.resolveChainId(),o,{page:c,pageSize:d}),this.fetchDealsByWorkerpoolorder=async(o,{page:c,pageSize:d}={})=>fetchDealsByOrderHash(await this.config.resolveIexecGatewayURL(),WORKERPOOL_ORDER,await this.config.resolveChainId(),o,{page:c,pageSize:d}),this.fetchDealsByRequestorder=async(o,{page:c,pageSize:d}={})=>fetchDealsByOrderHash(await this.config.resolveIexecGatewayURL(),REQUEST_ORDER,await this.config.resolveChainId(),o,{page:c,pageSize:d})}}const abi$6=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"label",type:"bytes32"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"NewOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"resolver",type:"address"}],name:"NewResolver",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"uint64",name:"ttl",type:"uint64"}],name:"NewTTL",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"recordExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"resolver",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"address",name:"owner",type:"address"}],name:"setOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"resolver",type:"address"},{internalType:"uint64",name:"ttl",type:"uint64"}],name:"setRecord",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"address",name:"resolver",type:"address"}],name:"setResolver",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"label",type:"bytes32"},{internalType:"address",name:"owner",type:"address"}],name:"setSubnodeOwner",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"label",type:"bytes32"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"resolver",type:"address"},{internalType:"uint64",name:"ttl",type:"uint64"}],name:"setSubnodeRecord",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint64",name:"ttl",type:"uint64"}],name:"setTTL",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"ttl",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"}],debug$d=Debug("iexec:ens:registry"),getEnsRegistryAddress=async(a=throwIfMissing$1())=>{try{const o=(await wrapCall(a.provider.getNetwork())).getPlugin("org.ethers.plugins.network.Ens");if(!o||!o.address)throw new ConfigurationError("Network does not support ENS");return o.address}catch(e){throw debug$d("getEnsRegistryAddress()",e),e}},checkEns=async(a=throwIfMissing$1())=>{try{await getEnsRegistryAddress(a)}catch(e){throw debug$d("checkEns()",e),e}},debug$c=Debug("iexec:ens:resolution"),getOwner=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>{try{const o=await ensDomainSchema().validate(e),c=namehash(o),d=await getEnsRegistryAddress(a),h=new Contract(d,abi$6,a.provider);return await wrapCall(h.owner(c))}catch(o){throw debug$c("getOwner()",o),o}},resolveName=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>{try{const o=await ensDomainSchema().validate(e);return await checkEns(a),await wrapCall(a.provider.resolveName(o))}catch(o){throw debug$c("resolveName()",o),o}},lookupAddress=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>{try{const o=await addressSchema$1({ethProvider:a.provider}).validate(e);return await checkEns(a),await wrapCall(a.provider.lookupAddress(o))}catch(o){throw debug$c("lookupAddress()",o),o}},abi$5=[{inputs:[],name:"registry",outputs:[{internalType:"contract IRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_ens",type:"address"},{internalType:"string",name:"_name",type:"string"}],name:"setName",outputs:[],stateMutability:"nonpayable",type:"function"}],abi$4=[{inputs:[{internalType:"contract ENS",name:"ensAddr",type:"address"},{internalType:"bytes32",name:"node",type:"bytes32"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"bytes32",name:"label",type:"bytes32"},{internalType:"address",name:"owner",type:"address"}],name:"register",outputs:[],stateMutability:"nonpayable",type:"function"}],abi$3=[{inputs:[{internalType:"contract ENS",name:"ensAddr",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"controller",type:"address"},{indexed:!1,internalType:"bool",name:"enabled",type:"bool"}],name:"ControllerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"contract NameResolver",name:"resolver",type:"address"}],name:"DefaultResolverChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"addr",type:"address"},{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"}],name:"ReverseClaimed",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"claim",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"resolver",type:"address"}],name:"claimForAddr",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"resolver",type:"address"}],name:"claimWithResolver",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"controllers",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"defaultResolver",outputs:[{internalType:"contract NameResolver",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"ens",outputs:[{internalType:"contract ENS",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"}],name:"node",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"controller",type:"address"},{internalType:"bool",name:"enabled",type:"bool"}],name:"setController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"resolver",type:"address"}],name:"setDefaultResolver",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"name",type:"string"}],name:"setName",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"resolver",type:"address"},{internalType:"string",name:"name",type:"string"}],name:"setNameForAddr",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],abi$2=[{inputs:[{internalType:"contract ENS",name:"_ens",type:"address"},{internalType:"contract INameWrapper",name:"wrapperAddress",type:"address"},{internalType:"address",name:"_trustedETHController",type:"address"},{internalType:"address",name:"_trustedReverseRegistrar",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"uint256",name:"contentType",type:"uint256"}],name:"ABIChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"a",type:"address"}],name:"AddrChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"coinType",type:"uint256"},{indexed:!1,internalType:"bytes",name:"newAddress",type:"bytes"}],name:"AddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"address",name:"delegate",type:"address"},{indexed:!0,internalType:"bool",name:"approved",type:"bool"}],name:"Approved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"hash",type:"bytes"}],name:"ContenthashChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"name",type:"bytes"},{indexed:!1,internalType:"uint16",name:"resource",type:"uint16"},{indexed:!1,internalType:"bytes",name:"record",type:"bytes"}],name:"DNSRecordChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"name",type:"bytes"},{indexed:!1,internalType:"uint16",name:"resource",type:"uint16"}],name:"DNSRecordDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"lastzonehash",type:"bytes"},{indexed:!1,internalType:"bytes",name:"zonehash",type:"bytes"}],name:"DNSZonehashChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"bytes4",name:"interfaceID",type:"bytes4"},{indexed:!1,internalType:"address",name:"implementer",type:"address"}],name:"InterfaceChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"string",name:"name",type:"string"}],name:"NameChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"x",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"y",type:"bytes32"}],name:"PubkeyChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"string",name:"indexedKey",type:"string"},{indexed:!1,internalType:"string",name:"key",type:"string"},{indexed:!1,internalType:"string",name:"value",type:"string"}],name:"TextChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"uint64",name:"newVersion",type:"uint64"}],name:"VersionChanged",type:"event"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint256",name:"contentTypes",type:"uint256"}],name:"ABI",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"addr",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint256",name:"coinType",type:"uint256"}],name:"addr",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"address",name:"delegate",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"clearRecords",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"contenthash",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"},{internalType:"uint16",name:"resource",type:"uint16"}],name:"dnsRecord",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"}],name:"hasDNSRecords",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes4",name:"interfaceID",type:"bytes4"}],name:"interfaceImplementer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"address",name:"delegate",type:"address"}],name:"isApprovedFor",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"nodehash",type:"bytes32"},{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicallWithNodeCheck",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"pubkey",outputs:[{internalType:"bytes32",name:"x",type:"bytes32"},{internalType:"bytes32",name:"y",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"recordVersions",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint256",name:"contentType",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"setABI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint256",name:"coinType",type:"uint256"},{internalType:"bytes",name:"a",type:"bytes"}],name:"setAddr",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"address",name:"a",type:"address"}],name:"setAddr",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes",name:"hash",type:"bytes"}],name:"setContenthash",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"}],name:"setDNSRecords",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes4",name:"interfaceID",type:"bytes4"},{internalType:"address",name:"implementer",type:"address"}],name:"setInterface",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"string",name:"newName",type:"string"}],name:"setName",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"x",type:"bytes32"},{internalType:"bytes32",name:"y",type:"bytes32"}],name:"setPubkey",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"string",name:"key",type:"string"},{internalType:"string",name:"value",type:"string"}],name:"setText",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes",name:"hash",type:"bytes"}],name:"setZonehash",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"string",name:"key",type:"string"}],name:"text",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"zonehash",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"}],debug$b=Debug("iexec:ens:registration"),FIFS_DOMAINS={[APP]:"apps.iexec.eth",[DATASET]:"datasets.iexec.eth",[WORKERPOOL]:"pools.iexec.eth",default:"users.iexec.eth"},getDefaultDomain=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>{try{const o=await addressSchema$1({ethProvider:a.provider}).validate(e),[c,d,h]=await Promise.all([checkDeployedObj(APP)(a,o),checkDeployedObj(DATASET)(a,o),checkDeployedObj(WORKERPOOL)(a,o)]);return c?FIFS_DOMAINS[APP]:d?FIFS_DOMAINS[DATASET]:h?FIFS_DOMAINS[WORKERPOOL]:FIFS_DOMAINS.default}catch(o){throw debug$b("getDefaultDomain()",o),o}},registerFifsEns=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=FIFS_DOMAINS.default)=>{try{checkSigner(a);const c=await ensDomainSchema().validate(o),d=await ensLabelSchema().validate(e);let h;const et=`${d}.${c}`,tt=id(d),ot=await getAddress(a),ft=await getOwner(a,et);if(ft===NULL_ADDRESS){const ht=await getOwner(a,c);if(await wrapCall(a.provider.getCode(ht))==="0x")throw Error(`The base domain ${c} owner ${ht} is not a contract`);const gt=new Contract(ht,abi$4,a.signer),wt=await wrapSend(gt.register(tt,ot,a.txOptions));await wrapWait(wt.wait(a.confirms)),h=wt.hash}else if(ft.toLowerCase()===ot.toLowerCase())debug$b(`${et} is already owned by current wallet ${ft}`);else throw Error(`${et} is already owned by ${ft}`);return{registerTxHash:h,name:et}}catch(c){throw debug$b("registerFifsEns()",c),c}},obsConfigureResolutionMessages={DESCRIBE_WORKFLOW:"DESCRIBE_WORKFLOW",SET_RESOLVER_TX_REQUEST:"SET_RESOLVER_TX_REQUEST",SET_RESOLVER_TX_SENT:"SET_RESOLVER_TX_SENT",SET_RESOLVER_SUCCESS:"SET_RESOLVER_SUCCESS",SET_ADDR_TX_REQUEST:"SET_ADDR_TX_REQUEST",SET_ADDR_TX_SENT:"SET_ADDR_TX_SENT",SET_ADDR_SUCCESS:"SET_ADDR_SUCCESS",SET_NAME_TX_REQUEST:"SET_NAME_TX_REQUEST",SET_NAME_TX_SENT:"SET_NAME_TX_SENT",SET_NAME_SUCCESS:"SET_NAME_SUCCESS"},obsConfigureResolution=(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1(),c)=>new Observable$1(d=>{const h=new SafeObserver$1(d);let et=!1;return(async()=>{try{checkSigner(a);const ot=c!==void 0?await addressSchema$1({ethProvider:a.provider}).validate(c):await getAddress(a),ft=await ensDomainSchema().validate(o),ht=namehash(ft),yt=await getAddress(a),gt=await getEnsRegistryAddress(a),wt="addr.reverse";let bt=!1;if(ot!==yt){if(await wrapCall(a.provider.getCode(ot))==="0x")throw Error(`Target address ${ot} is not a contract and don't match current wallet address ${yt}, impossible to setup ENS resolution`);bt=!0}if((await getOwner(a,ft)).toLowerCase()!==yt.toLowerCase())throw Error(`The current address ${yt} is not owner of ${ft}`);if(bt){const Mt=new Contract(ot,abi$5,a.signer),zt=await wrapCall(Mt.owner());if(!(zt&&zt.toLowerCase()===yt.toLowerCase()))throw Error(`${yt} is not the owner of ${ot}, impossible to setup ENS resolution`)}if(et)return;if(h.next({message:obsConfigureResolutionMessages.DESCRIBE_WORKFLOW,addressType:bt?"CONTRACT":"EAO",steps:["SET_RESOLVER","SET_ADDR","SET_NAME"]}),await wrapCall(a.provider.getCode(e))==="0x")throw Error(`The resolver ${e} is not a contract`);const vt=await wrapCall(a.provider.getResolver(ft));if(!(vt&&vt.address&&vt.address.toLowerCase()===e.toLowerCase())){const Mt=new Contract(gt,abi$6,a.signer);if(h.next({message:obsConfigureResolutionMessages.SET_RESOLVER_TX_REQUEST,name:ft,resolverAddress:e}),et)return;const zt=await wrapSend(Mt.setResolver(ht,e,a.txOptions));if(h.next({message:obsConfigureResolutionMessages.SET_RESOLVER_TX_SENT,txHash:zt.hash}),et)return;await wrapWait(zt.wait(a.confirms))}h.next({message:obsConfigureResolutionMessages.SET_RESOLVER_SUCCESS,name:ft,resolverAddress:e});const At=new Contract(e,abi$2,a.signer),kt=await wrapCall(At.getFunction("addr(bytes32)")(ht));if(!(kt&&kt.toLowerCase()===ot.toLowerCase())){if(h.next({message:obsConfigureResolutionMessages.SET_ADDR_TX_REQUEST,name:ft,address:ot}),et)return;const Mt=await wrapSend(At.getFunction("setAddr(bytes32,address)")(ht,ot,a.txOptions));if(h.next({message:obsConfigureResolutionMessages.SET_ADDR_TX_SENT,txHash:Mt.hash}),et)return;await wrapWait(Mt.wait(a.confirms))}if(h.next({message:obsConfigureResolutionMessages.SET_ADDR_SUCCESS,name:ft,address:ot}),await lookupAddress(a,ot)!==ft)if(bt){const Mt=new Contract(ot,abi$5,a.signer);if(h.next({message:obsConfigureResolutionMessages.SET_NAME_TX_REQUEST,name:ft,address:ot}),et)return;const zt=await wrapSend(Mt.setName(gt,ft,a.txOptions));if(h.next({message:obsConfigureResolutionMessages.SET_NAME_TX_SENT,txHash:zt.hash}),et)return;await wrapWait(zt.wait(a.confirms))}else{const Mt=await getOwner(a,wt),zt=new Contract(Mt,abi$3,a.signer);if(h.next({message:obsConfigureResolutionMessages.SET_NAME_TX_REQUEST,name:ft,address:ot}),et)return;const Kt=await wrapSend(zt.setName(ft,a.txOptions));if(h.next({message:obsConfigureResolutionMessages.SET_NAME_TX_SENT,txHash:Kt.hash}),et)return;await wrapWait(Kt.wait(a.confirms))}h.next({message:obsConfigureResolutionMessages.SET_NAME_SUCCESS,name:ft,address:ot}),h.complete()}catch(ot){debug$b("obsConfigureResolution()",ot),h.error(ot)}})(),h.unsub=()=>{et=!0},h.unsubscribe.bind(h)}),configureResolution=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1(),c)=>{try{checkSigner(a);const d=c!==void 0?await addressSchema$1({ethProvider:a.provider}).validate(c):await getAddress(a),h=await ensDomainSchema().validate(o),et=await obsConfigureResolution(a,e,o,c);return new Promise((tt,ot)=>{const ft={name:h,address:d};et.subscribe({error:ht=>ot(ht),next:({message:ht,...yt})=>{switch(ht){case obsConfigureResolutionMessages.SET_RESOLVER_TX_SENT:ft.setResolverTxHash=yt.txHash;break;case obsConfigureResolutionMessages.SET_ADDR_TX_SENT:ft.setAddrTxHash=yt.txHash;break;case obsConfigureResolutionMessages.SET_NAME_TX_SENT:ft.setNameTxHash=yt.txHash;break;default:break}},complete:()=>{tt(ft)}})})}catch(d){throw debug$b("configureResolution()",d),d}},debug$a=Debug("iexec:ens:text-record"),readTextRecord=async(a=throwIfMissing$1(),e,o)=>{try{const c=await ensDomainSchema().validate(e),d=await textRecordKeySchema().validate(o),h=namehash(c),et=await wrapCall(a.provider.getResolver(c));if(!(et&&et.address&&et.address!==NULL_ADDRESS))throw Error(`No resolver is configured for ${c}`);const ot=new Contract(et.address,abi$2,a.provider);return await wrapCall(ot.text(h,d))}catch(c){throw debug$a("readText()",c),c}},setTextRecord=async(a=throwIfMissing$1(),e,o,c="")=>{try{const d=await ensDomainSchema().validate(e),h=await textRecordKeySchema().validate(o),et=await textRecordValueSchema().validate(c),tt=namehash(d),ot=await wrapCall(a.provider.getResolver(d));if(!(ot&&ot.address&&ot.address!==NULL_ADDRESS))throw Error(`No resolver is configured for ${d}`);const ht=await getOwner(a,d),yt=await getAddress(a);if(ht!==yt)throw Error(`${yt} is not authorised to set a text record for ${d}`);const gt=new Contract(ot.address,abi$2,a.signer),wt=await wrapSend(gt.setText(tt,h,et));return await wrapWait(wt.wait(a.confirms)),wt.hash}catch(d){throw debug$a("setTextRecord()",d),d}};class IExecENSModule extends IExecModule{constructor(...e){super(...e),this.getOwner=async o=>getOwner(await this.config.resolveContractsClient(),o),this.resolveName=async o=>resolveName(await this.config.resolveContractsClient(),o),this.lookupAddress=async o=>lookupAddress(await this.config.resolveContractsClient(),o),this.getDefaultDomain=async o=>getDefaultDomain(await this.config.resolveContractsClient(),o),this.claimName=async(o,c)=>registerFifsEns(await this.config.resolveContractsClient(),o,c),this.obsConfigureResolution=async(o,c)=>obsConfigureResolution(await this.config.resolveContractsClient(),await this.config.resolveEnsPublicResolverAddress(),o,c),this.configureResolution=async(o,c)=>configureResolution(await this.config.resolveContractsClient(),await this.config.resolveEnsPublicResolverAddress(),o,c),this.setTextRecord=async(o,c,d)=>setTextRecord(await this.config.resolveContractsClient(),o,c,d),this.readTextRecord=async(o,c)=>readTextRecord(await this.config.resolveContractsClient(),o,c)}}class IExecHubModule extends IExecModule{constructor(...e){super(...e),this.createCategory=async o=>createCategory(await this.config.resolveContractsClient(),o),this.showCategory=async o=>showCategory(await this.config.resolveContractsClient(),o),this.countCategory=async()=>countCategory(await this.config.resolveContractsClient()),this.getTimeoutRatio=async()=>getTimeoutRatio(await this.config.resolveContractsClient())}}class IExecNetworkModule extends IExecModule{constructor(...e){super(...e),this.getNetwork=async()=>{const o=await this.config.resolveContractsClient();return{chainId:o.chainId,isNative:o.isNative}}}}const reservedSecretKeyName={IEXEC_RESULT_ENCRYPTION_PUBLIC_KEY:"iexec-result-encryption-public-key",IEXEC_RESULT_DROPBOX_TOKEN:"iexec-result-dropbox-token",IEXEC_RESULT_IEXEC_IPFS_TOKEN:"iexec-result-iexec-ipfs-token"},getStorageTokenKeyName=a=>{switch(a){case void 0:case"default":case STORAGE_PROVIDERS.IPFS:return reservedSecretKeyName.IEXEC_RESULT_IEXEC_IPFS_TOKEN;case STORAGE_PROVIDERS.DROPBOX:return reservedSecretKeyName.IEXEC_RESULT_DROPBOX_TOKEN;default:throw Error(`"${a}" not supported`)}},getResultEncryptionKeyName=()=>reservedSecretKeyName.IEXEC_RESULT_ENCRYPTION_PUBLIC_KEY,resolveTeeFrameworkFromTag=async a=>{const e=await tagSchema().validate(a);if(checkActiveBitInTag(e,TAG_MAP[TEE_FRAMEWORKS.SCONE]))return TEE_FRAMEWORKS.SCONE;if(checkActiveBitInTag(e,TAG_MAP[TEE_FRAMEWORKS.GRAMINE]))return TEE_FRAMEWORKS.GRAMINE},createObjParams=async({params:a={},tag:e=NULL_BYTES32,callback:o=NULL_ADDRESS,noCast:c=!1,resultProxyURL:d}={})=>{let h;if(typeof a=="string")try{h=JSON.parse(a)}catch{h={iexec_args:a}}else h=a;const et=checkActiveBitInTag(e,TAG_MAP.tee),tt=o!==NULL_ADDRESS;return objParamsSchema().validate(h,{strict:c,context:{isTee:et,isCallback:tt,resultProxyURL:d}})},checkRequestRequirements=async({contracts:a=throwIfMissing$1(),smsURL:e=throwIfMissing$1()}=throwIfMissing$1(),o=throwIfMissing$1())=>{const c=await requestorderSchema().validate(o),{tag:d,dataset:h,callback:et,params:tt,requester:ot,beneficiary:ft}=c,ht=await createObjParams({params:tt,tag:d,callback:et,noCast:!0}),yt=checkActiveBitInTag(d,TAG_MAP.tee);if(ht[IEXEC_REQUEST_PARAMS.IEXEC_RESULT_ENCRYPTION]===!0&&!await checkWeb2SecretExists(a,e,ft,reservedSecretKeyName.IEXEC_RESULT_ENCRYPTION_PUBLIC_KEY))throw Error("Beneficiary result encryption key is not set in the SMS. Result encryption will fail.");if((ht[IEXEC_REQUEST_PARAMS.IEXEC_RESULT_STORAGE_PROVIDER]===STORAGE_PROVIDERS.IPFS||ht[IEXEC_REQUEST_PARAMS.IEXEC_RESULT_STORAGE_PROVIDER]===STORAGE_PROVIDERS.DROPBOX)&&!await checkWeb2SecretExists(a,e,ot,getStorageTokenKeyName(ht[IEXEC_REQUEST_PARAMS.IEXEC_RESULT_STORAGE_PROVIDER])))throw Error(`Requester storage token is not set for selected provider "${ht[IEXEC_REQUEST_PARAMS.IEXEC_RESULT_STORAGE_PROVIDER]}". Result archive upload will fail.`);if(h&&h!==NULL_ADDRESS&&yt&&!await checkWeb3SecretExists(a,e,h))throw Error(`Dataset encryption key is not set for dataset ${h} in the SMS. Dataset decryption will fail.`);ht[IEXEC_REQUEST_PARAMS.IEXEC_SECRETS]&&await Promise.all(Object.values(ht[IEXEC_REQUEST_PARAMS.IEXEC_SECRETS]).map(async gt=>{if(!await checkRequesterSecretExists(a,e,ot,gt))throw Error(`Requester secret "${gt}" is not set for requester ${ot} in the SMS. Requester secret provisioning will fail.`)}))},checkDatasetRequirements=async({contracts:a=throwIfMissing$1(),smsURL:e=throwIfMissing$1()}=throwIfMissing$1(),o=throwIfMissing$1(),{tagOverride:c}={})=>{const d=await datasetorderSchema().validate(o),{tag:h,dataset:et}=d,tt=checkActiveBitInTag(c?await tagSchema().validate(c):h,TAG_MAP.tee);if(et&&et!==NULL_ADDRESS&&tt&&!await checkWeb3SecretExists(a,e,et))throw Error(`Dataset encryption key is not set for dataset ${et} in the SMS. Dataset decryption will fail.`)},checkAppRequirements=async({contracts:a=throwIfMissing$1()}=throwIfMissing$1(),e=throwIfMissing$1(),{tagOverride:o}={})=>{const c=await apporderSchema().validate(e),{tag:d,app:h}=c,et=await resolveTeeFrameworkFromTag(o?await tagSchema().validate(o):d);if(await showApp(a,h).then(ot=>resolveTeeFrameworkFromApp(ot.app,{strict:!1}))!==et)throw Error("Tag mismatch the TEE framework specified by app")},debug$9=Debug("iexec:market:order"),objDesc={EIP712Domain:{primaryType:"EIP712Domain",structMembers:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}]},[APP_ORDER]:{primaryType:"AppOrder",structMembers:[{name:"app",type:"address"},{name:"appprice",type:"uint256"},{name:"volume",type:"uint256"},{name:"tag",type:"bytes32"},{name:"datasetrestrict",type:"address"},{name:"workerpoolrestrict",type:"address"},{name:"requesterrestrict",type:"address"},{name:"salt",type:"bytes32"}],contractPropName:"app",ownerMethod:getAppOwner,cancelMethod:"manageAppOrder",cancelEvent:"ClosedAppOrder",addressField:"app"},[DATASET_ORDER]:{primaryType:"DatasetOrder",structMembers:[{name:"dataset",type:"address"},{name:"datasetprice",type:"uint256"},{name:"volume",type:"uint256"},{name:"tag",type:"bytes32"},{name:"apprestrict",type:"address"},{name:"workerpoolrestrict",type:"address"},{name:"requesterrestrict",type:"address"},{name:"salt",type:"bytes32"}],contractPropName:"dataset",ownerMethod:getDatasetOwner,cancelMethod:"manageDatasetOrder",cancelEvent:"ClosedDatasetOrder",addressField:"dataset"},[WORKERPOOL_ORDER]:{primaryType:"WorkerpoolOrder",structMembers:[{name:"workerpool",type:"address"},{name:"workerpoolprice",type:"uint256"},{name:"volume",type:"uint256"},{name:"tag",type:"bytes32"},{name:"category",type:"uint256"},{name:"trust",type:"uint256"},{name:"apprestrict",type:"address"},{name:"datasetrestrict",type:"address"},{name:"requesterrestrict",type:"address"},{name:"salt",type:"bytes32"}],contractPropName:"workerpool",ownerMethod:getWorkerpoolOwner,cancelMethod:"manageWorkerpoolOrder",cancelEvent:"ClosedWorkerpoolOrder",addressField:"workerpool"},[REQUEST_ORDER]:{primaryType:"RequestOrder",structMembers:[{name:"app",type:"address"},{name:"appmaxprice",type:"uint256"},{name:"dataset",type:"address"},{name:"datasetmaxprice",type:"uint256"},{name:"workerpool",type:"address"},{name:"workerpoolmaxprice",type:"uint256"},{name:"requester",type:"address"},{name:"volume",type:"uint256"},{name:"tag",type:"bytes32"},{name:"category",type:"uint256"},{name:"trust",type:"uint256"},{name:"beneficiary",type:"address"},{name:"callback",type:"address"},{name:"params",type:"string"},{name:"salt",type:"bytes32"}],cancelMethod:"manageRequestOrder",cancelEvent:"ClosedRequestOrder",addressField:"requester"}},objToStructArray=(a,e)=>{const o=(c,d)=>c.concat([e[d.name]]);return objDesc[a].structMembers.reduce(o,[])},signedOrderToStruct=(a,e)=>objToStructArray(a,e).concat([e.sign]),getEIP712Domain=async a=>{const e=a.getIExecContract(),{name:o,version:c,chainId:d,verifyingContract:h}=await wrapCall(e.domain());return{name:o,version:c,chainId:d.toString(),verifyingContract:h}},getContractOwner=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1())=>{const c=o[objDesc[e].contractPropName];return objDesc[e].ownerMethod(a,c)},computeOrderHash=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1())=>{try{let c;switch(e){case APP_ORDER:c=await saltedApporderSchema({ethProvider:a.provider}).validate(o);break;case DATASET_ORDER:c=await saltedDatasetorderSchema({ethProvider:a.provider}).validate(o);break;case WORKERPOOL_ORDER:c=await saltedWorkerpoolorderSchema({ethProvider:a.provider}).validate(o);break;case REQUEST_ORDER:c=await saltedRequestorderSchema({ethProvider:a.provider}).validate(o);break;default:}const d=await getEIP712Domain(a),et={types:{EIP712Domain:objDesc.EIP712Domain.structMembers,[objDesc[e].primaryType]:objDesc[e].structMembers},domain:d,primaryType:objDesc[e].primaryType,message:c};return hashEIP712(et)}catch(c){throw debug$9("computeOrderHash()",c),c}},hashApporder=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>computeOrderHash(a,APP_ORDER,await saltedApporderSchema({ethProvider:a.provider}).validate(e)),hashDatasetorder=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>computeOrderHash(a,DATASET_ORDER,await saltedDatasetorderSchema({ethProvider:a.provider}).validate(e)),hashWorkerpoolorder=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>computeOrderHash(a,WORKERPOOL_ORDER,await saltedWorkerpoolorderSchema({ethProvider:a.provider}).validate(e)),hashRequestorder=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>computeOrderHash(a,REQUEST_ORDER,await saltedRequestorderSchema({ethProvider:a.provider}).validate(e)),getRemainingVolume=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1())=>{try{const c=new BN$1(o.volume);if(c.isZero())return c;const d=await computeOrderHash(a,e,o),h=a.getIExecContract(),et=await wrapCall(h.viewConsumed(d)),tt=bigIntToBn(et);return c.sub(tt)}catch(c){throw debug$9("getRemainingVolume()",c),c}},signOrder=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1())=>{checkSigner(a);const c=e===REQUEST_ORDER?o.requester:await getContractOwner(a,e,o),d=await getAddress(a);if(c!==d)throw Error(`Invalid order signer, must be the ${e===REQUEST_ORDER?"requester":"resource owner"}`);const h=getSalt(),et={...o,salt:h},tt=await getEIP712Domain(a),ot={[objDesc[e].primaryType]:objDesc[e].structMembers},ft=await wrapSignTypedData(a.signer.signTypedData(tt,ot,et));return{...et,sign:ft}},signApporder=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>signOrder(a,APP_ORDER,await apporderSchema({ethProvider:a.provider}).validate(e)),signDatasetorder=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>signOrder(a,DATASET_ORDER,await datasetorderSchema({ethProvider:a.provider}).validate(e)),signWorkerpoolorder=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>signOrder(a,WORKERPOOL_ORDER,await workerpoolorderSchema({ethProvider:a.provider}).validate(e)),signRequestorder=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>signOrder(a,REQUEST_ORDER,await requestorderSchema({ethProvider:a.provider}).validate(e)),cancelOrder=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1())=>{try{checkSigner(a);const c=signedOrderToStruct(e,o);if((await getRemainingVolume(a,e,o)).isZero())throw Error(`${e} already canceled`);const h=a.getIExecContract(),et=await wrapSend(h[objDesc[e].cancelMethod]([c,1,NULL_BYTES],a.txOptions)),tt=await wrapWait(et.wait(a.confirms));if(!checkEventFromLogs(objDesc[e].cancelEvent,tt.logs))throw Error(`${objDesc[e].cancelEvent} not confirmed`);return{order:o,txHash:et.hash}}catch(c){throw debug$9("cancelOrder()",c),c}},cancelApporder=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>cancelOrder(a,APP_ORDER,await signedApporderSchema().validate(e)),cancelDatasetorder=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>cancelOrder(a,DATASET_ORDER,await signedDatasetorderSchema().validate(e)),cancelWorkerpoolorder=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>cancelOrder(a,WORKERPOOL_ORDER,await signedWorkerpoolorderSchema().validate(e)),cancelRequestorder=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>cancelOrder(a,REQUEST_ORDER,await signedRequestorderSchema().validate(e)),verifySign=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1(),c=throwIfMissing$1())=>{const d=a.getIExecContract();return!!await wrapCall(d.verifySignature(e,o,c))},getMatchableVolume=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=NULL_DATASETORDER,c=throwIfMissing$1(),d=throwIfMissing$1())=>{try{const[h,et,tt,ot]=await Promise.all([signedApporderSchema().validate(e),signedDatasetorderSchema().validate(o),signedWorkerpoolorderSchema().validate(c),signedRequestorderSchema().validate(d)]),ft=async()=>{if(!await checkDeployedApp(a,h.app))throw new Error(`No app deployed at address ${h.app}`)},ht=async()=>{if(et.dataset!==NULL_ADDRESS&&!await checkDeployedDataset(a,et.dataset))throw new Error(`No dataset deployed at address ${et.dataset}`)},yt=async()=>{if(!await checkDeployedWorkerpool(a,tt.workerpool))throw new Error(`No workerpool deployed at address ${tt.workerpool}`)};await Promise.all([ft(),ht(),yt()]);const gt=async()=>{if(!await verifySign(a,await getAppOwner(a,h.app),await hashApporder(a,h),h.sign))throw new Error("apporder invalid sign")},wt=async()=>{if(et.dataset!==NULL_ADDRESS&&!await verifySign(a,await getDatasetOwner(a,et.dataset),await hashDatasetorder(a,et),et.sign))throw new Error("datasetorder invalid sign")},bt=async()=>{if(!await verifySign(a,await getWorkerpoolOwner(a,tt.workerpool),await hashWorkerpoolorder(a,tt),tt.sign))throw new Error("workerpoolorder invalid sign")},xt=async()=>{if(!await verifySign(a,ot.requester,await hashRequestorder(a,ot),ot.sign))throw new Error("requestorder invalid sign")};if(await Promise.all([gt(),wt(),bt(),xt()]),a.flavour==="enterprise"){debug$9("check enterprise");const Ot=async()=>{const Bt=await isInWhitelist(a,ot.requester,{strict:!1});if(debug$9("requester in whitelist",Bt),!Bt)throw new Error(`requester ${ot.requester} is not authorized to interact with eRLC`)},Lt=async()=>{const Bt=await getAppOwner(a,h.app),St=await isInWhitelist(a,Bt,{strict:!1});if(debug$9("app owner in whitelist",St),!St)throw new Error(`app owner ${Bt} is not authorized to interact with eRLC`)},Ut=async()=>{if(et.dataset===NULL_ADDRESS)return;const Bt=await getDatasetOwner(a,et.dataset),St=await isInWhitelist(a,Bt,{strict:!1});if(debug$9("dataset owner in whitelist",St),!St)throw new Error(`dataset owner ${Bt} is not authorized to interact with eRLC`)},Gt=async()=>{const Bt=await getWorkerpoolOwner(a,tt.workerpool),St=await isInWhitelist(a,Bt,{strict:!1});if(debug$9("workerpool owner in whitelist",St),!St)throw new Error(`workerpool owner ${Bt} is not authorized to interact with eRLC`)};await Promise.all([Ot(),Lt(),Ut(),Gt()])}if(ot.app!==h.app)throw new Error(`app address mismatch between requestorder (${ot.app}) and apporder (${h.app})`);if(ot.dataset!==NULL_ADDRESS&&ot.dataset!==et.dataset)throw new Error(`dataset address mismatch between requestorder (${ot.dataset}) and datasetorder (${et.dataset})`);if(ot.workerpool!==NULL_ADDRESS&&ot.workerpool!==tt.workerpool)throw new Error(`workerpool address mismatch between requestorder (${ot.workerpool}) and workerpoolorder (${tt.workerpool})`);const Et=new BN$1(ot.category),vt=new BN$1(tt.category);if(!vt.eq(Et))throw new Error(`category mismatch between requestorder (${Et}) and workerpoolorder (${vt})`);const $t=new BN$1(ot.trust),At=new BN$1(tt.trust);if(At.lt($t))throw new Error(`workerpoolorder trust is too low (expected ${$t}, got ${At})`);const kt=findMissingBitsInTag(tt.tag,sumTags([ot.tag,h.tag,et.tag]));if(kt.length>0)throw Error(`Missing tags [${kt.map(Ot=>tagBitToHuman(Ot))}] in workerpoolorder`);if(checkActiveBitInTag(sumTags([ot.tag,et.tag]),1)&&!checkActiveBitInTag(h.tag,TAG_MAP.tee))throw Error("Missing tag [tee] in apporder");const Dt=new BN$1(tt.workerpoolprice),Mt=new BN$1(ot.workerpoolmaxprice),zt=new BN$1(h.appprice),Kt=new BN$1(ot.appmaxprice),Yt=new BN$1(et.datasetprice),er=new BN$1(ot.datasetmaxprice);if(Kt.lt(zt))throw new Error(`appmaxprice too low (expected ${zt}, got ${Kt})`);if(Mt.lt(Dt))throw new Error(`workerpoolmaxprice too low (expected ${Dt}, got ${Mt})`);if(er.lt(Yt))throw new Error(`datasetmaxprice too low (expected ${Yt}, got ${er})`);const qt=await getWorkerpoolOwner(a,tt.workerpool),{stake:Ft}=await checkBalance(a,qt),mt=Dt.mul(new BN$1(30)).div(new BN$1(100)),Tt=mt.isZero()?new BN$1(c.volume):Ft.div(mt);if(Tt.isZero())throw Error(`workerpool required stake (${mt}) is greater than workerpool owner's account stake (${Ft}). Orders can't be matched. If you are the workerpool owner, you should deposit to top up your account`);return(await Promise.all(ot.dataset!==NULL_ADDRESS?[getRemainingVolume(a,APP_ORDER,h).then(Ot=>{if(Ot.lte(new BN$1(0)))throw new Error("apporder is fully consumed");return Ot}),getRemainingVolume(a,DATASET_ORDER,et).then(Ot=>{if(Ot.lte(new BN$1(0)))throw new Error("datasetorder is fully consumed");return Ot}),getRemainingVolume(a,WORKERPOOL_ORDER,tt).then(Ot=>{if(Ot.lte(new BN$1(0)))throw new Error("workerpoolorder is fully consumed");return Ot}),getRemainingVolume(a,REQUEST_ORDER,ot).then(Ot=>{if(Ot.lte(new BN$1(0)))throw new Error("requestorder is fully consumed");return Ot})]:[getRemainingVolume(a,APP_ORDER,h).then(Ot=>{if(Ot.lte(new BN$1(0)))throw new Error("apporder is fully consumed");return Ot}),getRemainingVolume(a,WORKERPOOL_ORDER,tt).then(Ot=>{if(Ot.lte(new BN$1(0)))throw new Error("workerpoolorder is fully consumed");return Ot}),getRemainingVolume(a,REQUEST_ORDER,ot).then(Ot=>{if(Ot.lte(new BN$1(0)))throw new Error("requestorder is fully consumed");return Ot})])).reduce((Ot,Lt)=>Lt.lt(Ot)?Lt:Ot,Tt)}catch(h){throw debug$9("getMatchableVolume()",h),h}},matchOrders=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=NULL_DATASETORDER,c=throwIfMissing$1(),d=throwIfMissing$1())=>{try{checkSigner(a);const[h,et,tt,ot]=await Promise.all([signedApporderSchema().validate(e),signedDatasetorderSchema().validate(o),signedWorkerpoolorderSchema().validate(c),signedRequestorderSchema().validate(d)]);await tagSchema().validate(sumTags([h.tag,et.tag,ot.tag])).catch(zt=>{throw new Error(`Matching order would produce an invalid deal tag. ${zt.message}`)});const ft=await getMatchableVolume(a,h,et,tt,ot),ht=new BN$1(tt.workerpoolprice),yt=new BN$1(h.appprice),gt=new BN$1(et.datasetprice);await(async()=>{const zt=yt.add(gt).add(ht),Kt=zt.mul(ft),{stake:Yt}=await checkBalance(a,ot.requester);if(Yt.lt(zt))throw new Error(`Cost per task (${zt}) is greater than requester account stake (${Yt}). Orders can't be matched. If you are the requester, you should deposit to top up your account`);if(Yt.lt(Kt))throw new Error(`Total cost for ${ft} tasks (${Kt}) is greater than requester account stake (${Yt}). Orders can't be matched. If you are the requester, you should deposit to top up your account or reduce your requestorder volume`)})();const bt=signedOrderToStruct(APP_ORDER,h),xt=signedOrderToStruct(DATASET_ORDER,et),Et=signedOrderToStruct(WORKERPOOL_ORDER,tt),vt=signedOrderToStruct(REQUEST_ORDER,ot),$t=a.getIExecContract(),At=await wrapSend($t.matchOrders(bt,xt,Et,vt,a.txOptions)),kt=await wrapWait(At.wait(a.confirms)),It="OrdersMatched";if(!checkEventFromLogs(It,kt.logs))throw Error(`${It} not confirmed`);const{dealid:Dt,volume:Mt}=getEventFromLogs(It,kt.logs,{strict:!0}).args;return{dealid:Dt,volume:bigIntToBn(Mt),txHash:At.hash}}catch(h){throw debug$9("matchOrders() error",h),h}},createApporder=async(a=throwIfMissing$1(),{app:e=throwIfMissing$1(),appprice:o="0",volume:c="1",tag:d=NULL_BYTES32,datasetrestrict:h=NULL_ADDRESS,workerpoolrestrict:et=NULL_ADDRESS,requesterrestrict:tt=NULL_ADDRESS}={})=>({app:await addressSchema$1({ethProvider:a.provider}).validate(e),appprice:await nRlcAmountSchema().validate(o),volume:await uint256Schema().validate(c),tag:await tagSchema().validate(d),datasetrestrict:await addressSchema$1({ethProvider:a.provider}).validate(h),workerpoolrestrict:await addressSchema$1({ethProvider:a.provider}).validate(et),requesterrestrict:await addressSchema$1({ethProvider:a.provider}).validate(tt)}),createDatasetorder=async(a=throwIfMissing$1(),{dataset:e=throwIfMissing$1(),datasetprice:o="0",volume:c="1",tag:d=NULL_BYTES32,apprestrict:h=NULL_ADDRESS,workerpoolrestrict:et=NULL_ADDRESS,requesterrestrict:tt=NULL_ADDRESS}={})=>({dataset:await addressSchema$1({ethProvider:a.provider}).validate(e),datasetprice:await nRlcAmountSchema().validate(o),volume:await uint256Schema().validate(c),tag:await tagSchema().validate(d),apprestrict:await addressSchema$1({ethProvider:a.provider}).validate(h),workerpoolrestrict:await addressSchema$1({ethProvider:a.provider}).validate(et),requesterrestrict:await addressSchema$1({ethProvider:a.provider}).validate(tt)}),createWorkerpoolorder=async(a=throwIfMissing$1(),{workerpool:e=throwIfMissing$1(),category:o=throwIfMissing$1(),workerpoolprice:c="0",volume:d="1",trust:h="0",tag:et=NULL_BYTES32,apprestrict:tt=NULL_ADDRESS,datasetrestrict:ot=NULL_ADDRESS,requesterrestrict:ft=NULL_ADDRESS}={})=>({workerpool:await addressSchema$1({ethProvider:a.provider}).validate(e),workerpoolprice:await nRlcAmountSchema().validate(c),volume:await uint256Schema().validate(d),category:await uint256Schema().validate(o),trust:await uint256Schema().validate(h),tag:await tagSchema().validate(et),apprestrict:await addressSchema$1({ethProvider:a.provider}).validate(tt),datasetrestrict:await addressSchema$1({ethProvider:a.provider}).validate(ot),requesterrestrict:await addressSchema$1({ethProvider:a.provider}).validate(ft)}),createRequestorder=async({contracts:a=throwIfMissing$1(),resultProxyURL:e=throwIfMissing$1()}={},{app:o=throwIfMissing$1(),category:c=throwIfMissing$1(),dataset:d=NULL_ADDRESS,workerpool:h=NULL_ADDRESS,appmaxprice:et="0",datasetmaxprice:tt="0",workerpoolmaxprice:ot="0",volume:ft="1",requester:ht,beneficiary:yt,params:gt={},callback:wt=NULL_ADDRESS,trust:bt="0",tag:xt=NULL_BYTES32}={})=>{const Et=ht||await getAddress(a);return{app:await addressSchema$1({ethProvider:a.provider}).validate(o),appmaxprice:await nRlcAmountSchema().validate(et),dataset:await addressSchema$1({ethProvider:a.provider}).validate(d),datasetmaxprice:await nRlcAmountSchema().validate(tt),workerpool:await addressSchema$1({ethProvider:a.provider}).validate(h),workerpoolmaxprice:await nRlcAmountSchema().validate(ot),requester:await addressSchema$1({ethProvider:a.provider}).validate(Et),beneficiary:await addressSchema$1({ethProvider:a.provider}).validate(yt||Et),volume:await uint256Schema().validate(ft),params:await createObjParams({params:gt,tag:await tagSchema().validate(xt),callback:await addressSchema$1({ethProvider:a.provider}).validate(wt),resultProxyURL:e}),callback:await addressSchema$1({ethProvider:a.provider}).validate(wt),category:await uint256Schema().validate(c),trust:await uint256Schema().validate(bt),tag:await tagSchema().validate(xt)}},debug$8=Debug("iexec:market:marketplace"),apiEndpoints={[APP_ORDER]:"/apporders",[DATASET_ORDER]:"/datasetorders",[WORKERPOOL_ORDER]:"/workerpoolorders",[REQUEST_ORDER]:"/requestorders"},addressFieldNames={[APP_ORDER]:"app",[DATASET_ORDER]:"dataset",[WORKERPOOL_ORDER]:"workerpool",[REQUEST_ORDER]:"requester"},publishOrder=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1(),c=throwIfMissing$1(),d=throwIfMissing$1())=>{try{checkSigner(a);const h=await getAddress(a),et={order:d},tt=await getAuthorization(e,"/challenge")(c,h,a.signer),ot=await jsonApi.post({api:e,endpoint:apiEndpoints[o],query:{chainId:c},body:et,headers:{authorization:tt}});if(ot.ok&&ot.published&&ot.published.orderHash)return ot.published.orderHash;throw Error("An error occurred while publishing order")}catch(h){throw debug$8("publishOrder()",h),h}},publishApporder=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1())=>publishOrder(a,e,APP_ORDER,await chainIdSchema().validate(a.chainId),await signedApporderSchema().validate(o)),publishDatasetorder=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1())=>publishOrder(a,e,DATASET_ORDER,await chainIdSchema().validate(a.chainId),await signedDatasetorderSchema().validate(o)),publishWorkerpoolorder=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1())=>publishOrder(a,e,WORKERPOOL_ORDER,await chainIdSchema().validate(a.chainId),await signedWorkerpoolorderSchema().validate(o)),publishRequestorder=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1())=>publishOrder(a,e,REQUEST_ORDER,await chainIdSchema().validate(a.chainId),await signedRequestorderSchema().validate(o)),UNPUBLISH_TARGET_ORDERHASH="unpublish_orderHash",UNPUBLISH_TARGET_ALL_ORDERS="unpublish_all",UNPUBLISH_TARGET_LAST_ORDER="unpublish_last",unpublishOrder=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1(),c=throwIfMissing$1(),{target:d=UNPUBLISH_TARGET_ORDERHASH,orderHash:h,address:et}={})=>{try{checkSigner(a);const tt={target:d};d===UNPUBLISH_TARGET_ORDERHASH?(h||throwIfMissing$1(),tt.orderHash=h):(d===UNPUBLISH_TARGET_LAST_ORDER||d===UNPUBLISH_TARGET_ALL_ORDERS)&&(et||throwIfMissing$1(),tt[addressFieldNames[o]]=et);const ot=await getAddress(a),ft=await getAuthorization(e,"/challenge")(a.chainId,ot,a.signer),ht=await jsonApi.put({api:e,endpoint:apiEndpoints[o],query:{chainId:c},body:tt,headers:{authorization:ft}});if(ht.ok&&ht.unpublished)return ht.unpublished;throw new Error("An error occurred while unpublishing order")}catch(tt){throw debug$8("unpublishOrder()",tt),tt}},unpublishApporder=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1())=>(await unpublishOrder(a,e,APP_ORDER,await chainIdSchema().validate(a.chainId),{orderHash:await bytes32Schema().validate(o)}))[0],unpublishDatasetorder=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1())=>(await unpublishOrder(a,e,DATASET_ORDER,await chainIdSchema().validate(a.chainId),{orderHash:await bytes32Schema().validate(o)}))[0],unpublishWorkerpoolorder=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1())=>(await unpublishOrder(a,e,WORKERPOOL_ORDER,await chainIdSchema().validate(a.chainId),{orderHash:await bytes32Schema().validate(o)}))[0],unpublishRequestorder=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1())=>(await unpublishOrder(a,e,REQUEST_ORDER,await chainIdSchema().validate(a.chainId),{orderHash:await bytes32Schema().validate(o)}))[0],unpublishAllApporders=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1())=>unpublishOrder(a,e,APP_ORDER,await chainIdSchema().validate(a.chainId),{target:UNPUBLISH_TARGET_ALL_ORDERS,address:await addressSchema$1({ethProvider:a.provider}).validate(o)}),unpublishAllDatasetorders=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1())=>unpublishOrder(a,e,DATASET_ORDER,await chainIdSchema().validate(a.chainId),{target:UNPUBLISH_TARGET_ALL_ORDERS,address:await addressSchema$1({ethProvider:a.provider}).validate(o)}),unpublishAllWorkerpoolorders=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1())=>unpublishOrder(a,e,WORKERPOOL_ORDER,await chainIdSchema().validate(a.chainId),{target:UNPUBLISH_TARGET_ALL_ORDERS,address:await addressSchema$1({ethProvider:a.provider}).validate(o)}),unpublishAllRequestorders=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>unpublishOrder(a,e,REQUEST_ORDER,await chainIdSchema().validate(a.chainId),{target:UNPUBLISH_TARGET_ALL_ORDERS,address:await getAddress(a)}),unpublishLastApporder=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1())=>(await unpublishOrder(a,e,APP_ORDER,await chainIdSchema().validate(a.chainId),{target:UNPUBLISH_TARGET_LAST_ORDER,address:await addressSchema$1({ethProvider:a.provider}).validate(o)}))[0],unpublishLastDatasetorder=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1())=>(await unpublishOrder(a,e,DATASET_ORDER,await chainIdSchema().validate(a.chainId),{target:UNPUBLISH_TARGET_LAST_ORDER,address:await addressSchema$1({ethProvider:a.provider}).validate(o)}))[0],unpublishLastWorkerpoolorder=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1())=>(await unpublishOrder(a,e,WORKERPOOL_ORDER,await chainIdSchema().validate(a.chainId),{target:UNPUBLISH_TARGET_LAST_ORDER,address:await addressSchema$1({ethProvider:a.provider}).validate(o)}))[0],unpublishLastRequestorder=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>(await unpublishOrder(a,e,REQUEST_ORDER,await chainIdSchema().validate(a.chainId),{target:UNPUBLISH_TARGET_LAST_ORDER,address:await getAddress(a)}))[0],fetchPublishedOrderByHash=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1(),c=throwIfMissing$1())=>{try{const d=await chainIdSchema().validate(o),h=await bytes32Schema().validate(c);if(!apiEndpoints[e])throw Error(`Unsupported orderName ${e}`);const tt={chainId:d},{ok:ot,...ft}=await jsonApi.get({api:a,endpoint:`${apiEndpoints[e]}/${h}`,query:tt});return ft}catch(d){throw debug$8("fetchPublishedOrderByHash()",d),d}};class IExecOrderModule extends IExecModule{constructor(...e){super(...e),this.createApporder=async o=>createApporder(await this.config.resolveContractsClient(),o),this.createDatasetorder=async o=>createDatasetorder(await this.config.resolveContractsClient(),o),this.createWorkerpoolorder=async o=>createWorkerpoolorder(await this.config.resolveContractsClient(),o),this.createRequestorder=async o=>createRequestorder({contracts:await this.config.resolveContractsClient(),resultProxyURL:await this.config.resolveResultProxyURL()},o),this.hashApporder=async o=>hashApporder(await this.config.resolveContractsClient(),o),this.hashDatasetorder=async o=>hashDatasetorder(await this.config.resolveContractsClient(),o),this.hashWorkerpoolorder=async o=>hashWorkerpoolorder(await this.config.resolveContractsClient(),o),this.hashRequestorder=async o=>hashRequestorder(await this.config.resolveContractsClient(),o),this.signApporder=async(o,{preflightCheck:c=!0}={})=>signApporder(await this.config.resolveContractsClient(),c===!0?await checkAppRequirements({contracts:await this.config.resolveContractsClient()},o).then(()=>o):o),this.signDatasetorder=async(o,{preflightCheck:c=!0}={})=>signDatasetorder(await this.config.resolveContractsClient(),c===!0?await checkDatasetRequirements({contracts:await this.config.resolveContractsClient(),smsURL:await this.config.resolveSmsURL({teeFramework:await resolveTeeFrameworkFromTag((await datasetorderSchema().validate(o)).tag)})},o).then(()=>o):o),this.signWorkerpoolorder=async o=>signWorkerpoolorder(await this.config.resolveContractsClient(),o),this.signRequestorder=async(o,{preflightCheck:c=!0}={})=>signRequestorder(await this.config.resolveContractsClient(),c===!0?await checkRequestRequirements({contracts:await this.config.resolveContractsClient(),smsURL:await this.config.resolveSmsURL({teeFramework:await resolveTeeFrameworkFromTag((await requestorderSchema().validate(o)).tag)})},o).then(()=>o):o),this.cancelApporder=async o=>cancelApporder(await this.config.resolveContractsClient(),o),this.cancelDatasetorder=async o=>cancelDatasetorder(await this.config.resolveContractsClient(),o),this.cancelWorkerpoolorder=async o=>cancelWorkerpoolorder(await this.config.resolveContractsClient(),o),this.cancelRequestorder=async o=>cancelRequestorder(await this.config.resolveContractsClient(),o),this.publishApporder=async(o,{preflightCheck:c=!0}={})=>publishApporder(await this.config.resolveContractsClient(),await this.config.resolveIexecGatewayURL(),c===!0?await checkAppRequirements({contracts:await this.config.resolveContractsClient()},o).then(()=>o):o),this.publishDatasetorder=async(o,{preflightCheck:c=!0}={})=>publishDatasetorder(await this.config.resolveContractsClient(),await this.config.resolveIexecGatewayURL(),c===!0?await checkDatasetRequirements({contracts:await this.config.resolveContractsClient(),smsURL:await this.config.resolveSmsURL({teeFramework:await resolveTeeFrameworkFromTag((await datasetorderSchema().validate(o)).tag)})},o).then(()=>o):o),this.publishWorkerpoolorder=async o=>publishWorkerpoolorder(await this.config.resolveContractsClient(),await this.config.resolveIexecGatewayURL(),o),this.publishRequestorder=async(o,{preflightCheck:c=!0}={})=>publishRequestorder(await this.config.resolveContractsClient(),await this.config.resolveIexecGatewayURL(),c===!0?await await checkRequestRequirements({contracts:await this.config.resolveContractsClient(),smsURL:await this.config.resolveSmsURL({teeFramework:await resolveTeeFrameworkFromTag((await requestorderSchema().validate(o)).tag)})},o).then(()=>o):o),this.unpublishApporder=async o=>unpublishApporder(await this.config.resolveContractsClient(),await this.config.resolveIexecGatewayURL(),o),this.unpublishDatasetorder=async o=>unpublishDatasetorder(await this.config.resolveContractsClient(),await this.config.resolveIexecGatewayURL(),o),this.unpublishWorkerpoolorder=async o=>unpublishWorkerpoolorder(await this.config.resolveContractsClient(),await this.config.resolveIexecGatewayURL(),o),this.unpublishRequestorder=async o=>unpublishRequestorder(await this.config.resolveContractsClient(),await this.config.resolveIexecGatewayURL(),o),this.unpublishLastApporder=async o=>unpublishLastApporder(await this.config.resolveContractsClient(),await this.config.resolveIexecGatewayURL(),o),this.unpublishLastDatasetorder=async o=>unpublishLastDatasetorder(await this.config.resolveContractsClient(),await this.config.resolveIexecGatewayURL(),o),this.unpublishLastWorkerpoolorder=async o=>unpublishLastWorkerpoolorder(await this.config.resolveContractsClient(),await this.config.resolveIexecGatewayURL(),o),this.unpublishLastRequestorder=async()=>unpublishLastRequestorder(await this.config.resolveContractsClient(),await this.config.resolveIexecGatewayURL()),this.unpublishAllApporders=async o=>unpublishAllApporders(await this.config.resolveContractsClient(),await this.config.resolveIexecGatewayURL(),o),this.unpublishAllDatasetorders=async o=>unpublishAllDatasetorders(await this.config.resolveContractsClient(),await this.config.resolveIexecGatewayURL(),o),this.unpublishAllWorkerpoolorders=async o=>unpublishAllWorkerpoolorders(await this.config.resolveContractsClient(),await this.config.resolveIexecGatewayURL(),o),this.unpublishAllRequestorders=async()=>unpublishAllRequestorders(await this.config.resolveContractsClient(),await this.config.resolveIexecGatewayURL()),this.matchOrders=async({apporder:o,datasetorder:c=NULL_DATASETORDER,workerpoolorder:d,requestorder:h},{preflightCheck:et=!0}={})=>{if(et===!0){const tt=sumTags([(await requestorderSchema().label("requestorder").validate(h)).tag,(await apporderSchema().label("apporder").validate(o)).tag,(await datasetorderSchema().label("datasetorder").validate(c)).tag]);return matchOrders(await this.config.resolveContractsClient(),await checkAppRequirements({contracts:await this.config.resolveContractsClient()},o,{tagOverride:tt}).then(()=>o),await checkDatasetRequirements({contracts:await this.config.resolveContractsClient(),smsURL:await this.config.resolveSmsURL({teeFramework:await resolveTeeFrameworkFromTag(tt)})},c,{tagOverride:tt}).then(()=>c),d,await checkRequestRequirements({contracts:await this.config.resolveContractsClient(),smsURL:await this.config.resolveSmsURL({teeFramework:await resolveTeeFrameworkFromTag(tt)})},h).then(()=>h))}return matchOrders(await this.config.resolveContractsClient(),o,c,d,h)}}}const debug$7=Debug("iexec:market:orderbook"),ERROR_GETTING_ORDERBOOK="An error occurred while getting orderbook",fetchAppOrderbook=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1(),{dataset:c,workerpool:d,requester:h,minTag:et,maxTag:tt,minVolume:ot,page:ft=0,pageSize:ht=20}={})=>{try{const yt={chainId:await chainIdSchema().validate(a.chainId),app:await addressOrAnySchema({ethProvider:a.provider}).validate(o),...c&&{dataset:await addressOrAnySchema({ethProvider:a.provider}).validate(c)},...d&&{workerpool:await addressOrAnySchema({ethProvider:a.provider}).validate(d)},...h&&{requester:await addressOrAnySchema({ethProvider:a.provider}).validate(h)},...ot&&{minVolume:await positiveStrictIntSchema().validate(ot)},...et!==void 0&&{minTag:await tagSchema().validate(et)},...tt!==void 0&&{maxTag:await tagSchema().validate(tt)},...ft!==void 0&&{pageIndex:await positiveIntSchema().label("page").validate(ft)},...ht!==void 0&&{pageSize:await positiveStrictIntSchema().min(10).label("pageSize").validate(ht)}},{ok:gt,...wt}=await wrapPaginableRequest(jsonApi.get)({api:e,endpoint:"/apporders",query:yt});if(gt)return wt;throw Error(ERROR_GETTING_ORDERBOOK)}catch(yt){throw debug$7("fetchAppOrderbook()",yt),yt}},fetchDatasetOrderbook=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1(),{app:c,workerpool:d,requester:h,minTag:et,maxTag:tt,minVolume:ot,page:ft=0,pageSize:ht=20}={})=>{try{const yt={chainId:await chainIdSchema().validate(a.chainId),dataset:await addressOrAnySchema({ethProvider:a.provider}).validate(o),...c&&{app:await addressOrAnySchema({ethProvider:a.provider}).validate(c)},...d&&{workerpool:await addressOrAnySchema({ethProvider:a.provider}).validate(d)},...h&&{requester:await addressOrAnySchema({ethProvider:a.provider}).validate(h)},...ot&&{minVolume:await positiveStrictIntSchema().validate(ot)},...et!==void 0&&{minTag:await tagSchema().validate(et)},...tt!==void 0&&{maxTag:await tagSchema().validate(tt)},...ft!==void 0&&{pageIndex:await positiveIntSchema().label("page").validate(ft)},...ht!==void 0&&{pageSize:await positiveStrictIntSchema().min(10).label("pageSize").validate(ht)}},{ok:gt,...wt}=await wrapPaginableRequest(jsonApi.get)({api:e,endpoint:"/datasetorders",query:yt});if(gt)return wt;throw Error(ERROR_GETTING_ORDERBOOK)}catch(yt){throw debug$7("fetchDatasetOrderbook()",yt),yt}},fetchWorkerpoolOrderbook=async(a=throwIfMissing$1(),e=throwIfMissing$1(),{category:o,workerpool:c,minTag:d,maxTag:h,workerpoolOwner:et,minTrust:tt,minVolume:ot,app:ft,dataset:ht,requester:yt,page:gt=0,pageSize:wt=20}={})=>{try{const bt={chainId:await chainIdSchema().validate(a.chainId),category:await uint256Schema().validate(o),...c&&{workerpool:await addressOrAnySchema({ethProvider:a.provider}).validate(c)},...ft&&{app:await addressOrAnySchema({ethProvider:a.provider}).validate(ft)},...ht&&{dataset:await addressOrAnySchema({ethProvider:a.provider}).validate(ht)},...yt&&{requester:await addressOrAnySchema({ethProvider:a.provider}).validate(yt)},...d&&{minTag:await tagSchema().validate(d)},...h&&{maxTag:await tagSchema().validate(h)},...et&&{workerpoolOwner:await addressSchema$1({ethProvider:a.provider}).validate(et)},...tt&&{minTrust:await positiveIntSchema().validate(tt)},...ot&&{minVolume:await positiveStrictIntSchema().validate(ot)},...gt!==void 0&&{pageIndex:await positiveIntSchema().label("page").validate(gt)},...wt!==void 0&&{pageSize:await positiveStrictIntSchema().min(10).label("pageSize").validate(wt)}},{ok:xt,...Et}=await wrapPaginableRequest(jsonApi.get)({api:e,endpoint:"/workerpoolorders",query:bt});if(xt)return Et;throw Error(ERROR_GETTING_ORDERBOOK)}catch(bt){throw debug$7("fetchWorkerpoolOrderbook()",bt),bt}},fetchRequestOrderbook=async(a=throwIfMissing$1(),e=throwIfMissing$1(),{category:o,requester:c,beneficiary:d,app:h,dataset:et,workerpool:tt,minTag:ot,maxTag:ft,maxTrust:ht,minVolume:yt,page:gt=0,pageSize:wt=20}={})=>{try{const bt={chainId:await chainIdSchema().validate(a.chainId),category:await uint256Schema().validate(o),...c&&{requester:await addressOrAnySchema({ethProvider:a.provider}).validate(c)},...d&&{beneficiary:await addressOrAnySchema({ethProvider:a.provider}).validate(d)},...h&&{app:await addressOrAnySchema({ethProvider:a.provider}).validate(h)},...et&&{dataset:await addressOrAnySchema({ethProvider:a.provider}).validate(et)},...tt&&{workerpool:await addressOrAnySchema({ethProvider:a.provider}).validate(tt)},...ot!==void 0&&{minTag:await tagSchema().validate(ot)},...ft!==void 0&&{maxTag:await tagSchema().validate(ft)},...ht!==void 0&&{maxTrust:await positiveIntSchema().validate(ht)},...yt&&{minVolume:await positiveStrictIntSchema().validate(yt)},...gt!==void 0&&{pageIndex:await positiveIntSchema().label("page").validate(gt)},...wt!==void 0&&{pageSize:await positiveStrictIntSchema().min(10).label("pageSize").validate(wt)}},{ok:xt,...Et}=await wrapPaginableRequest(jsonApi.get)({api:e,endpoint:"/requestorders",query:bt});if(xt)return Et;throw Error(ERROR_GETTING_ORDERBOOK)}catch(bt){throw debug$7("fetchRequestOrderbook()",bt),bt}};class IExecOrderbookModule extends IExecModule{constructor(...e){super(...e),this.fetchApporder=async o=>fetchPublishedOrderByHash(await this.config.resolveIexecGatewayURL(),APP_ORDER,await this.config.resolveChainId(),o),this.fetchDatasetorder=async o=>fetchPublishedOrderByHash(await this.config.resolveIexecGatewayURL(),DATASET_ORDER,await this.config.resolveChainId(),o),this.fetchWorkerpoolorder=async o=>fetchPublishedOrderByHash(await this.config.resolveIexecGatewayURL(),WORKERPOOL_ORDER,await this.config.resolveChainId(),o),this.fetchRequestorder=async o=>fetchPublishedOrderByHash(await this.config.resolveIexecGatewayURL(),REQUEST_ORDER,await this.config.resolveChainId(),o),this.fetchAppOrderbook=async(o,c={})=>fetchAppOrderbook(await this.config.resolveContractsClient(),await this.config.resolveIexecGatewayURL(),o,c),this.fetchDatasetOrderbook=async(o,c={})=>fetchDatasetOrderbook(await this.config.resolveContractsClient(),await this.config.resolveIexecGatewayURL(),o,c),this.fetchWorkerpoolOrderbook=async o=>fetchWorkerpoolOrderbook(await this.config.resolveContractsClient(),await this.config.resolveIexecGatewayURL(),o),this.fetchRequestOrderbook=async o=>fetchRequestOrderbook(await this.config.resolveContractsClient(),await this.config.resolveIexecGatewayURL(),o)}}const scriptRel="modulepreload",assetsURL=function(a){return"/iExec-Technical-Test/"+a},seen={},__vitePreload=function(e,o,c){let d=Promise.resolve();if(o&&o.length>0){const h=document.getElementsByTagName("link");d=Promise.all(o.map(et=>{if(et=assetsURL(et),et in seen)return;seen[et]=!0;const tt=et.endsWith(".css"),ot=tt?'[rel="stylesheet"]':"";if(!!c)for(let yt=h.length-1;yt>=0;yt--){const gt=h[yt];if(gt.href===et&&(!tt||gt.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${et}"]${ot}`))return;const ht=document.createElement("link");if(ht.rel=tt?"stylesheet":scriptRel,tt||(ht.as="script",ht.crossOrigin=""),ht.href=et,document.head.appendChild(ht),tt)return new Promise((yt,gt)=>{ht.addEventListener("load",yt),ht.addEventListener("error",()=>gt(new Error(`Unable to preload CSS for ${et}`)))})}))}return d.then(()=>e()).catch(h=>{const et=new Event("vite:preloadError",{cancelable:!0});if(et.payload=h,window.dispatchEvent(et),!et.defaultPrevented)throw h})};async function getCrypto(){if(globalThis.crypto)return{crypto,CryptoKey};const a=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal),void 0);return{crypto:a.webcrypto,CryptoKey:a.webcrypto.CryptoKey}}const toBase64=a=>buffer$1.Buffer.from(a,"utf8").toString("base64"),publicAsPem=async a=>{const{crypto:e}=await getCrypto(),o=await e.subtle.exportKey("spki",a);let c=buffer$1.Buffer.from(o).toString("base64");return c=c.match(/.{1,64}/g).join(`
`),`-----BEGIN PUBLIC KEY-----
${c}
-----END PUBLIC KEY-----`},formatCryptoKey=async a=>{const e=await publicAsPem(a);return toBase64(e)},formatEncryptionKey=async a=>{if(!a)return"";const{CryptoKey:e}=await getCrypto();return a instanceof e?formatCryptoKey(a):a.startsWith("-----BEGIN PUBLIC KEY-----")?toBase64(a):a};class IExecResultModule extends IExecModule{constructor(...e){super(...e),this.checkResultEncryptionKeyExists=async(o,{teeFramework:c}={})=>checkWeb2SecretExists(await this.config.resolveContractsClient(),await this.config.resolveSmsURL({teeFramework:c}),o,getResultEncryptionKeyName()),this.pushResultEncryptionKey=async(o,{forceUpdate:c=!1,teeFramework:d}={})=>{const h=await formatEncryptionKey(o);return pushWeb2Secret(await this.config.resolveContractsClient(),await this.config.resolveSmsURL({teeFramework:d}),getResultEncryptionKeyName(),h,{forceUpdate:c})}}}class IExecSecretModule extends IExecModule{constructor(...e){super(...e),this.checkRequesterSecretExists=async(o,c,{teeFramework:d}={})=>checkRequesterSecretExists(await this.config.resolveContractsClient(),await this.config.resolveSmsURL({teeFramework:d}),o,c),this.pushRequesterSecret=async(o,c,{teeFramework:d}={})=>pushRequesterSecret$1(await this.config.resolveContractsClient(),await this.config.resolveSmsURL({teeFramework:d}),o,c)}}const debug$6=Debug("iexec:storage:result-proxy"),login=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>{try{checkSigner(a);const o=await getAddress(a),c=await getAuthorization(e,"/results/challenge")(a.chainId,o,a.signer),d=await httpRequest("POST")({api:e,endpoint:"/results/login",query:{chainId:a.chainId},body:c}).catch(h=>{throw debug$6(h),Error(`Result Proxy at ${e} didn't answered`)});if(d.ok)return await d.text();throw Error(`Result Proxy login failed: ${d.status} ${d.statusText}`)}catch(o){throw debug$6("login()",o),o}};class IExecStorageModule extends IExecModule{constructor(...e){super(...e),this.defaultStorageLogin=async()=>login(await this.config.resolveContractsClient(),await this.config.resolveResultProxyURL()),this.checkStorageTokenExists=async(o,{provider:c,teeFramework:d}={})=>checkWeb2SecretExists(await this.config.resolveContractsClient(),await this.config.resolveSmsURL({teeFramework:d}),o,getStorageTokenKeyName(c)),this.pushStorageToken=async(o,{provider:c,teeFramework:d,forceUpdate:h=!1}={})=>pushWeb2Secret(await this.config.resolveContractsClient(),await this.config.resolveSmsURL({teeFramework:d}),getStorageTokenKeyName(c),o,{forceUpdate:h})}}const debug$5=Debug("iexec:execution:result"),downloadFromIpfs=async(a,{ipfsGatewayURL:e="https://gateway.ipfs.io"}={})=>{try{return await downloadZipApi.get({api:e,endpoint:a})}catch(o){throw Error(`Failed to download from ${e}: ${o.message}`)}},fetchTaskResults=async(a=throwIfMissing$1(),e=throwIfMissing$1(),{ipfsGatewayURL:o}={})=>{try{const c=await bytes32Schema().validate(e),d=await show$1(a,c);if(d.status!==3)throw Error("Task is not completed");const{storage:h,location:et}=d.results;if(h==="none")throw Error("No result uploaded for this task");if(h!=="ipfs")throw Error(`Task result stored on ${h}, download not supported`);if(!et)throw Error("Missing location key in task results, download not supported");return await downloadFromIpfs(et,{ipfsGatewayURL:o})}catch(c){throw debug$5("fetchResults()",c),c}};class IExecTaskModule extends IExecModule{constructor(...e){super(...e),this.show=async o=>show$1(await this.config.resolveContractsClient(),o),this.obsTask=async(o,{dealid:c}={})=>obsTask(await this.config.resolveContractsClient(),o,{dealid:c}),this.claim=async o=>claim$1(await this.config.resolveContractsClient(),o),this.fetchResults=async o=>fetchTaskResults(await this.config.resolveContractsClient(),o,{ipfsGatewayURL:await this.config.resolveIpfsGatewayURL()})}}const debug$4=Debug("iexec:wallet:send"),sendNativeToken=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1(),{gasFees:c={}}={})=>{try{checkSigner(a);const d=await addressSchema$1({ethProvider:a.provider}).validate(o),h=await uint256Schema().validate(e),et=await wrapSend(a.signer.sendTransaction({data:"0x",to:d,value:BigInt(h),...a.txOptions,...c}));return await wrapWait(et.wait(a.confirms)),et.hash}catch(d){throw debug$4("sendNativeToken()",d),d}},sendERC20=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1())=>{checkSigner(a);const c=await addressSchema$1({ethProvider:a.provider}).validate(o),d=await nRlcAmountSchema().validate(e);try{const h=await wrapCall(a.fetchTokenContract()),et=await wrapSend(h.transfer(c,bnToBigInt(d),a.txOptions));return await wrapWait(et.wait(a.confirms)),et.hash}catch(h){throw debug$4("sendERC20()",h),h}},sendETH=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1())=>{try{checkSigner(a);const c=await addressSchema$1({ethProvider:a.provider}).validate(o),d=await weiAmountSchema().validate(e);if(a.isNative)throw Error("sendETH() is disabled on sidechain, use sendRLC()");if((await getEthBalance(a,await getAddress(a))).lt(new BN$1(d)))throw Error("Amount to send exceed wallet balance");return await sendNativeToken(a,d,c)}catch(c){throw debug$4("sendETH()",c),c}},sendRLC=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1())=>{try{checkSigner(a);const c=await addressSchema$1({ethProvider:a.provider}).validate(o);a.flavour==="enterprise"&&(await isInWhitelist(a,await getAddress(a),{strict:!0}),await isInWhitelist(a,o,{strict:!0}));const d=await nRlcAmountSchema().validate(e);if((await getRlcBalance(a,await getAddress(a))).lt(new BN$1(d)))throw Error("Amount to send exceed wallet balance");if(a.isNative){debug$4("send native token");const et=bnNRlcToBnWei(new BN$1(d)).toString();return await sendNativeToken(a,et,c)}return debug$4("send ERC20 token"),await sendERC20(a,d,c)}catch(c){throw debug$4("sendRLC()",c),c}},sweep=async(a=throwIfMissing$1(),e=throwIfMissing$1())=>{try{checkSigner(a);const o=await addressSchema$1({ethProvider:a.provider}).validate(e),c=await getAddress(a);if(await a.provider.getCode(o)!=="0x")throw new Error("Cannot sweep to a contract");a.flavour==="enterprise"&&(await isInWhitelist(a,await getAddress(a),{strict:!0}),await isInWhitelist(a,e,{strict:!0}));let h=await checkBalances(a,c);const et={},tt=[];if(!a.isNative&&h.nRLC.gt(new BN$1(0))){try{const gt=await sendERC20(a,h.nRLC,o);Object.assign(et,{sendERC20TxHash:gt})}catch(gt){throw debug$4("error",gt),tt.push(`Failed to transfer ERC20: ${gt.message}`),Error(`Failed to sweep ERC20, sweep aborted. errors: ${tt}`)}h=await checkBalances(a,c)}let ot;const ft={gasPrice:a.txOptions&&a.txOptions.gasPrice};if(ft.gasPrice===void 0){const gt=await a.provider.getFeeData();(gt.gasPrice||0n)<(gt.maxFeePerGas||0n)?(ft.gasPrice=void 0,ft.maxFeePerGas=gt.maxFeePerGas||0n,ft.maxPriorityFeePerGas=ft.maxFeePerGas):ft.gasPrice=gt.gasPrice||0n}(ft.gasPrice||0n)<(ft.maxFeePerGas||0n)?ot=ft.maxFeePerGas:ot=ft.gasPrice;const ht=ot*21000n,yt=h.wei.sub(bigIntToBn(ht));if(yt.gt(new BN$1(0)))try{const gt=await sendNativeToken(a,yt,o,{gasFees:ft});Object.assign(et,{sendNativeTxHash:gt})}catch(gt){debug$4(gt),tt.push(`Failed to transfer native token': ${gt.message}`)}else{const gt="Tx fees are greater than wallet balance";debug$4(gt),tt.push(`Failed to transfer native token': ${gt}`)}return tt.length>0&&Object.assign(et,{errors:tt}),et}catch(o){throw debug$4("sweep()",o),o}},abi$1=[{constant:!0,inputs:[{name:"_txHash",type:"bytes32"}],name:"relayedMessages",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"vs",type:"uint8[]"},{name:"rs",type:"bytes32[]"},{name:"ss",type:"bytes32[]"},{name:"message",type:"bytes"}],name:"executeSignatures",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_day",type:"uint256"}],name:"totalSpentPerDay",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"isInitialized",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_dailyLimit",type:"uint256"}],name:"setExecutionDailyLimit",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getCurrentDay",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"requiredBlockConfirmations",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"executionDailyLimit",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_day",type:"uint256"}],name:"totalExecutedPerDay",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"dailyLimit",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_amount",type:"uint256"}],name:"withinExecutionLimit",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"executionMaxPerTx",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"requiredSignatures",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"validatorContract",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"deployedAtBlock",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getBridgeInterfacesVersion",outputs:[{name:"major",type:"uint64"},{name:"minor",type:"uint64"},{name:"patch",type:"uint64"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!1,inputs:[{name:"_minPerTx",type:"uint256"}],name:"setMinPerTx",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_blockConfirmations",type:"uint256"}],name:"setRequiredBlockConfirmations",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_dailyLimit",type:"uint256"}],name:"setDailyLimit",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_gasPrice",type:"uint256"}],name:"setGasPrice",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_maxPerTx",type:"uint256"}],name:"setMaxPerTx",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"upgradeabilityAdmin",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"minPerTx",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_amount",type:"uint256"}],name:"withinLimit",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_maxPerTx",type:"uint256"}],name:"setExecutionMaxPerTx",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"maxPerTx",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"gasPrice",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{anonymous:!1,inputs:[{indexed:!1,name:"recipient",type:"address"},{indexed:!1,name:"value",type:"uint256"},{indexed:!1,name:"transactionHash",type:"bytes32"}],name:"RelayedMessage",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"gasPrice",type:"uint256"}],name:"GasPriceChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"requiredBlockConfirmations",type:"uint256"}],name:"RequiredBlockConfirmationChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"newLimit",type:"uint256"}],name:"DailyLimitChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"newLimit",type:"uint256"}],name:"ExecutionDailyLimitChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"previousOwner",type:"address"},{indexed:!1,name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{constant:!1,inputs:[{name:"_validatorContract",type:"address"},{name:"_erc20token",type:"address"},{name:"_requiredBlockConfirmations",type:"uint256"},{name:"_gasPrice",type:"uint256"},{name:"_maxPerTx",type:"uint256"},{name:"_homeDailyLimit",type:"uint256"},{name:"_homeMaxPerTx",type:"uint256"},{name:"_owner",type:"address"}],name:"initialize",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getBridgeMode",outputs:[{name:"_data",type:"bytes4"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!1,inputs:[{name:"_token",type:"address"},{name:"_to",type:"address"}],name:"claimTokens",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"erc20token",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"}],abi=[{constant:!0,inputs:[{name:"_message",type:"bytes32"}],name:"numMessagesSigned",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_hash",type:"bytes32"},{name:"_index",type:"uint256"}],name:"signature",outputs:[{name:"",type:"bytes"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_fee",type:"uint256"}],name:"setForeignFee",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_txHash",type:"bytes32"}],name:"fixedAssets",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_day",type:"uint256"}],name:"totalSpentPerDay",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_fee",type:"uint256"}],name:"setHomeFee",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"isInitialized",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_dailyLimit",type:"uint256"}],name:"setExecutionDailyLimit",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getCurrentDay",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"requiredBlockConfirmations",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"requiredMessageLength",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!0,inputs:[],name:"executionDailyLimit",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_hash",type:"bytes32"}],name:"message",outputs:[{name:"",type:"bytes"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_day",type:"uint256"}],name:"totalExecutedPerDay",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_feeManager",type:"address"}],name:"setFeeManagerContract",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"signature",type:"bytes"},{name:"message",type:"bytes"}],name:"submitSignature",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"txHash",type:"bytes32"},{name:"unlockOnForeign",type:"bool"}],name:"fixAssetsAboveLimits",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"dailyLimit",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_token",type:"address"},{name:"_to",type:"address"}],name:"claimTokens",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_withdrawal",type:"bytes32"}],name:"numAffirmationsSigned",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_withdrawal",type:"bytes32"}],name:"affirmationsSigned",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_amount",type:"uint256"}],name:"withinExecutionLimit",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"executionMaxPerTx",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"requiredSignatures",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_message",type:"bytes32"}],name:"messagesSigned",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_value",type:"uint256"}],name:"getAmountToBurn",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getHomeFee",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"validatorContract",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"recipient",type:"address"},{name:"value",type:"uint256"},{name:"transactionHash",type:"bytes32"}],name:"executeAffirmation",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"deployedAtBlock",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getBridgeInterfacesVersion",outputs:[{name:"major",type:"uint64"},{name:"minor",type:"uint64"},{name:"patch",type:"uint64"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!0,inputs:[],name:"outOfLimitAmount",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_minPerTx",type:"uint256"}],name:"setMinPerTx",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_blockConfirmations",type:"uint256"}],name:"setRequiredBlockConfirmations",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_dailyLimit",type:"uint256"}],name:"setDailyLimit",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_gasPrice",type:"uint256"}],name:"setGasPrice",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_maxPerTx",type:"uint256"}],name:"setMaxPerTx",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"feeManagerContract",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"upgradeabilityAdmin",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"minPerTx",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_amount",type:"uint256"}],name:"withinLimit",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_maxPerTx",type:"uint256"}],name:"setExecutionMaxPerTx",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getFeeManagerMode",outputs:[{name:"",type:"bytes4"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"maxPerTx",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"gasPrice",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_number",type:"uint256"}],name:"isAlreadyProcessed",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!0,inputs:[],name:"getForeignFee",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!1,name:"recipient",type:"address"},{indexed:!1,name:"value",type:"uint256"},{indexed:!1,name:"transactionHash",type:"bytes32"}],name:"AmountLimitExceeded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"feeAmount",type:"uint256"},{indexed:!0,name:"transactionHash",type:"bytes32"}],name:"FeeDistributedFromAffirmation",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"feeAmount",type:"uint256"},{indexed:!0,name:"transactionHash",type:"bytes32"}],name:"FeeDistributedFromSignatures",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"recipient",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"UserRequestForSignature",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"recipient",type:"address"},{indexed:!1,name:"value",type:"uint256"},{indexed:!1,name:"transactionHash",type:"bytes32"}],name:"AffirmationCompleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"signer",type:"address"},{indexed:!1,name:"messageHash",type:"bytes32"}],name:"SignedForUserRequest",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"signer",type:"address"},{indexed:!1,name:"transactionHash",type:"bytes32"}],name:"SignedForAffirmation",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"authorityResponsibleForRelay",type:"address"},{indexed:!1,name:"messageHash",type:"bytes32"},{indexed:!1,name:"NumberOfCollectedSignatures",type:"uint256"}],name:"CollectedSignatures",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"gasPrice",type:"uint256"}],name:"GasPriceChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"requiredBlockConfirmations",type:"uint256"}],name:"RequiredBlockConfirmationChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"newLimit",type:"uint256"}],name:"DailyLimitChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"newLimit",type:"uint256"}],name:"ExecutionDailyLimitChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"previousOwner",type:"address"},{indexed:!1,name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{constant:!1,inputs:[{name:"_validatorContract",type:"address"},{name:"_dailyLimit",type:"uint256"},{name:"_maxPerTx",type:"uint256"},{name:"_minPerTx",type:"uint256"},{name:"_homeGasPrice",type:"uint256"},{name:"_requiredBlockConfirmations",type:"uint256"},{name:"_blockReward",type:"address"},{name:"_foreignDailyLimit",type:"uint256"},{name:"_foreignMaxPerTx",type:"uint256"},{name:"_owner",type:"address"}],name:"initialize",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_validatorContract",type:"address"},{name:"_dailyLimit",type:"uint256"},{name:"_maxPerTx",type:"uint256"},{name:"_minPerTx",type:"uint256"},{name:"_homeGasPrice",type:"uint256"},{name:"_requiredBlockConfirmations",type:"uint256"},{name:"_blockReward",type:"address"},{name:"_foreignDailyLimit",type:"uint256"},{name:"_foreignMaxPerTx",type:"uint256"},{name:"_owner",type:"address"},{name:"_feeManager",type:"address"},{name:"_homeFee",type:"uint256"},{name:"_foreignFee",type:"uint256"}],name:"rewardableInitialize",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getBridgeMode",outputs:[{name:"_data",type:"bytes4"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!0,inputs:[],name:"blockRewardContract",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalBurntCoins",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_blockReward",type:"address"}],name:"setBlockRewardContract",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],debug$3=Debug("iexec:wallet:bridge"),obsBridgeMessages={CHECK_BRIDGE_POLICY:"CHECK_BRIDGE_POLICY",BRIDGE_POLICY_CHECKED:"BRIDGE_POLICY_CHECKED",CHECK_BRIDGE_LIMIT:"CHECK_BRIDGE_LIMIT",BRIDGE_LIMIT_CHECKED:"BRIDGE_LIMIT_CHECKED",SEND_TO_BRIDGE_TX_REQUEST:"SEND_TO_BRIDGE_TX_REQUEST",SEND_TO_BRIDGE_TX_SUCCESS:"SEND_TO_BRIDGE_TX_SUCCESS",WAIT_RECEIVE_TX:"WAIT_RECEIVE_TX",RECEIVE_TX_SUCCESS:"RECEIVE_TX_SUCCESS"},findBlockNumberBeforeTimestamp=async(a,e,{step:o=100,refBlock:c}={})=>{const d=c||await wrapCall(a.getBlock()),h=Math.max(d.number-o,0),et=await wrapCall(a.getBlock(h)),tt=et.timestamp,ot=tt-e;if(ot>0){const ft=Math.max(d.timestamp-tt,100),ht=Math.min(Math.ceil(ot/ft*o)+5,1e3);return findBlockNumberBeforeTimestamp(a,e,{refBlock:et,step:ht})}return et.number},obsBridgeToSidechain=(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1(),{sidechainBridgeAddress:c,bridgedContracts:d}={})=>new Observable$1(h=>{const et=new SafeObserver$1(h);let tt,ot;return(async()=>{try{checkSigner(a);const ht=await addressSchema$1({ethProvider:a.provider}).validate(e),yt=c?await addressSchema$1({ethProvider:a.provider}).validate(c):void 0,gt=await nRlcAmountSchema().validate(o);if(a.isNative)throw Error("Current chain is a sidechain");if((await getRlcBalance(a,await getAddress(a))).lt(new BN$1(gt)))throw Error("Amount to bridge exceeds wallet balance");if(et.next({message:obsBridgeMessages.CHECK_BRIDGE_POLICY}),tt)return;const bt=new Contract(ht,abi$1,a.provider),[xt,Et,vt]=await Promise.all([wrapCall(bt.minPerTx()),wrapCall(bt.maxPerTx()),wrapCall(bt.dailyLimit())]);if(tt)return;if(et.next({message:obsBridgeMessages.BRIDGE_POLICY_CHECKED,minPerTx:bigIntToBn(xt),maxPerTx:bigIntToBn(Et),dailyLimit:bigIntToBn(vt)}),new BN$1(gt).lt(bigIntToBn(xt)))throw Error(`Minimum amount allowed to bridge is ${formatRLC(xt.toString())} RLC`);if(new BN$1(gt).gt(bigIntToBn(Et)))throw Error(`Maximum amount allowed to bridge is ${formatRLC(Et.toString())} RLC`);if(tt)return;et.next({message:obsBridgeMessages.CHECK_BRIDGE_LIMIT});const At=(await wrapCall(bt.getCurrentDay())).toNumber()*(60*60*24),kt=await findBlockNumberBeforeTimestamp(a.provider,At);if(tt)return;const It=await wrapCall(a.fetchTokenContract()),Dt=await a.provider.getLogs({fromBlock:kt,toBlock:"latest",address:It.address,topics:["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef"]}),Mt=It.interface;let zt=new BN$1(0);const Kt=async(mt,Tt=!0)=>{if(mt.length===0)return;let Rt=Tt;if(Tt&&(Rt=(await wrapCall(a.provider.getBlock(mt[0].blockNumber))).timestamp<At),!Rt){const Ot=Mt.parseLog(mt[0]);Ot.args.to===ht&&(zt=zt.add(bigIntToBn(Ot.args.value)))}mt.shift(),!tt&&await Kt(mt,Rt)};if(tt||(await Kt(Dt),tt))return;const Yt=zt.lt(bigIntToBn(vt));if(tt)return;if(et.next({message:obsBridgeMessages.BRIDGE_LIMIT_CHECKED,totalSpentPerDay:zt}),!Yt)throw Error(`Amount to bridge would exceed bridge daily limit. ${formatRLC(zt)}/${formatRLC(vt)} RLC already bridged today.`);const er=yt&&d,qt=er?await d.provider.getBlockNumber():0;if(tt)return;et.next({message:obsBridgeMessages.SEND_TO_BRIDGE_TX_REQUEST,bridgeAddress:ht});const Ft=await sendRLC(a,gt,ht);if(tt)return;if(et.next({message:obsBridgeMessages.SEND_TO_BRIDGE_TX_SUCCESS,bridgeAddress:ht,txHash:Ft}),er){et.next({message:obsBridgeMessages.WAIT_RECEIVE_TX,bridgeAddress:yt});const mt=Ot=>new Promise((Lt,Ut)=>{const Gt=new Contract(yt,abi,d.provider),Bt=()=>Gt.removeAllListeners("AffirmationCompleted");ot=()=>{Bt(),Ut(Error("aborted"))};try{Gt.on(Gt.filters.AffirmationCompleted(),(St,Vt,dr,cr)=>{dr===Ot&&(Bt(),Lt(cr))}),d.provider.resetEventsBlock(qt),debug$3(`watching AffirmationCompleted events from block ${qt}`)}catch(St){throw Bt(),St}});if(tt)return;const Rt=(await mt(Ft)).transactionHash;et.next({message:obsBridgeMessages.RECEIVE_TX_SUCCESS,txHash:Rt})}et.complete()}catch(ht){debug$3("obsBridgeToSidechain()",ht),et.error(ht)}})(),et.unsub=()=>{tt=!0,ot&&ot()},et.unsubscribe.bind(et)}),bridgeToSidechain=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1(),{sidechainBridgeAddress:c,bridgedContracts:d}={})=>{checkSigner(a);let h,et;try{return await new Promise((tt,ot)=>{obsBridgeToSidechain(a,e,o,{sidechainBridgeAddress:c,bridgedContracts:d}).subscribe({next:({message:ft,...ht})=>{ft===obsBridgeMessages.SEND_TO_BRIDGE_TX_SUCCESS&&(h=ht.txHash),ft===obsBridgeMessages.RECEIVE_TX_SUCCESS&&(et=ht.txHash),debug$3(ft,ht)},error:ot,complete:tt})}),{sendTxHash:h,receiveTxHash:et}}catch(tt){throw debug$3("bridgeToSidechain()",tt),h?new BridgeError(tt,h):tt}},obsBridgeToMainchain=(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1(),{mainchainBridgeAddress:c,bridgedContracts:d}={})=>new Observable$1(h=>{const et=new SafeObserver$1(h);let tt,ot;return(async()=>{try{checkSigner(a);const ht=await addressSchema$1({ethProvider:a.provider}).validate(e),yt=c?await addressSchema$1({ethProvider:a.provider}).validate(c):void 0,gt=await nRlcAmountSchema().validate(o);if(!a.isNative)throw Error("Current chain is a mainchain");if((await getRlcBalance(a,await getAddress(a))).lt(new BN$1(gt)))throw Error("Amount to bridge exceeds wallet balance");const bt=new Contract(ht,abi,a.provider),xt=bnNRlcToBnWei(new BN$1(gt)),Et=xt.toString();if(et.next({message:obsBridgeMessages.CHECK_BRIDGE_POLICY}),tt)return;const[vt,$t,At]=await Promise.all([wrapCall(bt.minPerTx()),wrapCall(bt.maxPerTx()),wrapCall(bt.dailyLimit())]);if(tt)return;if(et.next({message:obsBridgeMessages.BRIDGE_POLICY_CHECKED,minPerTx:bigIntToBn(vt),maxPerTx:bigIntToBn($t),dailyLimit:bigIntToBn(At)}),xt.lt(bigIntToBn(vt)))throw Error(`Minimum amount allowed to bridge is ${formatRLC(truncateBnWeiToBnNRlc(bigIntToBn(vt)))} RLC`);if(xt.gt(bigIntToBn($t)))throw Error(`Maximum amount allowed to bridge is ${formatRLC(truncateBnWeiToBnNRlc(bigIntToBn($t)))} RLC`);if(tt)return;et.next({message:obsBridgeMessages.CHECK_BRIDGE_LIMIT});const[kt,It]=await Promise.all([wrapCall(bt.withinLimit(Et)),wrapCall(bt.getCurrentDay().then(Kt=>bt.totalSpentPerDay(Kt)))]);if(tt)return;if(et.next({message:obsBridgeMessages.BRIDGE_LIMIT_CHECKED,totalSpentPerDay:bigIntToBn(It)}),!kt)throw Error(`Amount to bridge would exceed bridge daily limit. ${formatRLC(truncateBnWeiToBnNRlc(bigIntToBn(It)))}/${formatRLC(truncateBnWeiToBnNRlc(bigIntToBn(At)))} RLC already bridged today`);const Dt=yt&&d,Mt=Dt?await wrapCall(d.provider.getBlockNumber()):0;if(tt)return;et.next({message:obsBridgeMessages.SEND_TO_BRIDGE_TX_REQUEST,bridgeAddress:ht});const zt=await sendRLC(a,gt,ht);if(tt)return;if(et.next({message:obsBridgeMessages.SEND_TO_BRIDGE_TX_SUCCESS,bridgeAddress:ht,txHash:zt}),Dt){et.next({message:obsBridgeMessages.WAIT_RECEIVE_TX,bridgeAddress:yt});const Kt=qt=>new Promise((Ft,mt)=>{const Tt=new Contract(yt,abi$1,d.provider),Rt=()=>Tt.removeAllListeners("RelayedMessage");ot=()=>{Rt(),mt(Error("aborted"))};try{Tt.on(Tt.filters.RelayedMessage(),(Ot,Lt,Ut,Gt)=>{Ut===qt&&(Rt(),Ft(Gt))}),d.provider.resetEventsBlock(Mt),debug$3(`watching RelayedMessage events from block ${Mt}`)}catch(Ot){throw Rt(),Ot}});if(tt)return;const er=(await Kt(zt)).transactionHash;et.next({message:obsBridgeMessages.RECEIVE_TX_SUCCESS,txHash:er})}et.complete()}catch(ht){debug$3("obsBridgeToMainchain()",ht),et.error(ht)}})(),et.unsub=()=>{tt=!0,ot&&ot()},et.unsubscribe.bind(et)}),bridgeToMainchain=async(a=throwIfMissing$1(),e=throwIfMissing$1(),o=throwIfMissing$1(),{mainchainBridgeAddress:c,bridgedContracts:d}={})=>{checkSigner(a);let h,et;try{return await new Promise((tt,ot)=>{obsBridgeToMainchain(a,e,o,{mainchainBridgeAddress:c,bridgedContracts:d}).subscribe({next:({message:ft,...ht})=>{ft===obsBridgeMessages.SEND_TO_BRIDGE_TX_SUCCESS&&(h=ht.txHash),ft===obsBridgeMessages.RECEIVE_TX_SUCCESS&&(et=ht.txHash),debug$3(ft,ht)},error:ot,complete:tt})}),{sendTxHash:h,receiveTxHash:et}}catch(tt){throw debug$3("bridgeToMainchain()",tt),h?new BridgeError(tt,h):tt}};class IExecWalletModule extends IExecModule{constructor(...e){super(...e),this.getAddress=async()=>getAddress(await this.config.resolveContractsClient()),this.checkBalances=async o=>checkBalances(await this.config.resolveContractsClient(),o),this.checkBridgedBalances=async o=>checkBalances(await this.config.resolveBridgedContractsClient(),o),this.sendETH=async(o,c)=>sendETH(await this.config.resolveContractsClient(),o,c),this.sendRLC=async(o,c)=>sendRLC(await this.config.resolveContractsClient(),o,c),this.sweep=async o=>sweep(await this.config.resolveContractsClient(),o),this.bridgeToSidechain=async o=>bridgeToSidechain(await this.config.resolveContractsClient(),await this.config.resolveBridgeAddress(),o,{bridgedContracts:await this.config.resolveBridgedContractsClient(),sidechainBridgeAddress:await this.config.resolveBridgeBackAddress()}),this.bridgeToMainchain=async o=>bridgeToMainchain(await this.config.resolveContractsClient(),await this.config.resolveBridgeAddress(),o,{bridgedContracts:await this.config.resolveBridgedContractsClient(),mainchainBridgeAddress:await this.config.resolveBridgeBackAddress()}),this.obsBridgeToSidechain=async o=>obsBridgeToSidechain(await this.config.resolveContractsClient(),await this.config.resolveBridgeAddress(),o,{bridgedContracts:await this.config.resolveBridgedContractsClient(),sidechainBridgeAddress:await this.config.resolveBridgeBackAddress()}),this.obsBridgeToMainchain=async o=>obsBridgeToMainchain(await this.config.resolveContractsClient(),await this.config.resolveBridgeAddress(),o,{bridgedContracts:await this.config.resolveBridgedContractsClient(),mainchainBridgeAddress:await this.config.resolveBridgeBackAddress()}),this.wrapEnterpriseRLC=async o=>wrapEnterpriseRLC(await this.config.resolveStandardContractsClient(),await this.config.resolveEnterpriseContractsClient(),o),this.unwrapEnterpriseRLC=async o=>unwrapEnterpriseRLC(await this.config.resolveEnterpriseContractsClient(),o)}}const debug$2=Debug("iexec:execution:workerpool"),setWorkerpoolApiUrl=async(a=throwIfMissing$1(),e,o)=>{try{const c=await addressSchema$1({ethProvider:a.provider}).validate(e),d=await workerpoolApiUrlSchema().label("workerpool API url").validate(o),h=await lookupAddress(a,c);if(!h)throw Error(`No ENS name reverse resolution configured for ${c}`);return await setTextRecord(a,h,WORKERPOOL_URL_TEXT_RECORD_KEY,d)}catch(c){throw debug$2("setWorkerpoolApiUrl()",c),c}},debug$1=Debug("iexec:execution:debug"),getWorkerpoolApiUrl=async(a=throwIfMissing$1(),e)=>{try{const o=await addressSchema$1({ethProvider:a.provider}).label("workerpool address").validate(e),c=await lookupAddress(a,o).catch(()=>{});if(!c)return;const d=await readTextRecord(a,c,WORKERPOOL_URL_TEXT_RECORD_KEY);return await workerpoolApiUrlSchema().required().validate(d).catch(()=>{})}catch(o){throw debug$1("getWorkerpoolApiUrl()",o),o}};class IExecWorkerpoolModule extends IExecModule{constructor(...e){super(...e),this.deployWorkerpool=async o=>deployWorkerpool(await this.config.resolveContractsClient(),o),this.showWorkerpool=async o=>showWorkerpool(await this.config.resolveContractsClient(),o),this.showUserWorkerpool=async(o,c)=>showUserWorkerpool(await this.config.resolveContractsClient(),o,c),this.countUserWorkerpools=async o=>countUserWorkerpools(await this.config.resolveContractsClient(),o),this.setWorkerpoolApiUrl=async(o,c)=>setWorkerpoolApiUrl(await this.config.resolveContractsClient(),o,c),this.getWorkerpoolApiUrl=async o=>getWorkerpoolApiUrl(await this.config.resolveContractsClient(),o),this.predictWorkerpoolAddress=async o=>predictWorkerpoolAddress(await this.config.resolveContractsClient(),o),this.checkDeployedWorkerpool=async o=>checkDeployedWorkerpool(await this.config.resolveContractsClient(),o),this.transferWorkerpool=async(o,c)=>transferWorkerpool(await this.config.resolveContractsClient(),o,c)}}class IExec extends IExecModule{constructor(...e){super(...e),this.wallet=IExecWalletModule.fromConfig(this.config),this.account=IExecAccountModule.fromConfig(this.config),this.app=IExecAppModule.fromConfig(this.config),this.dataset=IExecDatasetModule.fromConfig(this.config),this.workerpool=IExecWorkerpoolModule.fromConfig(this.config),this.hub=IExecHubModule.fromConfig(this.config),this.deal=IExecDealModule.fromConfig(this.config),this.order=IExecOrderModule.fromConfig(this.config),this.orderbook=IExecOrderbookModule.fromConfig(this.config),this.task=IExecTaskModule.fromConfig(this.config),this.result=IExecResultModule.fromConfig(this.config),this.secrets=IExecSecretModule.fromConfig(this.config),this.storage=IExecStorageModule.fromConfig(this.config),this.ens=IExecENSModule.fromConfig(this.config),this.network=IExecNetworkModule.fromConfig(this.config)}}const DEFAULT_IPFS_GATEWAY="https://ipfs-gateway.v8-bellecour.iex.ec",DEFAULT_IEXEC_IPFS_NODE="https://ipfs-upload.v8-bellecour.iex.ec",DEFAULT_DATA_NAME="",DEFAULT_CONTRACT_ADDRESS="0x3a4Ab33F3D605e75b6D00A32A0Fa55C3628F6A59",DEFAULT_SUBGRAPH_URL="https://thegraph-product.iex.ec/subgraphs/name/bellecour/dataprotector",WORKERPOOL_ADDRESS="prod-v8-bellecour.main.pools.iexec.eth",SCONE_TAG=["tee","scone"],DEFAULT_MAX_PRICE=0,ADD_RESOURCE_SELECTOR="addResourceToWhitelist(address)",KEY_PURPOSE_SELECTOR="keyHasPurpose(bytes32,uint256)";class WorkflowError extends Error{constructor(e,o){super(e),this.name=this.constructor.name,o&&(this.originalError=o)}}const formatGrantedAccess=a=>Object.fromEntries(Object.entries(a).map(([e,o])=>[e,o.toString().toLowerCase()])),throwIfMissing=()=>{throw new ValidationError("Missing parameter")},isUndefined=a=>a===void 0,isAddressTest=a=>isAddress(a),isEnsTest=a=>a.endsWith(".eth")&&a.length>6,isAnyTest=a=>a==="any",isPositiveIntegerStringTest=a=>/^\d+$/.test(a),isZeroStringTest=a=>a==="0",stringSchema=()=>create$6$1().strict().typeError("${path} should be a string"),urlSchema=()=>create$6$1().url("${path} should be a url"),addressSchema=()=>create$6$1().transform(a=>(a==null?void 0:a.toLowerCase())||a).test("is-address","${path} should be an ethereum address",a=>isUndefined(a)||isAddressTest(a)),addressOrEnsSchema=()=>create$6$1().transform(a=>(a==null?void 0:a.toLowerCase())||a).test("is-address-or-ens","${path} should be an ethereum address or a ENS name",a=>isUndefined(a)||isAddressTest(a)||isEnsTest(a)),addressOrEnsOrAnySchema=()=>create$6$1().transform(a=>(a==null?void 0:a.toLowerCase())||a).test("is-address-or-ens-or-any",'${path} should be an ethereum address, a ENS name, or "any"',(a,{originalValue:e})=>isUndefined(a)||isAnyTest(e)||isAddressTest(a)||isEnsTest(a)),positiveIntegerStringSchema=()=>create$6$1().test("is-positive-int","${path} should be a positive integer",a=>isUndefined(a)||isPositiveIntegerStringTest(a)),positiveNumberSchema=()=>create$5$1().integer().min(0).typeError("${path} must be a non-negative number"),numberBetweenSchema=(a,e)=>create$5$1().integer().min(a).max(e).typeError(`\${path} must be a number between ${a} and ${e}`),positiveStrictIntegerStringSchema=()=>create$6$1().test("is-positive-strict-int","${path} should be a strictly positive integer",a=>isUndefined(a)||!isZeroStringTest(a)&&isPositiveIntegerStringTest(a)),grantedAccessSchema=()=>create$3$1({dataset:addressSchema().required(),datasetprice:positiveIntegerStringSchema().required(),volume:positiveStrictIntegerStringSchema().required(),tag:stringSchema().required(),apprestrict:addressSchema().required(),workerpoolrestrict:addressSchema().required(),requesterrestrict:addressSchema().required(),salt:stringSchema().required(),sign:stringSchema().required()}).noUnknown().default(void 0),urlArraySchema=()=>create$2$1().of(urlSchema()),validateOrders=()=>create$2$1().test("is-not-empty-orderbook",({label:a})=>`No ${a} orders found`,a=>!(!a||a.length===0)),secretsSchema=()=>create$3$1().test("is-valid-secret",({label:a})=>`${a} must be an object with numeric keys and string values`,a=>{if(!a||typeof a!="object")return!1;for(const e in a){const o=a[e];if(typeof Number(e)!="number"||typeof o!="string")return!1}return!0});var __awaiter$b=function(a,e,o,c){function d(h){return h instanceof o?h:new o(function(et){et(h)})}return new(o||(o=Promise))(function(h,et){function tt(ht){try{ft(c.next(ht))}catch(yt){et(yt)}}function ot(ht){try{ft(c.throw(ht))}catch(yt){et(yt)}}function ft(ht){ht.done?h(ht.value):d(ht.value).then(tt,ot)}ft((c=c.apply(a,e||[])).next())})};const fetchGrantedAccess=({iexec:a=throwIfMissing(),protectedData:e="any",authorizedApp:o="any",authorizedUser:c="any",page:d,pageSize:h})=>__awaiter$b(void 0,void 0,void 0,function*(){const et=addressOrEnsOrAnySchema().required().label("protectedData").validateSync(e),tt=addressOrEnsOrAnySchema().required().label("authorizedApp").validateSync(o),ot=addressOrEnsOrAnySchema().required().label("authorizedUser").validateSync(c);try{const{count:ft,orders:ht}=yield a.orderbook.fetchDatasetOrderbook(et,{app:tt,requester:ot,page:d,pageSize:h}),yt=ht==null?void 0:ht.map(gt=>formatGrantedAccess(gt.order));return{count:ft,grantedAccess:yt}}catch(ft){throw new WorkflowError("Failed to fetch granted access",ft)}});var dist={},patternTree={},toHex$1={};Object.defineProperty(toHex$1,"__esModule",{value:!0});toHex$1.fromHex=toHex$1.toHex=void 0;const hex=a=>new Number(a).toString(16).toLowerCase(),toHex=a=>`0x${hex(a).length===1?"0"+hex(a):hex(a)}`;toHex$1.toHex=toHex;const fromHex=a=>new Number(a);toHex$1.fromHex=fromHex;var tree$1={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.createComplexNode=a.createNode=a.merge=void 0;const e=ot=>({typename:ot.typename,mime:ot.info.mime,extension:ot.info.extension}),o=(ot,ft)=>ot&&ft.length===0,c=ot=>ot[0],d=ot=>ot.slice(1,ot.length),h=(ot,ft)=>{if(ot.bytes.length===0)return ft;const ht=c(ot.bytes),yt=d(ot.bytes),gt=ft.bytes[ht];if(o(gt,yt)){const wt=ft.bytes[ht];return ft.bytes[ht]={...wt,matches:[...wt.matches?wt.matches:[],e(ot)]},ft}return ft.bytes[ht]?(ft.bytes[ht]=a.merge(a.createNode(ot.typename,yt,ot.info),ft.bytes[ht]),ft):(ft.bytes[ht]||(ft.bytes[ht]={...ft.bytes[ht],...a.createComplexNode(ot.typename,yt,ot.info)}),ft)};a.merge=h;const et=(ot,ft,ht)=>({typename:ot,bytes:ft,info:ht||{}});a.createNode=et;const tt=(ot,ft,ht)=>{let yt={bytes:{},matches:void 0};const gt=c(ft),wt=d(ft);return ft.length===0?{matches:[e({typename:ot,info:ht?{extension:ht.extension,mime:ht.mime}:{}})],bytes:{}}:(yt.bytes[gt]=a.createComplexNode(ot,wt,ht),yt)};a.createComplexNode=tt})(tree$1);Object.defineProperty(patternTree,"__esModule",{value:!0});const toHex_1=toHex$1,tree_1=tree$1;let tree={noOffset:null,offset:{}};const add$1=(a,e,o,c)=>{if(c){const d=tree.offset[toHex_1.toHex(c)];if(!d)tree.offset[toHex_1.toHex(c)]=tree_1.createComplexNode(a,e.map(h=>h.toLowerCase()),o);else{const h=tree_1.merge(tree_1.createNode(a,e.map(et=>et.toLowerCase()),o),{...d});tree.offset[toHex_1.toHex(c)]=h}}else tree.noOffset===null?tree.noOffset=tree_1.createComplexNode(a,e.map(d=>d.toLowerCase()),o):tree.noOffset=tree_1.merge(tree_1.createNode(a,e.map(d=>d.toLowerCase()),o),tree.noOffset)};add$1("gif",["0x47","0x49","0x46","0x38","0x37","0x61"],{mime:"image/gif",extension:"gif"});add$1("gif",["0x47","0x49","0x46","0x38","0x39","0x61"],{mime:"image/gif",extension:"gif"});add$1("jpg",["0xFF","0xD8","0xFF"],{mime:"image/jpeg",extension:"jpeg"});add$1("webp",["0x52","0x49","0x46","0x46","?","?","?","?","0x57","0x45","0x42","0x50"],{mime:"image/webp",extension:"webp"});add$1("heif",["0x66","0x74","0x79","0x70","0x6D","0x69","0x66","0x31"],{mime:"image/heif",extension:"heif"},4);add$1("heif",["0x66","0x74","0x79","0x70","0x68","0x65","0x69","0x63"],{mime:"image/heif",extension:"heic"},4);add$1("rpm",["0xed","0xab","0xee","0xdb"]);add$1("bin",["0x53","0x50","0x30","0x31"],{mime:"application/octet-stream",extension:"bin"});add$1("pic",["0x00"]);add$1("pif",["0x00"]);add$1("sea",["0x00"]);add$1("ytr",["0x00"]);add$1("mp4",["0x66","0x74","0x79","0x70"],{mime:"video/mp4",extension:"mp4"},4);add$1("ttf",["0x00","0x01","0x00","0x00","0x00"],{mime:"font/ttf",extension:"ttf"});add$1("otf",["0x4F","0x54","0x54","0x4F"],{mime:"font/otf",extension:"otf"});add$1("eot",["0x50","0x4C"],{mime:"application/vnd.ms-fontobject",extension:"eot"});add$1("woff",["0x77","0x4F","0x46","0x46"],{mime:"font/woff",extension:"woff"});add$1("woff2",["0x77","0x4F","0x46","0x32"],{mime:"font/woff2",extension:"woff2"});add$1("pdb",["0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00"]);add$1("dba",["0xBE","0xBA","0xFE","0xCA"]);add$1("dba2",["0x00","0x01","0x42","0x44"]);add$1("tda",["0x00","0x01","0x44","0x54"]);add$1("tda2",["0x00","0x01","0x00","0x00"]);add$1("ico",["0x00","0x00","0x01","0x00"],{mime:"image/x-icon",extension:"ico"});add$1("3gp",["0x66","0x74","0x79","0x70","0x33","0x67"]);add$1("z",["0x1F","0x9D"]);add$1("tar.z",["0x1F","0xA0"]);add$1("bac",["0x42","0x41","0x43","0x4B","0x4D","0x49","0x4B","0x45","0x44","0x49","0x53","0x4B"]);add$1("bz2",["0x42","0x5A","0x68"],{mime:"application/x-bzip2",extension:"bz2"});add$1("tif",["0x49","0x49","0x2A","0x00"],{mime:"image/tiff",extension:"tif"});add$1("tiff",["0x4D","0x4D","0x00","0x2A"],{mime:"image/tiff",extension:"tiff"});add$1("cr2",["0x49","0x49","0x2A","0x00","0x10","0x00","0x00","0x00","0x43","0x52"]);add$1("cin",["0x80","0x2A","0x5F","0xD7"]);add$1("cin1",["0x52","0x4E","0x43","0x01"]);add$1("cin2",["0x52","0x4E","0x43","0x02"]);add$1("dpx",["0x53","0x44","0x50","0x58"]);add$1("dpx2",["0x58","0x50","0x44","0x53"]);add$1("exr",["0x76","0x2F","0x31","0x01"]);add$1("bpg",["0x42","0x50","0x47","0xFB"]);add$1("ilbm",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x49","0x4C","0x42","0x4D"]);add$1("8svx",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x38","0x53","0x56","0x58"]);add$1("acbm",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x43","0x42","0x4D"]);add$1("anbm",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x4E","0x42","0x4D"]);add$1("anim",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x4E","0x49","0x4D"]);add$1("faxx",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x46","0x41","0x58","0x58"]);add$1("ftxt",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x46","0x54","0x58","0x54"]);add$1("smus",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x53","0x4D","0x55","0x53"]);add$1("cmus",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x43","0x4D","0x55","0x53"]);add$1("yuvn",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x59","0x55","0x56","0x4E"]);add$1("iff",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x46","0x41","0x4E","0x54"]);add$1("aiff",["0x46","0x4F","0x52","0x4D","?","?","?","?","0x41","0x49","0x46","0x46"],{mime:"audio/x-aiff",extension:"aiff"});add$1("idx",["0x49","0x4E","0x44","0x58"]);add$1("lz",["0x4C","0x5A","0x49","0x50"]);add$1("exe",["0x4D","0x5A"]);add$1("zip",["0x50","0x4B","0x03","0x04"],{mime:"application/zip",extension:"zip"});add$1("zip",["0x50","0x4B","0x05","0x06"],{mime:"application/zip",extension:"zip"});add$1("zip",["0x50","0x4B","0x07","0x08"],{mime:"application/zip",extension:"zip"});add$1("jar",["0x50","0x4B","0x03","0x04"],{mime:"application/java-archive",extension:"jar"});add$1("jar",["0x50","0x4B","0x05","0x06"],{mime:"application/java-archive",extension:"jar"});add$1("jar",["0x50","0x4B","0x07","0x08"],{mime:"application/java-archive",extension:"jar"});add$1("odt",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.oasis.opendocument.text",extension:"odt"});add$1("odt",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.oasis.opendocument.text",extension:"odt"});add$1("odt",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.oasis.opendocument.text",extension:"odt"});add$1("ods",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.oasis.opendocument.spreadsheet",extension:"ods"});add$1("ods",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.oasis.opendocument.spreadsheet",extension:"ods"});add$1("ods",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.oasis.opendocument.spreadsheet",extension:"ods"});add$1("odp",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.oasis.opendocument.presentation",extension:"odp"});add$1("odp",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.oasis.opendocument.presentation",extension:"odp"});add$1("odp",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.oasis.opendocument.presentation",extension:"odp"});add$1("docx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",extension:"docx"});add$1("docx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",extension:"docx"});add$1("docx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",extension:"docx"});add$1("xlsx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",extension:"xlsx"});add$1("xlsx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",extension:"xlsx"});add$1("xlsx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",extension:"xlsx"});add$1("pptx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation",extension:"pptx"});add$1("pptx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation",extension:"pptx"});add$1("pptx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation",extension:"pptx"});add$1("vsdx",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.ms-visio.drawing",extension:"vsdx"});add$1("vsdx",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.ms-visio.drawing",extension:"vsdx"});add$1("vsdx",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.ms-visio.drawing",extension:"vsdx"});add$1("apk",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.android.package-archive",extension:"apk"});add$1("apk",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.android.package-archive",extension:"apk"});add$1("apk",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.android.package-archive",extension:"apk"});add$1("aar",["0x50","0x4B","0x03","0x04"],{mime:"application/vnd.android.package-archive",extension:"aar"});add$1("aar",["0x50","0x4B","0x05","0x06"],{mime:"application/vnd.android.package-archive",extension:"aar"});add$1("aar",["0x50","0x4B","0x07","0x08"],{mime:"application/vnd.android.package-archive",extension:"aar"});add$1("rar",["0x52","0x61","0x72","0x21","0x1A","0x07","0x00"],{mime:"application/vnd.rar",extension:"rar"});add$1("rar",["0x52","0x61","0x72","0x21","0x1A","0x07","0x01","0x00"],{mime:"application/vnd.rar",extension:"rar"});add$1("rar",["0x7F","0x45","0x4C","0x46"],{mime:"application/vnd.rar",extension:"rar"});add$1("png",["0x89","0x50","0x4E","0x47","0x0D","0x0A","0x1A","0x0A"],{mime:"image/png",extension:"png"});add$1("apng",["0x89","0x50","0x4E","0x47","0x0D","0x0A","0x1A","0x0A"],{mime:"image/apng",extension:"apng"});add$1("class",["0xCA","0xFE","0xBA","0xBE"]);add$1("class",["0xEF","0xBB","0xBF"]);add$1("class",["0xFE","0xed","0xFA","0xCE"],void 0,4096);add$1("class",["0xFE","0xed","0xFA","0xCF"],void 0,4096);add$1("class",["0xCE","0xFA","0xed","0xFE"]);add$1("class",["0xCF","0xFA","0xed","0xFE"]);add$1("class",["0xFF","0xFE"]);add$1("class",["0xFF","0xFE"]);add$1("class",["0xFF","0xFE","0x00","0x00"]);add$1("ps",["0x25","0x21","0x50","0x53"],{mime:"application/postscript",extension:".ps"});add$1("pdf",["0x25","0x50","0x44","0x46"],{mime:"application/pdf",extension:"pdf"});add$1("asf",["0x30","0x26","0xB2","0x75","0x8E","0x66","0xCF","0x11","0xA6","0xD9","0x00","0xAA","0x00","0x62","0xCE","0x6C"]);add$1("wma",["0x30","0x26","0xB2","0x75","0x8E","0x66","0xCF","0x11","0xA6","0xD9","0x00","0xAA","0x00","0x62","0xCE","0x6C"]);add$1("wmv",["0x30","0x26","0xB2","0x75","0x8E","0x66","0xCF","0x11","0xA6","0xD9","0x00","0xAA","0x00","0x62","0xCE","0x6C"]);add$1("deploymentimage",["0x24","0x53","0x44","0x49","0x30","0x30","0x30","0x31"]);add$1("ogv",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x80","0x74","0x68","0x65","0x6F","0x72","0x61"],{mime:"video/ogg",extension:"ogv"});add$1("ogm",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x01","0x76","0x69","0x64","0x65","0x6F","0x00"],{mime:"video/ogg",extension:"ogm"});add$1("oga",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x7F","0x46","0x4C","0x41","0x43"],{mime:"audio/ogg",extension:"oga"});add$1("spx",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x53","0x70","0x65","0x65","0x78","0x20","0x20"],{mime:"audio/ogg",extension:"spx"});add$1("ogg",["0x4F","0x67","0x67","0x53","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","?","0x01","0x76","0x6F","0x72","0x62","0x69","0x73"],{mime:"audio/ogg",extension:"ogg"});add$1("ogx",["0x4F","0x67","0x67","0x53"],{mime:"application/ogg",extension:"ogx"});add$1("psd",["0x38","0x42","0x50","0x53"],{mime:"application/x-photoshop",extension:"psd"});add$1("clip",["0x43","0x53","0x46","0x43","0x48","0x55","0x4e","0x4b"]);add$1("wav",["0x52","0x49","0x46","0x46","?","?","?","?","0x57","0x41","0x56","0x45"],{mime:"audio/x-wav",extension:"wav"});add$1("avi",["0x52","0x49","0x46","0x46","?","?","?","?","0x41","0x56","0x49","0x20"],{mime:"video/x-msvideo",extension:"avi"});add$1("mp3",["0xFF","0xFB"],{mime:"audio/mpeg",extension:"mp3"});add$1("mp3",["0xFF","0xF3"],{mime:"audio/mpeg",extension:"mp3"});add$1("mp3",["0xFF","0xF2"],{mime:"audio/mpeg",extension:"mp3"});add$1("mp3",["0x49","0x44","0x33"],{mime:"audio/mpeg",extension:"mp3"});add$1("bmp",["0x42","0x4D"],{mime:"image/bmp",extension:"bmp"});add$1("iso",["0x43","0x44","0x30","0x30","0x31"]);add$1("flac",["0x66","0x4C","0x61","0x43"]);add$1("mid",["0x4D","0x54","0x68","0x64"],{mime:"audio/midi",extension:"mid"});add$1("midi",["0x4D","0x54","0x68","0x64"],{mime:"audio/midi",extension:"midi"});add$1("doc",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"],{mime:"application/msword",extension:"doc"});add$1("xls",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"],{mime:"application/vnd.ms-excel",extension:"xls"});add$1("ppt",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"],{mime:"application/vnd.ms-powerpoint",extension:"ppt"});add$1("msg",["0xD0","0xCF","0x11","0xE0","0xA1","0xB1","0x1A","0xE1"]);add$1("dex",["0x64","0x65","0x78","0x0A","0x30","0x33","0x35","0x00"]);add$1("vmdk",["0x4B","0x44","0x4D"]);add$1("crx",["0x43","0x72","0x32","0x34"]);add$1("fh8",["0x41","0x47","0x44","0x33"]);add$1("cwk",["0x05","0x07","0x00","0x00","0x42","0x4F","0x42","0x4F","0x05","0x07","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x01"]);add$1("cwk",["0x06","0x07","0xE1","0x00","0x42","0x4F","0x42","0x4F","0x06","0x07","0xE1","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x00","0x01"]);add$1("toast",["0x45","0x52","0x02","0x00","0x00","0x00"]);add$1("toast",["0x8B","0x45","0x52","0x02","0x00","0x00","0x00"]);add$1("dmg",["0x78","0x01","0x73","0x0D","0x62","0x62","0x60"]);add$1("xar",["0x78","0x61","0x72","0x21"]);add$1("dat",["0x50","0x4D","0x4F","0x43","0x43","0x4D","0x4F","0x43"]);add$1("nes",["0x4E","0x45","0x53","0x1A"]);add$1("tar",["0x75","0x73","0x74","0x61","0x72","0x00","0x30","0x30"],{mime:"application/x-tar",extension:"tar"},257);add$1("tar",["0x75","0x73","0x74","0x61","0x72","0x20","0x20","0x00"],{mime:"application/x-tar",extension:"tar"},257);add$1("tox",["0x74","0x6F","0x78","0x33"]);add$1("mlv",["0x4D","0x4C","0x56","0x49"]);add$1("windowsupdate",["0x44","0x43","0x4D","0x01","0x50","0x41","0x33","0x30"]);add$1("7z",["0x37","0x7A","0xBC","0xAF","0x27","0x1C"],{mime:"application/x-7z-compressed",extension:"7z"});add$1("gz",["0x1F","0x8B"],{mime:"application/gzip",extension:"gz"});add$1("tar.gz",["0x1F","0x8B"],{mime:"application/gzip",extension:"tar.gz"});add$1("xz",["0xFD","0x37","0x7A","0x58","0x5A","0x00","0x00"],{mime:"application/gzip",extension:"xz"});add$1("tar.xz",["0xFD","0x37","0x7A","0x58","0x5A","0x00","0x00"],{mime:"application/gzip",extension:"tar.xz"});add$1("lz2",["0x04","0x22","0x4D","0x18"]);add$1("cab",["0x4D","0x53","0x43","0x46"]);add$1("mkv",["0x1A","0x45","0xDF","0xA3"],{mime:"video/x-matroska",extension:"mkv"});add$1("mka",["0x1A","0x45","0xDF","0xA3"],{mime:"audio/x-matroska",extension:"mka"});add$1("mks",["0x1A","0x45","0xDF","0xA3"],{mime:"video/x-matroska",extension:"mks"});add$1("mk3d",["0x1A","0x45","0xDF","0xA3"]);add$1("webm",["0x1A","0x45","0xDF","0xA3"],{mime:"audio/webm",extension:"webm"});add$1("dcm",["0x44","0x49","0x43","0x4D"],void 0,128);add$1("xml",["0x3C","0x3f","0x78","0x6d","0x6C","0x20"],{mime:"application/xml",extension:"xml"});add$1("wasm",["0x00","0x61","0x73","0x6d"],{mime:"application/wasm",extension:"wasm"});add$1("lep",["0xCF","0x84","0x01"]);add$1("swf",["0x43","0x57","0x53"],{mime:"application/x-shockwave-flash",extension:"swf"});add$1("swf",["0x46","0x57","0x53"],{mime:"application/x-shockwave-flash",extension:"swf"});add$1("deb",["0x21","0x3C","0x61","0x72","0x63","0x68","0x3E"]);add$1("rtf",["0x7B","0x5C","0x72","0x74","0x66","0x31"],{mime:"application/rtf",extension:"rtf"});add$1("m2p",["0x00","0x00","0x01","0xBA"]);add$1("vob",["0x00","0x00","0x01","0xBA"]);add$1("mpg",["0x00","0x00","0x01","0xBA"],{mime:"video/mpeg",extension:"mpg"});add$1("mpeg",["0x00","0x00","0x01","0xBA"],{mime:"video/mpeg",extension:"mpeg"});add$1("mpeg",["0x47"],{mime:"video/mpeg",extension:"mpeg"});add$1("mpeg",["0x00","0x00","0x01","0xB3"],{mime:"video/mpeg",extension:"mpeg"});add$1("mov",["0x66","0x72","0x65","0x65"],{mime:"video/quicktime",extension:"mov"},4);add$1("mov",["0x6D","0x64","0x61","0x74"],{mime:"video/quicktime",extension:"mov"},4);add$1("mov",["0x6D","0x6F","0x6F","0x76"],{mime:"video/quicktime",extension:"mov"},4);add$1("mov",["0x77","0x69","0x64","0x65"],{mime:"video/quicktime",extension:"mov"},4);add$1("mov",["0x66","0x74","0x79","0x70","0x71","0x74"],{mime:"video/quicktime",extension:"mov"},4);add$1("hl2demo",["0x48","0x4C","0x32","0x44","0x45","0x4D","0x4F"]);add$1("txt",["0xEF","0xBB","0xBF"],{mime:"text/plain; charset=UTF-8",extension:"txt"});add$1("txt",["0xFF","0xFE"],{mime:"text/plain; charset=UTF-16LE",extension:"txt"});add$1("txt",["0xFE","0xFF"],{mime:"text/plain; charset=UTF-16BE",extension:"txt"});add$1("txt",["0xFF","0xFE","0x00","0x00"],{mime:"text/plain; charset=UTF-32LE",extension:"txt"});add$1("txt",["0x00","0x00","0xFE","0xFF"],{mime:"text/plain; charset=UTF-32BE",extension:"txt"});add$1("SubRip",["0x31","0x0D","0x0A","0x30","0x30","0x3A"],{mime:"application/x-subrip",extension:"srt"});add$1("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x0A"],{mime:"text/vtt",extension:"vtt"});add$1("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x0D"],{mime:"text/vtt",extension:"vtt"});add$1("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x20"],{mime:"text/vtt",extension:"vtt"});add$1("WebVTT",["0xEF","0xBB","0xBF","0x57","0x45","0x42","0x56","0x54","0x54","0x09"],{mime:"text/vtt",extension:"vtt"});add$1("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x0A"],{mime:"text/vtt",extension:"vtt"});add$1("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x0D"],{mime:"text/vtt",extension:"vtt"});add$1("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x20"],{mime:"text/vtt",extension:"vtt"});add$1("WebVTT",["0x57","0x45","0x42","0x56","0x54","0x54","0x09"],{mime:"text/vtt",extension:"vtt"});add$1("Json",["0x7B"],{mime:"application/json",extension:".json"});add$1("Json",["0x5B"],{mime:"application/json",extension:".json"});add$1("ELF",["0x7F","0x45","0x4C","0x46"],{mime:"application/x-executable",extension:".elf"});add$1("Mach-O",["0xFE","0xED","0xFA","0xC"],{mime:"application/x-mach-binary",extension:".o"});add$1("Mach-O",["0xFE","0xED","0xFA","0xCF"],{mime:"application/x-executable",extension:"elf"});add$1("EML",["0x52","0x65","0x63","0x65","0x69","0x76","0x65","0x64","0x3A"],{mime:"message/rfc822",extension:".eml"});add$1("SVG",["0x3c","0x73","0x76","0x67"],{mime:"image/svg+xml",extension:"svg"});patternTree.default=()=>tree;(function(a){var e=commonjsGlobal&&commonjsGlobal.__importDefault||function(ht){return ht&&ht.__esModule?ht:{default:ht}};Object.defineProperty(a,"__esModule",{value:!0}),a.filetypeextension=a.filetypemime=a.filetypename=a.filetypeinfo=void 0;const o=e(patternTree),c=toHex$1,d=o.default(),h=ht=>{let yt=d;for(const gt of Object.keys(yt.offset)){const wt=c.fromHex(gt);if(wt>=ht.length)continue;const xt=d.offset[gt],Et=et(wt,ht,xt);if(Et.length>0)return Et}return yt.noOffset===null?[]:et(0,ht,yt.noOffset)};a.filetypeinfo=h;const et=(ht,yt,gt)=>{let wt=gt,bt=[];for(;;){const xt=c.toHex(yt[ht]);if(wt.bytes["?"]&&!wt.bytes[xt]?wt=wt.bytes["?"]:wt=wt.bytes[xt],!wt)return bt;wt&&wt.matches&&(bt=wt.matches.slice(0)),ht+=1}};a.default=a.filetypeinfo;const tt=ht=>a.filetypeinfo(ht).map(yt=>yt.typename);a.filetypename=tt;const ot=ht=>a.filetypeinfo(ht).map(yt=>yt.mime?yt.mime:null).filter(yt=>yt!==null);a.filetypemime=ot;const ft=ht=>a.filetypeinfo(ht).map(yt=>yt.extension?yt.extension:null).filter(yt=>yt!==null);a.filetypeextension=ft})(dist);var __awaiter$a=function(a,e,o,c){function d(h){return h instanceof o?h:new o(function(et){et(h)})}return new(o||(o=Promise))(function(h,et){function tt(ht){try{ft(c.next(ht))}catch(yt){et(yt)}}function ot(ht){try{ft(c.throw(ht))}catch(yt){et(yt)}}function ft(ht){ht.done?h(ht.value):d(ht.value).then(tt,ot)}ft((c=c.apply(a,e||[])).next())})};const ALLOWED_KEY_NAMES_REGEXP=/^[a-zA-Z0-9\-_]*$/,SUPPORTED_TYPES=["boolean","number","string"],SUPPORTED_MIME_TYPES=["application/octet-stream","application/pdf","application/xml","application/zip","audio/midi","audio/mpeg","audio/x-wav","image/bmp","image/gif","image/jpeg","image/png","image/webp","video/mp4","video/mpeg","video/x-msvideo"],supportedDataEntryTypes=new Set([...SUPPORTED_TYPES,...SUPPORTED_MIME_TYPES]),ensureKeyIsValid=a=>{if(a==="")throw Error("Unsupported empty key");if(!ALLOWED_KEY_NAMES_REGEXP.test(a))throw Error("Unsupported special character in key")},ensureDataObjectIsValid=a=>{if(a===void 0)throw Error("Unsupported undefined data");if(a===null)throw Error("Unsupported null data");if(Array.isArray(a))throw Error("Unsupported array data");for(const e in a){ensureKeyIsValid(e);const o=a[e],c=typeof o;if(!(o instanceof Uint8Array||o instanceof ArrayBuffer||c==="boolean"||c==="string"||c==="number"))if(c==="object")ensureDataObjectIsValid(o);else throw Error(`Unsupported ${c} data`)}},ensureDataSchemaIsValid=a=>{if(a===void 0)throw Error("Unsupported undefined schema");if(a===null)throw Error("Unsupported null schema");if(Array.isArray(a))throw Error("Unsupported array schema");for(const e in a){ensureKeyIsValid(e);const o=a[e];if(typeof o=="object")ensureDataSchemaIsValid(o);else if(!supportedDataEntryTypes.has(o))throw Error(`Unsupported type "${o}" in schema`)}},extractDataSchema=a=>__awaiter$a(void 0,void 0,void 0,function*(){const e={};for(const o in a)if(Object.prototype.hasOwnProperty.call(a,o)){const c=a[o],d=typeof c;if(c instanceof Uint8Array||c instanceof ArrayBuffer){let h=[];c instanceof Uint8Array?h=dist.filetypeinfo(c):h=dist.filetypeinfo(new Uint8Array(c));const[et]=h.reduce((tt,ot)=>supportedDataEntryTypes.has(ot.mime)?[...tt,ot.mime]:tt,[]);e[o]=et||"application/octet-stream"}else if(d==="boolean"||d==="number"||d==="string")e[o]=d;else if(d==="object"){const et=yield extractDataSchema(c);e[o]=et}}return e}),createZipFromObject=a=>{const e=new JSZip,o=[],c=(d,h,et)=>{const tt=et?`${et}/${d}`:d;if(typeof h=="object"&&!(h instanceof Uint8Array)&&!(h instanceof ArrayBuffer)){e.folder(tt);for(const[ot,ft]of Object.entries(h))c(ot,ft,tt)}else{let ot;typeof h=="number"?((!Number.isInteger(h)||!Number.isSafeInteger(h))&&o.push(Promise.reject(Error("Unsupported non safe integer number"))),ot=h.toString()):typeof h=="boolean"?ot=h?new Uint8Array([1]):new Uint8Array([0]):typeof h=="string"||h instanceof Uint8Array||h instanceof ArrayBuffer?ot=h:o.push(Promise.reject(Error("Unexpected data format"))),o.push(e.file(tt,ot).generateAsync({type:"uint8array"}).then(()=>{}))}};for(const[d,h]of Object.entries(a))c(d,h,"");return Promise.all(o).then(()=>e.generateAsync({type:"uint8array"}))},reverseSafeSchema=function(a){return a?a.reduce((e,{id:o})=>{const[c,d]=o.split(":");if(c.includes(".")){const h=c.split(".")[0],tt=`${c.split(".").slice(1).join(".")}:${d}`;e[h]=reverseSafeSchema([{id:tt}])}else e[c]=d;return e},{}):{}},transformGraphQLResponse=a=>a.protectedDatas.map(e=>{try{const o=reverseSafeSchema(e.schema);return{name:e.name,address:e.id,owner:e.owner.id,schema:o,creationTimestamp:parseInt(e.creationTimestamp)}}catch{return null}}).filter(e=>e!==null);var __awaiter$9=function(a,e,o,c){function d(h){return h instanceof o?h:new o(function(et){et(h)})}return new(o||(o=Promise))(function(h,et){function tt(ht){try{ft(c.next(ht))}catch(yt){et(yt)}}function ot(ht){try{ft(c.throw(ht))}catch(yt){et(yt)}}function ft(ht){ht.done?h(ht.value):d(ht.value).then(tt,ot)}ft((c=c.apply(a,e||[])).next())})};function flattenSchema(a,e=""){return Object.entries(a).flatMap(([o,c])=>{const d=e?`${e}.${o}`:o;return typeof c=="object"?flattenSchema(c,d):`${d}:${c}`})}const fetchProtectedData=({graphQLClient:a=throwIfMissing(),requiredSchema:e={},owner:o,page:c=0,pageSize:d=1e3})=>__awaiter$9(void 0,void 0,void 0,function*(){let h;try{ensureDataSchemaIsValid(e),h=e}catch(ft){throw new ValidationError(`schema is not valid: ${ft.message}`)}const et=addressSchema().label("owner").validateSync(o),tt=positiveNumberSchema().label("page").validateSync(c),ot=numberBetweenSchema(10,1e3).label("pageSize").validateSync(d);try{const ft=tt*ot,ht=ot,yt=flattenSchema(h),gt=gql`
    query (
      $requiredSchema: [String!]!
      $start: Int!
      $range: Int!
    ) {
      protectedDatas(
        where: {
          transactionHash_not: "0x", 
          schema_contains: $requiredSchema, 
          ${et?`owner: "${et}",`:""}
        }
        skip: $start
        first: $range
        orderBy: creationTimestamp
        orderDirection: desc
      ) {
        id
        name
        owner {
          id
        }
        schema {
          id
        }
        creationTimestamp
      }
    }
  `,wt={requiredSchema:yt,start:ft,range:ht},bt=yield a.request(gt,wt);return transformGraphQLResponse(bt)}catch(ft){throw new WorkflowError("Failed to fetch protected data",ft)}});var __awaiter$8=function(a,e,o,c){function d(h){return h instanceof o?h:new o(function(et){et(h)})}return new(o||(o=Promise))(function(h,et){function tt(ht){try{ft(c.next(ht))}catch(yt){et(yt)}}function ot(ht){try{ft(c.throw(ht))}catch(yt){et(yt)}}function ft(ht){ht.done?h(ht.value):d(ht.value).then(tt,ot)}ft((c=c.apply(a,e||[])).next())})};const isDeployedWhitelist=(a,e)=>__awaiter$8(void 0,void 0,void 0,function*(){const c=yield(yield a.config.resolveContractsClient()).provider.getCode(e),d=c.includes(id(ADD_RESOURCE_SELECTOR).substring(2,10)),h=c.includes(id(KEY_PURPOSE_SELECTOR).substring(2,10));return d&&h});var __awaiter$7=function(a,e,o,c){function d(h){return h instanceof o?h:new o(function(et){et(h)})}return new(o||(o=Promise))(function(h,et){function tt(ht){try{ft(c.next(ht))}catch(yt){et(yt)}}function ot(ht){try{ft(c.throw(ht))}catch(yt){et(yt)}}function ft(ht){ht.done?h(ht.value):d(ht.value).then(tt,ot)}ft((c=c.apply(a,e||[])).next())})};const inferTagFromAppMREnclave=a=>{const e=["tee"];try{const{framework:o}=JSON.parse(a);if(o.toLowerCase()==="scone")return e.push("scone"),e}catch{}throw Error("App does not use a supported TEE framework")},grantAccess=({iexec:a=throwIfMissing(),protectedData:e,authorizedApp:o,authorizedUser:c,pricePerAccess:d,numberOfAccess:h})=>__awaiter$7(void 0,void 0,void 0,function*(){const et=addressOrEnsSchema().required().label("protectedData").validateSync(e),tt=addressOrEnsSchema().required().label("authorizedApp").validateSync(o),ot=addressOrEnsOrAnySchema().required().label("authorizedUser").validateSync(c),ft=positiveIntegerStringSchema().label("pricePerAccess").validateSync(d),ht=positiveStrictIntegerStringSchema().label("numberOfAccess").validateSync(h),{grantedAccess:yt}=yield fetchGrantedAccess({iexec:a,protectedData:et,authorizedApp:tt,authorizedUser:ot}).catch(xt=>{throw new WorkflowError("Failed to check granted access",xt)});if(yt.length>0)throw new WorkflowError("An access has been already granted to this user with this app");let gt;if(yield a.app.checkDeployedApp(o))gt=yield a.app.showApp(o).then(({app:xt})=>inferTagFromAppMREnclave(xt.appMREnclave));else if(yield isDeployedWhitelist(a,o))gt=["tee","scone"];else throw new WorkflowError("Failed to detect the app TEE framework");const bt=yield a.order.createDatasetorder({dataset:et,apprestrict:tt,requesterrestrict:ot,datasetprice:ft,volume:ht,tag:gt}).then(xt=>a.order.signDatasetorder(xt)).catch(xt=>{throw new WorkflowError("Failed to sign data access",xt)});return yield a.order.publishDatasetorder(bt).catch(xt=>{throw new WorkflowError("Failed to publish data access",xt)}),formatGrantedAccess(bt)}),fetchOrdersUnderMaxPrice=(a,e,o,c=DEFAULT_MAX_PRICE)=>{var d,h,et;validateOrders().label("dataset").validateSync(a.orders),validateOrders().label("app").validateSync(e.orders),validateOrders().label("workerpool").validateSync(o.orders);const tt=(d=a.orders[0])===null||d===void 0?void 0:d.order,ot=(h=e.orders[0])===null||h===void 0?void 0:h.order,ft=(et=o.orders[0])===null||et===void 0?void 0:et.order;if(tt.datasetprice+ot.appprice+ft.workerpoolprice<=c)return{datasetorder:tt,apporder:ot,workerpoolorder:ft};throw new Error(`No orders found within the specified price limit ${c} nRLC.`)},version$2="logger/5.7.0";let _permanentCensorErrors=!1,_censorErrors=!1;const LogLevels={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel=LogLevels.default,_globalLogger=null;function _checkNormalize(){try{const a=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{a.push(e)}}),a.length)throw new Error("missing "+a.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(a){return a.message}return null}const _normalizeError=_checkNormalize();var LogLevel;(function(a){a.DEBUG="DEBUG",a.INFO="INFO",a.WARNING="WARNING",a.ERROR="ERROR",a.OFF="OFF"})(LogLevel||(LogLevel={}));var ErrorCode;(function(a){a.UNKNOWN_ERROR="UNKNOWN_ERROR",a.NOT_IMPLEMENTED="NOT_IMPLEMENTED",a.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",a.NETWORK_ERROR="NETWORK_ERROR",a.SERVER_ERROR="SERVER_ERROR",a.TIMEOUT="TIMEOUT",a.BUFFER_OVERRUN="BUFFER_OVERRUN",a.NUMERIC_FAULT="NUMERIC_FAULT",a.MISSING_NEW="MISSING_NEW",a.INVALID_ARGUMENT="INVALID_ARGUMENT",a.MISSING_ARGUMENT="MISSING_ARGUMENT",a.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",a.CALL_EXCEPTION="CALL_EXCEPTION",a.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",a.NONCE_EXPIRED="NONCE_EXPIRED",a.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",a.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",a.TRANSACTION_REPLACED="TRANSACTION_REPLACED",a.ACTION_REJECTED="ACTION_REJECTED"})(ErrorCode||(ErrorCode={}));const HEX="0123456789abcdef";class Logger{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,o){const c=e.toLowerCase();LogLevels[c]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(_logLevel>LogLevels[c])&&console.log.apply(console,o)}debug(...e){this._log(Logger.levels.DEBUG,e)}info(...e){this._log(Logger.levels.INFO,e)}warn(...e){this._log(Logger.levels.WARNING,e)}makeError(e,o,c){if(_censorErrors)return this.makeError("censored error",o,{});o||(o=Logger.errors.UNKNOWN_ERROR),c||(c={});const d=[];Object.keys(c).forEach(ot=>{const ft=c[ot];try{if(ft instanceof Uint8Array){let ht="";for(let yt=0;yt<ft.length;yt++)ht+=HEX[ft[yt]>>4],ht+=HEX[ft[yt]&15];d.push(ot+"=Uint8Array(0x"+ht+")")}else d.push(ot+"="+JSON.stringify(ft))}catch{d.push(ot+"="+JSON.stringify(c[ot].toString()))}}),d.push(`code=${o}`),d.push(`version=${this.version}`);const h=e;let et="";switch(o){case ErrorCode.NUMERIC_FAULT:{et="NUMERIC_FAULT";const ot=e;switch(ot){case"overflow":case"underflow":case"division-by-zero":et+="-"+ot;break;case"negative-power":case"negative-width":et+="-unsupported";break;case"unbound-bitwise-result":et+="-unbound-result";break}break}case ErrorCode.CALL_EXCEPTION:case ErrorCode.INSUFFICIENT_FUNDS:case ErrorCode.MISSING_NEW:case ErrorCode.NONCE_EXPIRED:case ErrorCode.REPLACEMENT_UNDERPRICED:case ErrorCode.TRANSACTION_REPLACED:case ErrorCode.UNPREDICTABLE_GAS_LIMIT:et=o;break}et&&(e+=" [ See: https://links.ethers.org/v5-errors-"+et+" ]"),d.length&&(e+=" ("+d.join(", ")+")");const tt=new Error(e);return tt.reason=h,tt.code=o,Object.keys(c).forEach(function(ot){tt[ot]=c[ot]}),tt}throwError(e,o,c){throw this.makeError(e,o,c)}throwArgumentError(e,o,c){return this.throwError(e,Logger.errors.INVALID_ARGUMENT,{argument:o,value:c})}assert(e,o,c,d){e||this.throwError(o,c,d)}assertArgument(e,o,c,d){e||this.throwArgumentError(o,c,d)}checkNormalize(e){_normalizeError&&this.throwError("platform missing String.prototype.normalize",Logger.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError})}checkSafeUint53(e,o){typeof e=="number"&&(o==null&&(o="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(o,Logger.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(o,Logger.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,o,c){c?c=": "+c:c="",e<o&&this.throwError("missing argument"+c,Logger.errors.MISSING_ARGUMENT,{count:e,expectedCount:o}),e>o&&this.throwError("too many arguments"+c,Logger.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:o})}checkNew(e,o){(e===Object||e==null)&&this.throwError("missing new",Logger.errors.MISSING_NEW,{name:o.name})}checkAbstract(e,o){e===o?this.throwError("cannot instantiate abstract class "+JSON.stringify(o.name)+" directly; use a sub-class",Logger.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Logger.errors.MISSING_NEW,{name:o.name})}static globalLogger(){return _globalLogger||(_globalLogger=new Logger(version$2)),_globalLogger}static setCensorship(e,o){if(!e&&o&&this.globalLogger().throwError("cannot permanently disable censorship",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors){if(!e)return;this.globalLogger().throwError("error censorship permanent",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors=!!e,_permanentCensorErrors=!!o}static setLogLevel(e){const o=LogLevels[e.toLowerCase()];if(o==null){Logger.globalLogger().warn("invalid log level - "+e);return}_logLevel=o}static from(e){return new Logger(e)}}Logger.errors=ErrorCode;Logger.levels=LogLevel;const version$1="bytes/5.7.0",logger$3=new Logger(version$1);function isHexable(a){return!!a.toHexString}function addSlice(a){return a.slice||(a.slice=function(){const e=Array.prototype.slice.call(arguments);return addSlice(new Uint8Array(Array.prototype.slice.apply(a,e)))}),a}function isInteger(a){return typeof a=="number"&&a==a&&a%1===0}function isBytes$1(a){if(a==null)return!1;if(a.constructor===Uint8Array)return!0;if(typeof a=="string"||!isInteger(a.length)||a.length<0)return!1;for(let e=0;e<a.length;e++){const o=a[e];if(!isInteger(o)||o<0||o>=256)return!1}return!0}function arrayify(a,e){if(e||(e={}),typeof a=="number"){logger$3.checkSafeUint53(a,"invalid arrayify value");const o=[];for(;a;)o.unshift(a&255),a=parseInt(String(a/256));return o.length===0&&o.push(0),addSlice(new Uint8Array(o))}if(e.allowMissingPrefix&&typeof a=="string"&&a.substring(0,2)!=="0x"&&(a="0x"+a),isHexable(a)&&(a=a.toHexString()),isHexString(a)){let o=a.substring(2);o.length%2&&(e.hexPad==="left"?o="0"+o:e.hexPad==="right"?o+="0":logger$3.throwArgumentError("hex data is odd-length","value",a));const c=[];for(let d=0;d<o.length;d+=2)c.push(parseInt(o.substring(d,d+2),16));return addSlice(new Uint8Array(c))}return isBytes$1(a)?addSlice(new Uint8Array(a)):logger$3.throwArgumentError("invalid arrayify value","value",a)}function isHexString(a,e){return!(typeof a!="string"||!a.match(/^0x[0-9A-Fa-f]*$/)||e&&a.length!==2+2*e)}const HexCharacters="0123456789abcdef";function hexlify(a,e){if(e||(e={}),typeof a=="number"){logger$3.checkSafeUint53(a,"invalid hexlify value");let o="";for(;a;)o=HexCharacters[a&15]+o,a=Math.floor(a/16);return o.length?(o.length%2&&(o="0"+o),"0x"+o):"0x00"}if(typeof a=="bigint")return a=a.toString(16),a.length%2?"0x0"+a:"0x"+a;if(e.allowMissingPrefix&&typeof a=="string"&&a.substring(0,2)!=="0x"&&(a="0x"+a),isHexable(a))return a.toHexString();if(isHexString(a))return a.length%2&&(e.hexPad==="left"?a="0x0"+a.substring(2):e.hexPad==="right"?a+="0":logger$3.throwArgumentError("hex data is odd-length","value",a)),a.toLowerCase();if(isBytes$1(a)){let o="0x";for(let c=0;c<a.length;c++){let d=a[c];o+=HexCharacters[(d&240)>>4]+HexCharacters[d&15]}return o}return logger$3.throwArgumentError("invalid hexlify value","value",a)}const version="random/5.7.0",logger$2=new Logger(version);function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const anyGlobal=getGlobal();let crypto$1=anyGlobal.crypto||anyGlobal.msCrypto;(!crypto$1||!crypto$1.getRandomValues)&&(logger$2.warn("WARNING: Missing strong random number source"),crypto$1={getRandomValues:function(a){return logger$2.throwError("no secure random source avaialble",Logger.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function randomBytes(a){(a<=0||a>1024||a%1||a!=a)&&logger$2.throwArgumentError("invalid length","length",a);const e=new Uint8Array(a);return crypto$1.getRandomValues(e),arrayify(e)}function generateSecureUniqueId(a){return hexlify(randomBytes(a))}var __awaiter$6=function(a,e,o,c){function d(h){return h instanceof o?h:new o(function(et){et(h)})}return new(o||(o=Promise))(function(h,et){function tt(ht){try{ft(c.next(ht))}catch(yt){et(yt)}}function ot(ht){try{ft(c.throw(ht))}catch(yt){et(yt)}}function ft(ht){ht.done?h(ht.value):d(ht.value).then(tt,ot)}ft((c=c.apply(a,e||[])).next())})};const pushRequesterSecret=(a,e)=>__awaiter$6(void 0,void 0,void 0,function*(){const o={};for(const c in e)if(e.hasOwnProperty(c)){const d=e[c],h=yield generateSecureUniqueId(16);yield a.secrets.pushRequesterSecret(h,d),o[c]=h}return o});var __awaiter$5=function(a,e,o,c){function d(h){return h instanceof o?h:new o(function(et){et(h)})}return new(o||(o=Promise))(function(h,et){function tt(ht){try{ft(c.next(ht))}catch(yt){et(yt)}}function ot(ht){try{ft(c.throw(ht))}catch(yt){et(yt)}}function ft(ht){ht.done?h(ht.value):d(ht.value).then(tt,ot)}ft((c=c.apply(a,e||[])).next())})};const processProtectedData=({iexec:a=throwIfMissing(),protectedData:e=throwIfMissing(),app:o=throwIfMissing(),maxPrice:c=DEFAULT_MAX_PRICE,args:d,inputFiles:h,secrets:et})=>__awaiter$5(void 0,void 0,void 0,function*(){try{const tt=yield a.wallet.getAddress(),ot=addressOrEnsOrAnySchema().required().label("authorizedApp").validateSync(o),ft=addressOrEnsOrAnySchema().required().label("protectedData").validateSync(e),ht=positiveNumberSchema().label("maxPrice").validateSync(c),yt=urlArraySchema().label("inputFiles").validateSync(h),gt=stringSchema().label("args").validateSync(d),wt=secretsSchema().label("secrets").validateSync(et);if(!(yield a.storage.checkStorageTokenExists(tt))){const Mt=yield a.storage.defaultStorageLogin();yield a.storage.pushStorageToken(Mt)}const xt=yield a.orderbook.fetchDatasetOrderbook(ft,{app:ot,requester:tt}),Et=yield a.orderbook.fetchAppOrderbook(ot,{dataset:e,requester:tt,minTag:SCONE_TAG,maxTag:SCONE_TAG,workerpool:WORKERPOOL_ADDRESS}),vt=yield a.orderbook.fetchWorkerpoolOrderbook({workerpool:WORKERPOOL_ADDRESS,app:ot,dataset:ft,minTag:SCONE_TAG,maxTag:SCONE_TAG}),$t=fetchOrdersUnderMaxPrice(xt,Et,vt,ht),At=yield pushRequesterSecret(a,wt),kt=yield a.order.createRequestorder({app:ot,category:$t.workerpoolorder.category,dataset:ft,appmaxprice:ht,workerpoolmaxprice:ht,tag:SCONE_TAG,workerpool:WORKERPOOL_ADDRESS,params:{iexec_input_files:yt,iexec_developer_logger:!0,iexec_secrets:At,iexec_args:gt}}),It=yield a.order.signRequestorder(kt),{dealid:Dt}=yield a.order.matchOrders(Object.assign({requestorder:It},$t));return yield a.deal.computeTaskId(Dt,0)}catch(tt){throw new WorkflowError(`${tt.message}`,tt)}}),ABI=[{type:"constructor",stateMutability:"nonpayable",inputs:[{type:"address",name:"_registry",internalType:"contract DatasetRegistry"}]},{type:"event",name:"DatasetSchema",inputs:[{type:"address",name:"dataset",internalType:"contract Dataset",indexed:!0},{type:"string",name:"schema",internalType:"string",indexed:!1}],anonymous:!1},{type:"function",stateMutability:"nonpayable",outputs:[{type:"address",name:"",internalType:"contract Dataset"}],name:"createDatasetWithSchema",inputs:[{type:"address",name:"_datasetOwner",internalType:"address"},{type:"string",name:"_datasetName",internalType:"string"},{type:"string",name:"_datasetSchema",internalType:"string"},{type:"bytes",name:"_datasetMultiaddr",internalType:"bytes"},{type:"bytes32",name:"_datasetChecksum",internalType:"bytes32"}]},{type:"function",stateMutability:"view",outputs:[{type:"address",name:"",internalType:"contract DatasetRegistry"}],name:"registry",inputs:[]}],LOAD_BASE=a=>Promise.reject(new Error(`No base found for "${a}"`));class Multibases{constructor(e){this._basesByName={},this._basesByPrefix={},this._loadBase=e.loadBase||LOAD_BASE;for(const o of e.bases)this.addBase(o)}addBase(e){if(this._basesByName[e.name]||this._basesByPrefix[e.prefix])throw new Error(`Codec already exists for codec "${e.name}"`);this._basesByName[e.name]=e,this._basesByPrefix[e.prefix]=e}removeBase(e){delete this._basesByName[e.name],delete this._basesByPrefix[e.prefix]}async getBase(e){if(this._basesByName[e])return this._basesByName[e];if(this._basesByPrefix[e])return this._basesByPrefix[e];const o=await this._loadBase(e);return this._basesByName[o.name]==null&&this._basesByPrefix[o.prefix]==null&&this.addBase(o),o}listBases(){return Object.values(this._basesByName)}}const LOAD_CODEC=a=>Promise.reject(new Error(`No codec found for "${a}"`));class Multicodecs{constructor(e){this._codecsByName={},this._codecsByCode={},this._loadCodec=e.loadCodec||LOAD_CODEC;for(const o of e.codecs)this.addCodec(o)}addCodec(e){if(this._codecsByName[e.name]||this._codecsByCode[e.code])throw new Error(`Resolver already exists for codec "${e.name}"`);this._codecsByName[e.name]=e,this._codecsByCode[e.code]=e}removeCodec(e){delete this._codecsByName[e.name],delete this._codecsByCode[e.code]}async getCodec(e){const o=typeof e=="string"?this._codecsByName:this._codecsByCode;if(o[e])return o[e];const c=await this._loadCodec(e);return o[e]==null&&this.addCodec(c),c}listCodecs(){return Object.values(this._codecsByName)}}const LOAD_HASHER=a=>Promise.reject(new Error(`No hasher found for "${a}"`));class Multihashes{constructor(e){this._hashersByName={},this._hashersByCode={},this._loadHasher=e.loadHasher||LOAD_HASHER;for(const o of e.hashers)this.addHasher(o)}addHasher(e){if(this._hashersByName[e.name]||this._hashersByCode[e.code])throw new Error(`Resolver already exists for codec "${e.name}"`);this._hashersByName[e.name]=e,this._hashersByCode[e.code]=e}removeHasher(e){delete this._hashersByName[e.name],delete this._hashersByCode[e.code]}async getHasher(e){const o=typeof e=="string"?this._hashersByName:this._hashersByCode;if(o[e])return o[e];const c=await this._loadHasher(e);return o[e]==null&&this.addHasher(c),c}listHashers(){return Object.values(this._hashersByName)}}const textDecoder$2=new TextDecoder;function decodeVarint(a,e){let o=0;for(let c=0;;c+=7){if(c>=64)throw new Error("protobuf: varint overflow");if(e>=a.length)throw new Error("protobuf: unexpected end of data");const d=a[e++];if(o+=c<28?(d&127)<<c:(d&127)*2**c,d<128)break}return[o,e]}function decodeBytes(a,e){let o;[o,e]=decodeVarint(a,e);const c=e+o;if(o<0||c<0)throw new Error("protobuf: invalid length");if(c>a.length)throw new Error("protobuf: unexpected end of data");return[a.subarray(e,c),c]}function decodeKey(a,e){let o;return[o,e]=decodeVarint(a,e),[o&7,o>>3,e]}function decodeLink(a){const e={},o=a.length;let c=0;for(;c<o;){let d,h;if([d,h,c]=decodeKey(a,c),h===1){if(e.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(d!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${d}) for Hash`);if(e.Name!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[e.Hash,c]=decodeBytes(a,c)}else if(h===2){if(e.Name!==void 0)throw new Error("protobuf: (PBLink) duplicate Name section");if(d!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${d}) for Name`);if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let et;[et,c]=decodeBytes(a,c),e.Name=textDecoder$2.decode(et)}else if(h===3){if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(d!==0)throw new Error(`protobuf: (PBLink) wrong wireType (${d}) for Tsize`);[e.Tsize,c]=decodeVarint(a,c)}else throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${h}`)}if(c>o)throw new Error("protobuf: (PBLink) unexpected end of data");return e}function decodeNode(a){const e=a.length;let o=0,c,d=!1,h;for(;o<e;){let tt,ot;if([tt,ot,o]=decodeKey(a,o),tt!==2)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${tt}`);if(ot===1){if(h)throw new Error("protobuf: (PBNode) duplicate Data section");[h,o]=decodeBytes(a,o),c&&(d=!0)}else if(ot===2){if(d)throw new Error("protobuf: (PBNode) duplicate Links section");c||(c=[]);let ft;[ft,o]=decodeBytes(a,o),c.push(decodeLink(ft))}else throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${ot}`)}if(o>e)throw new Error("protobuf: (PBNode) unexpected end of data");const et={};return h&&(et.Data=h),et.Links=c||[],et}const textEncoder$3=new TextEncoder,maxInt32=2**32,maxUInt32=2**31;function encodeLink(a,e){let o=e.length;if(typeof a.Tsize=="number"){if(a.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(a.Tsize))throw new Error("Tsize too large for encoding");o=encodeVarint(e,o,a.Tsize)-1,e[o]=24}if(typeof a.Name=="string"){const c=textEncoder$3.encode(a.Name);o-=c.length,e.set(c,o),o=encodeVarint(e,o,c.length)-1,e[o]=18}return a.Hash&&(o-=a.Hash.length,e.set(a.Hash,o),o=encodeVarint(e,o,a.Hash.length)-1,e[o]=10),e.length-o}function encodeNode(a){const e=sizeNode(a),o=new Uint8Array(e);let c=e;if(a.Data&&(c-=a.Data.length,o.set(a.Data,c),c=encodeVarint(o,c,a.Data.length)-1,o[c]=10),a.Links)for(let d=a.Links.length-1;d>=0;d--){const h=encodeLink(a.Links[d],o.subarray(0,c));c-=h,c=encodeVarint(o,c,h)-1,o[c]=18}return o}function sizeLink(a){let e=0;if(a.Hash){const o=a.Hash.length;e+=1+o+sov(o)}if(typeof a.Name=="string"){const o=textEncoder$3.encode(a.Name).length;e+=1+o+sov(o)}return typeof a.Tsize=="number"&&(e+=1+sov(a.Tsize)),e}function sizeNode(a){let e=0;if(a.Data){const o=a.Data.length;e+=1+o+sov(o)}if(a.Links)for(const o of a.Links){const c=sizeLink(o);e+=1+c+sov(c)}return e}function encodeVarint(a,e,o){e-=sov(o);const c=e;for(;o>=maxUInt32;)a[e++]=o&127|128,o/=128;for(;o>=128;)a[e++]=o&127|128,o>>>=7;return a[e]=o,c}function sov(a){return a%2===0&&a++,Math.floor((len64(a)+6)/7)}function len64(a){let e=0;return a>=maxInt32&&(a=Math.floor(a/maxInt32),e=32),a>=65536&&(a>>>=16,e+=16),a>=256&&(a>>>=8,e+=8),e+len8tab[a]}const len8tab=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],pbNodeProperties=["Data","Links"],pbLinkProperties=["Hash","Name","Tsize"],textEncoder$2=new TextEncoder;function linkComparator(a,e){if(a===e)return 0;const o=a.Name?textEncoder$2.encode(a.Name):[],c=e.Name?textEncoder$2.encode(e.Name):[];let d=o.length,h=c.length;for(let et=0,tt=Math.min(d,h);et<tt;++et)if(o[et]!==c[et]){d=o[et],h=c[et];break}return d<h?-1:h<d?1:0}function hasOnlyProperties(a,e){return!Object.keys(a).some(o=>!e.includes(o))}function asLink(a){if(typeof a.asCID=="object"){const o=CID$4.asCID(a);if(!o)throw new TypeError("Invalid DAG-PB form");return{Hash:o}}if(typeof a!="object"||Array.isArray(a))throw new TypeError("Invalid DAG-PB form");const e={};if(a.Hash){let o=CID$4.asCID(a.Hash);try{o||(typeof a.Hash=="string"?o=CID$4.parse(a.Hash):a.Hash instanceof Uint8Array&&(o=CID$4.decode(a.Hash)))}catch(c){throw new TypeError(`Invalid DAG-PB form: ${c.message}`)}o&&(e.Hash=o)}if(!e.Hash)throw new TypeError("Invalid DAG-PB form");return typeof a.Name=="string"&&(e.Name=a.Name),typeof a.Tsize=="number"&&(e.Tsize=a.Tsize),e}function prepare(a){if((a instanceof Uint8Array||typeof a=="string")&&(a={Data:a}),typeof a!="object"||Array.isArray(a))throw new TypeError("Invalid DAG-PB form");const e={};if(a.Data!==void 0)if(typeof a.Data=="string")e.Data=textEncoder$2.encode(a.Data);else if(a.Data instanceof Uint8Array)e.Data=a.Data;else throw new TypeError("Invalid DAG-PB form");if(a.Links!==void 0)if(Array.isArray(a.Links))e.Links=a.Links.map(asLink),e.Links.sort(linkComparator);else throw new TypeError("Invalid DAG-PB form");else e.Links=[];return e}function validate(a){if(!a||typeof a!="object"||Array.isArray(a)||a instanceof Uint8Array||a["/"]&&a["/"]===a.bytes)throw new TypeError("Invalid DAG-PB form");if(!hasOnlyProperties(a,pbNodeProperties))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(a.Data!==void 0&&!(a.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be bytes)");if(!Array.isArray(a.Links))throw new TypeError("Invalid DAG-PB form (Links must be a list)");for(let e=0;e<a.Links.length;e++){const o=a.Links[e];if(!o||typeof o!="object"||Array.isArray(o)||o instanceof Uint8Array||o["/"]&&o["/"]===o.bytes)throw new TypeError("Invalid DAG-PB form (bad link)");if(!hasOnlyProperties(o,pbLinkProperties))throw new TypeError("Invalid DAG-PB form (extraneous properties on link)");if(o.Hash===void 0)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(o.Hash==null||!o.Hash["/"]||o.Hash["/"]!==o.Hash.bytes)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(o.Name!==void 0&&typeof o.Name!="string")throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(o.Tsize!==void 0){if(typeof o.Tsize!="number"||o.Tsize%1!==0)throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(o.Tsize<0)throw new TypeError("Invalid DAG-PB form (link Tsize cannot be negative)")}if(e>0&&linkComparator(o,a.Links[e-1])===-1)throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function createNode(a,e=[]){return prepare({Data:a,Links:e})}function createLink(a,e,o){return asLink({Hash:o,Name:a,Tsize:e})}function toByteView$2(a){return a instanceof ArrayBuffer?new Uint8Array(a,0,a.byteLength):a}const name$7="dag-pb",code$7=112;function encode$s(a){validate(a);const e={};return a.Links&&(e.Links=a.Links.map(o=>{const c={};return o.Hash&&(c.Hash=o.Hash.bytes),o.Name!==void 0&&(c.Name=o.Name),o.Tsize!==void 0&&(c.Tsize=o.Tsize),c})),a.Data&&(e.Data=a.Data),encodeNode(e)}function decode$y(a){const e=toByteView$2(a),o=decodeNode(e),c={};return o.Data&&(c.Data=o.Data),o.Links&&(c.Links=o.Links.map(d=>{const h={};try{h.Hash=CID$4.decode(d.Hash)}catch{}if(!h.Hash)throw new Error("Invalid Hash field found in link, expected CID");return d.Name!==void 0&&(h.Name=d.Name),d.Tsize!==void 0&&(h.Tsize=d.Tsize),h})),c}const dagPB=Object.freeze(Object.defineProperty({__proto__:null,code:code$7,createLink,createNode,decode:decode$y,encode:encode$s,name:name$7,prepare,validate},Symbol.toStringTag,{value:"Module"})),typeofs=["string","number","bigint","symbol"],objectTypeNames=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function is(a){if(a===null)return"null";if(a===void 0)return"undefined";if(a===!0||a===!1)return"boolean";const e=typeof a;if(typeofs.includes(e))return e;if(e==="function")return"Function";if(Array.isArray(a))return"Array";if(isBuffer$1(a))return"Buffer";const o=getObjectType(a);return o||"Object"}function isBuffer$1(a){return a&&a.constructor&&a.constructor.isBuffer&&a.constructor.isBuffer.call(null,a)}function getObjectType(a){const e=Object.prototype.toString.call(a).slice(8,-1);if(objectTypeNames.includes(e))return e}class Type{constructor(e,o,c){this.major=e,this.majorEncoded=e<<5,this.name=o,this.terminal=c}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}}Type.uint=new Type(0,"uint",!0);Type.negint=new Type(1,"negint",!0);Type.bytes=new Type(2,"bytes",!0);Type.string=new Type(3,"string",!0);Type.array=new Type(4,"array",!1);Type.map=new Type(5,"map",!1);Type.tag=new Type(6,"tag",!1);Type.float=new Type(7,"float",!0);Type.false=new Type(7,"false",!0);Type.true=new Type(7,"true",!0);Type.null=new Type(7,"null",!0);Type.undefined=new Type(7,"undefined",!0);Type.break=new Type(7,"break",!0);class Token{constructor(e,o,c){this.type=e,this.value=o,this.encodedLength=c,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const useBuffer=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",textDecoder$1=new TextDecoder,textEncoder$1=new TextEncoder;function isBuffer(a){return useBuffer&&globalThis.Buffer.isBuffer(a)}function asU8A(a){return a instanceof Uint8Array?isBuffer(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):a:Uint8Array.from(a)}const toString$8=useBuffer?(a,e,o)=>o-e>64?globalThis.Buffer.from(a.subarray(e,o)).toString("utf8"):utf8Slice(a,e,o):(a,e,o)=>o-e>64?textDecoder$1.decode(a.subarray(e,o)):utf8Slice(a,e,o),fromString$8=useBuffer?a=>a.length>64?globalThis.Buffer.from(a):utf8ToBytes(a):a=>a.length>64?textEncoder$1.encode(a):utf8ToBytes(a),fromArray=a=>Uint8Array.from(a),slice=useBuffer?(a,e,o)=>isBuffer(a)?new Uint8Array(a.subarray(e,o)):a.slice(e,o):(a,e,o)=>a.slice(e,o),concat$1=useBuffer?(a,e)=>(a=a.map(o=>o instanceof Uint8Array?o:globalThis.Buffer.from(o)),asU8A(globalThis.Buffer.concat(a,e))):(a,e)=>{const o=new Uint8Array(e);let c=0;for(let d of a)c+d.length>o.length&&(d=d.subarray(0,o.length-c)),o.set(d,c),c+=d.length;return o},alloc=useBuffer?a=>globalThis.Buffer.allocUnsafe(a):a=>new Uint8Array(a);function compare(a,e){if(isBuffer(a)&&isBuffer(e))return a.compare(e);for(let o=0;o<a.length;o++)if(a[o]!==e[o])return a[o]<e[o]?-1:1;return 0}function utf8ToBytes(a){const e=[];let o=0;for(let c=0;c<a.length;c++){let d=a.charCodeAt(c);d<128?e[o++]=d:d<2048?(e[o++]=d>>6|192,e[o++]=d&63|128):(d&64512)===55296&&c+1<a.length&&(a.charCodeAt(c+1)&64512)===56320?(d=65536+((d&1023)<<10)+(a.charCodeAt(++c)&1023),e[o++]=d>>18|240,e[o++]=d>>12&63|128,e[o++]=d>>6&63|128,e[o++]=d&63|128):(e[o++]=d>>12|224,e[o++]=d>>6&63|128,e[o++]=d&63|128)}return e}function utf8Slice(a,e,o){const c=[];for(;e<o;){const d=a[e];let h=null,et=d>239?4:d>223?3:d>191?2:1;if(e+et<=o){let tt,ot,ft,ht;switch(et){case 1:d<128&&(h=d);break;case 2:tt=a[e+1],(tt&192)===128&&(ht=(d&31)<<6|tt&63,ht>127&&(h=ht));break;case 3:tt=a[e+1],ot=a[e+2],(tt&192)===128&&(ot&192)===128&&(ht=(d&15)<<12|(tt&63)<<6|ot&63,ht>2047&&(ht<55296||ht>57343)&&(h=ht));break;case 4:tt=a[e+1],ot=a[e+2],ft=a[e+3],(tt&192)===128&&(ot&192)===128&&(ft&192)===128&&(ht=(d&15)<<18|(tt&63)<<12|(ot&63)<<6|ft&63,ht>65535&&ht<1114112&&(h=ht))}}h===null?(h=65533,et=1):h>65535&&(h-=65536,c.push(h>>>10&1023|55296),h=56320|h&1023),c.push(h),e+=et}return decodeCodePointsArray(c)}const MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(a){const e=a.length;if(e<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,a);let o="",c=0;for(;c<e;)o+=String.fromCharCode.apply(String,a.slice(c,c+=MAX_ARGUMENTS_LENGTH));return o}const defaultChunkSize=256;class Bl{constructor(e=defaultChunkSize){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let o=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){const d=o.length-(this.maxCursor-this.cursor)-1;o.set(e,d)}else{if(o){const d=o.length-(this.maxCursor-this.cursor)-1;d<o.length&&(this.chunks[this.chunks.length-1]=o.subarray(0,d),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(o=alloc(this.chunkSize),this.chunks.push(o),this.maxCursor+=o.length,this._initReuseChunk===null&&(this._initReuseChunk=o),o.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let o;if(this.chunks.length===1){const c=this.chunks[0];e&&this.cursor>c.length/2?(o=this.cursor===c.length?c:c.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):o=slice(c,0,this.cursor)}else o=concat$1(this.chunks,this.cursor);return e&&this.reset(),o}}const decodeErrPrefix="CBOR decode error:",encodeErrPrefix="CBOR encode error:";function assertEnoughData(a,e,o){if(a.length-e<o)throw new Error(`${decodeErrPrefix} not enough data for type`)}const uintBoundaries=[24,256,65536,4294967296,BigInt("18446744073709551616")];function readUint8(a,e,o){assertEnoughData(a,e,1);const c=a[e];if(o.strict===!0&&c<uintBoundaries[0])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return c}function readUint16(a,e,o){assertEnoughData(a,e,2);const c=a[e]<<8|a[e+1];if(o.strict===!0&&c<uintBoundaries[1])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return c}function readUint32(a,e,o){assertEnoughData(a,e,4);const c=a[e]*16777216+(a[e+1]<<16)+(a[e+2]<<8)+a[e+3];if(o.strict===!0&&c<uintBoundaries[2])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return c}function readUint64(a,e,o){assertEnoughData(a,e,8);const c=a[e]*16777216+(a[e+1]<<16)+(a[e+2]<<8)+a[e+3],d=a[e+4]*16777216+(a[e+5]<<16)+(a[e+6]<<8)+a[e+7],h=(BigInt(c)<<BigInt(32))+BigInt(d);if(o.strict===!0&&h<uintBoundaries[3])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);if(h<=Number.MAX_SAFE_INTEGER)return Number(h);if(o.allowBigInt===!0)return h;throw new Error(`${decodeErrPrefix} integers outside of the safe integer range are not supported`)}function decodeUint8(a,e,o,c){return new Token(Type.uint,readUint8(a,e+1,c),2)}function decodeUint16(a,e,o,c){return new Token(Type.uint,readUint16(a,e+1,c),3)}function decodeUint32(a,e,o,c){return new Token(Type.uint,readUint32(a,e+1,c),5)}function decodeUint64(a,e,o,c){return new Token(Type.uint,readUint64(a,e+1,c),9)}function encodeUint(a,e){return encodeUintValue(a,0,e.value)}function encodeUintValue(a,e,o){if(o<uintBoundaries[0]){const c=Number(o);a.push([e|c])}else if(o<uintBoundaries[1]){const c=Number(o);a.push([e|24,c])}else if(o<uintBoundaries[2]){const c=Number(o);a.push([e|25,c>>>8,c&255])}else if(o<uintBoundaries[3]){const c=Number(o);a.push([e|26,c>>>24&255,c>>>16&255,c>>>8&255,c&255])}else{const c=BigInt(o);if(c<uintBoundaries[4]){const d=[e|27,0,0,0,0,0,0,0];let h=Number(c&BigInt(4294967295)),et=Number(c>>BigInt(32)&BigInt(4294967295));d[8]=h&255,h=h>>8,d[7]=h&255,h=h>>8,d[6]=h&255,h=h>>8,d[5]=h&255,d[4]=et&255,et=et>>8,d[3]=et&255,et=et>>8,d[2]=et&255,et=et>>8,d[1]=et&255,a.push(d)}else throw new Error(`${decodeErrPrefix} encountered BigInt larger than allowable range`)}}encodeUint.encodedSize=function(e){return encodeUintValue.encodedSize(e.value)};encodeUintValue.encodedSize=function(e){return e<uintBoundaries[0]?1:e<uintBoundaries[1]?2:e<uintBoundaries[2]?3:e<uintBoundaries[3]?5:9};encodeUint.compareTokens=function(e,o){return e.value<o.value?-1:e.value>o.value?1:0};function decodeNegint8(a,e,o,c){return new Token(Type.negint,-1-readUint8(a,e+1,c),2)}function decodeNegint16(a,e,o,c){return new Token(Type.negint,-1-readUint16(a,e+1,c),3)}function decodeNegint32(a,e,o,c){return new Token(Type.negint,-1-readUint32(a,e+1,c),5)}const neg1b=BigInt(-1),pos1b=BigInt(1);function decodeNegint64(a,e,o,c){const d=readUint64(a,e+1,c);if(typeof d!="bigint"){const h=-1-d;if(h>=Number.MIN_SAFE_INTEGER)return new Token(Type.negint,h,9)}if(c.allowBigInt!==!0)throw new Error(`${decodeErrPrefix} integers outside of the safe integer range are not supported`);return new Token(Type.negint,neg1b-BigInt(d),9)}function encodeNegint(a,e){const o=e.value,c=typeof o=="bigint"?o*neg1b-pos1b:o*-1-1;encodeUintValue(a,e.type.majorEncoded,c)}encodeNegint.encodedSize=function(e){const o=e.value,c=typeof o=="bigint"?o*neg1b-pos1b:o*-1-1;return c<uintBoundaries[0]?1:c<uintBoundaries[1]?2:c<uintBoundaries[2]?3:c<uintBoundaries[3]?5:9};encodeNegint.compareTokens=function(e,o){return e.value<o.value?1:e.value>o.value?-1:0};function toToken$3(a,e,o,c){assertEnoughData(a,e,o+c);const d=slice(a,e+o,e+o+c);return new Token(Type.bytes,d,o+c)}function decodeBytesCompact(a,e,o,c){return toToken$3(a,e,1,o)}function decodeBytes8(a,e,o,c){return toToken$3(a,e,2,readUint8(a,e+1,c))}function decodeBytes16(a,e,o,c){return toToken$3(a,e,3,readUint16(a,e+1,c))}function decodeBytes32(a,e,o,c){return toToken$3(a,e,5,readUint32(a,e+1,c))}function decodeBytes64(a,e,o,c){const d=readUint64(a,e+1,c);if(typeof d=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer bytes lengths not supported`);return toToken$3(a,e,9,d)}function tokenBytes(a){return a.encodedBytes===void 0&&(a.encodedBytes=a.type===Type.string?fromString$8(a.value):a.value),a.encodedBytes}function encodeBytes(a,e){const o=tokenBytes(e);encodeUintValue(a,e.type.majorEncoded,o.length),a.push(o)}encodeBytes.encodedSize=function(e){const o=tokenBytes(e);return encodeUintValue.encodedSize(o.length)+o.length};encodeBytes.compareTokens=function(e,o){return compareBytes(tokenBytes(e),tokenBytes(o))};function compareBytes(a,e){return a.length<e.length?-1:a.length>e.length?1:compare(a,e)}function toToken$2(a,e,o,c,d){const h=o+c;assertEnoughData(a,e,h);const et=new Token(Type.string,toString$8(a,e+o,e+h),h);return d.retainStringBytes===!0&&(et.byteValue=slice(a,e+o,e+h)),et}function decodeStringCompact(a,e,o,c){return toToken$2(a,e,1,o,c)}function decodeString8(a,e,o,c){return toToken$2(a,e,2,readUint8(a,e+1,c),c)}function decodeString16(a,e,o,c){return toToken$2(a,e,3,readUint16(a,e+1,c),c)}function decodeString32(a,e,o,c){return toToken$2(a,e,5,readUint32(a,e+1,c),c)}function decodeString64(a,e,o,c){const d=readUint64(a,e+1,c);if(typeof d=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer string lengths not supported`);return toToken$2(a,e,9,d,c)}const encodeString=encodeBytes;function toToken$1(a,e,o,c){return new Token(Type.array,c,o)}function decodeArrayCompact(a,e,o,c){return toToken$1(a,e,1,o)}function decodeArray8(a,e,o,c){return toToken$1(a,e,2,readUint8(a,e+1,c))}function decodeArray16(a,e,o,c){return toToken$1(a,e,3,readUint16(a,e+1,c))}function decodeArray32(a,e,o,c){return toToken$1(a,e,5,readUint32(a,e+1,c))}function decodeArray64(a,e,o,c){const d=readUint64(a,e+1,c);if(typeof d=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer array lengths not supported`);return toToken$1(a,e,9,d)}function decodeArrayIndefinite(a,e,o,c){if(c.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return toToken$1(a,e,1,1/0)}function encodeArray(a,e){encodeUintValue(a,Type.array.majorEncoded,e.value)}encodeArray.compareTokens=encodeUint.compareTokens;encodeArray.encodedSize=function(e){return encodeUintValue.encodedSize(e.value)};function toToken(a,e,o,c){return new Token(Type.map,c,o)}function decodeMapCompact(a,e,o,c){return toToken(a,e,1,o)}function decodeMap8(a,e,o,c){return toToken(a,e,2,readUint8(a,e+1,c))}function decodeMap16(a,e,o,c){return toToken(a,e,3,readUint16(a,e+1,c))}function decodeMap32(a,e,o,c){return toToken(a,e,5,readUint32(a,e+1,c))}function decodeMap64(a,e,o,c){const d=readUint64(a,e+1,c);if(typeof d=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer map lengths not supported`);return toToken(a,e,9,d)}function decodeMapIndefinite(a,e,o,c){if(c.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return toToken(a,e,1,1/0)}function encodeMap(a,e){encodeUintValue(a,Type.map.majorEncoded,e.value)}encodeMap.compareTokens=encodeUint.compareTokens;encodeMap.encodedSize=function(e){return encodeUintValue.encodedSize(e.value)};function decodeTagCompact(a,e,o,c){return new Token(Type.tag,o,1)}function decodeTag8(a,e,o,c){return new Token(Type.tag,readUint8(a,e+1,c),2)}function decodeTag16(a,e,o,c){return new Token(Type.tag,readUint16(a,e+1,c),3)}function decodeTag32(a,e,o,c){return new Token(Type.tag,readUint32(a,e+1,c),5)}function decodeTag64(a,e,o,c){return new Token(Type.tag,readUint64(a,e+1,c),9)}function encodeTag(a,e){encodeUintValue(a,Type.tag.majorEncoded,e.value)}encodeTag.compareTokens=encodeUint.compareTokens;encodeTag.encodedSize=function(e){return encodeUintValue.encodedSize(e.value)};const MINOR_FALSE=20,MINOR_TRUE=21,MINOR_NULL=22,MINOR_UNDEFINED=23;function decodeUndefined(a,e,o,c){if(c.allowUndefined===!1)throw new Error(`${decodeErrPrefix} undefined values are not supported`);return c.coerceUndefinedToNull===!0?new Token(Type.null,null,1):new Token(Type.undefined,void 0,1)}function decodeBreak(a,e,o,c){if(c.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return new Token(Type.break,void 0,1)}function createToken(a,e,o){if(o){if(o.allowNaN===!1&&Number.isNaN(a))throw new Error(`${decodeErrPrefix} NaN values are not supported`);if(o.allowInfinity===!1&&(a===1/0||a===-1/0))throw new Error(`${decodeErrPrefix} Infinity values are not supported`)}return new Token(Type.float,a,e)}function decodeFloat16(a,e,o,c){return createToken(readFloat16(a,e+1),3,c)}function decodeFloat32(a,e,o,c){return createToken(readFloat32(a,e+1),5,c)}function decodeFloat64(a,e,o,c){return createToken(readFloat64(a,e+1),9,c)}function encodeFloat(a,e,o){const c=e.value;if(c===!1)a.push([Type.float.majorEncoded|MINOR_FALSE]);else if(c===!0)a.push([Type.float.majorEncoded|MINOR_TRUE]);else if(c===null)a.push([Type.float.majorEncoded|MINOR_NULL]);else if(c===void 0)a.push([Type.float.majorEncoded|MINOR_UNDEFINED]);else{let d,h=!1;(!o||o.float64!==!0)&&(encodeFloat16(c),d=readFloat16(ui8a,1),c===d||Number.isNaN(c)?(ui8a[0]=249,a.push(ui8a.slice(0,3)),h=!0):(encodeFloat32(c),d=readFloat32(ui8a,1),c===d&&(ui8a[0]=250,a.push(ui8a.slice(0,5)),h=!0))),h||(encodeFloat64(c),d=readFloat64(ui8a,1),ui8a[0]=251,a.push(ui8a.slice(0,9)))}}encodeFloat.encodedSize=function(e,o){const c=e.value;if(c===!1||c===!0||c===null||c===void 0)return 1;if(!o||o.float64!==!0){encodeFloat16(c);let d=readFloat16(ui8a,1);if(c===d||Number.isNaN(c))return 3;if(encodeFloat32(c),d=readFloat32(ui8a,1),c===d)return 5}return 9};const buffer=new ArrayBuffer(9),dataView=new DataView(buffer,1),ui8a=new Uint8Array(buffer,0);function encodeFloat16(a){if(a===1/0)dataView.setUint16(0,31744,!1);else if(a===-1/0)dataView.setUint16(0,64512,!1);else if(Number.isNaN(a))dataView.setUint16(0,32256,!1);else{dataView.setFloat32(0,a);const e=dataView.getUint32(0),o=(e&2139095040)>>23,c=e&8388607;if(o===255)dataView.setUint16(0,31744,!1);else if(o===0)dataView.setUint16(0,(a&2147483648)>>16|c>>13,!1);else{const d=o-127;d<-24?dataView.setUint16(0,0):d<-14?dataView.setUint16(0,(e&2147483648)>>16|1<<24+d,!1):dataView.setUint16(0,(e&2147483648)>>16|d+15<<10|c>>13,!1)}}}function readFloat16(a,e){if(a.length-e<2)throw new Error(`${decodeErrPrefix} not enough data for float16`);const o=(a[e]<<8)+a[e+1];if(o===31744)return 1/0;if(o===64512)return-1/0;if(o===32256)return NaN;const c=o>>10&31,d=o&1023;let h;return c===0?h=d*2**-24:c!==31?h=(d+1024)*2**(c-25):h=d===0?1/0:NaN,o&32768?-h:h}function encodeFloat32(a){dataView.setFloat32(0,a,!1)}function readFloat32(a,e){if(a.length-e<4)throw new Error(`${decodeErrPrefix} not enough data for float32`);const o=(a.byteOffset||0)+e;return new DataView(a.buffer,o,4).getFloat32(0,!1)}function encodeFloat64(a){dataView.setFloat64(0,a,!1)}function readFloat64(a,e){if(a.length-e<8)throw new Error(`${decodeErrPrefix} not enough data for float64`);const o=(a.byteOffset||0)+e;return new DataView(a.buffer,o,8).getFloat64(0,!1)}encodeFloat.compareTokens=encodeUint.compareTokens;function invalidMinor(a,e,o){throw new Error(`${decodeErrPrefix} encountered invalid minor (${o}) for major ${a[e]>>>5}`)}function errorer(a){return()=>{throw new Error(`${decodeErrPrefix} ${a}`)}}const jump=[];for(let a=0;a<=23;a++)jump[a]=invalidMinor;jump[24]=decodeUint8;jump[25]=decodeUint16;jump[26]=decodeUint32;jump[27]=decodeUint64;jump[28]=invalidMinor;jump[29]=invalidMinor;jump[30]=invalidMinor;jump[31]=invalidMinor;for(let a=32;a<=55;a++)jump[a]=invalidMinor;jump[56]=decodeNegint8;jump[57]=decodeNegint16;jump[58]=decodeNegint32;jump[59]=decodeNegint64;jump[60]=invalidMinor;jump[61]=invalidMinor;jump[62]=invalidMinor;jump[63]=invalidMinor;for(let a=64;a<=87;a++)jump[a]=decodeBytesCompact;jump[88]=decodeBytes8;jump[89]=decodeBytes16;jump[90]=decodeBytes32;jump[91]=decodeBytes64;jump[92]=invalidMinor;jump[93]=invalidMinor;jump[94]=invalidMinor;jump[95]=errorer("indefinite length bytes/strings are not supported");for(let a=96;a<=119;a++)jump[a]=decodeStringCompact;jump[120]=decodeString8;jump[121]=decodeString16;jump[122]=decodeString32;jump[123]=decodeString64;jump[124]=invalidMinor;jump[125]=invalidMinor;jump[126]=invalidMinor;jump[127]=errorer("indefinite length bytes/strings are not supported");for(let a=128;a<=151;a++)jump[a]=decodeArrayCompact;jump[152]=decodeArray8;jump[153]=decodeArray16;jump[154]=decodeArray32;jump[155]=decodeArray64;jump[156]=invalidMinor;jump[157]=invalidMinor;jump[158]=invalidMinor;jump[159]=decodeArrayIndefinite;for(let a=160;a<=183;a++)jump[a]=decodeMapCompact;jump[184]=decodeMap8;jump[185]=decodeMap16;jump[186]=decodeMap32;jump[187]=decodeMap64;jump[188]=invalidMinor;jump[189]=invalidMinor;jump[190]=invalidMinor;jump[191]=decodeMapIndefinite;for(let a=192;a<=215;a++)jump[a]=decodeTagCompact;jump[216]=decodeTag8;jump[217]=decodeTag16;jump[218]=decodeTag32;jump[219]=decodeTag64;jump[220]=invalidMinor;jump[221]=invalidMinor;jump[222]=invalidMinor;jump[223]=invalidMinor;for(let a=224;a<=243;a++)jump[a]=errorer("simple values are not supported");jump[244]=invalidMinor;jump[245]=invalidMinor;jump[246]=invalidMinor;jump[247]=decodeUndefined;jump[248]=errorer("simple values are not supported");jump[249]=decodeFloat16;jump[250]=decodeFloat32;jump[251]=decodeFloat64;jump[252]=invalidMinor;jump[253]=invalidMinor;jump[254]=invalidMinor;jump[255]=decodeBreak;const quick=[];for(let a=0;a<24;a++)quick[a]=new Token(Type.uint,a,1);for(let a=-1;a>=-24;a--)quick[31-a]=new Token(Type.negint,a,1);quick[64]=new Token(Type.bytes,new Uint8Array(0),1);quick[96]=new Token(Type.string,"",1);quick[128]=new Token(Type.array,0,1);quick[160]=new Token(Type.map,0,1);quick[244]=new Token(Type.false,!1,1);quick[245]=new Token(Type.true,!0,1);quick[246]=new Token(Type.null,null,1);function quickEncodeToken(a){switch(a.type){case Type.false:return fromArray([244]);case Type.true:return fromArray([245]);case Type.null:return fromArray([246]);case Type.bytes:return a.value.length?void 0:fromArray([64]);case Type.string:return a.value===""?fromArray([96]):void 0;case Type.array:return a.value===0?fromArray([128]):void 0;case Type.map:return a.value===0?fromArray([160]):void 0;case Type.uint:return a.value<24?fromArray([Number(a.value)]):void 0;case Type.negint:if(a.value>=-24)return fromArray([31-Number(a.value)])}}const defaultEncodeOptions$1={float64:!1,mapSorter:mapSorter$1,quickEncodeToken};function makeCborEncoders(){const a=[];return a[Type.uint.major]=encodeUint,a[Type.negint.major]=encodeNegint,a[Type.bytes.major]=encodeBytes,a[Type.string.major]=encodeString,a[Type.array.major]=encodeArray,a[Type.map.major]=encodeMap,a[Type.tag.major]=encodeTag,a[Type.float.major]=encodeFloat,a}const cborEncoders=makeCborEncoders(),buf=new Bl;class Ref{constructor(e,o){this.obj=e,this.parent=o}includes(e){let o=this;do if(o.obj===e)return!0;while(o=o.parent);return!1}static createCheck(e,o){if(e&&e.includes(o))throw new Error(`${encodeErrPrefix} object contains circular references`);return new Ref(o,e)}}const simpleTokens={null:new Token(Type.null,null),undefined:new Token(Type.undefined,void 0),true:new Token(Type.true,!0),false:new Token(Type.false,!1),emptyArray:new Token(Type.array,0),emptyMap:new Token(Type.map,0)},typeEncoders={number(a,e,o,c){return!Number.isInteger(a)||!Number.isSafeInteger(a)?new Token(Type.float,a):a>=0?new Token(Type.uint,a):new Token(Type.negint,a)},bigint(a,e,o,c){return a>=BigInt(0)?new Token(Type.uint,a):new Token(Type.negint,a)},Uint8Array(a,e,o,c){return new Token(Type.bytes,a)},string(a,e,o,c){return new Token(Type.string,a)},boolean(a,e,o,c){return a?simpleTokens.true:simpleTokens.false},null(a,e,o,c){return simpleTokens.null},undefined(a,e,o,c){return simpleTokens.undefined},ArrayBuffer(a,e,o,c){return new Token(Type.bytes,new Uint8Array(a))},DataView(a,e,o,c){return new Token(Type.bytes,new Uint8Array(a.buffer,a.byteOffset,a.byteLength))},Array(a,e,o,c){if(!a.length)return o.addBreakTokens===!0?[simpleTokens.emptyArray,new Token(Type.break)]:simpleTokens.emptyArray;c=Ref.createCheck(c,a);const d=[];let h=0;for(const et of a)d[h++]=objectToTokens(et,o,c);return o.addBreakTokens?[new Token(Type.array,a.length),d,new Token(Type.break)]:[new Token(Type.array,a.length),d]},Object(a,e,o,c){const d=e!=="Object",h=d?a.keys():Object.keys(a),et=d?a.size:h.length;if(!et)return o.addBreakTokens===!0?[simpleTokens.emptyMap,new Token(Type.break)]:simpleTokens.emptyMap;c=Ref.createCheck(c,a);const tt=[];let ot=0;for(const ft of h)tt[ot++]=[objectToTokens(ft,o,c),objectToTokens(d?a.get(ft):a[ft],o,c)];return sortMapEntries(tt,o),o.addBreakTokens?[new Token(Type.map,et),tt,new Token(Type.break)]:[new Token(Type.map,et),tt]}};typeEncoders.Map=typeEncoders.Object;typeEncoders.Buffer=typeEncoders.Uint8Array;for(const a of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))typeEncoders[`${a}Array`]=typeEncoders.DataView;function objectToTokens(a,e={},o){const c=is(a),d=e&&e.typeEncoders&&e.typeEncoders[c]||typeEncoders[c];if(typeof d=="function"){const et=d(a,c,e,o);if(et!=null)return et}const h=typeEncoders[c];if(!h)throw new Error(`${encodeErrPrefix} unsupported type: ${c}`);return h(a,c,e,o)}function sortMapEntries(a,e){e.mapSorter&&a.sort(e.mapSorter)}function mapSorter$1(a,e){const o=Array.isArray(a[0])?a[0][0]:a[0],c=Array.isArray(e[0])?e[0][0]:e[0];if(o.type!==c.type)return o.type.compare(c.type);const d=o.type.major,h=cborEncoders[d].compareTokens(o,c);return h===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),h}function tokensToEncoded(a,e,o,c){if(Array.isArray(e))for(const d of e)tokensToEncoded(a,d,o,c);else o[e.type.major](a,e,c)}function encodeCustom(a,e,o){const c=objectToTokens(a,o);if(!Array.isArray(c)&&o.quickEncodeToken){const d=o.quickEncodeToken(c);if(d)return d;const h=e[c.type.major];if(h.encodedSize){const et=h.encodedSize(c,o),tt=new Bl(et);if(h(tt,c,o),tt.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${c} was wrong`);return asU8A(tt.chunks[0])}}return buf.reset(),tokensToEncoded(buf,c,e,o),buf.toBytes(!0)}function encode$r(a,e){return e=Object.assign({},defaultEncodeOptions$1,e),encodeCustom(a,cborEncoders,e)}const defaultDecodeOptions={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class Tokeniser{constructor(e,o={}){this._pos=0,this.data=e,this.options=o}pos(){return this._pos}done(){return this._pos>=this.data.length}next(){const e=this.data[this._pos];let o=quick[e];if(o===void 0){const c=jump[e];if(!c)throw new Error(`${decodeErrPrefix} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);const d=e&31;o=c(this.data,this._pos,d,this.options)}return this._pos+=o.encodedLength,o}}const DONE=Symbol.for("DONE"),BREAK=Symbol.for("BREAK");function tokenToArray(a,e,o){const c=[];for(let d=0;d<a.value;d++){const h=tokensToObject(e,o);if(h===BREAK){if(a.value===1/0)break;throw new Error(`${decodeErrPrefix} got unexpected break to lengthed array`)}if(h===DONE)throw new Error(`${decodeErrPrefix} found array but not enough entries (got ${d}, expected ${a.value})`);c[d]=h}return c}function tokenToMap(a,e,o){const c=o.useMaps===!0,d=c?void 0:{},h=c?new Map:void 0;for(let et=0;et<a.value;et++){const tt=tokensToObject(e,o);if(tt===BREAK){if(a.value===1/0)break;throw new Error(`${decodeErrPrefix} got unexpected break to lengthed map`)}if(tt===DONE)throw new Error(`${decodeErrPrefix} found map but not enough entries (got ${et} [no key], expected ${a.value})`);if(c!==!0&&typeof tt!="string")throw new Error(`${decodeErrPrefix} non-string keys not supported (got ${typeof tt})`);if(o.rejectDuplicateMapKeys===!0&&(c&&h.has(tt)||!c&&tt in d))throw new Error(`${decodeErrPrefix} found repeat map key "${tt}"`);const ot=tokensToObject(e,o);if(ot===DONE)throw new Error(`${decodeErrPrefix} found map but not enough entries (got ${et} [no value], expected ${a.value})`);c?h.set(tt,ot):d[tt]=ot}return c?h:d}function tokensToObject(a,e){if(a.done())return DONE;const o=a.next();if(o.type===Type.break)return BREAK;if(o.type.terminal)return o.value;if(o.type===Type.array)return tokenToArray(o,a,e);if(o.type===Type.map)return tokenToMap(o,a,e);if(o.type===Type.tag){if(e.tags&&typeof e.tags[o.value]=="function"){const c=tokensToObject(a,e);return e.tags[o.value](c)}throw new Error(`${decodeErrPrefix} tag not supported (${o.value})`)}throw new Error("unsupported")}function decodeFirst(a,e){if(!(a instanceof Uint8Array))throw new Error(`${decodeErrPrefix} data to decode must be a Uint8Array`);e=Object.assign({},defaultDecodeOptions,e);const o=e.tokenizer||new Tokeniser(a,e),c=tokensToObject(o,e);if(c===DONE)throw new Error(`${decodeErrPrefix} did not find any content to decode`);if(c===BREAK)throw new Error(`${decodeErrPrefix} got unexpected break`);return[c,a.subarray(o.pos())]}function decode$x(a,e){const[o,c]=decodeFirst(a,e);if(c.length>0)throw new Error(`${decodeErrPrefix} too many terminals, data makes no sense`);return o}const CID_CBOR_TAG=42;function toByteView$1(a){return a instanceof ArrayBuffer?new Uint8Array(a,0,a.byteLength):a}function cidEncoder$1(a){if(a.asCID!==a&&a["/"]!==a.bytes)return null;const e=CID$4.asCID(a);if(!e)return null;const o=new Uint8Array(e.bytes.byteLength+1);return o.set(e.bytes,1),[new Token(Type.tag,CID_CBOR_TAG),new Token(Type.bytes,o)]}function undefinedEncoder$1(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function numberEncoder$1(a){if(Number.isNaN(a))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(a===1/0||a===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}const _encodeOptions={float64:!0,typeEncoders:{Object:cidEncoder$1,undefined:undefinedEncoder$1,number:numberEncoder$1}},encodeOptions$1={..._encodeOptions,typeEncoders:{..._encodeOptions.typeEncoders}};function cidDecoder(a){if(a[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return CID$4.decode(a.subarray(1))}const _decodeOptions={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};_decodeOptions.tags[CID_CBOR_TAG]=cidDecoder;const decodeOptions$1={..._decodeOptions,tags:_decodeOptions.tags.slice()},name$6="dag-cbor",code$6=113,encode$q=a=>encode$r(a,_encodeOptions),decode$w=a=>decode$x(toByteView$1(a),_decodeOptions),dagCBOR=Object.freeze(Object.defineProperty({__proto__:null,code:code$6,decode:decode$w,decodeOptions:decodeOptions$1,encode:encode$q,encodeOptions:encodeOptions$1,name:name$6,toByteView:toByteView$1},Symbol.toStringTag,{value:"Module"}));class JSONEncoder extends Array{constructor(){super(),this.inRecursive=[]}prefix(e){const o=this.inRecursive[this.inRecursive.length-1];o&&(o.type===Type.array&&(o.elements++,o.elements!==1&&e.push([44])),o.type===Type.map&&(o.elements++,o.elements!==1&&(o.elements%2===1?e.push([44]):e.push([58]))))}[Type.uint.major](e,o){this.prefix(e);const c=String(o.value),d=[];for(let h=0;h<c.length;h++)d[h]=c.charCodeAt(h);e.push(d)}[Type.negint.major](e,o){this[Type.uint.major](e,o)}[Type.bytes.major](e,o){throw new Error(`${encodeErrPrefix} unsupported type: Uint8Array`)}[Type.string.major](e,o){this.prefix(e);const c=fromString$8(JSON.stringify(o.value));e.push(c.length>32?asU8A(c):c)}[Type.array.major](e,o){this.prefix(e),this.inRecursive.push({type:Type.array,elements:0}),e.push([91])}[Type.map.major](e,o){this.prefix(e),this.inRecursive.push({type:Type.map,elements:0}),e.push([123])}[Type.tag.major](e,o){}[Type.float.major](e,o){if(o.type.name==="break"){const et=this.inRecursive.pop();if(et){if(et.type===Type.array)e.push([93]);else if(et.type===Type.map)e.push([125]);else throw new Error("Unexpected recursive type; this should not happen!");return}throw new Error("Unexpected break; this should not happen!")}if(o.value===void 0)throw new Error(`${encodeErrPrefix} unsupported type: undefined`);if(this.prefix(e),o.type.name==="true"){e.push([116,114,117,101]);return}else if(o.type.name==="false"){e.push([102,97,108,115,101]);return}else if(o.type.name==="null"){e.push([110,117,108,108]);return}const c=String(o.value),d=[];let h=!1;for(let et=0;et<c.length;et++)d[et]=c.charCodeAt(et),!h&&(d[et]===46||d[et]===101||d[et]===69)&&(h=!0);h||(d.push(46),d.push(48)),e.push(d)}}function mapSorter(a,e){if(Array.isArray(a[0])||Array.isArray(e[0]))throw new Error(`${encodeErrPrefix} complex map keys are not supported`);const o=a[0],c=e[0];if(o.type!==Type.string||c.type!==Type.string)throw new Error(`${encodeErrPrefix} non-string map keys are not supported`);if(o<c)return-1;if(o>c)return 1;throw new Error(`${encodeErrPrefix} unexpected duplicate map keys, this is not supported`)}const defaultEncodeOptions={addBreakTokens:!0,mapSorter};function encode$p(a,e){return e=Object.assign({},defaultEncodeOptions,e),encodeCustom(a,new JSONEncoder,e)}class Tokenizer{constructor(e,o={}){this._pos=0,this.data=e,this.options=o,this.modeStack=["value"],this.lastToken=""}pos(){return this._pos}done(){return this._pos>=this.data.length}ch(){return this.data[this._pos]}currentMode(){return this.modeStack[this.modeStack.length-1]}skipWhitespace(){let e=this.ch();for(;e===32||e===9||e===13||e===10;)e=this.data[++this._pos]}expect(e){if(this.data.length-this._pos<e.length)throw new Error(`${decodeErrPrefix} unexpected end of input at position ${this._pos}`);for(let o=0;o<e.length;o++)if(this.data[this._pos++]!==e[o])throw new Error(`${decodeErrPrefix} unexpected token at position ${this._pos}, expected to find '${String.fromCharCode(...e)}'`)}parseNumber(){const e=this._pos;let o=!1,c=!1;const d=tt=>{for(;!this.done();){const ot=this.ch();if(tt.includes(ot))this._pos++;else break}};if(this.ch()===45&&(o=!0,this._pos++),this.ch()===48)if(this._pos++,this.ch()===46)this._pos++,c=!0;else return new Token(Type.uint,0,this._pos-e);if(d([48,49,50,51,52,53,54,55,56,57]),o&&this._pos===e+1)throw new Error(`${decodeErrPrefix} unexpected token at position ${this._pos}`);if(!this.done()&&this.ch()===46){if(c)throw new Error(`${decodeErrPrefix} unexpected token at position ${this._pos}`);c=!0,this._pos++,d([48,49,50,51,52,53,54,55,56,57])}!this.done()&&(this.ch()===101||this.ch()===69)&&(c=!0,this._pos++,!this.done()&&(this.ch()===43||this.ch()===45)&&this._pos++,d([48,49,50,51,52,53,54,55,56,57]));const h=String.fromCharCode.apply(null,this.data.subarray(e,this._pos)),et=parseFloat(h);return c?new Token(Type.float,et,this._pos-e):this.options.allowBigInt!==!0||Number.isSafeInteger(et)?new Token(et>=0?Type.uint:Type.negint,et,this._pos-e):new Token(et>=0?Type.uint:Type.negint,BigInt(h),this._pos-e)}parseString(){if(this.ch()!==34)throw new Error(`${decodeErrPrefix} unexpected character at position ${this._pos}; this shouldn't happen`);this._pos++;for(let h=this._pos,et=0;h<this.data.length&&et<65536;h++,et++){const tt=this.data[h];if(tt===92||tt<32||tt>=128)break;if(tt===34){const ot=String.fromCharCode.apply(null,this.data.subarray(this._pos,h));return this._pos=h+1,new Token(Type.string,ot,et)}}const e=this._pos,o=[],c=()=>{if(this._pos+4>=this.data.length)throw new Error(`${decodeErrPrefix} unexpected end of unicode escape sequence at position ${this._pos}`);let h=0;for(let et=0;et<4;et++){let tt=this.ch();if(tt>=48&&tt<=57)tt-=48;else if(tt>=97&&tt<=102)tt=tt-97+10;else if(tt>=65&&tt<=70)tt=tt-65+10;else throw new Error(`${decodeErrPrefix} unexpected unicode escape character at position ${this._pos}`);h=h*16+tt,this._pos++}return h},d=()=>{const h=this.ch();let et=null,tt=h>239?4:h>223?3:h>191?2:1;if(this._pos+tt>this.data.length)throw new Error(`${decodeErrPrefix} unexpected unicode sequence at position ${this._pos}`);let ot,ft,ht,yt;switch(tt){case 1:h<128&&(et=h);break;case 2:ot=this.data[this._pos+1],(ot&192)===128&&(yt=(h&31)<<6|ot&63,yt>127&&(et=yt));break;case 3:ot=this.data[this._pos+1],ft=this.data[this._pos+2],(ot&192)===128&&(ft&192)===128&&(yt=(h&15)<<12|(ot&63)<<6|ft&63,yt>2047&&(yt<55296||yt>57343)&&(et=yt));break;case 4:ot=this.data[this._pos+1],ft=this.data[this._pos+2],ht=this.data[this._pos+3],(ot&192)===128&&(ft&192)===128&&(ht&192)===128&&(yt=(h&15)<<18|(ot&63)<<12|(ft&63)<<6|ht&63,yt>65535&&yt<1114112&&(et=yt))}et===null?(et=65533,tt=1):et>65535&&(et-=65536,o.push(et>>>10&1023|55296),et=56320|et&1023),o.push(et),this._pos+=tt};for(;!this.done();){const h=this.ch();let et;switch(h){case 92:if(this._pos++,this.done())throw new Error(`${decodeErrPrefix} unexpected string termination at position ${this._pos}`);switch(et=this.ch(),this._pos++,et){case 34:case 39:case 92:case 47:o.push(et);break;case 98:o.push(8);break;case 116:o.push(9);break;case 110:o.push(10);break;case 102:o.push(12);break;case 114:o.push(13);break;case 117:o.push(c());break;default:throw new Error(`${decodeErrPrefix} unexpected string escape character at position ${this._pos}`)}break;case 34:return this._pos++,new Token(Type.string,decodeCodePointsArray(o),this._pos-e);default:if(h<32)throw new Error(`${decodeErrPrefix} invalid control character at position ${this._pos}`);h<128?(o.push(h),this._pos++):d()}}throw new Error(`${decodeErrPrefix} unexpected end of string at position ${this._pos}`)}parseValue(){switch(this.ch()){case 123:return this.modeStack.push("obj-start"),this._pos++,new Token(Type.map,1/0,1);case 91:return this.modeStack.push("array-start"),this._pos++,new Token(Type.array,1/0,1);case 34:return this.parseString();case 110:return this.expect([110,117,108,108]),new Token(Type.null,null,4);case 102:return this.expect([102,97,108,115,101]),new Token(Type.false,!1,5);case 116:return this.expect([116,114,117,101]),new Token(Type.true,!0,4);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.parseNumber();default:throw new Error(`${decodeErrPrefix} unexpected character at position ${this._pos}`)}}next(){switch(this.skipWhitespace(),this.currentMode()){case"value":return this.modeStack.pop(),this.parseValue();case"array-value":{if(this.modeStack.pop(),this.ch()===93)return this._pos++,this.skipWhitespace(),new Token(Type.break,void 0,1);if(this.ch()!==44)throw new Error(`${decodeErrPrefix} unexpected character at position ${this._pos}, was expecting array delimiter but found '${String.fromCharCode(this.ch())}'`);return this._pos++,this.modeStack.push("array-value"),this.skipWhitespace(),this.parseValue()}case"array-start":return this.modeStack.pop(),this.ch()===93?(this._pos++,this.skipWhitespace(),new Token(Type.break,void 0,1)):(this.modeStack.push("array-value"),this.skipWhitespace(),this.parseValue());case"obj-key":if(this.ch()===125)return this.modeStack.pop(),this._pos++,this.skipWhitespace(),new Token(Type.break,void 0,1);if(this.ch()!==44)throw new Error(`${decodeErrPrefix} unexpected character at position ${this._pos}, was expecting object delimiter but found '${String.fromCharCode(this.ch())}'`);this._pos++,this.skipWhitespace();case"obj-start":{if(this.modeStack.pop(),this.ch()===125)return this._pos++,this.skipWhitespace(),new Token(Type.break,void 0,1);const e=this.parseString();if(this.skipWhitespace(),this.ch()!==58)throw new Error(`${decodeErrPrefix} unexpected character at position ${this._pos}, was expecting key/value delimiter ':' but found '${String.fromCharCode(this.ch())}'`);return this._pos++,this.modeStack.push("obj-value"),e}case"obj-value":return this.modeStack.pop(),this.modeStack.push("obj-key"),this.skipWhitespace(),this.parseValue();default:throw new Error(`${decodeErrPrefix} unexpected parse state at position ${this._pos}; this shouldn't happen`)}}}function decode$v(a,e){return e=Object.assign({tokenizer:new Tokenizer(a,e)},e),decode$x(a,e)}function toByteView(a){return a instanceof ArrayBuffer?new Uint8Array(a,0,a.byteLength):a}function cidEncoder(a){if(a.asCID!==a&&a["/"]!==a.bytes)return null;const e=CID$4.asCID(a);if(!e)return null;const o=e.toString();return[new Token(Type.map,1/0,1),new Token(Type.string,"/",1),new Token(Type.string,o,o.length),new Token(Type.break,void 0,1)]}function bytesEncoder(a){const e=base64$d.encode(a).slice(1);return[new Token(Type.map,1/0,1),new Token(Type.string,"/",1),new Token(Type.map,1/0,1),new Token(Type.string,"bytes",5),new Token(Type.string,e,e.length),new Token(Type.break,void 0,1),new Token(Type.break,void 0,1)]}function taBytesEncoder(a){return bytesEncoder(new Uint8Array(a.buffer,a.byteOffset,a.byteLength))}function abBytesEncoder(a){return bytesEncoder(new Uint8Array(a))}function undefinedEncoder(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function numberEncoder(a){if(Number.isNaN(a))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(a===1/0||a===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}const encodeOptions={typeEncoders:{Object:cidEncoder,Buffer:bytesEncoder,Uint8Array:bytesEncoder,Int8Array:taBytesEncoder,Uint16Array:taBytesEncoder,Int16Array:taBytesEncoder,Uint32Array:taBytesEncoder,Int32Array:taBytesEncoder,Float32Array:taBytesEncoder,Float64Array:taBytesEncoder,Uint8ClampedArray:taBytesEncoder,BigInt64Array:taBytesEncoder,BigUint64Array:taBytesEncoder,DataView:taBytesEncoder,ArrayBuffer:abBytesEncoder,undefined:undefinedEncoder,number:numberEncoder}};class DagJsonTokenizer extends Tokenizer{constructor(e,o){super(e,o),this.tokenBuffer=[]}done(){return this.tokenBuffer.length===0&&super.done()}_next(){return this.tokenBuffer.length>0?this.tokenBuffer.pop():super.next()}next(){const e=this._next();if(e.type===Type.map){const o=this._next();if(o.type===Type.string&&o.value==="/"){const c=this._next();if(c.type===Type.string){if(this._next().type!==Type.break)throw new Error("Invalid encoded CID form");return this.tokenBuffer.push(c),new Token(Type.tag,42,0)}if(c.type===Type.map){const d=this._next();if(d.type===Type.string&&d.value==="bytes"){const h=this._next();if(h.type===Type.string){for(let tt=0;tt<2;tt++)if(this._next().type!==Type.break)throw new Error("Invalid encoded Bytes form");const et=base64$d.decode(`m${h.value}`);return new Token(Type.bytes,et,h.value.length)}this.tokenBuffer.push(h)}this.tokenBuffer.push(d)}this.tokenBuffer.push(c)}this.tokenBuffer.push(o)}return e}}const decodeOptions={allowIndefinite:!1,allowUndefined:!1,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};decodeOptions.tags[42]=CID$4.parse;const name$5="dag-json",code$5=297,encode$o=a=>encode$p(a,encodeOptions),decode$u=a=>{const e=toByteView(a),o=Object.assign(decodeOptions,{tokenizer:new DagJsonTokenizer(e,decodeOptions)});return decode$v(e,o)},format$7=a=>utf8Decoder.decode(encode$o(a)),utf8Decoder=new TextDecoder,parse$1=a=>decode$u(utf8Encoder.encode(a)),utf8Encoder=new TextEncoder,dagJSON=Object.freeze(Object.defineProperty({__proto__:null,code:code$5,decode:decode$u,encode:encode$o,format:format$7,name:name$5,parse:parse$1,stringify:format$7},Symbol.toStringTag,{value:"Module"}));function base$6(a,e){if(a.length>=255)throw new TypeError("Alphabet too long");for(var o=new Uint8Array(256),c=0;c<o.length;c++)o[c]=255;for(var d=0;d<a.length;d++){var h=a.charAt(d),et=h.charCodeAt(0);if(o[et]!==255)throw new TypeError(h+" is ambiguous");o[et]=d}var tt=a.length,ot=a.charAt(0),ft=Math.log(tt)/Math.log(256),ht=Math.log(256)/Math.log(tt);function yt(bt){if(bt instanceof Uint8Array||(ArrayBuffer.isView(bt)?bt=new Uint8Array(bt.buffer,bt.byteOffset,bt.byteLength):Array.isArray(bt)&&(bt=Uint8Array.from(bt))),!(bt instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(bt.length===0)return"";for(var xt=0,Et=0,vt=0,$t=bt.length;vt!==$t&&bt[vt]===0;)vt++,xt++;for(var At=($t-vt)*ht+1>>>0,kt=new Uint8Array(At);vt!==$t;){for(var It=bt[vt],Dt=0,Mt=At-1;(It!==0||Dt<Et)&&Mt!==-1;Mt--,Dt++)It+=256*kt[Mt]>>>0,kt[Mt]=It%tt>>>0,It=It/tt>>>0;if(It!==0)throw new Error("Non-zero carry");Et=Dt,vt++}for(var zt=At-Et;zt!==At&&kt[zt]===0;)zt++;for(var Kt=ot.repeat(xt);zt<At;++zt)Kt+=a.charAt(kt[zt]);return Kt}function gt(bt){if(typeof bt!="string")throw new TypeError("Expected String");if(bt.length===0)return new Uint8Array;var xt=0;if(bt[xt]!==" "){for(var Et=0,vt=0;bt[xt]===ot;)Et++,xt++;for(var $t=(bt.length-xt)*ft+1>>>0,At=new Uint8Array($t);bt[xt];){var kt=o[bt.charCodeAt(xt)];if(kt===255)return;for(var It=0,Dt=$t-1;(kt!==0||It<vt)&&Dt!==-1;Dt--,It++)kt+=tt*At[Dt]>>>0,At[Dt]=kt%256>>>0,kt=kt/256>>>0;if(kt!==0)throw new Error("Non-zero carry");vt=It,xt++}if(bt[xt]!==" "){for(var Mt=$t-vt;Mt!==$t&&At[Mt]===0;)Mt++;for(var zt=new Uint8Array(Et+($t-Mt)),Kt=Et;Mt!==$t;)zt[Kt++]=At[Mt++];return zt}}}function wt(bt){var xt=gt(bt);if(xt)return xt;throw new Error(`Non-${e} character`)}return{encode:yt,decodeUnsafe:gt,decode:wt}}var src$7=base$6,_brrp__multiformats_scope_baseX$6=src$7;const equals$9=(a,e)=>{if(a===e)return!0;if(a.byteLength!==e.byteLength)return!1;for(let o=0;o<a.byteLength;o++)if(a[o]!==e[o])return!1;return!0},coerce$6=a=>{if(a instanceof Uint8Array&&a.constructor.name==="Uint8Array")return a;if(a instanceof ArrayBuffer)return new Uint8Array(a);if(ArrayBuffer.isView(a))return new Uint8Array(a.buffer,a.byteOffset,a.byteLength);throw new Error("Unknown type, must be binary type")};let Encoder$6=class{constructor(e,o,c){this.name=e,this.prefix=o,this.baseEncode=c}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Decoder$6=class{constructor(e,o,c){if(this.name=e,this.prefix=o,o.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=o.codePointAt(0),this.baseDecode=c}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return or$6(this,e)}},ComposedDecoder$6=class{constructor(e){this.decoders=e}or(e){return or$6(this,e)}decode(e){const o=e[0],c=this.decoders[o];if(c)return c.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const or$6=(a,e)=>new ComposedDecoder$6({...a.decoders||{[a.prefix]:a},...e.decoders||{[e.prefix]:e}});let Codec$6=class{constructor(e,o,c,d){this.name=e,this.prefix=o,this.baseEncode=c,this.baseDecode=d,this.encoder=new Encoder$6(e,o,c),this.decoder=new Decoder$6(e,o,d)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const from$8=({name:a,prefix:e,encode:o,decode:c})=>new Codec$6(a,e,o,c),baseX$6=({prefix:a,name:e,alphabet:o})=>{const{encode:c,decode:d}=_brrp__multiformats_scope_baseX$6(o,e);return from$8({prefix:a,name:e,encode:c,decode:h=>coerce$6(d(h))})},decode$t=(a,e,o,c)=>{const d={};for(let ht=0;ht<e.length;++ht)d[e[ht]]=ht;let h=a.length;for(;a[h-1]==="=";)--h;const et=new Uint8Array(h*o/8|0);let tt=0,ot=0,ft=0;for(let ht=0;ht<h;++ht){const yt=d[a[ht]];if(yt===void 0)throw new SyntaxError(`Non-${c} character`);ot=ot<<o|yt,tt+=o,tt>=8&&(tt-=8,et[ft++]=255&ot>>tt)}if(tt>=o||255&ot<<8-tt)throw new SyntaxError("Unexpected end of data");return et},encode$n=(a,e,o)=>{const c=e[e.length-1]==="=",d=(1<<o)-1;let h="",et=0,tt=0;for(let ot=0;ot<a.length;++ot)for(tt=tt<<8|a[ot],et+=8;et>o;)et-=o,h+=e[d&tt>>et];if(et&&(h+=e[d&tt<<o-et]),c)for(;h.length*o&7;)h+="=";return h},rfc4648$6=({name:a,prefix:e,bitsPerChar:o,alphabet:c})=>from$8({prefix:e,name:a,encode(d){return encode$n(d,c,o)},decode(d){return decode$t(d,c,o,a)}});rfc4648$6({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});rfc4648$6({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});const base64url$5=rfc4648$6({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6});rfc4648$6({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});function toBase64url(a){return base64url$5.encode(a).slice(1)}function fromBase64url(a){return base64url$5.decode(`u${a}`)}var encode_1$4=encode$m,MSB$6=128,REST$6=127,MSBALL$4=~REST$6,INT$4=Math.pow(2,31);function encode$m(a,e,o){e=e||[],o=o||0;for(var c=o;a>=INT$4;)e[o++]=a&255|MSB$6,a/=128;for(;a&MSBALL$4;)e[o++]=a&255|MSB$6,a>>>=7;return e[o]=a|0,encode$m.bytes=o-c+1,e}var decode$s=read$4,MSB$1$3=128,REST$1$3=127;function read$4(a,c){var o=0,c=c||0,d=0,h=c,et,tt=a.length;do{if(h>=tt)throw read$4.bytes=0,new RangeError("Could not decode varint");et=a[h++],o+=d<28?(et&REST$1$3)<<d:(et&REST$1$3)*Math.pow(2,d),d+=7}while(et>=MSB$1$3);return read$4.bytes=h-c,o}var N1$4=Math.pow(2,7),N2$4=Math.pow(2,14),N3$4=Math.pow(2,21),N4$4=Math.pow(2,28),N5$4=Math.pow(2,35),N6$4=Math.pow(2,42),N7$4=Math.pow(2,49),N8$4=Math.pow(2,56),N9$4=Math.pow(2,63),length$4=function(a){return a<N1$4?1:a<N2$4?2:a<N3$4?3:a<N4$4?4:a<N5$4?5:a<N6$4?6:a<N7$4?7:a<N8$4?8:a<N9$4?9:10},varint$5={encode:encode_1$4,decode:decode$s,encodingLength:length$4},_brrp_varint$3=varint$5;const decode$r=(a,e=0)=>[_brrp_varint$3.decode(a,e),_brrp_varint$3.decode.bytes],encodeTo$3=(a,e,o=0)=>(_brrp_varint$3.encode(a,e,o),e),encodingLength$3=a=>_brrp_varint$3.encodingLength(a),create$6=(a,e)=>{const o=e.byteLength,c=encodingLength$3(a),d=c+encodingLength$3(o),h=new Uint8Array(d+o);return encodeTo$3(a,h,0),encodeTo$3(o,h,c),h.set(e,d),new Digest$3(a,o,e,h)},decode$q=a=>{const e=coerce$6(a),[o,c]=decode$r(e),[d,h]=decode$r(e.subarray(c)),et=e.subarray(c+h);if(et.byteLength!==d)throw new Error("Incorrect length");return new Digest$3(o,d,et,e)},equals$8=(a,e)=>{if(a===e)return!0;{const o=e;return a.code===o.code&&a.size===o.size&&o.bytes instanceof Uint8Array&&equals$9(a.bytes,o.bytes)}};let Digest$3=class{constructor(e,o,c,d){this.code=e,this.size=o,this.digest=c,this.bytes=d}};const base58btc$6=baseX$6({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX$6({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});const base32$b=rfc4648$6({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648$6({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});rfc4648$6({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});rfc4648$6({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});rfc4648$6({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});rfc4648$6({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});rfc4648$6({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});rfc4648$6({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});rfc4648$6({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});const format$6=(a,e)=>{const{bytes:o,version:c}=a;switch(c){case 0:return toStringV0$3(o,baseCache$3(a),e||base58btc$6.encoder);default:return toStringV1$3(o,baseCache$3(a),e||base32$b.encoder)}},cache$3=new WeakMap,baseCache$3=a=>{const e=cache$3.get(a);if(e==null){const o=new Map;return cache$3.set(a,o),o}return e};let CID$3=class en{constructor(e,o,c,d){this.code=o,this.version=e,this.multihash=c,this.bytes=d,this["/"]=d}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:o}=this;if(e!==DAG_PB_CODE$3)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(o.code!==SHA_256_CODE$3)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return en.createV0(o)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:e,digest:o}=this.multihash,c=create$6(e,o);return en.createV1(this.code,c)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return en.equals(this,e)}static equals(e,o){const c=o;return c&&e.code===c.code&&e.version===c.version&&equals$8(e.multihash,c.multihash)}toString(e){return format$6(this,e)}toJSON(){return{"/":format$6(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;const o=e;if(o instanceof en)return o;if(o["/"]!=null&&o["/"]===o.bytes||o.asCID===o){const{version:c,code:d,multihash:h,bytes:et}=o;return new en(c,d,h,et||encodeCID$4(c,d,h.bytes))}else if(o[cidSymbol$3]===!0){const{version:c,multihash:d,code:h}=o,et=decode$q(d);return en.create(c,h,et)}else return null}static create(e,o,c){if(typeof o!="number")throw new Error("String codecs are no longer supported");if(!(c.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(o!==DAG_PB_CODE$3)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE$3}) block encoding`);return new en(e,o,c,c.bytes)}case 1:{const d=encodeCID$4(e,o,c.bytes);return new en(e,o,c,d)}default:throw new Error("Invalid version")}}static createV0(e){return en.create(0,DAG_PB_CODE$3,e)}static createV1(e,o){return en.create(1,e,o)}static decode(e){const[o,c]=en.decodeFirst(e);if(c.length)throw new Error("Incorrect length");return o}static decodeFirst(e){const o=en.inspectBytes(e),c=o.size-o.multihashSize,d=coerce$6(e.subarray(c,c+o.multihashSize));if(d.byteLength!==o.multihashSize)throw new Error("Incorrect length");const h=d.subarray(o.multihashSize-o.digestSize),et=new Digest$3(o.multihashCode,o.digestSize,h,d);return[o.version===0?en.createV0(et):en.createV1(o.codec,et),e.subarray(o.size)]}static inspectBytes(e){let o=0;const c=()=>{const[yt,gt]=decode$r(e.subarray(o));return o+=gt,yt};let d=c(),h=DAG_PB_CODE$3;if(d===18?(d=0,o=0):h=c(),d!==0&&d!==1)throw new RangeError(`Invalid CID version ${d}`);const et=o,tt=c(),ot=c(),ft=o+ot,ht=ft-et;return{version:d,codec:h,multihashCode:tt,digestSize:ot,multihashSize:ht,size:ft}}static parse(e,o){const[c,d]=parseCIDtoBytes$3(e,o),h=en.decode(d);if(h.version===0&&e[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return baseCache$3(h).set(c,e),h}};const parseCIDtoBytes$3=(a,e)=>{switch(a[0]){case"Q":{const o=e||base58btc$6;return[base58btc$6.prefix,o.decode(`${base58btc$6.prefix}${a}`)]}case base58btc$6.prefix:{const o=e||base58btc$6;return[base58btc$6.prefix,o.decode(a)]}case base32$b.prefix:{const o=e||base32$b;return[base32$b.prefix,o.decode(a)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[a[0],e.decode(a)]}}},toStringV0$3=(a,e,o)=>{const{prefix:c}=o;if(c!==base58btc$6.prefix)throw Error(`Cannot string encode V0 in ${o.name} encoding`);const d=e.get(c);if(d==null){const h=o.encode(a).slice(1);return e.set(c,h),h}else return d},toStringV1$3=(a,e,o)=>{const{prefix:c}=o,d=e.get(c);if(d==null){const h=o.encode(a);return e.set(c,h),h}else return d},DAG_PB_CODE$3=112,SHA_256_CODE$3=18,encodeCID$4=(a,e,o)=>{const c=encodingLength$3(a),d=c+encodingLength$3(e),h=new Uint8Array(d+o.byteLength);return encodeTo$3(a,h,0),encodeTo$3(e,h,c),h.set(o,d),h},cidSymbol$3=Symbol.for("@ipld/js-cid/CID");function fromSplit$1(a){const[e,o,c]=a;return{payload:o,signatures:[{protected:e,signature:c}],link:CID$3.decode(fromBase64url(o))}}function encodeSignature(a){const e={signature:fromBase64url(a.signature)};return a.header&&(e.header=a.header),a.protected&&(e.protected=fromBase64url(a.protected)),e}function encode$l(a){const e=fromBase64url(a.payload);try{CID$3.decode(e)}catch{throw new Error("Not a valid DagJWS")}return{payload:e,signatures:a.signatures.map(encodeSignature)}}function decodeSignature(a){const e={signature:toBase64url(a.signature)};return a.header&&(e.header=a.header),a.protected&&(e.protected=toBase64url(a.protected)),e}function decode$p(a){const e={payload:toBase64url(a.payload),signatures:a.signatures.map(decodeSignature)};return e.link=CID$3.decode(new Uint8Array(a.payload)),e}function fromSplit(a){const[e,o,c,d,h]=a,et={ciphertext:d,iv:c,protected:e,tag:h};return o&&(et.recipients=[{encrypted_key:o}]),et}function encodeRecipient(a){const e={};return a.encrypted_key&&(e.encrypted_key=fromBase64url(a.encrypted_key)),a.header&&(e.header=a.header),e}function encode$k(a){const e={ciphertext:fromBase64url(a.ciphertext),protected:fromBase64url(a.protected),iv:fromBase64url(a.iv),tag:fromBase64url(a.tag)};return a.aad&&(e.aad=fromBase64url(a.aad)),a.recipients&&(e.recipients=a.recipients.map(encodeRecipient)),a.unprotected&&(e.unprotected=a.unprotected),e}function decodeRecipient(a){const e={};return a.encrypted_key&&(e.encrypted_key=toBase64url(a.encrypted_key)),a.header&&(e.header=a.header),e}function decode$o(a){const e={ciphertext:toBase64url(a.ciphertext),protected:toBase64url(a.protected),iv:toBase64url(a.iv),tag:toBase64url(a.tag)};return a.aad&&(e.aad=toBase64url(a.aad)),a.recipients&&(e.recipients=a.recipients.map(decodeRecipient)),a.unprotected&&(e.unprotected=a.unprotected),e}const name$4="dag-jose",code$4=133;function isDagJWS(a){return"payload"in a&&typeof a.payload=="string"&&"signatures"in a&&Array.isArray(a.signatures)}function isEncodedJWS(a){return"payload"in a&&a.payload instanceof Uint8Array&&"signatures"in a&&Array.isArray(a.signatures)}function isEncodedJWE(a){return"ciphertext"in a&&a.ciphertext instanceof Uint8Array&&"iv"in a&&a.iv instanceof Uint8Array&&"protected"in a&&a.protected instanceof Uint8Array&&"tag"in a&&a.tag instanceof Uint8Array}function isDagJWE(a){return"ciphertext"in a&&typeof a.ciphertext=="string"&&"iv"in a&&typeof a.iv=="string"&&"protected"in a&&typeof a.protected=="string"&&"tag"in a&&typeof a.tag=="string"}function toGeneral(a){if(typeof a=="string"){const e=a.split(".");if(e.length===3)return fromSplit$1(e);if(e.length===5)return fromSplit(e);throw new Error("Not a valid JOSE string")}if(isDagJWS(a)||isDagJWE(a))return a;throw new Error("Not a valid unencoded JOSE object")}function encode$j(a){typeof a=="string"&&(a=toGeneral(a));let e;if(isDagJWS(a))e=encode$l(a);else if(isDagJWE(a))e=encode$k(a);else throw new Error("Not a valid JOSE object");return new Uint8Array(encode$q(e))}function decode$n(a){let e;try{e=decode$w(a)}catch{throw new Error("Not a valid DAG-JOSE object")}if(isEncodedJWS(e))return decode$p(e);if(isEncodedJWE(e))return decode$o(e);throw new Error("Not a valid DAG-JOSE object")}const dagJOSE=Object.freeze(Object.defineProperty({__proto__:null,code:code$4,decode:decode$n,encode:encode$j,name:name$4,toGeneral},Symbol.toStringTag,{value:"Module"})),equals$7=(a,e)=>{if(a===e)return!0;if(a.byteLength!==e.byteLength)return!1;for(let o=0;o<a.byteLength;o++)if(a[o]!==e[o])return!1;return!0},coerce$5=a=>{if(a instanceof Uint8Array&&a.constructor.name==="Uint8Array")return a;if(a instanceof ArrayBuffer)return new Uint8Array(a);if(ArrayBuffer.isView(a))return new Uint8Array(a.buffer,a.byteOffset,a.byteLength);throw new Error("Unknown type, must be binary type")},fromString$7=a=>new TextEncoder().encode(a),toString$7=a=>new TextDecoder().decode(a);var encode_1$3=encode$i,MSB$5=128,REST$5=127,MSBALL$3=~REST$5,INT$3=Math.pow(2,31);function encode$i(a,e,o){e=e||[],o=o||0;for(var c=o;a>=INT$3;)e[o++]=a&255|MSB$5,a/=128;for(;a&MSBALL$3;)e[o++]=a&255|MSB$5,a>>>=7;return e[o]=a|0,encode$i.bytes=o-c+1,e}var decode$m=read$3,MSB$1$2=128,REST$1$2=127;function read$3(a,c){var o=0,c=c||0,d=0,h=c,et,tt=a.length;do{if(h>=tt)throw read$3.bytes=0,new RangeError("Could not decode varint");et=a[h++],o+=d<28?(et&REST$1$2)<<d:(et&REST$1$2)*Math.pow(2,d),d+=7}while(et>=MSB$1$2);return read$3.bytes=h-c,o}var N1$3=Math.pow(2,7),N2$3=Math.pow(2,14),N3$3=Math.pow(2,21),N4$3=Math.pow(2,28),N5$3=Math.pow(2,35),N6$3=Math.pow(2,42),N7$3=Math.pow(2,49),N8$3=Math.pow(2,56),N9$3=Math.pow(2,63),length$3=function(a){return a<N1$3?1:a<N2$3?2:a<N3$3?3:a<N4$3?4:a<N5$3?5:a<N6$3?6:a<N7$3?7:a<N8$3?8:a<N9$3?9:10},varint$4={encode:encode_1$3,decode:decode$m,encodingLength:length$3},_brrp_varint$2=varint$4;const decode$l=(a,e=0)=>[_brrp_varint$2.decode(a,e),_brrp_varint$2.decode.bytes],encodeTo$2=(a,e,o=0)=>(_brrp_varint$2.encode(a,e,o),e),encodingLength$2=a=>_brrp_varint$2.encodingLength(a),create$5=(a,e)=>{const o=e.byteLength,c=encodingLength$2(a),d=c+encodingLength$2(o),h=new Uint8Array(d+o);return encodeTo$2(a,h,0),encodeTo$2(o,h,c),h.set(e,d),new Digest$2(a,o,e,h)},decode$k=a=>{const e=coerce$5(a),[o,c]=decode$l(e),[d,h]=decode$l(e.subarray(c)),et=e.subarray(c+h);if(et.byteLength!==d)throw new Error("Incorrect length");return new Digest$2(o,d,et,e)},equals$6=(a,e)=>{if(a===e)return!0;{const o=e;return a.code===o.code&&a.size===o.size&&o.bytes instanceof Uint8Array&&equals$7(a.bytes,o.bytes)}};let Digest$2=class{constructor(e,o,c,d){this.code=e,this.size=o,this.digest=c,this.bytes=d}};const code$3=0,name$3="identity",encode$h=coerce$5,digest$1=a=>create$5(code$3,encode$h(a)),identity$6={code:code$3,name:name$3,encode:encode$h,digest:digest$1},identity$7=Object.freeze(Object.defineProperty({__proto__:null,identity:identity$6},Symbol.toStringTag,{value:"Module"}));function base$5(a,e){if(a.length>=255)throw new TypeError("Alphabet too long");for(var o=new Uint8Array(256),c=0;c<o.length;c++)o[c]=255;for(var d=0;d<a.length;d++){var h=a.charAt(d),et=h.charCodeAt(0);if(o[et]!==255)throw new TypeError(h+" is ambiguous");o[et]=d}var tt=a.length,ot=a.charAt(0),ft=Math.log(tt)/Math.log(256),ht=Math.log(256)/Math.log(tt);function yt(bt){if(bt instanceof Uint8Array||(ArrayBuffer.isView(bt)?bt=new Uint8Array(bt.buffer,bt.byteOffset,bt.byteLength):Array.isArray(bt)&&(bt=Uint8Array.from(bt))),!(bt instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(bt.length===0)return"";for(var xt=0,Et=0,vt=0,$t=bt.length;vt!==$t&&bt[vt]===0;)vt++,xt++;for(var At=($t-vt)*ht+1>>>0,kt=new Uint8Array(At);vt!==$t;){for(var It=bt[vt],Dt=0,Mt=At-1;(It!==0||Dt<Et)&&Mt!==-1;Mt--,Dt++)It+=256*kt[Mt]>>>0,kt[Mt]=It%tt>>>0,It=It/tt>>>0;if(It!==0)throw new Error("Non-zero carry");Et=Dt,vt++}for(var zt=At-Et;zt!==At&&kt[zt]===0;)zt++;for(var Kt=ot.repeat(xt);zt<At;++zt)Kt+=a.charAt(kt[zt]);return Kt}function gt(bt){if(typeof bt!="string")throw new TypeError("Expected String");if(bt.length===0)return new Uint8Array;var xt=0;if(bt[xt]!==" "){for(var Et=0,vt=0;bt[xt]===ot;)Et++,xt++;for(var $t=(bt.length-xt)*ft+1>>>0,At=new Uint8Array($t);bt[xt];){var kt=o[bt.charCodeAt(xt)];if(kt===255)return;for(var It=0,Dt=$t-1;(kt!==0||It<vt)&&Dt!==-1;Dt--,It++)kt+=tt*At[Dt]>>>0,At[Dt]=kt%256>>>0,kt=kt/256>>>0;if(kt!==0)throw new Error("Non-zero carry");vt=It,xt++}if(bt[xt]!==" "){for(var Mt=$t-vt;Mt!==$t&&At[Mt]===0;)Mt++;for(var zt=new Uint8Array(Et+($t-Mt)),Kt=Et;Mt!==$t;)zt[Kt++]=At[Mt++];return zt}}}function wt(bt){var xt=gt(bt);if(xt)return xt;throw new Error(`Non-${e} character`)}return{encode:yt,decodeUnsafe:gt,decode:wt}}var src$6=base$5,_brrp__multiformats_scope_baseX$5=src$6;let Encoder$5=class{constructor(e,o,c){this.name=e,this.prefix=o,this.baseEncode=c}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Decoder$5=class{constructor(e,o,c){if(this.name=e,this.prefix=o,o.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=o.codePointAt(0),this.baseDecode=c}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return or$5(this,e)}},ComposedDecoder$5=class{constructor(e){this.decoders=e}or(e){return or$5(this,e)}decode(e){const o=e[0],c=this.decoders[o];if(c)return c.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const or$5=(a,e)=>new ComposedDecoder$5({...a.decoders||{[a.prefix]:a},...e.decoders||{[e.prefix]:e}});let Codec$5=class{constructor(e,o,c,d){this.name=e,this.prefix=o,this.baseEncode=c,this.baseDecode=d,this.encoder=new Encoder$5(e,o,c),this.decoder=new Decoder$5(e,o,d)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const from$7=({name:a,prefix:e,encode:o,decode:c})=>new Codec$5(a,e,o,c),baseX$5=({prefix:a,name:e,alphabet:o})=>{const{encode:c,decode:d}=_brrp__multiformats_scope_baseX$5(o,e);return from$7({prefix:a,name:e,encode:c,decode:h=>coerce$5(d(h))})},decode$j=(a,e,o,c)=>{const d={};for(let ht=0;ht<e.length;++ht)d[e[ht]]=ht;let h=a.length;for(;a[h-1]==="=";)--h;const et=new Uint8Array(h*o/8|0);let tt=0,ot=0,ft=0;for(let ht=0;ht<h;++ht){const yt=d[a[ht]];if(yt===void 0)throw new SyntaxError(`Non-${c} character`);ot=ot<<o|yt,tt+=o,tt>=8&&(tt-=8,et[ft++]=255&ot>>tt)}if(tt>=o||255&ot<<8-tt)throw new SyntaxError("Unexpected end of data");return et},encode$g=(a,e,o)=>{const c=e[e.length-1]==="=",d=(1<<o)-1;let h="",et=0,tt=0;for(let ot=0;ot<a.length;++ot)for(tt=tt<<8|a[ot],et+=8;et>o;)et-=o,h+=e[d&tt>>et];if(et&&(h+=e[d&tt<<o-et]),c)for(;h.length*o&7;)h+="=";return h},rfc4648$5=({name:a,prefix:e,bitsPerChar:o,alphabet:c})=>from$7({prefix:e,name:a,encode(d){return encode$g(d,c,o)},decode(d){return decode$j(d,c,o,a)}}),identity$5=from$7({prefix:"\0",name:"identity",encode:a=>toString$7(a),decode:a=>fromString$7(a)}),identityBase$4=Object.freeze(Object.defineProperty({__proto__:null,identity:identity$5},Symbol.toStringTag,{value:"Module"})),base2$8=rfc4648$5({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$9=Object.freeze(Object.defineProperty({__proto__:null,base2:base2$8},Symbol.toStringTag,{value:"Module"})),base8$8=rfc4648$5({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$9=Object.freeze(Object.defineProperty({__proto__:null,base8:base8$8},Symbol.toStringTag,{value:"Module"})),base10$8=baseX$5({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$9=Object.freeze(Object.defineProperty({__proto__:null,base10:base10$8},Symbol.toStringTag,{value:"Module"})),base16$8=rfc4648$5({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper$4=rfc4648$5({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$9=Object.freeze(Object.defineProperty({__proto__:null,base16:base16$8,base16upper:base16upper$4},Symbol.toStringTag,{value:"Module"})),base32$9=rfc4648$5({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper$4=rfc4648$5({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad$4=rfc4648$5({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper$4=rfc4648$5({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex$4=rfc4648$5({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper$4=rfc4648$5({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad$4=rfc4648$5({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper$4=rfc4648$5({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z$4=rfc4648$5({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$a=Object.freeze(Object.defineProperty({__proto__:null,base32:base32$9,base32hex:base32hex$4,base32hexpad:base32hexpad$4,base32hexpadupper:base32hexpadupper$4,base32hexupper:base32hexupper$4,base32pad:base32pad$4,base32padupper:base32padupper$4,base32upper:base32upper$4,base32z:base32z$4},Symbol.toStringTag,{value:"Module"})),base36$8=baseX$5({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper$4=baseX$5({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$9=Object.freeze(Object.defineProperty({__proto__:null,base36:base36$8,base36upper:base36upper$4},Symbol.toStringTag,{value:"Module"})),base58btc$5=baseX$5({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr$4=baseX$5({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58$4=Object.freeze(Object.defineProperty({__proto__:null,base58btc:base58btc$5,base58flickr:base58flickr$4},Symbol.toStringTag,{value:"Module"})),base64$b=rfc4648$5({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad$4=rfc4648$5({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url$4=rfc4648$5({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad$4=rfc4648$5({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$c=Object.freeze(Object.defineProperty({__proto__:null,base64:base64$b,base64pad:base64pad$4,base64url:base64url$4,base64urlpad:base64urlpad$4},Symbol.toStringTag,{value:"Module"})),alphabet$4=Array.from(""),alphabetBytesToChars$4=alphabet$4.reduce((a,e,o)=>(a[o]=e,a),[]),alphabetCharsToBytes$4=alphabet$4.reduce((a,e,o)=>(a[e.codePointAt(0)]=o,a),[]);function encode$f(a){return a.reduce((e,o)=>(e+=alphabetBytesToChars$4[o],e),"")}function decode$i(a){const e=[];for(const o of a){const c=alphabetCharsToBytes$4[o.codePointAt(0)];if(c===void 0)throw new Error(`Non-base256emoji character: ${o}`);e.push(c)}return new Uint8Array(e)}const base256emoji$8=from$7({prefix:"",name:"base256emoji",encode:encode$f,decode:decode$i}),base256emoji$9=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:base256emoji$8},Symbol.toStringTag,{value:"Module"})),from$6=({name:a,code:e,encode:o})=>new Hasher$1(a,e,o);let Hasher$1=class{constructor(e,o,c){this.name=e,this.code=o,this.encode=c}digest(e){if(e instanceof Uint8Array){const o=this.encode(e);return o instanceof Uint8Array?create$5(this.code,o):o.then(c=>create$5(this.code,c))}else throw Error("Unknown type, must be binary type")}};const sha$1=a=>async e=>new Uint8Array(await crypto.subtle.digest(a,e)),sha256$1=from$6({name:"sha2-256",code:18,encode:sha$1("SHA-256")}),sha512=from$6({name:"sha2-512",code:19,encode:sha$1("SHA-512")}),sha2=Object.freeze(Object.defineProperty({__proto__:null,sha256:sha256$1,sha512},Symbol.toStringTag,{value:"Module"})),name$2="raw",code$2=85,encode$e=a=>coerce$5(a),decode$h=a=>coerce$5(a),raw=Object.freeze(Object.defineProperty({__proto__:null,code:code$2,decode:decode$h,encode:encode$e,name:name$2},Symbol.toStringTag,{value:"Module"})),textEncoder=new TextEncoder,textDecoder=new TextDecoder,name$1="json",code$1=512,encode$d=a=>textEncoder.encode(JSON.stringify(a)),decode$g=a=>JSON.parse(textDecoder.decode(a)),json=Object.freeze(Object.defineProperty({__proto__:null,code:code$1,decode:decode$g,encode:encode$d,name:name$1},Symbol.toStringTag,{value:"Module"})),format$5=(a,e)=>{const{bytes:o,version:c}=a;switch(c){case 0:return toStringV0$2(o,baseCache$2(a),e||base58btc$5.encoder);default:return toStringV1$2(o,baseCache$2(a),e||base32$9.encoder)}},cache$2=new WeakMap,baseCache$2=a=>{const e=cache$2.get(a);if(e==null){const o=new Map;return cache$2.set(a,o),o}return e};let CID$2=class tn{constructor(e,o,c,d){this.code=o,this.version=e,this.multihash=c,this.bytes=d,this["/"]=d}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:o}=this;if(e!==DAG_PB_CODE$2)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(o.code!==SHA_256_CODE$2)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return tn.createV0(o)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:e,digest:o}=this.multihash,c=create$5(e,o);return tn.createV1(this.code,c)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return tn.equals(this,e)}static equals(e,o){const c=o;return c&&e.code===c.code&&e.version===c.version&&equals$6(e.multihash,c.multihash)}toString(e){return format$5(this,e)}toJSON(){return{"/":format$5(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;const o=e;if(o instanceof tn)return o;if(o["/"]!=null&&o["/"]===o.bytes||o.asCID===o){const{version:c,code:d,multihash:h,bytes:et}=o;return new tn(c,d,h,et||encodeCID$3(c,d,h.bytes))}else if(o[cidSymbol$2]===!0){const{version:c,multihash:d,code:h}=o,et=decode$k(d);return tn.create(c,h,et)}else return null}static create(e,o,c){if(typeof o!="number")throw new Error("String codecs are no longer supported");if(!(c.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(o!==DAG_PB_CODE$2)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE$2}) block encoding`);return new tn(e,o,c,c.bytes)}case 1:{const d=encodeCID$3(e,o,c.bytes);return new tn(e,o,c,d)}default:throw new Error("Invalid version")}}static createV0(e){return tn.create(0,DAG_PB_CODE$2,e)}static createV1(e,o){return tn.create(1,e,o)}static decode(e){const[o,c]=tn.decodeFirst(e);if(c.length)throw new Error("Incorrect length");return o}static decodeFirst(e){const o=tn.inspectBytes(e),c=o.size-o.multihashSize,d=coerce$5(e.subarray(c,c+o.multihashSize));if(d.byteLength!==o.multihashSize)throw new Error("Incorrect length");const h=d.subarray(o.multihashSize-o.digestSize),et=new Digest$2(o.multihashCode,o.digestSize,h,d);return[o.version===0?tn.createV0(et):tn.createV1(o.codec,et),e.subarray(o.size)]}static inspectBytes(e){let o=0;const c=()=>{const[yt,gt]=decode$l(e.subarray(o));return o+=gt,yt};let d=c(),h=DAG_PB_CODE$2;if(d===18?(d=0,o=0):h=c(),d!==0&&d!==1)throw new RangeError(`Invalid CID version ${d}`);const et=o,tt=c(),ot=c(),ft=o+ot,ht=ft-et;return{version:d,codec:h,multihashCode:tt,digestSize:ot,multihashSize:ht,size:ft}}static parse(e,o){const[c,d]=parseCIDtoBytes$2(e,o),h=tn.decode(d);if(h.version===0&&e[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return baseCache$2(h).set(c,e),h}};const parseCIDtoBytes$2=(a,e)=>{switch(a[0]){case"Q":{const o=e||base58btc$5;return[base58btc$5.prefix,o.decode(`${base58btc$5.prefix}${a}`)]}case base58btc$5.prefix:{const o=e||base58btc$5;return[base58btc$5.prefix,o.decode(a)]}case base32$9.prefix:{const o=e||base32$9;return[base32$9.prefix,o.decode(a)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[a[0],e.decode(a)]}}},toStringV0$2=(a,e,o)=>{const{prefix:c}=o;if(c!==base58btc$5.prefix)throw Error(`Cannot string encode V0 in ${o.name} encoding`);const d=e.get(c);if(d==null){const h=o.encode(a).slice(1);return e.set(c,h),h}else return d},toStringV1$2=(a,e,o)=>{const{prefix:c}=o,d=e.get(c);if(d==null){const h=o.encode(a);return e.set(c,h),h}else return d},DAG_PB_CODE$2=112,SHA_256_CODE$2=18,encodeCID$3=(a,e,o)=>{const c=encodingLength$2(a),d=c+encodingLength$2(e),h=new Uint8Array(d+o.byteLength);return encodeTo$2(a,h,0),encodeTo$2(e,h,c),h.set(o,d),h},cidSymbol$2=Symbol.for("@ipld/js-cid/CID"),bases$4={...identityBase$4,...base2$9,...base8$9,...base10$9,...base16$9,...base32$a,...base36$9,...base58$4,...base64$c,...base256emoji$9},hashes={...sha2,...identity$7},codecs={raw,json};function isElectron$1(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}var isElectron_1=isElectron$1,define_process_env_default={};const isElectron=isElectron_1,IS_ENV_WITH_DOM=typeof window=="object"&&typeof document=="object"&&document.nodeType===9,IS_ELECTRON=isElectron(),IS_BROWSER=IS_ENV_WITH_DOM&&!IS_ELECTRON,IS_ELECTRON_MAIN=IS_ELECTRON&&!IS_ENV_WITH_DOM,IS_ELECTRON_RENDERER=IS_ELECTRON&&IS_ENV_WITH_DOM,IS_NODE=typeof commonjsRequire=="function"&&typeof process<"u"&&typeof process.release<"u"&&process.release.name==="node"&&!IS_ELECTRON,IS_WEBWORKER=typeof importScripts=="function"&&typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,IS_TEST=typeof process<"u"&&typeof define_process_env_default<"u"&&!1,IS_REACT_NATIVE=typeof navigator<"u"&&navigator.product==="ReactNative";var env={isTest:IS_TEST,isElectron:IS_ELECTRON,isElectronMain:IS_ELECTRON_MAIN,isElectronRenderer:IS_ELECTRON_RENDERER,isNode:IS_NODE,isBrowser:IS_BROWSER,isWebWorker:IS_WEBWORKER,isEnvWithDom:IS_ENV_WITH_DOM,isReactNative:IS_REACT_NATIVE};let durationRE=/(-?(?:\d+\.?\d*|\d*\.?\d+)(?:e[-+]?\d+)?)\s*([\p{L}]*)/uig;parse.nanosecond=parse.ns=1/1e6;parse.s=parse.s=parse.us=parse.microsecond=1/1e3;parse.millisecond=parse.ms=parse[""]=1;parse.second=parse.sec=parse.s=parse.ms*1e3;parse.minute=parse.min=parse.m=parse.s*60;parse.hour=parse.hr=parse.h=parse.m*60;parse.day=parse.d=parse.h*24;parse.week=parse.wk=parse.w=parse.d*7;parse.month=parse.b=parse.d*(365.25/12);parse.year=parse.yr=parse.y=parse.d*365.25;function parse(a="",e="ms"){var o=null;a=(a+"").replace(/(\d)[,_](\d)/g,"$1$2");var c=a[0]==="-";return a.replace(durationRE,function(d,h,et){et=unitRatio(et),et&&(o=(o||0)+Math.abs(parseFloat(h,10))*et)}),o&&o/(unitRatio(e)||1)*(c?-1:1)}function unitRatio(a){return parse[a]||parse[a.toLowerCase().replace(/s$/,"")]}function base$4(a,e){if(a.length>=255)throw new TypeError("Alphabet too long");for(var o=new Uint8Array(256),c=0;c<o.length;c++)o[c]=255;for(var d=0;d<a.length;d++){var h=a.charAt(d),et=h.charCodeAt(0);if(o[et]!==255)throw new TypeError(h+" is ambiguous");o[et]=d}var tt=a.length,ot=a.charAt(0),ft=Math.log(tt)/Math.log(256),ht=Math.log(256)/Math.log(tt);function yt(bt){if(bt instanceof Uint8Array||(ArrayBuffer.isView(bt)?bt=new Uint8Array(bt.buffer,bt.byteOffset,bt.byteLength):Array.isArray(bt)&&(bt=Uint8Array.from(bt))),!(bt instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(bt.length===0)return"";for(var xt=0,Et=0,vt=0,$t=bt.length;vt!==$t&&bt[vt]===0;)vt++,xt++;for(var At=($t-vt)*ht+1>>>0,kt=new Uint8Array(At);vt!==$t;){for(var It=bt[vt],Dt=0,Mt=At-1;(It!==0||Dt<Et)&&Mt!==-1;Mt--,Dt++)It+=256*kt[Mt]>>>0,kt[Mt]=It%tt>>>0,It=It/tt>>>0;if(It!==0)throw new Error("Non-zero carry");Et=Dt,vt++}for(var zt=At-Et;zt!==At&&kt[zt]===0;)zt++;for(var Kt=ot.repeat(xt);zt<At;++zt)Kt+=a.charAt(kt[zt]);return Kt}function gt(bt){if(typeof bt!="string")throw new TypeError("Expected String");if(bt.length===0)return new Uint8Array;var xt=0;if(bt[xt]!==" "){for(var Et=0,vt=0;bt[xt]===ot;)Et++,xt++;for(var $t=(bt.length-xt)*ft+1>>>0,At=new Uint8Array($t);bt[xt];){var kt=o[bt.charCodeAt(xt)];if(kt===255)return;for(var It=0,Dt=$t-1;(kt!==0||It<vt)&&Dt!==-1;Dt--,It++)kt+=tt*At[Dt]>>>0,At[Dt]=kt%256>>>0,kt=kt/256>>>0;if(kt!==0)throw new Error("Non-zero carry");vt=It,xt++}if(bt[xt]!==" "){for(var Mt=$t-vt;Mt!==$t&&At[Mt]===0;)Mt++;for(var zt=new Uint8Array(Et+($t-Mt)),Kt=Et;Mt!==$t;)zt[Kt++]=At[Mt++];return zt}}}function wt(bt){var xt=gt(bt);if(xt)return xt;throw new Error(`Non-${e} character`)}return{encode:yt,decodeUnsafe:gt,decode:wt}}var src$5=base$4,_brrp__multiformats_scope_baseX$4=src$5;const coerce$4=a=>{if(a instanceof Uint8Array&&a.constructor.name==="Uint8Array")return a;if(a instanceof ArrayBuffer)return new Uint8Array(a);if(ArrayBuffer.isView(a))return new Uint8Array(a.buffer,a.byteOffset,a.byteLength);throw new Error("Unknown type, must be binary type")};let Encoder$4=class{constructor(e,o,c){this.name=e,this.prefix=o,this.baseEncode=c}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Decoder$4=class{constructor(e,o,c){if(this.name=e,this.prefix=o,o.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=o.codePointAt(0),this.baseDecode=c}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return or$4(this,e)}},ComposedDecoder$4=class{constructor(e){this.decoders=e}or(e){return or$4(this,e)}decode(e){const o=e[0],c=this.decoders[o];if(c)return c.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const or$4=(a,e)=>new ComposedDecoder$4({...a.decoders||{[a.prefix]:a},...e.decoders||{[e.prefix]:e}});let Codec$4=class{constructor(e,o,c,d){this.name=e,this.prefix=o,this.baseEncode=c,this.baseDecode=d,this.encoder=new Encoder$4(e,o,c),this.decoder=new Decoder$4(e,o,d)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const from$5=({name:a,prefix:e,encode:o,decode:c})=>new Codec$4(a,e,o,c),baseX$4=({prefix:a,name:e,alphabet:o})=>{const{encode:c,decode:d}=_brrp__multiformats_scope_baseX$4(o,e);return from$5({prefix:a,name:e,encode:c,decode:h=>coerce$4(d(h))})},decode$f=(a,e,o,c)=>{const d={};for(let ht=0;ht<e.length;++ht)d[e[ht]]=ht;let h=a.length;for(;a[h-1]==="=";)--h;const et=new Uint8Array(h*o/8|0);let tt=0,ot=0,ft=0;for(let ht=0;ht<h;++ht){const yt=d[a[ht]];if(yt===void 0)throw new SyntaxError(`Non-${c} character`);ot=ot<<o|yt,tt+=o,tt>=8&&(tt-=8,et[ft++]=255&ot>>tt)}if(tt>=o||255&ot<<8-tt)throw new SyntaxError("Unexpected end of data");return et},encode$c=(a,e,o)=>{const c=e[e.length-1]==="=",d=(1<<o)-1;let h="",et=0,tt=0;for(let ot=0;ot<a.length;++ot)for(tt=tt<<8|a[ot],et+=8;et>o;)et-=o,h+=e[d&tt>>et];if(et&&(h+=e[d&tt<<o-et]),c)for(;h.length*o&7;)h+="=";return h},rfc4648$4=({name:a,prefix:e,bitsPerChar:o,alphabet:c})=>from$5({prefix:e,name:a,encode(d){return encode$c(d,c,o)},decode(d){return decode$f(d,c,o,a)}}),base58btc$4=baseX$4({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX$4({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});const base32$8=rfc4648$4({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648$4({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});rfc4648$4({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});rfc4648$4({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});rfc4648$4({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});rfc4648$4({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});rfc4648$4({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});rfc4648$4({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});rfc4648$4({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});const base64$a=rfc4648$4({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});rfc4648$4({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});rfc4648$4({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6});rfc4648$4({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});Debug.formatters.b=a=>a==null?"undefined":base58btc$4.baseEncode(a);Debug.formatters.t=a=>a==null?"undefined":base32$8.baseEncode(a);Debug.formatters.m=a=>a==null?"undefined":base64$a.baseEncode(a);Debug.formatters.p=a=>a==null?"undefined":a.toString();Debug.formatters.c=a=>a==null?"undefined":a.toString();Debug.formatters.k=a=>a==null?"undefined":a.toString();Debug.formatters.a=a=>a==null?"undefined":a.toString();function createDisabledLogger(a){const e=()=>{};return e.enabled=!1,e.color="",e.diff=0,e.log=()=>{},e.namespace=a,e.destroy=()=>!0,e.extend=()=>e,e}function logger$1(a){let e=createDisabledLogger(`${a}:trace`);return Debug.enabled(`${a}:trace`)&&Debug.names.map(o=>o.toString()).find(o=>o.includes(":trace"))!=null&&(e=Debug(`${a}:trace`)),Object.assign(Debug(a),{error:Debug(`${a}:error`),trace:e})}var error={};let TimeoutError$2=class extends Error{constructor(e="Request timed out"){super(e),this.name="TimeoutError"}};error.TimeoutError=TimeoutError$2;let AbortError$1=class extends Error{constructor(e="The operation was aborted."){super(e),this.name="AbortError"}};error.AbortError=AbortError$1;let HTTPError$1=class extends Error{constructor(e){super(e.statusText),this.name="HTTPError",this.response=e}};error.HTTPError=HTTPError$1;var src$4={exports:{}},browser={exports:{}},hasRequiredBrowser;function requireBrowser(){return hasRequiredBrowser||(hasRequiredBrowser=1,function(a,e){var o=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof commonjsGlobal<"u")return commonjsGlobal;throw new Error("unable to locate global object")},c=o();a.exports=e=c.fetch,c.fetch&&(e.default=c.fetch.bind(c)),e.Headers=c.Headers,e.Request=c.Request,e.Response=c.Response}(browser,browser.exports)),browser.exports}globalThis.fetch&&globalThis.Headers&&globalThis.Request&&globalThis.Response?src$4.exports={default:globalThis.fetch,Headers:globalThis.Headers,Request:globalThis.Request,Response:globalThis.Response}:src$4.exports={default:requireBrowser().default,Headers:requireBrowser().Headers,Request:requireBrowser().Request,Response:requireBrowser().Response};var srcExports=src$4.exports,fetch_browser$1=srcExports;const{TimeoutError:TimeoutError$1,AbortError}=error,{Response:Response$1,Request:Request$1,Headers:Headers$2,default:fetch$2}=fetch_browser$1,fetchWithProgress=(a,e={})=>{const o=new XMLHttpRequest;o.open(e.method||"GET",a.toString(),!0);const{timeout:c,headers:d}=e;if(c&&c>0&&c<1/0&&(o.timeout=c),e.overrideMimeType!=null&&o.overrideMimeType(e.overrideMimeType),d)for(const[h,et]of new Headers$2(d))o.setRequestHeader(h,et);return e.signal&&(e.signal.onabort=()=>o.abort()),e.onUploadProgress&&(o.upload.onprogress=e.onUploadProgress),o.responseType="arraybuffer",new Promise((h,et)=>{const tt=ot=>{switch(ot.type){case"error":{h(Response$1.error());break}case"load":{h(new ResponseWithURL(o.responseURL,o.response,{status:o.status,statusText:o.statusText,headers:parseHeaders(o.getAllResponseHeaders())}));break}case"timeout":{et(new TimeoutError$1);break}case"abort":{et(new AbortError);break}}};o.onerror=tt,o.onload=tt,o.ontimeout=tt,o.onabort=tt,o.send(e.body)})},fetchWithStreaming=fetch$2,fetchWith=(a,e={})=>e.onUploadProgress!=null?fetchWithProgress(a,e):fetchWithStreaming(a,e),parseHeaders=a=>{const e=new Headers$2;for(const o of a.trim().split(/[\r\n]+/)){const c=o.indexOf(": ");c>0&&e.set(o.slice(0,c),o.slice(c+1))}return e};class ResponseWithURL extends Response$1{constructor(e,o,c){super(o,c),Object.defineProperty(this,"url",{value:e})}}var fetch_browser={fetch:fetchWith,Request:Request$1,Headers:Headers$2},isPlainObj=a=>{if(Object.prototype.toString.call(a)!=="[object Object]")return!1;const e=Object.getPrototypeOf(a);return e===null||e===Object.prototype};const isOptionObject=isPlainObj,{hasOwnProperty}=Object.prototype,{propertyIsEnumerable}=Object,defineProperty=(a,e,o)=>Object.defineProperty(a,e,{value:o,writable:!0,enumerable:!0,configurable:!0}),globalThis$1=commonjsGlobal,defaultMergeOptions={concatArrays:!1,ignoreUndefined:!1},getEnumerableOwnPropertyKeys=a=>{const e=[];for(const o in a)hasOwnProperty.call(a,o)&&e.push(o);if(Object.getOwnPropertySymbols){const o=Object.getOwnPropertySymbols(a);for(const c of o)propertyIsEnumerable.call(a,c)&&e.push(c)}return e};function clone(a){return Array.isArray(a)?cloneArray(a):isOptionObject(a)?cloneOptionObject(a):a}function cloneArray(a){const e=a.slice(0,0);return getEnumerableOwnPropertyKeys(a).forEach(o=>{defineProperty(e,o,clone(a[o]))}),e}function cloneOptionObject(a){const e=Object.getPrototypeOf(a)===null?Object.create(null):{};return getEnumerableOwnPropertyKeys(a).forEach(o=>{defineProperty(e,o,clone(a[o]))}),e}const mergeKeys=(a,e,o,c)=>(o.forEach(d=>{typeof e[d]>"u"&&c.ignoreUndefined||(d in a&&a[d]!==Object.getPrototypeOf(a)?defineProperty(a,d,merge$2(a[d],e[d],c)):defineProperty(a,d,clone(e[d])))}),a),concatArrays=(a,e,o)=>{let c=a.slice(0,0),d=0;return[a,e].forEach(h=>{const et=[];for(let tt=0;tt<h.length;tt++)hasOwnProperty.call(h,tt)&&(et.push(String(tt)),h===a?defineProperty(c,d++,h[tt]):defineProperty(c,d++,clone(h[tt])));c=mergeKeys(c,h,getEnumerableOwnPropertyKeys(h).filter(tt=>!et.includes(tt)),o)}),c};function merge$2(a,e,o){return o.concatArrays&&Array.isArray(a)&&Array.isArray(e)?concatArrays(a,e,o):!isOptionObject(e)||!isOptionObject(a)?clone(e):mergeKeys(a,e,getEnumerableOwnPropertyKeys(e),o)}var mergeOptions=function(...a){const e=merge$2(clone(defaultMergeOptions),this!==globalThis$1&&this||{},defaultMergeOptions);let o={_:{}};for(const c of a)if(c!==void 0){if(!isOptionObject(c))throw new TypeError("`"+c+"` is not an Option Object");o=merge$2(o,{_:c},e)}return o._};const mergeOpts=getDefaultExportFromCjs(mergeOptions),isReactNative=typeof navigator<"u"&&navigator.product==="ReactNative";function getDefaultBase(){return isReactNative?"http://localhost":self.location?self.location.protocol+"//"+self.location.host:""}const URL$2=self.URL,defaultBase$1=getDefaultBase();let URLWithLegacySupport$2=class{constructor(e="",o=defaultBase$1){this.super=new URL$2(e,o),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(e){this.super.hash=e}set host(e){this.super.host=e}set hostname(e){this.super.hostname=e}set href(e){this.super.href=e}set password(e){this.super.password=e}set pathname(e){this.super.pathname=e}set port(e){this.super.port=e}set protocol(e){this.super.protocol=e}set search(e){this.super.search=e}set username(e){this.super.username=e}static createObjectURL(e){return URL$2.createObjectURL(e)}static revokeObjectURL(e){URL$2.revokeObjectURL(e)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}};function format$4(a){if(typeof a=="string")return new URL$2(a).toString();if(!(a instanceof URL$2)){const e=a.username&&a.password?`${a.username}:${a.password}@`:"",o=a.auth?a.auth+"@":"",c=a.port?":"+a.port:"",d=a.protocol?a.protocol+"//":"",h=a.host||"",et=a.hostname||"",tt=a.search||(a.query?"?"+a.query:""),ot=a.hash||"",ft=a.pathname||"",ht=a.path||ft+tt;return`${d}${e||o}${h||et+c}${ht}${ot}`}}var urlBrowser={URLWithLegacySupport:URLWithLegacySupport$2,URLSearchParams:self.URLSearchParams,defaultBase:defaultBase$1,format:format$4};const{URLWithLegacySupport:URLWithLegacySupport$1,format:format$3}=urlBrowser;var relative$1=(a,e={},o={},c)=>{let d=e.protocol?e.protocol.replace(":",""):"http";d=(o[d]||c||d)+":";let h;try{h=new URLWithLegacySupport$1(a)}catch{h={}}const et=Object.assign({},e,{protocol:d||h.protocol,host:e.host||h.host});return new URLWithLegacySupport$1(a,format$3(et)).toString()};const{URLWithLegacySupport,format:format$2,URLSearchParams:URLSearchParams$2,defaultBase}=urlBrowser,relative=relative$1;var isoUrl={URL:URLWithLegacySupport,URLSearchParams:URLSearchParams$2,format:format$2,relative,defaultBase},anySignal$2={exports:{}};function anySignal$1(a){const e=new globalThis.AbortController;function o(){e.abort();for(const c of a)!c||!c.removeEventListener||c.removeEventListener("abort",o)}for(const c of a)if(!(!c||!c.addEventListener)){if(c.aborted){o();break}c.addEventListener("abort",o)}return e.signal}anySignal$2.exports=anySignal$1;var anySignal_2=anySignal$2.exports.anySignal=anySignal$1,anySignalExports=anySignal$2.exports;async function*browserReadableStreamToIt$1(a,e={}){const o=a.getReader();try{for(;;){const c=await o.read();if(c.done)return;yield c.value}}finally{e.preventCancel!==!0&&o.cancel(),o.releaseLock()}}var browserReadablestreamToIt=browserReadableStreamToIt$1;const all$2=async a=>{const e=[];for await(const o of a)e.push(o);return e};var itAll=all$2;const{fetch:fetch$1,Request,Headers:Headers$1}=fetch_browser,{TimeoutError,HTTPError}=error,merge$1=mergeOptions.bind({ignoreUndefined:!0}),{URL:URL$1,URLSearchParams:URLSearchParams$1}=isoUrl,anySignal=anySignalExports,browserReableStreamToIt=browserReadablestreamToIt,{isBrowser,isWebWorker}=env,all$1=itAll,timeout=(a,e,o)=>{if(e===void 0)return a;const c=Date.now(),d=()=>Date.now()-c>=e;return new Promise((h,et)=>{const tt=setTimeout(()=>{d()&&(et(new TimeoutError),o.abort())},e),ot=ft=>yt=>{if(clearTimeout(tt),d()){et(new TimeoutError);return}ft(yt)};a.then(ot(h),ot(et))})},defaults={throwHttpErrors:!0,credentials:"same-origin"};class HTTP{constructor(e={}){this.opts=merge$1(defaults,e)}async fetch(e,o={}){const c=merge$1(this.opts,o),d=new Headers$1(c.headers);if(typeof e!="string"&&!(e instanceof URL$1||e instanceof Request))throw new TypeError("`resource` must be a string, URL, or Request");const h=new URL$1(e.toString(),c.base),{searchParams:et,transformSearchParams:tt,json:ot}=c;et&&(typeof tt=="function"?h.search=tt(new URLSearchParams$1(c.searchParams)):h.search=new URLSearchParams$1(c.searchParams)),ot&&(c.body=JSON.stringify(c.json),d.set("content-type","application/json"));const ft=new AbortController,ht=anySignal([ft.signal,c.signal]);globalThis.ReadableStream!=null&&c.body instanceof globalThis.ReadableStream&&(isBrowser||isWebWorker)&&(c.body=new Blob(await all$1(browserReableStreamToIt(c.body))));const yt=await timeout(fetch$1(h.toString(),{...c,signal:ht,timeout:void 0,headers:d,duplex:"half"}),c.timeout,ft);if(!yt.ok&&c.throwHttpErrors)throw c.handleError&&await c.handleError(yt),new HTTPError(yt);return yt.iterator=async function*(){yield*fromStream(yt.body)},yt.ndjson=async function*(){for await(const gt of ndjson(yt.iterator()))o.transform?yield o.transform(gt):yield gt},yt}post(e,o={}){return this.fetch(e,{...o,method:"POST"})}get(e,o={}){return this.fetch(e,{...o,method:"GET"})}put(e,o={}){return this.fetch(e,{...o,method:"PUT"})}delete(e,o={}){return this.fetch(e,{...o,method:"DELETE"})}options(e,o={}){return this.fetch(e,{...o,method:"OPTIONS"})}}const ndjson=async function*(a){const e=new TextDecoder;let o="";for await(const c of a){o+=e.decode(c,{stream:!0});const d=o.split(/\r?\n/);for(let h=0;h<d.length-1;h++){const et=d[h].trim();et.length>0&&(yield JSON.parse(et))}o=d[d.length-1]}o+=e.decode(),o=o.trim(),o.length!==0&&(yield JSON.parse(o))},fromStream=a=>{if(isAsyncIterable$1(a))return a;if(isNodeReadableStream(a)){const e=a[Symbol.asyncIterator]();return{[Symbol.asyncIterator](){return{next:e.next.bind(e),return(o){return a.destroy(),typeof e.return=="function"?e.return():Promise.resolve({done:!0,value:o})}}}}}if(isWebReadableStream(a)){const e=a.getReader();return async function*(){try{for(;;){const{done:o,value:c}=await e.read();if(o)return;c&&(yield c)}}finally{e.releaseLock()}}()}throw new TypeError("Body can't be converted to AsyncIterable")},isAsyncIterable$1=a=>typeof a=="object"&&a!==null&&typeof a[Symbol.asyncIterator]=="function",isWebReadableStream=a=>a&&typeof a.getReader=="function",isNodeReadableStream=a=>Object.prototype.hasOwnProperty.call(a,"readable")&&Object.prototype.hasOwnProperty.call(a,"writable");HTTP.HTTPError=HTTPError;HTTP.TimeoutError=TimeoutError;HTTP.streamToAsyncIterator=fromStream;HTTP.post=(a,e)=>new HTTP(e).post(a,e);HTTP.get=(a,e)=>new HTTP(e).get(a,e);HTTP.put=(a,e)=>new HTTP(e).put(a,e);HTTP.delete=(a,e)=>new HTTP(e).delete(a,e);HTTP.options=(a,e)=>new HTTP(e).options(a,e);var http=HTTP;const HTTP$1=getDefaultExportFromCjs(http);function base$3(a,e){if(a.length>=255)throw new TypeError("Alphabet too long");for(var o=new Uint8Array(256),c=0;c<o.length;c++)o[c]=255;for(var d=0;d<a.length;d++){var h=a.charAt(d),et=h.charCodeAt(0);if(o[et]!==255)throw new TypeError(h+" is ambiguous");o[et]=d}var tt=a.length,ot=a.charAt(0),ft=Math.log(tt)/Math.log(256),ht=Math.log(256)/Math.log(tt);function yt(bt){if(bt instanceof Uint8Array||(ArrayBuffer.isView(bt)?bt=new Uint8Array(bt.buffer,bt.byteOffset,bt.byteLength):Array.isArray(bt)&&(bt=Uint8Array.from(bt))),!(bt instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(bt.length===0)return"";for(var xt=0,Et=0,vt=0,$t=bt.length;vt!==$t&&bt[vt]===0;)vt++,xt++;for(var At=($t-vt)*ht+1>>>0,kt=new Uint8Array(At);vt!==$t;){for(var It=bt[vt],Dt=0,Mt=At-1;(It!==0||Dt<Et)&&Mt!==-1;Mt--,Dt++)It+=256*kt[Mt]>>>0,kt[Mt]=It%tt>>>0,It=It/tt>>>0;if(It!==0)throw new Error("Non-zero carry");Et=Dt,vt++}for(var zt=At-Et;zt!==At&&kt[zt]===0;)zt++;for(var Kt=ot.repeat(xt);zt<At;++zt)Kt+=a.charAt(kt[zt]);return Kt}function gt(bt){if(typeof bt!="string")throw new TypeError("Expected String");if(bt.length===0)return new Uint8Array;var xt=0;if(bt[xt]!==" "){for(var Et=0,vt=0;bt[xt]===ot;)Et++,xt++;for(var $t=(bt.length-xt)*ft+1>>>0,At=new Uint8Array($t);bt[xt];){var kt=o[bt.charCodeAt(xt)];if(kt===255)return;for(var It=0,Dt=$t-1;(kt!==0||It<vt)&&Dt!==-1;Dt--,It++)kt+=tt*At[Dt]>>>0,At[Dt]=kt%256>>>0,kt=kt/256>>>0;if(kt!==0)throw new Error("Non-zero carry");vt=It,xt++}if(bt[xt]!==" "){for(var Mt=$t-vt;Mt!==$t&&At[Mt]===0;)Mt++;for(var zt=new Uint8Array(Et+($t-Mt)),Kt=Et;Mt!==$t;)zt[Kt++]=At[Mt++];return zt}}}function wt(bt){var xt=gt(bt);if(xt)return xt;throw new Error(`Non-${e} character`)}return{encode:yt,decodeUnsafe:gt,decode:wt}}var src$3=base$3,_brrp__multiformats_scope_baseX$3=src$3;const coerce$3=a=>{if(a instanceof Uint8Array&&a.constructor.name==="Uint8Array")return a;if(a instanceof ArrayBuffer)return new Uint8Array(a);if(ArrayBuffer.isView(a))return new Uint8Array(a.buffer,a.byteOffset,a.byteLength);throw new Error("Unknown type, must be binary type")},fromString$6=a=>new TextEncoder().encode(a),toString$6=a=>new TextDecoder().decode(a);let Encoder$3=class{constructor(e,o,c){this.name=e,this.prefix=o,this.baseEncode=c}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Decoder$3=class{constructor(e,o,c){if(this.name=e,this.prefix=o,o.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=o.codePointAt(0),this.baseDecode=c}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return or$3(this,e)}},ComposedDecoder$3=class{constructor(e){this.decoders=e}or(e){return or$3(this,e)}decode(e){const o=e[0],c=this.decoders[o];if(c)return c.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const or$3=(a,e)=>new ComposedDecoder$3({...a.decoders||{[a.prefix]:a},...e.decoders||{[e.prefix]:e}});let Codec$3=class{constructor(e,o,c,d){this.name=e,this.prefix=o,this.baseEncode=c,this.baseDecode=d,this.encoder=new Encoder$3(e,o,c),this.decoder=new Decoder$3(e,o,d)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const from$4=({name:a,prefix:e,encode:o,decode:c})=>new Codec$3(a,e,o,c),baseX$3=({prefix:a,name:e,alphabet:o})=>{const{encode:c,decode:d}=_brrp__multiformats_scope_baseX$3(o,e);return from$4({prefix:a,name:e,encode:c,decode:h=>coerce$3(d(h))})},decode$e=(a,e,o,c)=>{const d={};for(let ht=0;ht<e.length;++ht)d[e[ht]]=ht;let h=a.length;for(;a[h-1]==="=";)--h;const et=new Uint8Array(h*o/8|0);let tt=0,ot=0,ft=0;for(let ht=0;ht<h;++ht){const yt=d[a[ht]];if(yt===void 0)throw new SyntaxError(`Non-${c} character`);ot=ot<<o|yt,tt+=o,tt>=8&&(tt-=8,et[ft++]=255&ot>>tt)}if(tt>=o||255&ot<<8-tt)throw new SyntaxError("Unexpected end of data");return et},encode$b=(a,e,o)=>{const c=e[e.length-1]==="=",d=(1<<o)-1;let h="",et=0,tt=0;for(let ot=0;ot<a.length;++ot)for(tt=tt<<8|a[ot],et+=8;et>o;)et-=o,h+=e[d&tt>>et];if(et&&(h+=e[d&tt<<o-et]),c)for(;h.length*o&7;)h+="=";return h},rfc4648$3=({name:a,prefix:e,bitsPerChar:o,alphabet:c})=>from$4({prefix:e,name:a,encode(d){return encode$b(d,c,o)},decode(d){return decode$e(d,c,o,a)}}),base10$6=baseX$3({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$7=Object.freeze(Object.defineProperty({__proto__:null,base10:base10$6},Symbol.toStringTag,{value:"Module"})),base16$6=rfc4648$3({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper$3=rfc4648$3({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$7=Object.freeze(Object.defineProperty({__proto__:null,base16:base16$6,base16upper:base16upper$3},Symbol.toStringTag,{value:"Module"})),base2$6=rfc4648$3({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$7=Object.freeze(Object.defineProperty({__proto__:null,base2:base2$6},Symbol.toStringTag,{value:"Module"})),alphabet$3=Array.from(""),alphabetBytesToChars$3=alphabet$3.reduce((a,e,o)=>(a[o]=e,a),[]),alphabetCharsToBytes$3=alphabet$3.reduce((a,e,o)=>(a[e.codePointAt(0)]=o,a),[]);function encode$a(a){return a.reduce((e,o)=>(e+=alphabetBytesToChars$3[o],e),"")}function decode$d(a){const e=[];for(const o of a){const c=alphabetCharsToBytes$3[o.codePointAt(0)];if(c===void 0)throw new Error(`Non-base256emoji character: ${o}`);e.push(c)}return new Uint8Array(e)}const base256emoji$6=from$4({prefix:"",name:"base256emoji",encode:encode$a,decode:decode$d}),base256emoji$7=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:base256emoji$6},Symbol.toStringTag,{value:"Module"})),base32$6=rfc4648$3({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper$3=rfc4648$3({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad$3=rfc4648$3({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper$3=rfc4648$3({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex$3=rfc4648$3({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper$3=rfc4648$3({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad$3=rfc4648$3({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper$3=rfc4648$3({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z$3=rfc4648$3({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$7=Object.freeze(Object.defineProperty({__proto__:null,base32:base32$6,base32hex:base32hex$3,base32hexpad:base32hexpad$3,base32hexpadupper:base32hexpadupper$3,base32hexupper:base32hexupper$3,base32pad:base32pad$3,base32padupper:base32padupper$3,base32upper:base32upper$3,base32z:base32z$3},Symbol.toStringTag,{value:"Module"})),base36$6=baseX$3({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper$3=baseX$3({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$7=Object.freeze(Object.defineProperty({__proto__:null,base36:base36$6,base36upper:base36upper$3},Symbol.toStringTag,{value:"Module"})),base58btc$3=baseX$3({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr$3=baseX$3({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58$3=Object.freeze(Object.defineProperty({__proto__:null,base58btc:base58btc$3,base58flickr:base58flickr$3},Symbol.toStringTag,{value:"Module"})),base64$8=rfc4648$3({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad$3=rfc4648$3({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url$3=rfc4648$3({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad$3=rfc4648$3({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$9=Object.freeze(Object.defineProperty({__proto__:null,base64:base64$8,base64pad:base64pad$3,base64url:base64url$3,base64urlpad:base64urlpad$3},Symbol.toStringTag,{value:"Module"})),base8$6=rfc4648$3({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$7=Object.freeze(Object.defineProperty({__proto__:null,base8:base8$6},Symbol.toStringTag,{value:"Module"})),identity$4=from$4({prefix:"\0",name:"identity",encode:a=>toString$6(a),decode:a=>fromString$6(a)}),identityBase$3=Object.freeze(Object.defineProperty({__proto__:null,identity:identity$4},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const bases$3={...identityBase$3,...base2$7,...base8$7,...base10$7,...base16$7,...base32$7,...base36$7,...base58$3,...base64$9,...base256emoji$7};function asUint8Array$1(a){return globalThis.Buffer!=null?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):a}function allocUnsafe$1(a=0){var e;return((e=globalThis.Buffer)==null?void 0:e.allocUnsafe)!=null?asUint8Array$1(globalThis.Buffer.allocUnsafe(a)):new Uint8Array(a)}function createCodec$1(a,e,o,c){return{name:a,prefix:e,encoder:{name:a,prefix:e,encode:o},decoder:{decode:c}}}const string$1=createCodec$1("utf8","u",a=>"u"+new TextDecoder("utf8").decode(a),a=>new TextEncoder().encode(a.substring(1))),ascii$1=createCodec$1("ascii","a",a=>{let e="a";for(let o=0;o<a.length;o++)e+=String.fromCharCode(a[o]);return e},a=>{a=a.substring(1);const e=allocUnsafe$1(a.length);for(let o=0;o<a.length;o++)e[o]=a.charCodeAt(o);return e}),BASES$1={utf8:string$1,"utf-8":string$1,hex:bases$3.base16,latin1:ascii$1,ascii:ascii$1,binary:ascii$1,...bases$3};function toString$5(a,e="utf8"){const o=BASES$1[e];if(o==null)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(a.buffer,a.byteOffset,a.byteLength).toString("utf8"):o.encoder.encode(a).substring(1)}const isV4=isIPv4,isV6=isIPv6,toBytes$1=function(a){let e=0;if(a=a.toString().trim(),isV4(a)){const o=new Uint8Array(e+4);return a.split(/\./g).forEach(c=>{o[e++]=parseInt(c,10)&255}),o}if(isV6(a)){const o=a.split(":",8);let c;for(c=0;c<o.length;c++){const h=isV4(o[c]);let et;h&&(et=toBytes$1(o[c]),o[c]=toString$5(et.slice(0,2),"base16")),et!=null&&++c<8&&o.splice(c,0,toString$5(et.slice(2,4),"base16"))}if(o[0]==="")for(;o.length<8;)o.unshift("0");else if(o[o.length-1]==="")for(;o.length<8;)o.push("0");else if(o.length<8){for(c=0;c<o.length&&o[c]!=="";c++);const h=[c,1];for(c=9-o.length;c>0;c--)h.push("0");o.splice.apply(o,h)}const d=new Uint8Array(e+16);for(c=0;c<o.length;c++){const h=parseInt(o[c],16);d[e++]=h>>8&255,d[e++]=h&255}return d}throw new Error("invalid ip address")},toString$4=function(a,e=0,o){e=~~e,o=o??a.length-e;const c=new DataView(a.buffer);if(o===4){const d=[];for(let h=0;h<o;h++)d.push(a[e+h]);return d.join(".")}if(o===16){const d=[];for(let h=0;h<o;h+=2)d.push(c.getUint16(e+h).toString(16));return d.join(":").replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3").replace(/:{3,4}/,"::")}return""},V=-1,names={},codes={},table=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,V,"ip6zone"],[43,8,"ipcidr"],[53,V,"dns",!0],[54,V,"dns4",!0],[55,V,"dns6",!0],[56,V,"dnsaddr",!0],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[280,0,"webrtc"],[281,0,"webrtc-w3c"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,V,"unix",!1,!0],[421,V,"ipfs"],[421,V,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,V,"garlic64"],[448,0,"tls"],[449,V,"sni"],[460,0,"quic"],[461,0,"quic-v1"],[465,0,"webtransport"],[466,V,"certhash"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,V,"memory"]];table.forEach(a=>{const e=createProtocol(...a);codes[e.code]=e,names[e.name]=e});function createProtocol(a,e,o,c,d){return{code:a,size:e,name:o,resolvable:!!c,path:!!d}}function getProtocol(a){if(typeof a=="number"){if(codes[a]!=null)return codes[a];throw new Error(`no protocol with code: ${a}`)}else if(typeof a=="string"){if(names[a]!=null)return names[a];throw new Error(`no protocol with name: ${a}`)}throw new Error(`invalid protocol id type: ${typeof a}`)}var encode_1$2=encode$9,MSB$4=128,REST$4=127,MSBALL$2=~REST$4,INT$2=Math.pow(2,31);function encode$9(a,e,o){e=e||[],o=o||0;for(var c=o;a>=INT$2;)e[o++]=a&255|MSB$4,a/=128;for(;a&MSBALL$2;)e[o++]=a&255|MSB$4,a>>>=7;return e[o]=a|0,encode$9.bytes=o-c+1,e}var decode$c=read$2,MSB$1$1=128,REST$1$1=127;function read$2(a,c){var o=0,c=c||0,d=0,h=c,et,tt=a.length;do{if(h>=tt)throw read$2.bytes=0,new RangeError("Could not decode varint");et=a[h++],o+=d<28?(et&REST$1$1)<<d:(et&REST$1$1)*Math.pow(2,d),d+=7}while(et>=MSB$1$1);return read$2.bytes=h-c,o}var N1$2=Math.pow(2,7),N2$2=Math.pow(2,14),N3$2=Math.pow(2,21),N4$2=Math.pow(2,28),N5$2=Math.pow(2,35),N6$2=Math.pow(2,42),N7$2=Math.pow(2,49),N8$2=Math.pow(2,56),N9$2=Math.pow(2,63),length$2=function(a){return a<N1$2?1:a<N2$2?2:a<N3$2?3:a<N4$2?4:a<N5$2?5:a<N6$2?6:a<N7$2?7:a<N8$2?8:a<N9$2?9:10},varint$3={encode:encode_1$2,decode:decode$c,encodingLength:length$2},_brrp_varint$1=varint$3;const decode$b=(a,e=0)=>[_brrp_varint$1.decode(a,e),_brrp_varint$1.decode.bytes],encodeTo$1=(a,e,o=0)=>(_brrp_varint$1.encode(a,e,o),e),encodingLength$1=a=>_brrp_varint$1.encodingLength(a),equals$5=(a,e)=>{if(a===e)return!0;if(a.byteLength!==e.byteLength)return!1;for(let o=0;o<a.byteLength;o++)if(a[o]!==e[o])return!1;return!0},coerce$2=a=>{if(a instanceof Uint8Array&&a.constructor.name==="Uint8Array")return a;if(a instanceof ArrayBuffer)return new Uint8Array(a);if(ArrayBuffer.isView(a))return new Uint8Array(a.buffer,a.byteOffset,a.byteLength);throw new Error("Unknown type, must be binary type")},fromString$5=a=>new TextEncoder().encode(a),toString$3=a=>new TextDecoder().decode(a),create$4=(a,e)=>{const o=e.byteLength,c=encodingLength$1(a),d=c+encodingLength$1(o),h=new Uint8Array(d+o);return encodeTo$1(a,h,0),encodeTo$1(o,h,c),h.set(e,d),new Digest$1(a,o,e,h)},decode$a=a=>{const e=coerce$2(a),[o,c]=decode$b(e),[d,h]=decode$b(e.subarray(c)),et=e.subarray(c+h);if(et.byteLength!==d)throw new Error("Incorrect length");return new Digest$1(o,d,et,e)},equals$4=(a,e)=>{if(a===e)return!0;{const o=e;return a.code===o.code&&a.size===o.size&&o.bytes instanceof Uint8Array&&equals$5(a.bytes,o.bytes)}};let Digest$1=class{constructor(e,o,c,d){this.code=e,this.size=o,this.digest=c,this.bytes=d}};function base$2(a,e){if(a.length>=255)throw new TypeError("Alphabet too long");for(var o=new Uint8Array(256),c=0;c<o.length;c++)o[c]=255;for(var d=0;d<a.length;d++){var h=a.charAt(d),et=h.charCodeAt(0);if(o[et]!==255)throw new TypeError(h+" is ambiguous");o[et]=d}var tt=a.length,ot=a.charAt(0),ft=Math.log(tt)/Math.log(256),ht=Math.log(256)/Math.log(tt);function yt(bt){if(bt instanceof Uint8Array||(ArrayBuffer.isView(bt)?bt=new Uint8Array(bt.buffer,bt.byteOffset,bt.byteLength):Array.isArray(bt)&&(bt=Uint8Array.from(bt))),!(bt instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(bt.length===0)return"";for(var xt=0,Et=0,vt=0,$t=bt.length;vt!==$t&&bt[vt]===0;)vt++,xt++;for(var At=($t-vt)*ht+1>>>0,kt=new Uint8Array(At);vt!==$t;){for(var It=bt[vt],Dt=0,Mt=At-1;(It!==0||Dt<Et)&&Mt!==-1;Mt--,Dt++)It+=256*kt[Mt]>>>0,kt[Mt]=It%tt>>>0,It=It/tt>>>0;if(It!==0)throw new Error("Non-zero carry");Et=Dt,vt++}for(var zt=At-Et;zt!==At&&kt[zt]===0;)zt++;for(var Kt=ot.repeat(xt);zt<At;++zt)Kt+=a.charAt(kt[zt]);return Kt}function gt(bt){if(typeof bt!="string")throw new TypeError("Expected String");if(bt.length===0)return new Uint8Array;var xt=0;if(bt[xt]!==" "){for(var Et=0,vt=0;bt[xt]===ot;)Et++,xt++;for(var $t=(bt.length-xt)*ft+1>>>0,At=new Uint8Array($t);bt[xt];){var kt=o[bt.charCodeAt(xt)];if(kt===255)return;for(var It=0,Dt=$t-1;(kt!==0||It<vt)&&Dt!==-1;Dt--,It++)kt+=tt*At[Dt]>>>0,At[Dt]=kt%256>>>0,kt=kt/256>>>0;if(kt!==0)throw new Error("Non-zero carry");vt=It,xt++}if(bt[xt]!==" "){for(var Mt=$t-vt;Mt!==$t&&At[Mt]===0;)Mt++;for(var zt=new Uint8Array(Et+($t-Mt)),Kt=Et;Mt!==$t;)zt[Kt++]=At[Mt++];return zt}}}function wt(bt){var xt=gt(bt);if(xt)return xt;throw new Error(`Non-${e} character`)}return{encode:yt,decodeUnsafe:gt,decode:wt}}var src$2=base$2,_brrp__multiformats_scope_baseX$2=src$2;let Encoder$2=class{constructor(e,o,c){this.name=e,this.prefix=o,this.baseEncode=c}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Decoder$2=class{constructor(e,o,c){if(this.name=e,this.prefix=o,o.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=o.codePointAt(0),this.baseDecode=c}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return or$2(this,e)}},ComposedDecoder$2=class{constructor(e){this.decoders=e}or(e){return or$2(this,e)}decode(e){const o=e[0],c=this.decoders[o];if(c)return c.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const or$2=(a,e)=>new ComposedDecoder$2({...a.decoders||{[a.prefix]:a},...e.decoders||{[e.prefix]:e}});let Codec$2=class{constructor(e,o,c,d){this.name=e,this.prefix=o,this.baseEncode=c,this.baseDecode=d,this.encoder=new Encoder$2(e,o,c),this.decoder=new Decoder$2(e,o,d)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const from$3=({name:a,prefix:e,encode:o,decode:c})=>new Codec$2(a,e,o,c),baseX$2=({prefix:a,name:e,alphabet:o})=>{const{encode:c,decode:d}=_brrp__multiformats_scope_baseX$2(o,e);return from$3({prefix:a,name:e,encode:c,decode:h=>coerce$2(d(h))})},decode$9=(a,e,o,c)=>{const d={};for(let ht=0;ht<e.length;++ht)d[e[ht]]=ht;let h=a.length;for(;a[h-1]==="=";)--h;const et=new Uint8Array(h*o/8|0);let tt=0,ot=0,ft=0;for(let ht=0;ht<h;++ht){const yt=d[a[ht]];if(yt===void 0)throw new SyntaxError(`Non-${c} character`);ot=ot<<o|yt,tt+=o,tt>=8&&(tt-=8,et[ft++]=255&ot>>tt)}if(tt>=o||255&ot<<8-tt)throw new SyntaxError("Unexpected end of data");return et},encode$8=(a,e,o)=>{const c=e[e.length-1]==="=",d=(1<<o)-1;let h="",et=0,tt=0;for(let ot=0;ot<a.length;++ot)for(tt=tt<<8|a[ot],et+=8;et>o;)et-=o,h+=e[d&tt>>et];if(et&&(h+=e[d&tt<<o-et]),c)for(;h.length*o&7;)h+="=";return h},rfc4648$2=({name:a,prefix:e,bitsPerChar:o,alphabet:c})=>from$3({prefix:e,name:a,encode(d){return encode$8(d,c,o)},decode(d){return decode$9(d,c,o,a)}}),base58btc$2=baseX$2({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr$2=baseX$2({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58$2=Object.freeze(Object.defineProperty({__proto__:null,base58btc:base58btc$2,base58flickr:base58flickr$2},Symbol.toStringTag,{value:"Module"})),base32$4=rfc4648$2({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper$2=rfc4648$2({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad$2=rfc4648$2({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper$2=rfc4648$2({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex$2=rfc4648$2({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper$2=rfc4648$2({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad$2=rfc4648$2({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper$2=rfc4648$2({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z$2=rfc4648$2({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$5=Object.freeze(Object.defineProperty({__proto__:null,base32:base32$4,base32hex:base32hex$2,base32hexpad:base32hexpad$2,base32hexpadupper:base32hexpadupper$2,base32hexupper:base32hexupper$2,base32pad:base32pad$2,base32padupper:base32padupper$2,base32upper:base32upper$2,base32z:base32z$2},Symbol.toStringTag,{value:"Module"})),format$1=(a,e)=>{const{bytes:o,version:c}=a;switch(c){case 0:return toStringV0$1(o,baseCache$1(a),e||base58btc$2.encoder);default:return toStringV1$1(o,baseCache$1(a),e||base32$4.encoder)}},cache$1=new WeakMap,baseCache$1=a=>{const e=cache$1.get(a);if(e==null){const o=new Map;return cache$1.set(a,o),o}return e};let CID$1=class rn{constructor(e,o,c,d){this.code=o,this.version=e,this.multihash=c,this.bytes=d,this["/"]=d}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:o}=this;if(e!==DAG_PB_CODE$1)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(o.code!==SHA_256_CODE$1)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return rn.createV0(o)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:e,digest:o}=this.multihash,c=create$4(e,o);return rn.createV1(this.code,c)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return rn.equals(this,e)}static equals(e,o){const c=o;return c&&e.code===c.code&&e.version===c.version&&equals$4(e.multihash,c.multihash)}toString(e){return format$1(this,e)}toJSON(){return{"/":format$1(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;const o=e;if(o instanceof rn)return o;if(o["/"]!=null&&o["/"]===o.bytes||o.asCID===o){const{version:c,code:d,multihash:h,bytes:et}=o;return new rn(c,d,h,et||encodeCID$2(c,d,h.bytes))}else if(o[cidSymbol$1]===!0){const{version:c,multihash:d,code:h}=o,et=decode$a(d);return rn.create(c,h,et)}else return null}static create(e,o,c){if(typeof o!="number")throw new Error("String codecs are no longer supported");if(!(c.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(o!==DAG_PB_CODE$1)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE$1}) block encoding`);return new rn(e,o,c,c.bytes)}case 1:{const d=encodeCID$2(e,o,c.bytes);return new rn(e,o,c,d)}default:throw new Error("Invalid version")}}static createV0(e){return rn.create(0,DAG_PB_CODE$1,e)}static createV1(e,o){return rn.create(1,e,o)}static decode(e){const[o,c]=rn.decodeFirst(e);if(c.length)throw new Error("Incorrect length");return o}static decodeFirst(e){const o=rn.inspectBytes(e),c=o.size-o.multihashSize,d=coerce$2(e.subarray(c,c+o.multihashSize));if(d.byteLength!==o.multihashSize)throw new Error("Incorrect length");const h=d.subarray(o.multihashSize-o.digestSize),et=new Digest$1(o.multihashCode,o.digestSize,h,d);return[o.version===0?rn.createV0(et):rn.createV1(o.codec,et),e.subarray(o.size)]}static inspectBytes(e){let o=0;const c=()=>{const[yt,gt]=decode$b(e.subarray(o));return o+=gt,yt};let d=c(),h=DAG_PB_CODE$1;if(d===18?(d=0,o=0):h=c(),d!==0&&d!==1)throw new RangeError(`Invalid CID version ${d}`);const et=o,tt=c(),ot=c(),ft=o+ot,ht=ft-et;return{version:d,codec:h,multihashCode:tt,digestSize:ot,multihashSize:ht,size:ft}}static parse(e,o){const[c,d]=parseCIDtoBytes$1(e,o),h=rn.decode(d);if(h.version===0&&e[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return baseCache$1(h).set(c,e),h}};const parseCIDtoBytes$1=(a,e)=>{switch(a[0]){case"Q":{const o=e||base58btc$2;return[base58btc$2.prefix,o.decode(`${base58btc$2.prefix}${a}`)]}case base58btc$2.prefix:{const o=e||base58btc$2;return[base58btc$2.prefix,o.decode(a)]}case base32$4.prefix:{const o=e||base32$4;return[base32$4.prefix,o.decode(a)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[a[0],e.decode(a)]}}},toStringV0$1=(a,e,o)=>{const{prefix:c}=o;if(c!==base58btc$2.prefix)throw Error(`Cannot string encode V0 in ${o.name} encoding`);const d=e.get(c);if(d==null){const h=o.encode(a).slice(1);return e.set(c,h),h}else return d},toStringV1$1=(a,e,o)=>{const{prefix:c}=o,d=e.get(c);if(d==null){const h=o.encode(a);return e.set(c,h),h}else return d},DAG_PB_CODE$1=112,SHA_256_CODE$1=18,encodeCID$2=(a,e,o)=>{const c=encodingLength$1(a),d=c+encodingLength$1(e),h=new Uint8Array(d+o.byteLength);return encodeTo$1(a,h,0),encodeTo$1(e,h,c),h.set(o,d),h},cidSymbol$1=Symbol.for("@ipld/js-cid/CID"),identity$3=from$3({prefix:"\0",name:"identity",encode:a=>toString$3(a),decode:a=>fromString$5(a)}),identityBase$2=Object.freeze(Object.defineProperty({__proto__:null,identity:identity$3},Symbol.toStringTag,{value:"Module"})),base2$4=rfc4648$2({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$5=Object.freeze(Object.defineProperty({__proto__:null,base2:base2$4},Symbol.toStringTag,{value:"Module"})),base8$4=rfc4648$2({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$5=Object.freeze(Object.defineProperty({__proto__:null,base8:base8$4},Symbol.toStringTag,{value:"Module"})),base10$4=baseX$2({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$5=Object.freeze(Object.defineProperty({__proto__:null,base10:base10$4},Symbol.toStringTag,{value:"Module"})),base16$4=rfc4648$2({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper$2=rfc4648$2({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$5=Object.freeze(Object.defineProperty({__proto__:null,base16:base16$4,base16upper:base16upper$2},Symbol.toStringTag,{value:"Module"})),base36$4=baseX$2({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper$2=baseX$2({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$5=Object.freeze(Object.defineProperty({__proto__:null,base36:base36$4,base36upper:base36upper$2},Symbol.toStringTag,{value:"Module"})),base64$6=rfc4648$2({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad$2=rfc4648$2({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url$2=rfc4648$2({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad$2=rfc4648$2({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$7=Object.freeze(Object.defineProperty({__proto__:null,base64:base64$6,base64pad:base64pad$2,base64url:base64url$2,base64urlpad:base64urlpad$2},Symbol.toStringTag,{value:"Module"})),alphabet$2=Array.from(""),alphabetBytesToChars$2=alphabet$2.reduce((a,e,o)=>(a[o]=e,a),[]),alphabetCharsToBytes$2=alphabet$2.reduce((a,e,o)=>(a[e.codePointAt(0)]=o,a),[]);function encode$7(a){return a.reduce((e,o)=>(e+=alphabetBytesToChars$2[o],e),"")}function decode$8(a){const e=[];for(const o of a){const c=alphabetCharsToBytes$2[o.codePointAt(0)];if(c===void 0)throw new Error(`Non-base256emoji character: ${o}`);e.push(c)}return new Uint8Array(e)}const base256emoji$4=from$3({prefix:"",name:"base256emoji",encode:encode$7,decode:decode$8}),base256emoji$5=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:base256emoji$4},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const bases$2={...identityBase$2,...base2$5,...base8$5,...base10$5,...base16$5,...base32$5,...base36$5,...base58$2,...base64$7,...base256emoji$5};var encode_1$1=encode$6,MSB$3=128,REST$3=127,MSBALL$1=~REST$3,INT$1=Math.pow(2,31);function encode$6(a,e,o){if(Number.MAX_SAFE_INTEGER&&a>Number.MAX_SAFE_INTEGER)throw encode$6.bytes=0,new RangeError("Could not encode varint");e=e||[],o=o||0;for(var c=o;a>=INT$1;)e[o++]=a&255|MSB$3,a/=128;for(;a&MSBALL$1;)e[o++]=a&255|MSB$3,a>>>=7;return e[o]=a|0,encode$6.bytes=o-c+1,e}var decode$7=read$1,MSB$2=128,REST$2=127;function read$1(a,c){var o=0,c=c||0,d=0,h=c,et,tt=a.length;do{if(h>=tt||d>49)throw read$1.bytes=0,new RangeError("Could not decode varint");et=a[h++],o+=d<28?(et&REST$2)<<d:(et&REST$2)*Math.pow(2,d),d+=7}while(et>=MSB$2);return read$1.bytes=h-c,o}var N1$1=Math.pow(2,7),N2$1=Math.pow(2,14),N3$1=Math.pow(2,21),N4$1=Math.pow(2,28),N5$1=Math.pow(2,35),N6$1=Math.pow(2,42),N7$1=Math.pow(2,49),N8$1=Math.pow(2,56),N9$1=Math.pow(2,63),length$1=function(a){return a<N1$1?1:a<N2$1?2:a<N3$1?3:a<N4$1?4:a<N5$1?5:a<N6$1?6:a<N7$1?7:a<N8$1?8:a<N9$1?9:10},varint$1={encode:encode_1$1,decode:decode$7,encodingLength:length$1};const varint$2=getDefaultExportFromCjs(varint$1);function fromString$4(a,e="utf8"){const o=BASES$1[e];if(o==null)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?asUint8Array$1(globalThis.Buffer.from(a,"utf-8")):o.decoder.decode(`${o.prefix}${a}`)}function concat(a,e){e==null&&(e=a.reduce((d,h)=>d+h.length,0));const o=allocUnsafe$1(e);let c=0;for(const d of a)o.set(d,c),c+=d.length;return asUint8Array$1(o)}function convertToString(a,e){switch(getProtocol(a).code){case 4:case 41:return bytes2ip(e);case 42:return bytes2str(e);case 6:case 273:case 33:case 132:return bytes2port(e).toString();case 53:case 54:case 55:case 56:case 400:case 449:case 777:return bytes2str(e);case 421:return bytes2mh(e);case 444:return bytes2onion(e);case 445:return bytes2onion(e);case 466:return bytes2mb(e);default:return toString$5(e,"base16")}}function convertToBytes(a,e){switch(getProtocol(a).code){case 4:return ip2bytes(e);case 41:return ip2bytes(e);case 42:return str2bytes(e);case 6:case 273:case 33:case 132:return port2bytes(parseInt(e,10));case 53:case 54:case 55:case 56:case 400:case 449:case 777:return str2bytes(e);case 421:return mh2bytes(e);case 444:return onion2bytes(e);case 445:return onion32bytes(e);case 466:return mb2bytes(e);default:return fromString$4(e,"base16")}}const decoders=Object.values(bases$2).map(a=>a.decoder),anybaseDecoder=function(){let a=decoders[0].or(decoders[1]);return decoders.slice(2).forEach(e=>a=a.or(e)),a}();function ip2bytes(a){if(!isIP(a))throw new Error("invalid ip address");return toBytes$1(a)}function bytes2ip(a){const e=toString$4(a,0,a.length);if(e==null)throw new Error("ipBuff is required");if(!isIP(e))throw new Error("invalid ip address");return e}function port2bytes(a){const e=new ArrayBuffer(2);return new DataView(e).setUint16(0,a),new Uint8Array(e)}function bytes2port(a){return new DataView(a.buffer).getUint16(a.byteOffset)}function str2bytes(a){const e=fromString$4(a),o=Uint8Array.from(varint$2.encode(e.length));return concat([o,e],o.length+e.length)}function bytes2str(a){const e=varint$2.decode(a);if(a=a.slice(varint$2.decode.bytes),a.length!==e)throw new Error("inconsistent lengths");return toString$5(a)}function mh2bytes(a){let e;a[0]==="Q"||a[0]==="1"?e=decode$a(base58btc$2.decode(`z${a}`)).bytes:e=CID$1.parse(a).multihash.bytes;const o=Uint8Array.from(varint$2.encode(e.length));return concat([o,e],o.length+e.length)}function mb2bytes(a){const e=anybaseDecoder.decode(a),o=Uint8Array.from(varint$2.encode(e.length));return concat([o,e],o.length+e.length)}function bytes2mb(a){const e=varint$2.decode(a),o=a.slice(varint$2.decode.bytes);if(o.length!==e)throw new Error("inconsistent lengths");return"u"+toString$5(o,"base64url")}function bytes2mh(a){const e=varint$2.decode(a),o=a.slice(varint$2.decode.bytes);if(o.length!==e)throw new Error("inconsistent lengths");return toString$5(o,"base58btc")}function onion2bytes(a){const e=a.split(":");if(e.length!==2)throw new Error(`failed to parse onion addr: ["'${e.join('", "')}'"]' does not contain a port number`);if(e[0].length!==16)throw new Error(`failed to parse onion addr: ${e[0]} not a Tor onion address.`);const o=base32$4.decode("b"+e[0]),c=parseInt(e[1],10);if(c<1||c>65536)throw new Error("Port number is not in range(1, 65536)");const d=port2bytes(c);return concat([o,d],o.length+d.length)}function onion32bytes(a){const e=a.split(":");if(e.length!==2)throw new Error(`failed to parse onion addr: ["'${e.join('", "')}'"]' does not contain a port number`);if(e[0].length!==56)throw new Error(`failed to parse onion addr: ${e[0]} not a Tor onion3 address.`);const o=base32$4.decode(`b${e[0]}`),c=parseInt(e[1],10);if(c<1||c>65536)throw new Error("Port number is not in range(1, 65536)");const d=port2bytes(c);return concat([o,d],o.length+d.length)}function bytes2onion(a){const e=a.slice(0,a.length-2),o=a.slice(a.length-2),c=toString$5(e,"base32"),d=bytes2port(o);return`${c}:${d}`}function stringToStringTuples(a){const e=[],o=a.split("/").slice(1);if(o.length===1&&o[0]==="")return[];for(let c=0;c<o.length;c++){const d=o[c],h=getProtocol(d);if(h.size===0){e.push([d]);continue}if(c++,c>=o.length)throw ParseError("invalid address: "+a);if(h.path===!0){e.push([d,cleanPath(o.slice(c).join("/"))]);break}e.push([d,o[c]])}return e}function stringTuplesToString(a){const e=[];return a.map(o=>{const c=protoFromTuple(o);return e.push(c.name),o.length>1&&o[1]!=null&&e.push(o[1]),null}),cleanPath(e.join("/"))}function stringTuplesToTuples(a){return a.map(e=>{Array.isArray(e)||(e=[e]);const o=protoFromTuple(e);return e.length>1?[o.code,convertToBytes(o.code,e[1])]:[o.code]})}function tuplesToStringTuples(a){return a.map(e=>{const o=protoFromTuple(e);return e[1]!=null?[o.code,convertToString(o.code,e[1])]:[o.code]})}function tuplesToBytes(a){return fromBytes(concat(a.map(e=>{const o=protoFromTuple(e);let c=Uint8Array.from(varint$2.encode(o.code));return e.length>1&&e[1]!=null&&(c=concat([c,e[1]])),c})))}function sizeForAddr(a,e){return a.size>0?a.size/8:a.size===0?0:varint$2.decode(e)+(varint$2.decode.bytes??0)}function bytesToTuples(a){const e=[];let o=0;for(;o<a.length;){const c=varint$2.decode(a,o),d=varint$2.decode.bytes??0,h=getProtocol(c),et=sizeForAddr(h,a.slice(o+d));if(et===0){e.push([c]),o+=d;continue}const tt=a.slice(o+d,o+d+et);if(o+=et+d,o>a.length)throw ParseError("Invalid address Uint8Array: "+toString$5(a,"base16"));e.push([c,tt])}return e}function bytesToString(a){const e=bytesToTuples(a),o=tuplesToStringTuples(e);return stringTuplesToString(o)}function stringToBytes(a){a=cleanPath(a);const e=stringToStringTuples(a),o=stringTuplesToTuples(e);return tuplesToBytes(o)}function fromString$3(a){return stringToBytes(a)}function fromBytes(a){const e=validateBytes(a);if(e!=null)throw e;return Uint8Array.from(a)}function validateBytes(a){try{bytesToTuples(a)}catch(e){return e}}function cleanPath(a){return"/"+a.trim().split("/").filter(e=>e).join("/")}function ParseError(a){return new Error("Error parsing address: "+a)}function protoFromTuple(a){return getProtocol(a[0])}function assign(a,e){for(const o in e)Object.defineProperty(a,o,{value:e[o],enumerable:!0,configurable:!0});return a}function createError(a,e,o){if(!a||typeof a=="string")throw new TypeError("Please pass an Error to err-code");o||(o={}),typeof e=="object"&&(o=e,e=""),e&&(o.code=e);try{return assign(a,o)}catch{o.message=a.message,o.stack=a.stack;const d=function(){};return d.prototype=Object.create(Object.getPrototypeOf(a)),assign(new d,o)}}var errCode=createError;const errCode$1=getDefaultExportFromCjs(errCode);function equals$3(a,e){if(a===e)return!0;if(a.byteLength!==e.byteLength)return!1;for(let o=0;o<a.byteLength;o++)if(a[o]!==e[o])return!1;return!0}var __classPrivateFieldGet=function(a,e,o,c){if(o==="a"&&!c)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?a!==e||!c:!e.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?c:o==="a"?c.call(a):c?c.value:e.get(a)},__classPrivateFieldSet=function(a,e,o,c,d){if(c==="m")throw new TypeError("Private method is not writable");if(c==="a"&&!d)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?a!==e||!d:!e.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return c==="a"?d.call(a,o):d?d.value=o:e.set(a,o),o},_DefaultMultiaddr_string,_DefaultMultiaddr_tuples,_DefaultMultiaddr_stringTuples,_a;const inspect$1=Symbol.for("nodejs.util.inspect.custom"),DNS_CODES=[getProtocol("dns").code,getProtocol("dns4").code,getProtocol("dns6").code,getProtocol("dnsaddr").code],resolvers=new Map,symbol$1=Symbol.for("@multiformats/js-multiaddr/multiaddr");function isMultiaddr(a){return!!(a!=null&&a[symbol$1])}class DefaultMultiaddr{constructor(e){if(_DefaultMultiaddr_string.set(this,void 0),_DefaultMultiaddr_tuples.set(this,void 0),_DefaultMultiaddr_stringTuples.set(this,void 0),this[_a]=!0,e==null&&(e=""),e instanceof Uint8Array)this.bytes=fromBytes(e);else if(typeof e=="string"){if(e.length>0&&e.charAt(0)!=="/")throw new Error(`multiaddr "${e}" must start with a "/"`);this.bytes=fromString$3(e)}else if(isMultiaddr(e))this.bytes=fromBytes(e.bytes);else throw new Error("addr must be a string, Buffer, or another Multiaddr")}toString(){return __classPrivateFieldGet(this,_DefaultMultiaddr_string,"f")==null&&__classPrivateFieldSet(this,_DefaultMultiaddr_string,bytesToString(this.bytes),"f"),__classPrivateFieldGet(this,_DefaultMultiaddr_string,"f")}toJSON(){return this.toString()}toOptions(){let e,o,c,d,h="";const et=getProtocol("tcp"),tt=getProtocol("udp"),ot=getProtocol("ip4"),ft=getProtocol("ip6"),ht=getProtocol("dns6"),yt=getProtocol("ip6zone");for(const[wt,bt]of this.stringTuples())wt===yt.code&&(h=`%${bt??""}`),DNS_CODES.includes(wt)&&(o=et.name,d=443,c=`${bt??""}${h}`,e=wt===ht.code?6:4),(wt===et.code||wt===tt.code)&&(o=getProtocol(wt).name,d=parseInt(bt??"")),(wt===ot.code||wt===ft.code)&&(o=getProtocol(wt).name,c=`${bt??""}${h}`,e=wt===ft.code?6:4);if(e==null||o==null||c==null||d==null)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6, dnsaddr}/{address}/{tcp, udp}/{port}".');return{family:e,host:c,transport:o,port:d}}protos(){return this.protoCodes().map(e=>Object.assign({},getProtocol(e)))}protoCodes(){const e=[],o=this.bytes;let c=0;for(;c<o.length;){const d=varint$2.decode(o,c),h=varint$2.decode.bytes??0,et=getProtocol(d),tt=sizeForAddr(et,o.slice(c+h));c+=tt+h,e.push(d)}return e}protoNames(){return this.protos().map(e=>e.name)}tuples(){return __classPrivateFieldGet(this,_DefaultMultiaddr_tuples,"f")==null&&__classPrivateFieldSet(this,_DefaultMultiaddr_tuples,bytesToTuples(this.bytes),"f"),__classPrivateFieldGet(this,_DefaultMultiaddr_tuples,"f")}stringTuples(){return __classPrivateFieldGet(this,_DefaultMultiaddr_stringTuples,"f")==null&&__classPrivateFieldSet(this,_DefaultMultiaddr_stringTuples,tuplesToStringTuples(this.tuples()),"f"),__classPrivateFieldGet(this,_DefaultMultiaddr_stringTuples,"f")}encapsulate(e){return e=new DefaultMultiaddr(e),new DefaultMultiaddr(this.toString()+e.toString())}decapsulate(e){const o=e.toString(),c=this.toString(),d=c.lastIndexOf(o);if(d<0)throw new Error(`Address ${this.toString()} does not contain subaddress: ${e.toString()}`);return new DefaultMultiaddr(c.slice(0,d))}decapsulateCode(e){const o=this.tuples();for(let c=o.length-1;c>=0;c--)if(o[c][0]===e)return new DefaultMultiaddr(tuplesToBytes(o.slice(0,c)));return this}getPeerId(){try{const o=this.stringTuples().filter(c=>c[0]===names.ipfs.code).pop();if((o==null?void 0:o[1])!=null){const c=o[1];return c[0]==="Q"||c[0]==="1"?toString$5(base58btc$2.decode(`z${c}`),"base58btc"):toString$5(CID$1.parse(c).multihash.bytes,"base58btc")}return null}catch{return null}}getPath(){let e=null;try{e=this.stringTuples().filter(o=>getProtocol(o[0]).path===!0)[0][1],e==null&&(e=null)}catch{e=null}return e}equals(e){return equals$3(this.bytes,e.bytes)}async resolve(e){const o=this.protos().find(h=>h.resolvable);if(o==null)return[this];const c=resolvers.get(o.name);if(c==null)throw errCode$1(new Error(`no available resolver for ${o.name}`),"ERR_NO_AVAILABLE_RESOLVER");return(await c(this,e)).map(h=>new DefaultMultiaddr(h))}nodeAddress(){const e=this.toOptions();if(e.transport!=="tcp"&&e.transport!=="udp")throw new Error(`multiaddr must have a valid format - no protocol with name: "${e.transport}". Must have a valid transport protocol: "{tcp, udp}"`);return{family:e.family,address:e.host,port:e.port}}isThinWaistAddress(e){const o=(e??this).protos();return!(o.length!==2||o[0].code!==4&&o[0].code!==41||o[1].code!==6&&o[1].code!==273)}[(_DefaultMultiaddr_string=new WeakMap,_DefaultMultiaddr_tuples=new WeakMap,_DefaultMultiaddr_stringTuples=new WeakMap,_a=symbol$1,inspect$1)](){return`Multiaddr(${bytesToString(this.bytes)})`}}function multiaddr(a){return new DefaultMultiaddr(a)}function extractSNI(a){let e;try{e=getProtocol$1("sni").code}catch{return null}for(const[o,c]of a)if(o===e&&c!==void 0)return c;return null}function hasTLS(a){return a.some(([e,o])=>e===getProtocol$1("tls").code)}function interpretNext(a,e,o){const c=interpreters[getProtocol$1(a).name];if(c===void 0)throw new Error(`Can't interpret protocol ${getProtocol$1(a).name}`);const d=c(e,o);return a===getProtocol$1("ip6").code?`[${d}]`:d}const interpreters={ip4:(a,e)=>a,ip6:(a,e)=>e.length===0?a:`[${a}]`,tcp:(a,e)=>{const o=e.pop();if(o===void 0)throw new Error("Unexpected end of multiaddr");return`tcp://${interpretNext(o[0],o[1]??"",e)}:${a}`},udp:(a,e)=>{const o=e.pop();if(o===void 0)throw new Error("Unexpected end of multiaddr");return`udp://${interpretNext(o[0],o[1]??"",e)}:${a}`},dnsaddr:(a,e)=>a,dns4:(a,e)=>a,dns6:(a,e)=>a,dns:(a,e)=>a,ipfs:(a,e)=>{const o=e.pop();if(o===void 0)throw new Error("Unexpected end of multiaddr");return`${interpretNext(o[0],o[1]??"",e)}/ipfs/${a}`},p2p:(a,e)=>{const o=e.pop();if(o===void 0)throw new Error("Unexpected end of multiaddr");return`${interpretNext(o[0],o[1]??"",e)}/p2p/${a}`},http:(a,e)=>{const o=hasTLS(e),c=extractSNI(e);if(o&&c!==null)return`https://${c}`;const d=o?"https://":"http://",h=e.pop();if(h===void 0)throw new Error("Unexpected end of multiaddr");let et=interpretNext(h[0],h[1]??"",e);return et=et.replace("tcp://",""),`${d}${et}`},tls:(a,e)=>{const o=e.pop();if(o===void 0)throw new Error("Unexpected end of multiaddr");return interpretNext(o[0],o[1]??"",e)},sni:(a,e)=>{const o=e.pop();if(o===void 0)throw new Error("Unexpected end of multiaddr");return interpretNext(o[0],o[1]??"",e)},https:(a,e)=>{const o=e.pop();if(o===void 0)throw new Error("Unexpected end of multiaddr");let c=interpretNext(o[0],o[1]??"",e);return c=c.replace("tcp://",""),`https://${c}`},ws:(a,e)=>{const o=hasTLS(e),c=extractSNI(e);if(o&&c!==null)return`wss://${c}`;const d=o?"wss://":"ws://",h=e.pop();if(h===void 0)throw new Error("Unexpected end of multiaddr");let et=interpretNext(h[0],h[1]??"",e);return et=et.replace("tcp://",""),`${d}${et}`},wss:(a,e)=>{const o=e.pop();if(o===void 0)throw new Error("Unexpected end of multiaddr");let c=interpretNext(o[0],o[1]??"",e);return c=c.replace("tcp://",""),`wss://${c}`},"p2p-websocket-star":(a,e)=>{const o=e.pop();if(o===void 0)throw new Error("Unexpected end of multiaddr");return`${interpretNext(o[0],o[1]??"",e)}/p2p-websocket-star`},"p2p-webrtc-star":(a,e)=>{const o=e.pop();if(o===void 0)throw new Error("Unexpected end of multiaddr");return`${interpretNext(o[0],o[1]??"",e)}/p2p-webrtc-star`},"p2p-webrtc-direct":(a,e)=>{const o=e.pop();if(o===void 0)throw new Error("Unexpected end of multiaddr");return`${interpretNext(o[0],o[1]??"",e)}/p2p-webrtc-direct`}};function multiaddrToUri(a,e){const c=multiaddr$1(a).stringTuples(),d=c.pop();if(d===void 0)throw new Error("Unexpected end of multiaddr");const h=getProtocol$1(d[0]),et=interpreters[h.name];if(et==null)throw new Error(`No interpreter found for ${h.name}`);let tt=et(d[1]??"",c);return(e==null?void 0:e.assumeHttp)!==!1&&d[0]===getProtocol$1("tcp").code&&(tt=tt.replace("tcp://","http://"),(d[1]==="443"||d[1]==="80")&&(d[1]==="443"&&(tt=tt.replace("http://","https://")),tt=tt.substring(0,tt.lastIndexOf(":")))),tt}function toUrlString(a){try{a=multiaddrToUri(multiaddr(a))}catch{}return a=a.toString(),a}const getAgent=()=>{},log$1=logger$1("js-kubo-rpc-client:lib:error-handler"),merge=mergeOpts.bind({ignoreUndefined:!0}),DEFAULT_PROTOCOL=env.isBrowser||env.isWebWorker?location.protocol:"http",DEFAULT_HOST=env.isBrowser||env.isWebWorker?location.hostname:"localhost",DEFAULT_PORT=env.isBrowser||env.isWebWorker?location.port:"5001",normalizeOptions=(a={})=>{let e,o={},c;if(typeof a=="string"||isMultiaddr$1(a))e=new URL(toUrlString(a));else if(a instanceof URL)e=a;else if(typeof a.url=="string"||isMultiaddr$1(a.url))e=new URL(toUrlString(a.url)),o=a;else if(a.url instanceof URL)e=a.url,o=a;else{o=a||{};const d=(o.protocol||DEFAULT_PROTOCOL).replace(":",""),h=(o.host||DEFAULT_HOST).split(":")[0],et=o.port||DEFAULT_PORT;e=new URL(`${d}://${h}:${et}`)}if(o.apiPath?e.pathname=o.apiPath:(e.pathname==="/"||e.pathname===void 0)&&(e.pathname="api/v0"),env.isNode){const d=getAgent();c=o.agent||new d({keepAlive:!0,maxSockets:6})}return{...o,host:e.host,protocol:e.protocol.replace(":",""),port:Number(e.port),apiPath:e.pathname,url:e,agent:c}},errorHandler=async a=>{let e;try{if((a.headers.get("Content-Type")||"").startsWith("application/json")){const c=await a.json();log$1(c),e=c.Message||c.message}else e=await a.text()}catch(c){log$1("Failed to parse error response",c),e=c.message}let o=new HTTP$1.HTTPError(a);throw e&&(e.includes("deadline has elapsed")&&(o=new HTTP$1.TimeoutError),e&&e.includes("context deadline exceeded")&&(o=new HTTP$1.TimeoutError)),e&&e.includes("request timed out")&&(o=new HTTP$1.TimeoutError),e&&(o.message=e),o},KEBAB_REGEX=/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,kebabCase=a=>a.replace(KEBAB_REGEX,function(e){return"-"+e.toLowerCase()}),parseTimeout=a=>typeof a=="string"?parse(a):a;class Client extends HTTP$1{constructor(e={}){const o=normalizeOptions(e);super({timeout:parseTimeout(o.timeout||0)||void 0,headers:o.headers,base:`${o.url}`,handleError:errorHandler,transformSearchParams:d=>{const h=new URLSearchParams;for(const[et,tt]of d)tt!=="undefined"&&tt!=="null"&&et!=="signal"&&h.append(kebabCase(et),tt),et==="timeout"&&!isNaN(tt)&&h.append(kebabCase(et),tt);return h},agent:o.agent}),delete this.get,delete this.put,delete this.delete,delete this.options;const c=this.fetch;this.fetch=(d,h={})=>(typeof d=="string"&&!d.startsWith("/")&&(d=`${o.url}/${d}`),c.call(this,d,merge(h,{method:"POST"})))}}HTTP$1.HTTPError;const configure=a=>e=>a(new Client(e),e);function modeToString$1(a){if(a!=null)return typeof a=="string"?a:a.toString(8).padStart(4,"0")}function parseMtime$1(a){if(a==null)return;let e;if(a.secs!=null&&(e={secs:a.secs,nsecs:a.nsecs}),a.Seconds!=null&&(e={secs:a.Seconds,nsecs:a.FractionalNanoseconds}),Array.isArray(a)&&(e={secs:a[0],nsecs:a[1]}),a instanceof Date){const o=a.getTime(),c=Math.floor(o/1e3);e={secs:c,nsecs:(o-c*1e3)*1e3}}if(Object.prototype.hasOwnProperty.call(e,"secs")){if(e!=null&&e.nsecs!=null&&(e.nsecs<0||e.nsecs>999999999))throw errCode$1(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return e}}function toUrlSearchParams({arg:a,searchParams:e,hashAlg:o,mtime:c,mode:d,...h}={}){e&&(h={...h,...e}),o&&(h.hash=o),c!=null&&(c=parseMtime$1(c),h.mtime=c.secs,h.mtimeNsecs=c.nsecs),d!=null&&(h.mode=modeToString$1(d)),h.timeout&&!isNaN(h.timeout)&&(h.timeout=`${h.timeout}ms`),a==null?a=[]:Array.isArray(a)||(a=[a]);const et=new URLSearchParams(h);return a.forEach(tt=>et.append("arg",tt)),et}const createWantlist=configure(a=>{async function e(o={}){return((await(await a.post("bitswap/wantlist",{signal:o.signal,searchParams:toUrlSearchParams(o),headers:o.headers})).json()).Keys||[]).map(d=>CID$2.parse(d["/"]))}return e}),createWantlistForPeer=configure(a=>{async function e(o,c={}){return((await(await a.post("bitswap/wantlist",{signal:c.signal,searchParams:toUrlSearchParams({...c,peer:o.toString()}),headers:c.headers})).json()).Keys||[]).map(h=>CID$2.parse(h["/"]))}return e}),symbol=Symbol.for("@libp2p/peer-id");function base$1(a,e){if(a.length>=255)throw new TypeError("Alphabet too long");for(var o=new Uint8Array(256),c=0;c<o.length;c++)o[c]=255;for(var d=0;d<a.length;d++){var h=a.charAt(d),et=h.charCodeAt(0);if(o[et]!==255)throw new TypeError(h+" is ambiguous");o[et]=d}var tt=a.length,ot=a.charAt(0),ft=Math.log(tt)/Math.log(256),ht=Math.log(256)/Math.log(tt);function yt(bt){if(bt instanceof Uint8Array||(ArrayBuffer.isView(bt)?bt=new Uint8Array(bt.buffer,bt.byteOffset,bt.byteLength):Array.isArray(bt)&&(bt=Uint8Array.from(bt))),!(bt instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(bt.length===0)return"";for(var xt=0,Et=0,vt=0,$t=bt.length;vt!==$t&&bt[vt]===0;)vt++,xt++;for(var At=($t-vt)*ht+1>>>0,kt=new Uint8Array(At);vt!==$t;){for(var It=bt[vt],Dt=0,Mt=At-1;(It!==0||Dt<Et)&&Mt!==-1;Mt--,Dt++)It+=256*kt[Mt]>>>0,kt[Mt]=It%tt>>>0,It=It/tt>>>0;if(It!==0)throw new Error("Non-zero carry");Et=Dt,vt++}for(var zt=At-Et;zt!==At&&kt[zt]===0;)zt++;for(var Kt=ot.repeat(xt);zt<At;++zt)Kt+=a.charAt(kt[zt]);return Kt}function gt(bt){if(typeof bt!="string")throw new TypeError("Expected String");if(bt.length===0)return new Uint8Array;var xt=0;if(bt[xt]!==" "){for(var Et=0,vt=0;bt[xt]===ot;)Et++,xt++;for(var $t=(bt.length-xt)*ft+1>>>0,At=new Uint8Array($t);bt[xt];){var kt=o[bt.charCodeAt(xt)];if(kt===255)return;for(var It=0,Dt=$t-1;(kt!==0||It<vt)&&Dt!==-1;Dt--,It++)kt+=tt*At[Dt]>>>0,At[Dt]=kt%256>>>0,kt=kt/256>>>0;if(kt!==0)throw new Error("Non-zero carry");vt=It,xt++}if(bt[xt]!==" "){for(var Mt=$t-vt;Mt!==$t&&At[Mt]===0;)Mt++;for(var zt=new Uint8Array(Et+($t-Mt)),Kt=Et;Mt!==$t;)zt[Kt++]=At[Mt++];return zt}}}function wt(bt){var xt=gt(bt);if(xt)return xt;throw new Error(`Non-${e} character`)}return{encode:yt,decodeUnsafe:gt,decode:wt}}var src$1=base$1,_brrp__multiformats_scope_baseX$1=src$1;const equals$2=(a,e)=>{if(a===e)return!0;if(a.byteLength!==e.byteLength)return!1;for(let o=0;o<a.byteLength;o++)if(a[o]!==e[o])return!1;return!0},coerce$1=a=>{if(a instanceof Uint8Array&&a.constructor.name==="Uint8Array")return a;if(a instanceof ArrayBuffer)return new Uint8Array(a);if(ArrayBuffer.isView(a))return new Uint8Array(a.buffer,a.byteOffset,a.byteLength);throw new Error("Unknown type, must be binary type")},fromString$2=a=>new TextEncoder().encode(a),toString$2=a=>new TextDecoder().decode(a);let Encoder$1=class{constructor(e,o,c){this.name=e,this.prefix=o,this.baseEncode=c}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Decoder$1=class{constructor(e,o,c){if(this.name=e,this.prefix=o,o.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=o.codePointAt(0),this.baseDecode=c}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return or$1(this,e)}},ComposedDecoder$1=class{constructor(e){this.decoders=e}or(e){return or$1(this,e)}decode(e){const o=e[0],c=this.decoders[o];if(c)return c.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const or$1=(a,e)=>new ComposedDecoder$1({...a.decoders||{[a.prefix]:a},...e.decoders||{[e.prefix]:e}});let Codec$1=class{constructor(e,o,c,d){this.name=e,this.prefix=o,this.baseEncode=c,this.baseDecode=d,this.encoder=new Encoder$1(e,o,c),this.decoder=new Decoder$1(e,o,d)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const from$2=({name:a,prefix:e,encode:o,decode:c})=>new Codec$1(a,e,o,c),baseX$1=({prefix:a,name:e,alphabet:o})=>{const{encode:c,decode:d}=_brrp__multiformats_scope_baseX$1(o,e);return from$2({prefix:a,name:e,encode:c,decode:h=>coerce$1(d(h))})},decode$6=(a,e,o,c)=>{const d={};for(let ht=0;ht<e.length;++ht)d[e[ht]]=ht;let h=a.length;for(;a[h-1]==="=";)--h;const et=new Uint8Array(h*o/8|0);let tt=0,ot=0,ft=0;for(let ht=0;ht<h;++ht){const yt=d[a[ht]];if(yt===void 0)throw new SyntaxError(`Non-${c} character`);ot=ot<<o|yt,tt+=o,tt>=8&&(tt-=8,et[ft++]=255&ot>>tt)}if(tt>=o||255&ot<<8-tt)throw new SyntaxError("Unexpected end of data");return et},encode$5=(a,e,o)=>{const c=e[e.length-1]==="=",d=(1<<o)-1;let h="",et=0,tt=0;for(let ot=0;ot<a.length;++ot)for(tt=tt<<8|a[ot],et+=8;et>o;)et-=o,h+=e[d&tt>>et];if(et&&(h+=e[d&tt<<o-et]),c)for(;h.length*o&7;)h+="=";return h},rfc4648$1=({name:a,prefix:e,bitsPerChar:o,alphabet:c})=>from$2({prefix:e,name:a,encode(d){return encode$5(d,c,o)},decode(d){return decode$6(d,c,o,a)}}),base58btc$1=baseX$1({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr$1=baseX$1({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58$1=Object.freeze(Object.defineProperty({__proto__:null,base58btc:base58btc$1,base58flickr:base58flickr$1},Symbol.toStringTag,{value:"Module"})),identity$2=from$2({prefix:"\0",name:"identity",encode:a=>toString$2(a),decode:a=>fromString$2(a)}),identityBase$1=Object.freeze(Object.defineProperty({__proto__:null,identity:identity$2},Symbol.toStringTag,{value:"Module"})),base2$2=rfc4648$1({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$3=Object.freeze(Object.defineProperty({__proto__:null,base2:base2$2},Symbol.toStringTag,{value:"Module"})),base8$2=rfc4648$1({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$3=Object.freeze(Object.defineProperty({__proto__:null,base8:base8$2},Symbol.toStringTag,{value:"Module"})),base10$2=baseX$1({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$3=Object.freeze(Object.defineProperty({__proto__:null,base10:base10$2},Symbol.toStringTag,{value:"Module"})),base16$2=rfc4648$1({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper$1=rfc4648$1({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$3=Object.freeze(Object.defineProperty({__proto__:null,base16:base16$2,base16upper:base16upper$1},Symbol.toStringTag,{value:"Module"})),base32$2=rfc4648$1({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper$1=rfc4648$1({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad$1=rfc4648$1({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper$1=rfc4648$1({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex$1=rfc4648$1({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper$1=rfc4648$1({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad$1=rfc4648$1({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper$1=rfc4648$1({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z$1=rfc4648$1({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$3=Object.freeze(Object.defineProperty({__proto__:null,base32:base32$2,base32hex:base32hex$1,base32hexpad:base32hexpad$1,base32hexpadupper:base32hexpadupper$1,base32hexupper:base32hexupper$1,base32pad:base32pad$1,base32padupper:base32padupper$1,base32upper:base32upper$1,base32z:base32z$1},Symbol.toStringTag,{value:"Module"})),base36$2=baseX$1({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper$1=baseX$1({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$3=Object.freeze(Object.defineProperty({__proto__:null,base36:base36$2,base36upper:base36upper$1},Symbol.toStringTag,{value:"Module"})),base64$4=rfc4648$1({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad$1=rfc4648$1({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url$1=rfc4648$1({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad$1=rfc4648$1({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$5=Object.freeze(Object.defineProperty({__proto__:null,base64:base64$4,base64pad:base64pad$1,base64url:base64url$1,base64urlpad:base64urlpad$1},Symbol.toStringTag,{value:"Module"})),alphabet$1=Array.from(""),alphabetBytesToChars$1=alphabet$1.reduce((a,e,o)=>(a[o]=e,a),[]),alphabetCharsToBytes$1=alphabet$1.reduce((a,e,o)=>(a[e.codePointAt(0)]=o,a),[]);function encode$4(a){return a.reduce((e,o)=>(e+=alphabetBytesToChars$1[o],e),"")}function decode$5(a){const e=[];for(const o of a){const c=alphabetCharsToBytes$1[o.codePointAt(0)];if(c===void 0)throw new Error(`Non-base256emoji character: ${o}`);e.push(c)}return new Uint8Array(e)}const base256emoji$2=from$2({prefix:"",name:"base256emoji",encode:encode$4,decode:decode$5}),base256emoji$3=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:base256emoji$2},Symbol.toStringTag,{value:"Module"}));var encode_1=encode$3,MSB=128,REST=127,MSBALL=~REST,INT=Math.pow(2,31);function encode$3(a,e,o){e=e||[],o=o||0;for(var c=o;a>=INT;)e[o++]=a&255|MSB,a/=128;for(;a&MSBALL;)e[o++]=a&255|MSB,a>>>=7;return e[o]=a|0,encode$3.bytes=o-c+1,e}var decode$4=read,MSB$1=128,REST$1=127;function read(a,c){var o=0,c=c||0,d=0,h=c,et,tt=a.length;do{if(h>=tt)throw read.bytes=0,new RangeError("Could not decode varint");et=a[h++],o+=d<28?(et&REST$1)<<d:(et&REST$1)*Math.pow(2,d),d+=7}while(et>=MSB$1);return read.bytes=h-c,o}var N1=Math.pow(2,7),N2=Math.pow(2,14),N3=Math.pow(2,21),N4=Math.pow(2,28),N5=Math.pow(2,35),N6=Math.pow(2,42),N7=Math.pow(2,49),N8=Math.pow(2,56),N9=Math.pow(2,63),length=function(a){return a<N1?1:a<N2?2:a<N3?3:a<N4?4:a<N5?5:a<N6?6:a<N7?7:a<N8?8:a<N9?9:10},varint={encode:encode_1,decode:decode$4,encodingLength:length},_brrp_varint=varint;const decode$3=(a,e=0)=>[_brrp_varint.decode(a,e),_brrp_varint.decode.bytes],encodeTo=(a,e,o=0)=>(_brrp_varint.encode(a,e,o),e),encodingLength=a=>_brrp_varint.encodingLength(a),create$3=(a,e)=>{const o=e.byteLength,c=encodingLength(a),d=c+encodingLength(o),h=new Uint8Array(d+o);return encodeTo(a,h,0),encodeTo(o,h,c),h.set(e,d),new Digest(a,o,e,h)},decode$2=a=>{const e=coerce$1(a),[o,c]=decode$3(e),[d,h]=decode$3(e.subarray(c)),et=e.subarray(c+h);if(et.byteLength!==d)throw new Error("Incorrect length");return new Digest(o,d,et,e)},equals$1=(a,e)=>{if(a===e)return!0;{const o=e;return a.code===o.code&&a.size===o.size&&o.bytes instanceof Uint8Array&&equals$2(a.bytes,o.bytes)}};class Digest{constructor(e,o,c,d){this.code=e,this.size=o,this.digest=c,this.bytes=d}}const from$1=({name:a,code:e,encode:o})=>new Hasher(a,e,o);class Hasher{constructor(e,o,c){this.name=e,this.code=o,this.encode=c}digest(e){if(e instanceof Uint8Array){const o=this.encode(e);return o instanceof Uint8Array?create$3(this.code,o):o.then(c=>create$3(this.code,c))}else throw Error("Unknown type, must be binary type")}}const sha=a=>async e=>new Uint8Array(await crypto.subtle.digest(a,e)),sha256=from$1({name:"sha2-256",code:18,encode:sha("SHA-256")}),code=0,name="identity",encode$2=coerce$1,digest=a=>create$3(code,encode$2(a)),identity$1={code,name,encode:encode$2,digest};new TextEncoder;new TextDecoder;const format=(a,e)=>{const{bytes:o,version:c}=a;switch(c){case 0:return toStringV0(o,baseCache(a),e||base58btc$1.encoder);default:return toStringV1(o,baseCache(a),e||base32$2.encoder)}},cache=new WeakMap,baseCache=a=>{const e=cache.get(a);if(e==null){const o=new Map;return cache.set(a,o),o}return e};class CID{constructor(e,o,c,d){this.code=o,this.version=e,this.multihash=c,this.bytes=d,this["/"]=d}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:o}=this;if(e!==DAG_PB_CODE)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(o.code!==SHA_256_CODE)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return CID.createV0(o)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:e,digest:o}=this.multihash,c=create$3(e,o);return CID.createV1(this.code,c)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return CID.equals(this,e)}static equals(e,o){const c=o;return c&&e.code===c.code&&e.version===c.version&&equals$1(e.multihash,c.multihash)}toString(e){return format(this,e)}toJSON(){return{"/":format(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;const o=e;if(o instanceof CID)return o;if(o["/"]!=null&&o["/"]===o.bytes||o.asCID===o){const{version:c,code:d,multihash:h,bytes:et}=o;return new CID(c,d,h,et||encodeCID$1(c,d,h.bytes))}else if(o[cidSymbol]===!0){const{version:c,multihash:d,code:h}=o,et=decode$2(d);return CID.create(c,h,et)}else return null}static create(e,o,c){if(typeof o!="number")throw new Error("String codecs are no longer supported");if(!(c.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(o!==DAG_PB_CODE)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE}) block encoding`);return new CID(e,o,c,c.bytes)}case 1:{const d=encodeCID$1(e,o,c.bytes);return new CID(e,o,c,d)}default:throw new Error("Invalid version")}}static createV0(e){return CID.create(0,DAG_PB_CODE,e)}static createV1(e,o){return CID.create(1,e,o)}static decode(e){const[o,c]=CID.decodeFirst(e);if(c.length)throw new Error("Incorrect length");return o}static decodeFirst(e){const o=CID.inspectBytes(e),c=o.size-o.multihashSize,d=coerce$1(e.subarray(c,c+o.multihashSize));if(d.byteLength!==o.multihashSize)throw new Error("Incorrect length");const h=d.subarray(o.multihashSize-o.digestSize),et=new Digest(o.multihashCode,o.digestSize,h,d);return[o.version===0?CID.createV0(et):CID.createV1(o.codec,et),e.subarray(o.size)]}static inspectBytes(e){let o=0;const c=()=>{const[yt,gt]=decode$3(e.subarray(o));return o+=gt,yt};let d=c(),h=DAG_PB_CODE;if(d===18?(d=0,o=0):h=c(),d!==0&&d!==1)throw new RangeError(`Invalid CID version ${d}`);const et=o,tt=c(),ot=c(),ft=o+ot,ht=ft-et;return{version:d,codec:h,multihashCode:tt,digestSize:ot,multihashSize:ht,size:ft}}static parse(e,o){const[c,d]=parseCIDtoBytes(e,o),h=CID.decode(d);if(h.version===0&&e[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return baseCache(h).set(c,e),h}}const parseCIDtoBytes=(a,e)=>{switch(a[0]){case"Q":{const o=e||base58btc$1;return[base58btc$1.prefix,o.decode(`${base58btc$1.prefix}${a}`)]}case base58btc$1.prefix:{const o=e||base58btc$1;return[base58btc$1.prefix,o.decode(a)]}case base32$2.prefix:{const o=e||base32$2;return[base32$2.prefix,o.decode(a)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[a[0],e.decode(a)]}}},toStringV0=(a,e,o)=>{const{prefix:c}=o;if(c!==base58btc$1.prefix)throw Error(`Cannot string encode V0 in ${o.name} encoding`);const d=e.get(c);if(d==null){const h=o.encode(a).slice(1);return e.set(c,h),h}else return d},toStringV1=(a,e,o)=>{const{prefix:c}=o,d=e.get(c);if(d==null){const h=o.encode(a);return e.set(c,h),h}else return d},DAG_PB_CODE=112,SHA_256_CODE=18,encodeCID$1=(a,e,o)=>{const c=encodingLength(a),d=c+encodingLength(e),h=new Uint8Array(d+o.byteLength);return encodeTo(a,h,0),encodeTo(e,h,c),h.set(o,d),h},cidSymbol=Symbol.for("@ipld/js-cid/CID"),bases$1={...identityBase$1,...base2$3,...base8$3,...base10$3,...base16$3,...base32$3,...base36$3,...base58$1,...base64$5,...base256emoji$3};function equals(a,e){if(a===e)return!0;if(a.byteLength!==e.byteLength)return!1;for(let o=0;o<a.byteLength;o++)if(a[o]!==e[o])return!1;return!0}const inspect=Symbol.for("nodejs.util.inspect.custom"),baseDecoder=Object.values(bases$1).map(a=>a.decoder).reduce((a,e)=>a.or(e),bases$1.identity.decoder),LIBP2P_KEY_CODE=114,MARSHALLED_ED225519_PUBLIC_KEY_LENGTH=36,MARSHALLED_SECP256K1_PUBLIC_KEY_LENGTH=37;var Pp;class PeerIdImpl{constructor(e){Jt(this,"type");Jt(this,"multihash");Jt(this,"privateKey");Jt(this,"publicKey");Jt(this,"string");Jt(this,Pp,!0);this.type=e.type,this.multihash=e.multihash,this.privateKey=e.privateKey,Object.defineProperty(this,"string",{enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return`PeerId(${this.toString()})`}toString(){return this.string==null&&(this.string=base58btc$1.encode(this.multihash.bytes).slice(1)),this.string}toCID(){return CID.createV1(LIBP2P_KEY_CODE,this.multihash)}toBytes(){return this.multihash.bytes}toJSON(){return this.toString()}equals(e){var o;if(e instanceof Uint8Array)return equals(this.multihash.bytes,e);if(typeof e=="string")return peerIdFromString(e).equals(this);if(((o=e==null?void 0:e.multihash)==null?void 0:o.bytes)!=null)return equals(this.multihash.bytes,e.multihash.bytes);throw new Error("not valid Id")}[(Pp=symbol,inspect)](){return`PeerId(${this.toString()})`}}class RSAPeerIdImpl extends PeerIdImpl{constructor(o){super({...o,type:"RSA"});Jt(this,"type","RSA");Jt(this,"publicKey");this.publicKey=o.publicKey}}class Ed25519PeerIdImpl extends PeerIdImpl{constructor(o){super({...o,type:"Ed25519"});Jt(this,"type","Ed25519");Jt(this,"publicKey");this.publicKey=o.multihash.digest}}class Secp256k1PeerIdImpl extends PeerIdImpl{constructor(o){super({...o,type:"secp256k1"});Jt(this,"type","secp256k1");Jt(this,"publicKey");this.publicKey=o.multihash.digest}}function peerIdFromString(a,e){if(a.charAt(0)==="1"||a.charAt(0)==="Q"){const o=decode$2(base58btc$1.decode(`z${a}`));return a.startsWith("12D")?new Ed25519PeerIdImpl({multihash:o}):a.startsWith("16U")?new Secp256k1PeerIdImpl({multihash:o}):new RSAPeerIdImpl({multihash:o})}return peerIdFromBytes(baseDecoder.decode(a))}function peerIdFromBytes(a){try{const e=decode$2(a);if(e.code===identity$1.code){if(e.digest.length===MARSHALLED_ED225519_PUBLIC_KEY_LENGTH)return new Ed25519PeerIdImpl({multihash:e});if(e.digest.length===MARSHALLED_SECP256K1_PUBLIC_KEY_LENGTH)return new Secp256k1PeerIdImpl({multihash:e})}if(e.code===sha256.code)return new RSAPeerIdImpl({multihash:e})}catch{return peerIdFromCID(CID.decode(a))}throw new Error("Supplied PeerID CID is invalid")}function peerIdFromCID(a){if(a==null||a.multihash==null||a.version==null||a.version===1&&a.code!==LIBP2P_KEY_CODE)throw new Error("Supplied PeerID CID is invalid");const e=a.multihash;if(e.code===sha256.code)return new RSAPeerIdImpl({multihash:a.multihash});if(e.code===identity$1.code){if(e.digest.length===MARSHALLED_ED225519_PUBLIC_KEY_LENGTH)return new Ed25519PeerIdImpl({multihash:a.multihash});if(e.digest.length===MARSHALLED_SECP256K1_PUBLIC_KEY_LENGTH)return new Secp256k1PeerIdImpl({multihash:a.multihash})}throw new Error("Supplied PeerID CID is invalid")}const createStat$4=configure(a=>{async function e(o={}){const c=await a.post("bitswap/stat",{searchParams:toUrlSearchParams(o),signal:o.signal,headers:o.headers});return toCoreInterface$4(await c.json())}return e});function toCoreInterface$4(a){return{provideBufLen:a.ProvideBufLen,wantlist:(a.Wantlist||[]).map(e=>CID$2.parse(e["/"])),peers:(a.Peers||[]).map(e=>peerIdFromString(e)),blocksReceived:BigInt(a.BlocksReceived),dataReceived:BigInt(a.DataReceived),blocksSent:BigInt(a.BlocksSent),dataSent:BigInt(a.DataSent),dupBlksReceived:BigInt(a.DupBlksReceived),dupDataReceived:BigInt(a.DupDataReceived)}}function createBitswap(a){return{wantlist:createWantlist(a),wantlistForPeer:createWantlistForPeer(a),stat:createStat$4(a)}}const createGet$5=configure(a=>{async function e(o,c={}){const d=await a.post("block/get",{signal:c.signal,searchParams:toUrlSearchParams({arg:o.toString(),...c}),headers:c.headers});return new Uint8Array(await d.arrayBuffer())}return e});function peekableIterator(a){const[e,o]=a[Symbol.asyncIterator]!=null?[a[Symbol.asyncIterator](),Symbol.asyncIterator]:[a[Symbol.iterator](),Symbol.iterator],c=[];return{peek:()=>e.next(),push:d=>{c.push(d)},next:()=>c.length>0?{done:!1,value:c.shift()}:e.next(),[o](){return this}}}async function*browserReadableStreamToIt(a,e={}){const o=a.getReader();try{for(;;){const c=await o.read();if(c.done)return;yield c.value}}finally{e.preventCancel!==!0&&await o.cancel(),o.releaseLock()}}async function all(a){const e=[];for await(const o of a)e.push(o);return e}function isBytes(a){return ArrayBuffer.isView(a)||a instanceof ArrayBuffer}function isBlob(a){return a.constructor&&(a.constructor.name==="Blob"||a.constructor.name==="File")&&typeof a.stream=="function"}function isFileObject(a){return typeof a=="object"&&(a.path||a.content)}const isReadableStream=a=>a&&typeof a.getReader=="function";async function normaliseContent$1(a){if(isBytes(a))return new Blob([a]);if(typeof a=="string"||a instanceof String)return new Blob([a.toString()]);if(isBlob(a))return a;if(isReadableStream(a)&&(a=browserReadableStreamToIt(a)),Symbol.iterator in a||Symbol.asyncIterator in a){const e=peekableIterator(a),{value:o,done:c}=await e.peek();if(c)return itToBlob(e);if(e.push(o),Number.isInteger(o))return new Blob([Uint8Array.from(await all(e))]);if(isBytes(o)||typeof o=="string"||o instanceof String)return itToBlob(e)}throw errCode$1(new Error(`Unexpected input: ${a}`),"ERR_UNEXPECTED_INPUT")}async function itToBlob(a){const e=[];for await(const o of a)e.push(o);return new Blob(e)}async function*map(a,e){for await(const o of a)yield e(o)}var indexMinimal={},minimal$1={},aspromise=asPromise;function asPromise(a,e){for(var o=new Array(arguments.length-1),c=0,d=2,h=!0;d<arguments.length;)o[c++]=arguments[d++];return new Promise(function(tt,ot){o[c]=function(ht){if(h)if(h=!1,ht)ot(ht);else{for(var yt=new Array(arguments.length-1),gt=0;gt<yt.length;)yt[gt++]=arguments[gt];tt.apply(null,yt)}};try{a.apply(e||null,o)}catch(ft){h&&(h=!1,ot(ft))}})}var base64$3={};(function(a){var e=a;e.length=function(tt){var ot=tt.length;if(!ot)return 0;for(var ft=0;--ot%4>1&&tt.charAt(ot)==="=";)++ft;return Math.ceil(tt.length*3)/4-ft};for(var o=new Array(64),c=new Array(123),d=0;d<64;)c[o[d]=d<26?d+65:d<52?d+71:d<62?d-4:d-59|43]=d++;e.encode=function(tt,ot,ft){for(var ht=null,yt=[],gt=0,wt=0,bt;ot<ft;){var xt=tt[ot++];switch(wt){case 0:yt[gt++]=o[xt>>2],bt=(xt&3)<<4,wt=1;break;case 1:yt[gt++]=o[bt|xt>>4],bt=(xt&15)<<2,wt=2;break;case 2:yt[gt++]=o[bt|xt>>6],yt[gt++]=o[xt&63],wt=0;break}gt>8191&&((ht||(ht=[])).push(String.fromCharCode.apply(String,yt)),gt=0)}return wt&&(yt[gt++]=o[bt],yt[gt++]=61,wt===1&&(yt[gt++]=61)),ht?(gt&&ht.push(String.fromCharCode.apply(String,yt.slice(0,gt))),ht.join("")):String.fromCharCode.apply(String,yt.slice(0,gt))};var h="invalid encoding";e.decode=function(tt,ot,ft){for(var ht=ft,yt=0,gt,wt=0;wt<tt.length;){var bt=tt.charCodeAt(wt++);if(bt===61&&yt>1)break;if((bt=c[bt])===void 0)throw Error(h);switch(yt){case 0:gt=bt,yt=1;break;case 1:ot[ft++]=gt<<2|(bt&48)>>4,gt=bt,yt=2;break;case 2:ot[ft++]=(gt&15)<<4|(bt&60)>>2,gt=bt,yt=3;break;case 3:ot[ft++]=(gt&3)<<6|bt,yt=0;break}}if(yt===1)throw Error(h);return ft-ht},e.test=function(tt){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(tt)}})(base64$3);var eventemitter=EventEmitter;function EventEmitter(){this._listeners={}}EventEmitter.prototype.on=function(e,o,c){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:o,ctx:c||this}),this};EventEmitter.prototype.off=function(e,o){if(e===void 0)this._listeners={};else if(o===void 0)this._listeners[e]=[];else for(var c=this._listeners[e],d=0;d<c.length;)c[d].fn===o?c.splice(d,1):++d;return this};EventEmitter.prototype.emit=function(e){var o=this._listeners[e];if(o){for(var c=[],d=1;d<arguments.length;)c.push(arguments[d++]);for(d=0;d<o.length;)o[d].fn.apply(o[d++].ctx,c)}return this};var float=factory(factory);function factory(a){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),o=new Uint8Array(e.buffer),c=o[3]===128;function d(ot,ft,ht){e[0]=ot,ft[ht]=o[0],ft[ht+1]=o[1],ft[ht+2]=o[2],ft[ht+3]=o[3]}function h(ot,ft,ht){e[0]=ot,ft[ht]=o[3],ft[ht+1]=o[2],ft[ht+2]=o[1],ft[ht+3]=o[0]}a.writeFloatLE=c?d:h,a.writeFloatBE=c?h:d;function et(ot,ft){return o[0]=ot[ft],o[1]=ot[ft+1],o[2]=ot[ft+2],o[3]=ot[ft+3],e[0]}function tt(ot,ft){return o[3]=ot[ft],o[2]=ot[ft+1],o[1]=ot[ft+2],o[0]=ot[ft+3],e[0]}a.readFloatLE=c?et:tt,a.readFloatBE=c?tt:et}():function(){function e(c,d,h,et){var tt=d<0?1:0;if(tt&&(d=-d),d===0)c(1/d>0?0:2147483648,h,et);else if(isNaN(d))c(2143289344,h,et);else if(d>34028234663852886e22)c((tt<<31|2139095040)>>>0,h,et);else if(d<11754943508222875e-54)c((tt<<31|Math.round(d/1401298464324817e-60))>>>0,h,et);else{var ot=Math.floor(Math.log(d)/Math.LN2),ft=Math.round(d*Math.pow(2,-ot)*8388608)&8388607;c((tt<<31|ot+127<<23|ft)>>>0,h,et)}}a.writeFloatLE=e.bind(null,writeUintLE),a.writeFloatBE=e.bind(null,writeUintBE);function o(c,d,h){var et=c(d,h),tt=(et>>31)*2+1,ot=et>>>23&255,ft=et&8388607;return ot===255?ft?NaN:tt*(1/0):ot===0?tt*1401298464324817e-60*ft:tt*Math.pow(2,ot-150)*(ft+8388608)}a.readFloatLE=o.bind(null,readUintLE),a.readFloatBE=o.bind(null,readUintBE)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),o=new Uint8Array(e.buffer),c=o[7]===128;function d(ot,ft,ht){e[0]=ot,ft[ht]=o[0],ft[ht+1]=o[1],ft[ht+2]=o[2],ft[ht+3]=o[3],ft[ht+4]=o[4],ft[ht+5]=o[5],ft[ht+6]=o[6],ft[ht+7]=o[7]}function h(ot,ft,ht){e[0]=ot,ft[ht]=o[7],ft[ht+1]=o[6],ft[ht+2]=o[5],ft[ht+3]=o[4],ft[ht+4]=o[3],ft[ht+5]=o[2],ft[ht+6]=o[1],ft[ht+7]=o[0]}a.writeDoubleLE=c?d:h,a.writeDoubleBE=c?h:d;function et(ot,ft){return o[0]=ot[ft],o[1]=ot[ft+1],o[2]=ot[ft+2],o[3]=ot[ft+3],o[4]=ot[ft+4],o[5]=ot[ft+5],o[6]=ot[ft+6],o[7]=ot[ft+7],e[0]}function tt(ot,ft){return o[7]=ot[ft],o[6]=ot[ft+1],o[5]=ot[ft+2],o[4]=ot[ft+3],o[3]=ot[ft+4],o[2]=ot[ft+5],o[1]=ot[ft+6],o[0]=ot[ft+7],e[0]}a.readDoubleLE=c?et:tt,a.readDoubleBE=c?tt:et}():function(){function e(c,d,h,et,tt,ot){var ft=et<0?1:0;if(ft&&(et=-et),et===0)c(0,tt,ot+d),c(1/et>0?0:2147483648,tt,ot+h);else if(isNaN(et))c(0,tt,ot+d),c(2146959360,tt,ot+h);else if(et>17976931348623157e292)c(0,tt,ot+d),c((ft<<31|2146435072)>>>0,tt,ot+h);else{var ht;if(et<22250738585072014e-324)ht=et/5e-324,c(ht>>>0,tt,ot+d),c((ft<<31|ht/4294967296)>>>0,tt,ot+h);else{var yt=Math.floor(Math.log(et)/Math.LN2);yt===1024&&(yt=1023),ht=et*Math.pow(2,-yt),c(ht*4503599627370496>>>0,tt,ot+d),c((ft<<31|yt+1023<<20|ht*1048576&1048575)>>>0,tt,ot+h)}}}a.writeDoubleLE=e.bind(null,writeUintLE,0,4),a.writeDoubleBE=e.bind(null,writeUintBE,4,0);function o(c,d,h,et,tt){var ot=c(et,tt+d),ft=c(et,tt+h),ht=(ft>>31)*2+1,yt=ft>>>20&2047,gt=4294967296*(ft&1048575)+ot;return yt===2047?gt?NaN:ht*(1/0):yt===0?ht*5e-324*gt:ht*Math.pow(2,yt-1075)*(gt+4503599627370496)}a.readDoubleLE=o.bind(null,readUintLE,0,4),a.readDoubleBE=o.bind(null,readUintBE,4,0)}(),a}function writeUintLE(a,e,o){e[o]=a&255,e[o+1]=a>>>8&255,e[o+2]=a>>>16&255,e[o+3]=a>>>24}function writeUintBE(a,e,o){e[o]=a>>>24,e[o+1]=a>>>16&255,e[o+2]=a>>>8&255,e[o+3]=a&255}function readUintLE(a,e){return(a[e]|a[e+1]<<8|a[e+2]<<16|a[e+3]<<24)>>>0}function readUintBE(a,e){return(a[e]<<24|a[e+1]<<16|a[e+2]<<8|a[e+3])>>>0}var inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(a){}return null}var utf8$2={};(function(a){var e=a;e.length=function(c){for(var d=0,h=0,et=0;et<c.length;++et)h=c.charCodeAt(et),h<128?d+=1:h<2048?d+=2:(h&64512)===55296&&(c.charCodeAt(et+1)&64512)===56320?(++et,d+=4):d+=3;return d},e.read=function(c,d,h){var et=h-d;if(et<1)return"";for(var tt=null,ot=[],ft=0,ht;d<h;)ht=c[d++],ht<128?ot[ft++]=ht:ht>191&&ht<224?ot[ft++]=(ht&31)<<6|c[d++]&63:ht>239&&ht<365?(ht=((ht&7)<<18|(c[d++]&63)<<12|(c[d++]&63)<<6|c[d++]&63)-65536,ot[ft++]=55296+(ht>>10),ot[ft++]=56320+(ht&1023)):ot[ft++]=(ht&15)<<12|(c[d++]&63)<<6|c[d++]&63,ft>8191&&((tt||(tt=[])).push(String.fromCharCode.apply(String,ot)),ft=0);return tt?(ft&&tt.push(String.fromCharCode.apply(String,ot.slice(0,ft))),tt.join("")):String.fromCharCode.apply(String,ot.slice(0,ft))},e.write=function(c,d,h){for(var et=h,tt,ot,ft=0;ft<c.length;++ft)tt=c.charCodeAt(ft),tt<128?d[h++]=tt:tt<2048?(d[h++]=tt>>6|192,d[h++]=tt&63|128):(tt&64512)===55296&&((ot=c.charCodeAt(ft+1))&64512)===56320?(tt=65536+((tt&1023)<<10)+(ot&1023),++ft,d[h++]=tt>>18|240,d[h++]=tt>>12&63|128,d[h++]=tt>>6&63|128,d[h++]=tt&63|128):(d[h++]=tt>>12|224,d[h++]=tt>>6&63|128,d[h++]=tt&63|128);return h-et}})(utf8$2);var pool_1=pool;function pool(a,e,o){var c=o||8192,d=c>>>1,h=null,et=c;return function(ot){if(ot<1||ot>d)return a(ot);et+ot>c&&(h=a(c),et=0);var ft=e.call(h,et,et+=ot);return et&7&&(et=(et|7)+1),ft}}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=e;var a=requireMinimal();function e(h,et){this.lo=h>>>0,this.hi=et>>>0}var o=e.zero=new e(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var c=e.zeroHash="\0\0\0\0\0\0\0\0";e.fromNumber=function(et){if(et===0)return o;var tt=et<0;tt&&(et=-et);var ot=et>>>0,ft=(et-ot)/4294967296>>>0;return tt&&(ft=~ft>>>0,ot=~ot>>>0,++ot>4294967295&&(ot=0,++ft>4294967295&&(ft=0))),new e(ot,ft)},e.from=function(et){if(typeof et=="number")return e.fromNumber(et);if(a.isString(et))if(a.Long)et=a.Long.fromString(et);else return e.fromNumber(parseInt(et,10));return et.low||et.high?new e(et.low>>>0,et.high>>>0):o},e.prototype.toNumber=function(et){if(!et&&this.hi>>>31){var tt=~this.lo+1>>>0,ot=~this.hi>>>0;return tt||(ot=ot+1>>>0),-(tt+ot*4294967296)}return this.lo+this.hi*4294967296},e.prototype.toLong=function(et){return a.Long?new a.Long(this.lo|0,this.hi|0,!!et):{low:this.lo|0,high:this.hi|0,unsigned:!!et}};var d=String.prototype.charCodeAt;return e.fromHash=function(et){return et===c?o:new e((d.call(et,0)|d.call(et,1)<<8|d.call(et,2)<<16|d.call(et,3)<<24)>>>0,(d.call(et,4)|d.call(et,5)<<8|d.call(et,6)<<16|d.call(et,7)<<24)>>>0)},e.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},e.prototype.zzEncode=function(){var et=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^et)>>>0,this.lo=(this.lo<<1^et)>>>0,this},e.prototype.zzDecode=function(){var et=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^et)>>>0,this.hi=(this.hi>>>1^et)>>>0,this},e.prototype.length=function(){var et=this.lo,tt=(this.lo>>>28|this.hi<<4)>>>0,ot=this.hi>>>24;return ot===0?tt===0?et<16384?et<128?1:2:et<2097152?3:4:tt<16384?tt<128?5:6:tt<2097152?7:8:ot<128?9:10},longbits}var hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,function(a){var e=a;e.asPromise=aspromise,e.base64=base64$3,e.EventEmitter=eventemitter,e.float=float,e.inquire=inquire_1,e.utf8=utf8$2,e.pool=pool_1,e.LongBits=requireLongbits(),e.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),e.global=e.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||commonjsGlobal,e.emptyArray=Object.freeze?Object.freeze([]):[],e.emptyObject=Object.freeze?Object.freeze({}):{},e.isInteger=Number.isInteger||function(h){return typeof h=="number"&&isFinite(h)&&Math.floor(h)===h},e.isString=function(h){return typeof h=="string"||h instanceof String},e.isObject=function(h){return h&&typeof h=="object"},e.isset=e.isSet=function(h,et){var tt=h[et];return tt!=null&&h.hasOwnProperty(et)?typeof tt!="object"||(Array.isArray(tt)?tt.length:Object.keys(tt).length)>0:!1},e.Buffer=function(){try{var d=e.inquire("buffer").Buffer;return d.prototype.utf8Write?d:null}catch{return null}}(),e._Buffer_from=null,e._Buffer_allocUnsafe=null,e.newBuffer=function(h){return typeof h=="number"?e.Buffer?e._Buffer_allocUnsafe(h):new e.Array(h):e.Buffer?e._Buffer_from(h):typeof Uint8Array>"u"?h:new Uint8Array(h)},e.Array=typeof Uint8Array<"u"?Uint8Array:Array,e.Long=e.global.dcodeIO&&e.global.dcodeIO.Long||e.global.Long||e.inquire("long"),e.key2Re=/^true|false|0|1$/,e.key32Re=/^-?(?:0|[1-9][0-9]*)$/,e.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,e.longToHash=function(h){return h?e.LongBits.from(h).toHash():e.LongBits.zeroHash},e.longFromHash=function(h,et){var tt=e.LongBits.fromHash(h);return e.Long?e.Long.fromBits(tt.lo,tt.hi,et):tt.toNumber(!!et)};function o(d,h,et){for(var tt=Object.keys(h),ot=0;ot<tt.length;++ot)(d[tt[ot]]===void 0||!et)&&(d[tt[ot]]=h[tt[ot]]);return d}e.merge=o,e.lcFirst=function(h){return h.charAt(0).toLowerCase()+h.substring(1)};function c(d){function h(et,tt){if(!(this instanceof h))return new h(et,tt);Object.defineProperty(this,"message",{get:function(){return et}}),Error.captureStackTrace?Error.captureStackTrace(this,h):Object.defineProperty(this,"stack",{value:new Error().stack||""}),tt&&o(this,tt)}return h.prototype=Object.create(Error.prototype,{constructor:{value:h,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return d},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),h}e.newError=c,e.ProtocolError=c("ProtocolError"),e.oneOfGetter=function(h){for(var et={},tt=0;tt<h.length;++tt)et[h[tt]]=1;return function(){for(var ot=Object.keys(this),ft=ot.length-1;ft>-1;--ft)if(et[ot[ft]]===1&&this[ot[ft]]!==void 0&&this[ot[ft]]!==null)return ot[ft]}},e.oneOfSetter=function(h){return function(et){for(var tt=0;tt<h.length;++tt)h[tt]!==et&&delete this[h[tt]]}},e.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},e._configure=function(){var d=e.Buffer;if(!d){e._Buffer_from=e._Buffer_allocUnsafe=null;return}e._Buffer_from=d.from!==Uint8Array.from&&d.from||function(et,tt){return new d(et,tt)},e._Buffer_allocUnsafe=d.allocUnsafe||function(et){return new d(et)}}}(minimal$1)),minimal$1}var writer=Writer$1,util$4=requireMinimal(),BufferWriter$1,LongBits$1=util$4.LongBits,base64$2=util$4.base64,utf8$1=util$4.utf8;function Op(a,e,o){this.fn=a,this.len=e,this.next=void 0,this.val=o}function noop(){}function State(a){this.head=a.head,this.tail=a.tail,this.len=a.len,this.next=a.states}function Writer$1(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}var create$2=function a(){return util$4.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};Writer$1.create=create$2();Writer$1.alloc=function a(e){return new util$4.Array(e)};util$4.Array!==Array&&(Writer$1.alloc=util$4.pool(Writer$1.alloc,util$4.Array.prototype.subarray));Writer$1.prototype._push=function a(e,o,c){return this.tail=this.tail.next=new Op(e,o,c),this.len+=o,this};function writeByte(a,e,o){e[o]=a&255}function writeVarint32(a,e,o){for(;a>127;)e[o++]=a&127|128,a>>>=7;e[o]=a}function VarintOp(a,e){this.len=a,this.next=void 0,this.val=e}VarintOp.prototype=Object.create(Op.prototype);VarintOp.prototype.fn=writeVarint32;Writer$1.prototype.uint32=function a(e){return this.len+=(this.tail=this.tail.next=new VarintOp((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};Writer$1.prototype.int32=function a(e){return e<0?this._push(writeVarint64,10,LongBits$1.fromNumber(e)):this.uint32(e)};Writer$1.prototype.sint32=function a(e){return this.uint32((e<<1^e>>31)>>>0)};function writeVarint64(a,e,o){for(;a.hi;)e[o++]=a.lo&127|128,a.lo=(a.lo>>>7|a.hi<<25)>>>0,a.hi>>>=7;for(;a.lo>127;)e[o++]=a.lo&127|128,a.lo=a.lo>>>7;e[o++]=a.lo}Writer$1.prototype.uint64=function a(e){var o=LongBits$1.from(e);return this._push(writeVarint64,o.length(),o)};Writer$1.prototype.int64=Writer$1.prototype.uint64;Writer$1.prototype.sint64=function a(e){var o=LongBits$1.from(e).zzEncode();return this._push(writeVarint64,o.length(),o)};Writer$1.prototype.bool=function a(e){return this._push(writeByte,1,e?1:0)};function writeFixed32(a,e,o){e[o]=a&255,e[o+1]=a>>>8&255,e[o+2]=a>>>16&255,e[o+3]=a>>>24}Writer$1.prototype.fixed32=function a(e){return this._push(writeFixed32,4,e>>>0)};Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32;Writer$1.prototype.fixed64=function a(e){var o=LongBits$1.from(e);return this._push(writeFixed32,4,o.lo)._push(writeFixed32,4,o.hi)};Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64;Writer$1.prototype.float=function a(e){return this._push(util$4.float.writeFloatLE,4,e)};Writer$1.prototype.double=function a(e){return this._push(util$4.float.writeDoubleLE,8,e)};var writeBytes=util$4.Array.prototype.set?function a(e,o,c){o.set(e,c)}:function a(e,o,c){for(var d=0;d<e.length;++d)o[c+d]=e[d]};Writer$1.prototype.bytes=function a(e){var o=e.length>>>0;if(!o)return this._push(writeByte,1,0);if(util$4.isString(e)){var c=Writer$1.alloc(o=base64$2.length(e));base64$2.decode(e,c,0),e=c}return this.uint32(o)._push(writeBytes,o,e)};Writer$1.prototype.string=function a(e){var o=utf8$1.length(e);return o?this.uint32(o)._push(utf8$1.write,o,e):this._push(writeByte,1,0)};Writer$1.prototype.fork=function a(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this};Writer$1.prototype.reset=function a(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this};Writer$1.prototype.ldelim=function a(){var e=this.head,o=this.tail,c=this.len;return this.reset().uint32(c),c&&(this.tail.next=e.next,this.tail=o,this.len+=c),this};Writer$1.prototype.finish=function a(){for(var e=this.head.next,o=this.constructor.alloc(this.len),c=0;e;)e.fn(e.val,o,c),c+=e.len,e=e.next;return o};Writer$1._configure=function(a){BufferWriter$1=a,Writer$1.create=create$2(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$3=requireMinimal();function BufferWriter(){Writer.call(this)}BufferWriter._configure=function(){BufferWriter.alloc=util$3._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$3.Buffer&&util$3.Buffer.prototype instanceof Uint8Array&&util$3.Buffer.prototype.set.name==="set"?function(e,o,c){o.set(e,c)}:function(e,o,c){if(e.copy)e.copy(o,c,0,e.length);else for(var d=0;d<e.length;)o[c++]=e[d++]}};BufferWriter.prototype.bytes=function a(e){util$3.isString(e)&&(e=util$3._Buffer_from(e,"base64"));var o=e.length>>>0;return this.uint32(o),o&&this._push(BufferWriter.writeBytesBuffer,o,e),this};function writeStringBuffer(a,e,o){a.length<40?util$3.utf8.write(a,e,o):e.utf8Write?e.utf8Write(a,o):e.write(a,o)}BufferWriter.prototype.string=function a(e){var o=util$3.Buffer.byteLength(e);return this.uint32(o),o&&this._push(writeStringBuffer,o,e),this};BufferWriter._configure();var reader=Reader$1,util$2=requireMinimal(),BufferReader$1,LongBits=util$2.LongBits,utf8=util$2.utf8;function indexOutOfRange(a,e){return RangeError("index out of range: "+a.pos+" + "+(e||1)+" > "+a.len)}function Reader$1(a){this.buf=a,this.pos=0,this.len=a.length}var create_array=typeof Uint8Array<"u"?function a(e){if(e instanceof Uint8Array||Array.isArray(e))return new Reader$1(e);throw Error("illegal buffer")}:function a(e){if(Array.isArray(e))return new Reader$1(e);throw Error("illegal buffer")},create$1=function a(){return util$2.Buffer?function(o){return(Reader$1.create=function(d){return util$2.Buffer.isBuffer(d)?new BufferReader$1(d):create_array(d)})(o)}:create_array};Reader$1.create=create$1();Reader$1.prototype._slice=util$2.Array.prototype.subarray||util$2.Array.prototype.slice;Reader$1.prototype.uint32=function a(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return e}}();Reader$1.prototype.int32=function a(){return this.uint32()|0};Reader$1.prototype.sint32=function a(){var e=this.uint32();return e>>>1^-(e&1)|0};function readLongVarint(){var a=new LongBits(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(a.lo=(a.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return a;if(a.lo=(a.lo|(this.buf[this.pos]&127)<<28)>>>0,a.hi=(a.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return a;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw indexOutOfRange(this);if(a.lo=(a.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return a}return a.lo=(a.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,a}if(this.len-this.pos>4){for(;e<5;++e)if(a.hi=(a.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return a}else for(;e<5;++e){if(this.pos>=this.len)throw indexOutOfRange(this);if(a.hi=(a.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return a}throw Error("invalid varint encoding")}Reader$1.prototype.bool=function a(){return this.uint32()!==0};function readFixed32_end(a,e){return(a[e-4]|a[e-3]<<8|a[e-2]<<16|a[e-1]<<24)>>>0}Reader$1.prototype.fixed32=function a(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)};Reader$1.prototype.sfixed32=function a(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)|0};function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.prototype.float=function a(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var e=util$2.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};Reader$1.prototype.double=function a(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var e=util$2.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};Reader$1.prototype.bytes=function a(){var e=this.uint32(),o=this.pos,c=this.pos+e;if(c>this.len)throw indexOutOfRange(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(o,c);if(o===c){var d=util$2.Buffer;return d?d.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,o,c)};Reader$1.prototype.string=function a(){var e=this.bytes();return utf8.read(e,0,e.length)};Reader$1.prototype.skip=function a(e){if(typeof e=="number"){if(this.pos+e>this.len)throw indexOutOfRange(this,e);this.pos+=e}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(this.buf[this.pos++]&128);return this};Reader$1.prototype.skipType=function(a){switch(a){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(a=this.uint32()&7)!==4;)this.skipType(a);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+a+" at offset "+this.pos)}return this};Reader$1._configure=function(a){BufferReader$1=a,Reader$1.create=create$1(),BufferReader$1._configure();var e=util$2.Long?"toLong":"toNumber";util$2.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[e](!1)},uint64:function(){return readLongVarint.call(this)[e](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[e](!1)},fixed64:function(){return readFixed64.call(this)[e](!0)},sfixed64:function(){return readFixed64.call(this)[e](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$1=requireMinimal();function BufferReader(a){Reader.call(this,a)}BufferReader._configure=function(){util$1.Buffer&&(BufferReader.prototype._slice=util$1.Buffer.prototype.slice)};BufferReader.prototype.string=function a(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};BufferReader._configure();var rpc={},service=Service,util=requireMinimal();(Service.prototype=Object.create(util.EventEmitter.prototype)).constructor=Service;function Service(a,e,o){if(typeof a!="function")throw TypeError("rpcImpl must be a function");util.EventEmitter.call(this),this.rpcImpl=a,this.requestDelimited=!!e,this.responseDelimited=!!o}Service.prototype.rpcCall=function a(e,o,c,d,h){if(!d)throw TypeError("request must be specified");var et=this;if(!h)return util.asPromise(a,et,e,o,c,d);if(!et.rpcImpl){setTimeout(function(){h(Error("already ended"))},0);return}try{return et.rpcImpl(e,o[et.requestDelimited?"encodeDelimited":"encode"](d).finish(),function(ot,ft){if(ot)return et.emit("error",ot,e),h(ot);if(ft===null){et.end(!0);return}if(!(ft instanceof c))try{ft=c[et.responseDelimited?"decodeDelimited":"decode"](ft)}catch(ht){return et.emit("error",ht,e),h(ht)}return et.emit("data",ft,e),h(null,ft)})}catch(tt){et.emit("error",tt,e),setTimeout(function(){h(tt)},0);return}};Service.prototype.end=function a(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};(function(a){var e=a;e.Service=service})(rpc);var roots={};(function(a){var e=a;e.build="minimal",e.Writer=writer,e.BufferWriter=writer_buffer,e.Reader=reader,e.BufferReader=reader_buffer,e.util=requireMinimal(),e.rpc=rpc,e.roots=roots,e.configure=o;function o(){e.util._configure(),e.Writer._configure(e.BufferWriter),e.Reader._configure(e.BufferReader)}o()})(indexMinimal);var minimal=indexMinimal;const $protobuf=getDefaultExportFromCjs(minimal),$Reader=$protobuf.Reader,$Writer=$protobuf.Writer,$util=$protobuf.util,$root=$protobuf.roots["ipfs-unixfs"]||($protobuf.roots["ipfs-unixfs"]={});$root.Data=(()=>{function a(e){if(this.blocksizes=[],e)for(var o=Object.keys(e),c=0;c<o.length;++c)e[o[c]]!=null&&(this[o[c]]=e[o[c]])}return a.prototype.Type=0,a.prototype.Data=$util.newBuffer([]),a.prototype.filesize=$util.Long?$util.Long.fromBits(0,0,!0):0,a.prototype.blocksizes=$util.emptyArray,a.prototype.hashType=$util.Long?$util.Long.fromBits(0,0,!0):0,a.prototype.fanout=$util.Long?$util.Long.fromBits(0,0,!0):0,a.prototype.mode=0,a.prototype.mtime=null,a.encode=function(o,c){if(c||(c=$Writer.create()),c.uint32(8).int32(o.Type),o.Data!=null&&Object.hasOwnProperty.call(o,"Data")&&c.uint32(18).bytes(o.Data),o.filesize!=null&&Object.hasOwnProperty.call(o,"filesize")&&c.uint32(24).uint64(o.filesize),o.blocksizes!=null&&o.blocksizes.length)for(var d=0;d<o.blocksizes.length;++d)c.uint32(32).uint64(o.blocksizes[d]);return o.hashType!=null&&Object.hasOwnProperty.call(o,"hashType")&&c.uint32(40).uint64(o.hashType),o.fanout!=null&&Object.hasOwnProperty.call(o,"fanout")&&c.uint32(48).uint64(o.fanout),o.mode!=null&&Object.hasOwnProperty.call(o,"mode")&&c.uint32(56).uint32(o.mode),o.mtime!=null&&Object.hasOwnProperty.call(o,"mtime")&&$root.UnixTime.encode(o.mtime,c.uint32(66).fork()).ldelim(),c},a.decode=function(o,c){o instanceof $Reader||(o=$Reader.create(o));for(var d=c===void 0?o.len:o.pos+c,h=new $root.Data;o.pos<d;){var et=o.uint32();switch(et>>>3){case 1:h.Type=o.int32();break;case 2:h.Data=o.bytes();break;case 3:h.filesize=o.uint64();break;case 4:if(h.blocksizes&&h.blocksizes.length||(h.blocksizes=[]),(et&7)===2)for(var tt=o.uint32()+o.pos;o.pos<tt;)h.blocksizes.push(o.uint64());else h.blocksizes.push(o.uint64());break;case 5:h.hashType=o.uint64();break;case 6:h.fanout=o.uint64();break;case 7:h.mode=o.uint32();break;case 8:h.mtime=$root.UnixTime.decode(o,o.uint32());break;default:o.skipType(et&7);break}}if(!h.hasOwnProperty("Type"))throw $util.ProtocolError("missing required 'Type'",{instance:h});return h},a.fromObject=function(o){if(o instanceof $root.Data)return o;var c=new $root.Data;switch(o.Type){case"Raw":case 0:c.Type=0;break;case"Directory":case 1:c.Type=1;break;case"File":case 2:c.Type=2;break;case"Metadata":case 3:c.Type=3;break;case"Symlink":case 4:c.Type=4;break;case"HAMTShard":case 5:c.Type=5;break}if(o.Data!=null&&(typeof o.Data=="string"?$util.base64.decode(o.Data,c.Data=$util.newBuffer($util.base64.length(o.Data)),0):o.Data.length&&(c.Data=o.Data)),o.filesize!=null&&($util.Long?(c.filesize=$util.Long.fromValue(o.filesize)).unsigned=!0:typeof o.filesize=="string"?c.filesize=parseInt(o.filesize,10):typeof o.filesize=="number"?c.filesize=o.filesize:typeof o.filesize=="object"&&(c.filesize=new $util.LongBits(o.filesize.low>>>0,o.filesize.high>>>0).toNumber(!0))),o.blocksizes){if(!Array.isArray(o.blocksizes))throw TypeError(".Data.blocksizes: array expected");c.blocksizes=[];for(var d=0;d<o.blocksizes.length;++d)$util.Long?(c.blocksizes[d]=$util.Long.fromValue(o.blocksizes[d])).unsigned=!0:typeof o.blocksizes[d]=="string"?c.blocksizes[d]=parseInt(o.blocksizes[d],10):typeof o.blocksizes[d]=="number"?c.blocksizes[d]=o.blocksizes[d]:typeof o.blocksizes[d]=="object"&&(c.blocksizes[d]=new $util.LongBits(o.blocksizes[d].low>>>0,o.blocksizes[d].high>>>0).toNumber(!0))}if(o.hashType!=null&&($util.Long?(c.hashType=$util.Long.fromValue(o.hashType)).unsigned=!0:typeof o.hashType=="string"?c.hashType=parseInt(o.hashType,10):typeof o.hashType=="number"?c.hashType=o.hashType:typeof o.hashType=="object"&&(c.hashType=new $util.LongBits(o.hashType.low>>>0,o.hashType.high>>>0).toNumber(!0))),o.fanout!=null&&($util.Long?(c.fanout=$util.Long.fromValue(o.fanout)).unsigned=!0:typeof o.fanout=="string"?c.fanout=parseInt(o.fanout,10):typeof o.fanout=="number"?c.fanout=o.fanout:typeof o.fanout=="object"&&(c.fanout=new $util.LongBits(o.fanout.low>>>0,o.fanout.high>>>0).toNumber(!0))),o.mode!=null&&(c.mode=o.mode>>>0),o.mtime!=null){if(typeof o.mtime!="object")throw TypeError(".Data.mtime: object expected");c.mtime=$root.UnixTime.fromObject(o.mtime)}return c},a.toObject=function(o,c){c||(c={});var d={};if((c.arrays||c.defaults)&&(d.blocksizes=[]),c.defaults){if(d.Type=c.enums===String?"Raw":0,c.bytes===String?d.Data="":(d.Data=[],c.bytes!==Array&&(d.Data=$util.newBuffer(d.Data))),$util.Long){var h=new $util.Long(0,0,!0);d.filesize=c.longs===String?h.toString():c.longs===Number?h.toNumber():h}else d.filesize=c.longs===String?"0":0;if($util.Long){var h=new $util.Long(0,0,!0);d.hashType=c.longs===String?h.toString():c.longs===Number?h.toNumber():h}else d.hashType=c.longs===String?"0":0;if($util.Long){var h=new $util.Long(0,0,!0);d.fanout=c.longs===String?h.toString():c.longs===Number?h.toNumber():h}else d.fanout=c.longs===String?"0":0;d.mode=0,d.mtime=null}if(o.Type!=null&&o.hasOwnProperty("Type")&&(d.Type=c.enums===String?$root.Data.DataType[o.Type]:o.Type),o.Data!=null&&o.hasOwnProperty("Data")&&(d.Data=c.bytes===String?$util.base64.encode(o.Data,0,o.Data.length):c.bytes===Array?Array.prototype.slice.call(o.Data):o.Data),o.filesize!=null&&o.hasOwnProperty("filesize")&&(typeof o.filesize=="number"?d.filesize=c.longs===String?String(o.filesize):o.filesize:d.filesize=c.longs===String?$util.Long.prototype.toString.call(o.filesize):c.longs===Number?new $util.LongBits(o.filesize.low>>>0,o.filesize.high>>>0).toNumber(!0):o.filesize),o.blocksizes&&o.blocksizes.length){d.blocksizes=[];for(var et=0;et<o.blocksizes.length;++et)typeof o.blocksizes[et]=="number"?d.blocksizes[et]=c.longs===String?String(o.blocksizes[et]):o.blocksizes[et]:d.blocksizes[et]=c.longs===String?$util.Long.prototype.toString.call(o.blocksizes[et]):c.longs===Number?new $util.LongBits(o.blocksizes[et].low>>>0,o.blocksizes[et].high>>>0).toNumber(!0):o.blocksizes[et]}return o.hashType!=null&&o.hasOwnProperty("hashType")&&(typeof o.hashType=="number"?d.hashType=c.longs===String?String(o.hashType):o.hashType:d.hashType=c.longs===String?$util.Long.prototype.toString.call(o.hashType):c.longs===Number?new $util.LongBits(o.hashType.low>>>0,o.hashType.high>>>0).toNumber(!0):o.hashType),o.fanout!=null&&o.hasOwnProperty("fanout")&&(typeof o.fanout=="number"?d.fanout=c.longs===String?String(o.fanout):o.fanout:d.fanout=c.longs===String?$util.Long.prototype.toString.call(o.fanout):c.longs===Number?new $util.LongBits(o.fanout.low>>>0,o.fanout.high>>>0).toNumber(!0):o.fanout),o.mode!=null&&o.hasOwnProperty("mode")&&(d.mode=o.mode),o.mtime!=null&&o.hasOwnProperty("mtime")&&(d.mtime=$root.UnixTime.toObject(o.mtime,c)),d},a.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},a.DataType=function(){const e={},o=Object.create(e);return o[e[0]="Raw"]=0,o[e[1]="Directory"]=1,o[e[2]="File"]=2,o[e[3]="Metadata"]=3,o[e[4]="Symlink"]=4,o[e[5]="HAMTShard"]=5,o}(),a})();$root.UnixTime=(()=>{function a(e){if(e)for(var o=Object.keys(e),c=0;c<o.length;++c)e[o[c]]!=null&&(this[o[c]]=e[o[c]])}return a.prototype.Seconds=$util.Long?$util.Long.fromBits(0,0,!1):0,a.prototype.FractionalNanoseconds=0,a.encode=function(o,c){return c||(c=$Writer.create()),c.uint32(8).int64(o.Seconds),o.FractionalNanoseconds!=null&&Object.hasOwnProperty.call(o,"FractionalNanoseconds")&&c.uint32(21).fixed32(o.FractionalNanoseconds),c},a.decode=function(o,c){o instanceof $Reader||(o=$Reader.create(o));for(var d=c===void 0?o.len:o.pos+c,h=new $root.UnixTime;o.pos<d;){var et=o.uint32();switch(et>>>3){case 1:h.Seconds=o.int64();break;case 2:h.FractionalNanoseconds=o.fixed32();break;default:o.skipType(et&7);break}}if(!h.hasOwnProperty("Seconds"))throw $util.ProtocolError("missing required 'Seconds'",{instance:h});return h},a.fromObject=function(o){if(o instanceof $root.UnixTime)return o;var c=new $root.UnixTime;return o.Seconds!=null&&($util.Long?(c.Seconds=$util.Long.fromValue(o.Seconds)).unsigned=!1:typeof o.Seconds=="string"?c.Seconds=parseInt(o.Seconds,10):typeof o.Seconds=="number"?c.Seconds=o.Seconds:typeof o.Seconds=="object"&&(c.Seconds=new $util.LongBits(o.Seconds.low>>>0,o.Seconds.high>>>0).toNumber())),o.FractionalNanoseconds!=null&&(c.FractionalNanoseconds=o.FractionalNanoseconds>>>0),c},a.toObject=function(o,c){c||(c={});var d={};if(c.defaults){if($util.Long){var h=new $util.Long(0,0,!1);d.Seconds=c.longs===String?h.toString():c.longs===Number?h.toNumber():h}else d.Seconds=c.longs===String?"0":0;d.FractionalNanoseconds=0}return o.Seconds!=null&&o.hasOwnProperty("Seconds")&&(typeof o.Seconds=="number"?d.Seconds=c.longs===String?String(o.Seconds):o.Seconds:d.Seconds=c.longs===String?$util.Long.prototype.toString.call(o.Seconds):c.longs===Number?new $util.LongBits(o.Seconds.low>>>0,o.Seconds.high>>>0).toNumber():o.Seconds),o.FractionalNanoseconds!=null&&o.hasOwnProperty("FractionalNanoseconds")&&(d.FractionalNanoseconds=o.FractionalNanoseconds),d},a.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},a})();$root.Metadata=(()=>{function a(e){if(e)for(var o=Object.keys(e),c=0;c<o.length;++c)e[o[c]]!=null&&(this[o[c]]=e[o[c]])}return a.prototype.MimeType="",a.encode=function(o,c){return c||(c=$Writer.create()),o.MimeType!=null&&Object.hasOwnProperty.call(o,"MimeType")&&c.uint32(10).string(o.MimeType),c},a.decode=function(o,c){o instanceof $Reader||(o=$Reader.create(o));for(var d=c===void 0?o.len:o.pos+c,h=new $root.Metadata;o.pos<d;){var et=o.uint32();switch(et>>>3){case 1:h.MimeType=o.string();break;default:o.skipType(et&7);break}}return h},a.fromObject=function(o){if(o instanceof $root.Metadata)return o;var c=new $root.Metadata;return o.MimeType!=null&&(c.MimeType=String(o.MimeType)),c},a.toObject=function(o,c){c||(c={});var d={};return c.defaults&&(d.MimeType=""),o.MimeType!=null&&o.hasOwnProperty("MimeType")&&(d.MimeType=o.MimeType),d},a.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},a})();function parseMode(a){if(a!=null)return typeof a=="number"?a&4095:(a=a.toString(),a.substring(0,1)==="0"?parseInt(a,8)&4095:parseInt(a,10)&4095)}function parseMtime(a){if(a==null)return;let e;if(a.secs!=null&&(e={secs:a.secs,nsecs:a.nsecs}),a.Seconds!=null&&(e={secs:a.Seconds,nsecs:a.FractionalNanoseconds}),Array.isArray(a)&&(e={secs:a[0],nsecs:a[1]}),a instanceof Date){const o=a.getTime(),c=Math.floor(o/1e3);e={secs:c,nsecs:(o-c*1e3)*1e3}}if(Object.prototype.hasOwnProperty.call(e,"secs")){if(e!=null&&e.nsecs!=null&&(e.nsecs<0||e.nsecs>999999999))throw errCode$1(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return e}}async function*normaliseCandidateMultiple(a,e){if(typeof a=="string"||a instanceof String||isBytes(a)||isBlob(a)||a._readableState)throw errCode$1(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(isReadableStream(a)&&(a=browserReadableStreamToIt(a)),Symbol.iterator in a||Symbol.asyncIterator in a){const o=peekableIterator(a),{value:c,done:d}=await o.peek();if(d){yield*[];return}if(o.push(c),Number.isInteger(c))throw errCode$1(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(c._readableState){yield*map(o,h=>toFileObject$1({content:h},e));return}if(isBytes(c)){yield toFileObject$1({content:o},e);return}if(isFileObject(c)||c[Symbol.iterator]||c[Symbol.asyncIterator]||isReadableStream(c)||isBlob(c)){yield*map(o,h=>toFileObject$1(h,e));return}}throw isFileObject(a)?errCode$1(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT"):errCode$1(new Error("Unexpected input: "+typeof a),"ERR_UNEXPECTED_INPUT")}async function toFileObject$1(a,e){const{path:o,mode:c,mtime:d,content:h}=a,et={path:o||"",mode:parseMode(c),mtime:parseMtime(d)};return h?et.content=await e(h):o||(et.content=await e(a)),et}function normaliseInput$2(a){return normaliseCandidateMultiple(a,normaliseContent$1)}function modeToString(a){if(a!=null)return typeof a=="string"?a:a.toString(8).padStart(4,"0")}async function multipartRequest(a,e,o={}){const c=[],d=new FormData;let h=0,et=0;for await(const{content:tt,path:ot,mode:ft,mtime:ht}of normaliseInput$2(a)){let yt="";const gt=tt?"file":"dir";h>0&&(yt=`-${h}`);let wt=gt+yt;const bt=[];if(ft!=null&&bt.push(`mode=${modeToString(ft)}`),ht!=null){const{secs:xt,nsecs:Et}=ht;bt.push(`mtime=${xt}`),Et!=null&&bt.push(`mtime-nsecs=${Et}`)}if(bt.length&&(wt=`${wt}?${bt.join("&")}`),tt){d.set(wt,tt,ot!=null?encodeURIComponent(ot):void 0);const xt=et+tt.size;c.push({name:ot,start:et,end:xt}),et=xt}else if(ot!=null)d.set(wt,new File([""],encodeURIComponent(ot),{type:"application/x-directory"}));else throw new Error("path or content or both must be set");h++}return{total:et,parts:c,headers:o,body:d}}function filter(a){return a.filter(Boolean)}function abortSignal(...a){return anySignal_2(filter(a))}const createPut$3=configure((a,e)=>{async function o(c,d={}){const h=new AbortController,et=abortSignal(h.signal,d.signal);let tt;try{tt=await(await a.post("block/put",{signal:et,searchParams:toUrlSearchParams(d),...await multipartRequest([c],h,d.headers)})).json()}catch(ot){if(d.format==="dag-pb")return o(c,{...d,format:"protobuf"});if(d.format==="dag-cbor")return o(c,{...d,format:"cbor"});throw ot}return CID$2.parse(tt.Key)}return o}),createRm$6=configure(a=>{async function*e(o,c={}){Array.isArray(o)||(o=[o]);const d=await a.post("block/rm",{signal:c.signal,searchParams:toUrlSearchParams({arg:o.map(h=>h.toString()),"stream-channels":!0,...c}),headers:c.headers});for await(const h of d.ndjson())yield toCoreInterface$3(h)}return e});function toCoreInterface$3(a){const e={cid:CID$2.parse(a.Hash)};return a.Error&&(e.error=new Error(a.Error)),e}const createStat$3=configure(a=>{async function e(o,c={}){const h=await(await a.post("block/stat",{signal:c.signal,searchParams:toUrlSearchParams({arg:o.toString(),...c}),headers:c.headers})).json();return{cid:CID$2.parse(h.Key),size:h.Size}}return e});function createBlock(a){return{get:createGet$5(a),put:createPut$3(a),rm:createRm$6(a),stat:createStat$3(a)}}const createAdd$4=configure(a=>{async function e(o,c={}){const d=await a.post("bootstrap/add",{signal:c.signal,searchParams:toUrlSearchParams({arg:o,...c}),headers:c.headers}),{Peers:h}=await d.json();return{Peers:h.map(et=>multiaddr$1(et))}}return e}),createList$1=configure(a=>{async function e(o={}){const c=await a.post("bootstrap/list",{signal:o.signal,searchParams:toUrlSearchParams(o),headers:o.headers}),{Peers:d}=await c.json();return{Peers:d.map(h=>multiaddr$1(h))}}return e}),createRm$5=configure(a=>{async function e(o,c={}){const d=await a.post("bootstrap/rm",{signal:c.signal,searchParams:toUrlSearchParams({arg:o,...c}),headers:c.headers}),{Peers:h}=await d.json();return{Peers:h.map(et=>multiaddr$1(et))}}return e});function createBootstrap(a){return{add:createAdd$4(a),list:createList$1(a),rm:createRm$5(a)}}const createApply=configure(a=>{async function e(o,c={}){const h=await(await a.post("config/profile/apply",{signal:c.signal,searchParams:toUrlSearchParams({arg:o,...c}),headers:c.headers})).json();return{original:h.OldCfg,updated:h.NewCfg}}return e});function createProfiles(a){return{apply:createApply(a)}}const createGet$4=configure(a=>async(o,c={})=>{if(!o)throw new Error("key argument is required");return(await(await a.post("config",{signal:c.signal,searchParams:toUrlSearchParams({arg:o,...c}),headers:c.headers})).json()).Value}),createGetAll=configure(a=>async(o={})=>await(await a.post("config/show",{signal:o.signal,searchParams:toUrlSearchParams({...o}),headers:o.headers})).json());function asUint8Array(a){return globalThis.Buffer!=null?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):a}function base(a,e){if(a.length>=255)throw new TypeError("Alphabet too long");for(var o=new Uint8Array(256),c=0;c<o.length;c++)o[c]=255;for(var d=0;d<a.length;d++){var h=a.charAt(d),et=h.charCodeAt(0);if(o[et]!==255)throw new TypeError(h+" is ambiguous");o[et]=d}var tt=a.length,ot=a.charAt(0),ft=Math.log(tt)/Math.log(256),ht=Math.log(256)/Math.log(tt);function yt(bt){if(bt instanceof Uint8Array||(ArrayBuffer.isView(bt)?bt=new Uint8Array(bt.buffer,bt.byteOffset,bt.byteLength):Array.isArray(bt)&&(bt=Uint8Array.from(bt))),!(bt instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(bt.length===0)return"";for(var xt=0,Et=0,vt=0,$t=bt.length;vt!==$t&&bt[vt]===0;)vt++,xt++;for(var At=($t-vt)*ht+1>>>0,kt=new Uint8Array(At);vt!==$t;){for(var It=bt[vt],Dt=0,Mt=At-1;(It!==0||Dt<Et)&&Mt!==-1;Mt--,Dt++)It+=256*kt[Mt]>>>0,kt[Mt]=It%tt>>>0,It=It/tt>>>0;if(It!==0)throw new Error("Non-zero carry");Et=Dt,vt++}for(var zt=At-Et;zt!==At&&kt[zt]===0;)zt++;for(var Kt=ot.repeat(xt);zt<At;++zt)Kt+=a.charAt(kt[zt]);return Kt}function gt(bt){if(typeof bt!="string")throw new TypeError("Expected String");if(bt.length===0)return new Uint8Array;var xt=0;if(bt[xt]!==" "){for(var Et=0,vt=0;bt[xt]===ot;)Et++,xt++;for(var $t=(bt.length-xt)*ft+1>>>0,At=new Uint8Array($t);bt[xt];){var kt=o[bt.charCodeAt(xt)];if(kt===255)return;for(var It=0,Dt=$t-1;(kt!==0||It<vt)&&Dt!==-1;Dt--,It++)kt+=tt*At[Dt]>>>0,At[Dt]=kt%256>>>0,kt=kt/256>>>0;if(kt!==0)throw new Error("Non-zero carry");vt=It,xt++}if(bt[xt]!==" "){for(var Mt=$t-vt;Mt!==$t&&At[Mt]===0;)Mt++;for(var zt=new Uint8Array(Et+($t-Mt)),Kt=Et;Mt!==$t;)zt[Kt++]=At[Mt++];return zt}}}function wt(bt){var xt=gt(bt);if(xt)return xt;throw new Error(`Non-${e} character`)}return{encode:yt,decodeUnsafe:gt,decode:wt}}var src=base,_brrp__multiformats_scope_baseX=src;const coerce=a=>{if(a instanceof Uint8Array&&a.constructor.name==="Uint8Array")return a;if(a instanceof ArrayBuffer)return new Uint8Array(a);if(ArrayBuffer.isView(a))return new Uint8Array(a.buffer,a.byteOffset,a.byteLength);throw new Error("Unknown type, must be binary type")},fromString$1=a=>new TextEncoder().encode(a),toString$1=a=>new TextDecoder().decode(a);class Encoder{constructor(e,o,c){this.name=e,this.prefix=o,this.baseEncode=c}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Decoder{constructor(e,o,c){if(this.name=e,this.prefix=o,o.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=o.codePointAt(0),this.baseDecode=c}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return or(this,e)}}class ComposedDecoder{constructor(e){this.decoders=e}or(e){return or(this,e)}decode(e){const o=e[0],c=this.decoders[o];if(c)return c.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const or=(a,e)=>new ComposedDecoder({...a.decoders||{[a.prefix]:a},...e.decoders||{[e.prefix]:e}});class Codec{constructor(e,o,c,d){this.name=e,this.prefix=o,this.baseEncode=c,this.baseDecode=d,this.encoder=new Encoder(e,o,c),this.decoder=new Decoder(e,o,d)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const from=({name:a,prefix:e,encode:o,decode:c})=>new Codec(a,e,o,c),baseX=({prefix:a,name:e,alphabet:o})=>{const{encode:c,decode:d}=_brrp__multiformats_scope_baseX(o,e);return from({prefix:a,name:e,encode:c,decode:h=>coerce(d(h))})},decode$1=(a,e,o,c)=>{const d={};for(let ht=0;ht<e.length;++ht)d[e[ht]]=ht;let h=a.length;for(;a[h-1]==="=";)--h;const et=new Uint8Array(h*o/8|0);let tt=0,ot=0,ft=0;for(let ht=0;ht<h;++ht){const yt=d[a[ht]];if(yt===void 0)throw new SyntaxError(`Non-${c} character`);ot=ot<<o|yt,tt+=o,tt>=8&&(tt-=8,et[ft++]=255&ot>>tt)}if(tt>=o||255&ot<<8-tt)throw new SyntaxError("Unexpected end of data");return et},encode$1=(a,e,o)=>{const c=e[e.length-1]==="=",d=(1<<o)-1;let h="",et=0,tt=0;for(let ot=0;ot<a.length;++ot)for(tt=tt<<8|a[ot],et+=8;et>o;)et-=o,h+=e[d&tt>>et];if(et&&(h+=e[d&tt<<o-et]),c)for(;h.length*o&7;)h+="=";return h},rfc4648=({name:a,prefix:e,bitsPerChar:o,alphabet:c})=>from({prefix:e,name:a,encode(d){return encode$1(d,c,o)},decode(d){return decode$1(d,c,o,a)}}),base10=baseX({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$1=Object.freeze(Object.defineProperty({__proto__:null,base10},Symbol.toStringTag,{value:"Module"})),base16=rfc4648({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper=rfc4648({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$1=Object.freeze(Object.defineProperty({__proto__:null,base16,base16upper},Symbol.toStringTag,{value:"Module"})),base2=rfc4648({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$1=Object.freeze(Object.defineProperty({__proto__:null,base2},Symbol.toStringTag,{value:"Module"})),alphabet=Array.from(""),alphabetBytesToChars=alphabet.reduce((a,e,o)=>(a[o]=e,a),[]),alphabetCharsToBytes=alphabet.reduce((a,e,o)=>(a[e.codePointAt(0)]=o,a),[]);function encode(a){return a.reduce((e,o)=>(e+=alphabetBytesToChars[o],e),"")}function decode(a){const e=[];for(const o of a){const c=alphabetCharsToBytes[o.codePointAt(0)];if(c===void 0)throw new Error(`Non-base256emoji character: ${o}`);e.push(c)}return new Uint8Array(e)}const base256emoji=from({prefix:"",name:"base256emoji",encode,decode}),base256emoji$1=Object.freeze(Object.defineProperty({__proto__:null,base256emoji},Symbol.toStringTag,{value:"Module"})),base32=rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper=rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad=rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper=rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex=rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper=rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad=rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper=rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z=rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$1=Object.freeze(Object.defineProperty({__proto__:null,base32,base32hex,base32hexpad,base32hexpadupper,base32hexupper,base32pad,base32padupper,base32upper,base32z},Symbol.toStringTag,{value:"Module"})),base36=baseX({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper=baseX({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$1=Object.freeze(Object.defineProperty({__proto__:null,base36,base36upper},Symbol.toStringTag,{value:"Module"})),base58btc=baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr=baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58=Object.freeze(Object.defineProperty({__proto__:null,base58btc,base58flickr},Symbol.toStringTag,{value:"Module"})),base64=rfc4648({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad=rfc4648({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url=rfc4648({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad=rfc4648({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$1=Object.freeze(Object.defineProperty({__proto__:null,base64,base64pad,base64url,base64urlpad},Symbol.toStringTag,{value:"Module"})),base8=rfc4648({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$1=Object.freeze(Object.defineProperty({__proto__:null,base8},Symbol.toStringTag,{value:"Module"})),identity=from({prefix:"\0",name:"identity",encode:a=>toString$1(a),decode:a=>fromString$1(a)}),identityBase=Object.freeze(Object.defineProperty({__proto__:null,identity},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const bases={...identityBase,...base2$1,...base8$1,...base10$1,...base16$1,...base32$1,...base36$1,...base58,...base64$1,...base256emoji$1};function allocUnsafe(a=0){var e;return((e=globalThis.Buffer)==null?void 0:e.allocUnsafe)!=null?asUint8Array(globalThis.Buffer.allocUnsafe(a)):new Uint8Array(a)}function createCodec(a,e,o,c){return{name:a,prefix:e,encoder:{name:a,prefix:e,encode:o},decoder:{decode:c}}}const string=createCodec("utf8","u",a=>"u"+new TextDecoder("utf8").decode(a),a=>new TextEncoder().encode(a.substring(1))),ascii=createCodec("ascii","a",a=>{let e="a";for(let o=0;o<a.length;o++)e+=String.fromCharCode(a[o]);return e},a=>{a=a.substring(1);const e=allocUnsafe(a.length);for(let o=0;o<a.length;o++)e[o]=a.charCodeAt(o);return e}),BASES={utf8:string,"utf-8":string,hex:bases.base16,latin1:ascii,ascii,binary:ascii,...bases};function fromString(a,e="utf8"){const o=BASES[e];if(o==null)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?asUint8Array(globalThis.Buffer.from(a,"utf-8")):o.decoder.decode(`${o.prefix}${a}`)}const createReplace=configure(a=>async(o,c={})=>{const d=new AbortController,h=abortSignal(d.signal,c.signal);await(await a.post("config/replace",{signal:h,searchParams:toUrlSearchParams(c),...await multipartRequest([fromString(JSON.stringify(o))],d,c.headers)})).text()}),createSet=configure(a=>async(o,c,d={})=>{if(typeof o!="string")throw new Error("Invalid key type");const h={...d,...encodeParam(o,c)};await(await a.post("config",{signal:d.signal,searchParams:toUrlSearchParams(h),headers:d.headers})).text()}),encodeParam=(a,e)=>{switch(typeof e){case"boolean":return{arg:[a,e.toString()],bool:!0};case"string":return{arg:[a,e]};default:return{arg:[a,JSON.stringify(e)],json:!0}}};function createConfig(a){return{getAll:createGetAll(a),get:createGet$4(a),set:createSet(a),replace:createReplace(a),profiles:createProfiles(a)}}const createExport$1=configure(a=>{async function*e(o,c={}){yield*(await a.post("dag/export",{signal:c.signal,searchParams:toUrlSearchParams({arg:o.toString()}),headers:c.headers})).iterator()}return e});async function*resolve(a,e,o,c,d){const h=async ft=>{const ht=await o.getCodec(ft.code),yt=await c(ft,d);return ht.decode(yt)},et=e.split("/").filter(Boolean);let tt=await h(a),ot=a;for(;et.length;){const ft=et.shift();if(!ft)throw errCode$1(new Error(`Could not resolve path "${e}"`),"ERR_INVALID_PATH");if(Object.prototype.hasOwnProperty.call(tt,ft))tt=tt[ft],yield{value:tt,remainderPath:et.join("/")};else throw errCode$1(new Error(`no link named "${ft}" under ${ot}`),"ERR_NO_LINK");const ht=CID$2.asCID(tt);ht&&(ot=ht,tt=await h(tt))}yield{value:tt,remainderPath:""}}async function first(a){for await(const e of a)return e}async function last(a){let e;for await(const o of a)e=o;return e}const createGet$3=(a,e)=>configure((c,d)=>{const h=createGet$5(d);return async(tt,ot={})=>{if(ot.path){const wt=ot.localResolve?await first(resolve(tt,ot.path,a,h,ot)):await last(resolve(tt,ot.path,a,h,ot));if(!wt)throw errCode$1(new Error("Not found"),"ERR_NOT_FOUND");return wt}const ft=await a.getCodec(tt.code),ht=await h(tt,ot);return{value:ft.decode(ht),remainderPath:""}}})(e),createImport$1=configure(a=>{async function*e(o,c={}){const d=new AbortController,h=abortSignal(d.signal,c.signal),{headers:et,body:tt}=await multipartRequest(o,d,c.headers),ot=await a.post("dag/import",{signal:h,headers:et,body:tt,searchParams:toUrlSearchParams({"pin-roots":c.pinRoots})});for await(const{Root:ft}of ot.ndjson())if(ft!==void 0){const{Cid:{"/":ht},PinErrorMsg:yt}=ft;yield{root:{cid:CID$2.parse(ht),pinErrorMsg:yt}}}}return e}),createPut$2=(a,e)=>configure(c=>async(h,et={})=>{const tt={storeCodec:"dag-cbor",hashAlg:"sha2-256",...et};let ot;if(tt.inputCodec){if(!(h instanceof Uint8Array))throw new Error("Can only inputCodec on raw bytes that can be decoded");ot=h}else ot=(await a.getCodec(tt.storeCodec)).encode(h),tt.inputCodec=tt.storeCodec;const ft=new AbortController,ht=abortSignal(ft.signal,tt.signal),gt=await(await c.post("dag/put",{timeout:tt.timeout,signal:ht,searchParams:toUrlSearchParams(tt),...await multipartRequest([ot],ft,tt.headers)})).json();return CID$2.parse(gt.Cid["/"])})(e),createResolve$2=configure(a=>async(o,c={})=>{const h=await(await a.post("dag/resolve",{signal:c.signal,searchParams:toUrlSearchParams({arg:`${o}${c.path?`/${c.path}`.replace(/\/[/]+/g,"/"):""}`,...c}),headers:c.headers})).json();return{cid:CID$2.parse(h.Cid["/"]),remainderPath:h.RemPath}});function createDag(a,e){return{export:createExport$1(e),get:createGet$3(a,e),import:createImport$1(e),put:createPut$2(a,e),resolve:createResolve$2(e)}}const SendingQuery=0,PeerResponse=1,FinalPeer=2,QueryError=3,Provider=4,Value=5,AddingPeer=6,DialingPeer=7,mapEvent=a=>{if(a.Type===SendingQuery)return{name:"SENDING_QUERY",type:a.Type};if(a.Type===PeerResponse)return{from:peerIdFromString(a.ID),name:"PEER_RESPONSE",type:a.Type,messageType:0,messageName:"PUT_VALUE",closer:(a.Responses||[]).map(({ID:e,Addrs:o})=>({id:peerIdFromString(e),multiaddrs:o.map(c=>multiaddr$1(c)),protocols:[]})),providers:(a.Responses||[]).map(({ID:e,Addrs:o})=>({id:peerIdFromString(e),multiaddrs:o.map(c=>multiaddr$1(c)),protocols:[]}))};if(a.Type===FinalPeer){let e={id:a.ID??peerIdFromString(a.ID),multiaddrs:[],protocols:[]};return a.Responses&&a.Responses.length&&(e={id:peerIdFromString(a.Responses[0].ID),multiaddrs:a.Responses[0].Addrs.map(o=>multiaddr$1(o)),protocols:[]}),{name:"FINAL_PEER",type:a.Type,peer:e}}if(a.Type===QueryError)return{name:"QUERY_ERROR",type:a.Type,error:new Error(a.Extra)};if(a.Type===Provider)return{name:"PROVIDER",type:a.Type,providers:a.Responses.map(({ID:e,Addrs:o})=>({id:peerIdFromString(e),multiaddrs:o.map(c=>multiaddr$1(c)),protocols:[]}))};if(a.Type===Value)return{name:"VALUE",type:a.Type,value:fromString(a.Extra,"base64pad")};if(a.Type===AddingPeer){const e=a.Responses.map(({ID:o})=>peerIdFromString(o));if(!e.length)throw new Error("No peer found");return{name:"ADDING_PEER",type:a.Type,peer:e[0]}}if(a.Type===DialingPeer)return{name:"DIALING_PEER",type:a.Type,peer:peerIdFromString(a.ID)};throw new Error("Unknown DHT event type")},createFindPeer=configure(a=>{async function*e(o,c={}){const d=await a.post("routing/findpeer",{signal:c.signal,searchParams:toUrlSearchParams({arg:o,...c}),headers:c.headers});for await(const h of d.ndjson())yield mapEvent(h)}return e}),createFindProvs=configure(a=>{async function*e(o,c={}){const d=await a.post("routing/findprovs",{signal:c.signal,searchParams:toUrlSearchParams({arg:o.toString(),...c}),headers:c.headers});for await(const h of d.ndjson())yield mapEvent(h)}return e});function toString(a,e="utf8"){const o=BASES[e];if(o==null)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(a.buffer,a.byteOffset,a.byteLength).toString("utf8"):o.encoder.encode(a).substring(1)}const createGet$2=configure(a=>{async function*e(o,c={}){const d=await a.post("routing/get",{signal:c.signal,searchParams:toUrlSearchParams({arg:o instanceof Uint8Array?toString(o):o.toString(),...c}),headers:c.headers});for await(const h of d.ndjson())yield mapEvent(h)}return e}),createProvide=configure(a=>{async function*e(o,c={recursive:!1}){const d=Array.isArray(o)?o:[o],h=await a.post("routing/provide",{signal:c.signal,searchParams:toUrlSearchParams({arg:d.map(et=>et.toString()),...c}),headers:c.headers});for await(const et of h.ndjson())yield mapEvent(et)}return e}),createPut$1=configure(a=>{async function*e(o,c,d={}){const h=new AbortController,et=abortSignal(h.signal,d.signal),tt=await a.post("routing/put",{signal:et,searchParams:toUrlSearchParams({arg:o instanceof Uint8Array?toString(o):o.toString(),...d}),...await multipartRequest([c],h,d.headers)});for await(const ot of tt.ndjson())yield mapEvent(ot)}return e}),createQuery=configure(a=>{async function*e(o,c={}){const d=await a.post("dht/query",{signal:c.signal,searchParams:toUrlSearchParams({arg:o.toString(),...c}),headers:c.headers});for await(const h of d.ndjson())yield mapEvent(h)}return e});function createDht(a){return{findPeer:createFindPeer(a),findProvs:createFindProvs(a),get:createGet$2(a),provide:createProvide(a),put:createPut$1(a),query:createQuery(a)}}const createCmds=configure(a=>{async function e(o={}){return(await a.post("diag/cmds",{signal:o.signal,searchParams:toUrlSearchParams(o),headers:o.headers})).json()}return e}),createNet=configure(a=>{async function e(o={}){return(await a.post("diag/net",{signal:o.signal,searchParams:toUrlSearchParams(o),headers:o.headers})).json()}return e}),createSys=configure(a=>{async function e(o={}){return(await a.post("diag/sys",{signal:o.signal,searchParams:toUrlSearchParams(o),headers:o.headers})).json()}return e});function createDiag(a){return{cmds:createCmds(a),net:createNet(a),sys:createSys(a)}}const createCp=configure(a=>{async function e(o,c,d={}){const h=Array.isArray(o)?o:[o];await(await a.post("files/cp",{signal:d.signal,searchParams:toUrlSearchParams({arg:h.concat(c).map(tt=>CID$2.asCID(tt)?`/ipfs/${tt}`:tt),...d}),headers:d.headers})).text()}return e}),createFlush=configure(a=>{async function e(o,c={}){if(!o||typeof o!="string")throw new Error("ipfs.files.flush requires a path");const h=await(await a.post("files/flush",{signal:c.signal,searchParams:toUrlSearchParams({arg:o,...c}),headers:c.headers})).json();return CID$2.parse(h.Cid)}return e});function objectToCamel(a){if(a==null)return a;const e=/^[A-Z]+$/,o={};return Object.keys(a).reduce((c,d)=>(e.test(d)?c[d.toLowerCase()]=a[d]:e.test(d[0])?c[d[0].toLowerCase()+d.slice(1)]=a[d]:c[d]=a[d],c),o)}function objectToCamelWithMetadata(a){const e=objectToCamel(a);return Object.prototype.hasOwnProperty.call(e,"mode")&&(e.mode=parseInt(e.mode,8)),Object.prototype.hasOwnProperty.call(e,"mtime")&&(e.mtime={secs:e.mtime,nsecs:e.mtimeNsecs||0},delete e.mtimeNsecs),e}const createLs$6=configure(a=>{async function*e(o,c={}){if(!o)throw new Error("ipfs.files.ls requires a path");const d=await a.post("files/ls",{signal:c.signal,searchParams:toUrlSearchParams({arg:CID$2.asCID(o)?`/ipfs/${o}`:o,long:!0,...c,stream:!0}),headers:c.headers});for await(const h of d.ndjson())if("Entries"in h)for(const et of h.Entries||[])yield toCoreInterface$2(objectToCamelWithMetadata(et));else yield toCoreInterface$2(objectToCamelWithMetadata(h))}return e});function toCoreInterface$2(a){return a.hash&&(a.cid=CID$2.parse(a.hash)),delete a.hash,a.type=a.type===1?"directory":"file",a}const createMkdir=configure(a=>{async function e(o,c={}){await(await a.post("files/mkdir",{signal:c.signal,searchParams:toUrlSearchParams({arg:o,...c}),headers:c.headers})).text()}return e}),createMv=configure(a=>{async function e(o,c,d={}){Array.isArray(o)||(o=[o]),await(await a.post("files/mv",{signal:d.signal,searchParams:toUrlSearchParams({arg:o.concat(c),...d}),headers:d.headers})).text()}return e});var source=a=>{if(a[Symbol.asyncIterator])return a;if(a.getReader)return async function*(){const e=a.getReader();try{for(;;){const{done:o,value:c}=await e.read();if(o)return;yield c}}finally{e.releaseLock()}}();throw new Error("unknown stream")};const toIterable=getDefaultExportFromCjs(source),createRead=configure(a=>{async function*e(o,c={}){const d=await a.post("files/read",{signal:c.signal,searchParams:toUrlSearchParams({arg:o,count:c.length,...c}),headers:c.headers});yield*toIterable(d.body)}return e}),createRm$4=configure(a=>{async function e(o,c={}){const d=await a.post("files/rm",{signal:c.signal,searchParams:toUrlSearchParams({arg:o,...c}),headers:c.headers}),h=await d.text();if(h!==""){const et=new HTTP$1.HTTPError(d);throw et.message=h,et}}return e}),createStat$2=configure(a=>{async function e(o,c={}){const h=await(await a.post("files/stat",{signal:c.signal,searchParams:toUrlSearchParams({arg:o,...c}),headers:c.headers})).json();return h.WithLocality=h.WithLocality||!1,toCoreInterface$1(objectToCamelWithMetadata(h))}return e});function toCoreInterface$1(a){return a.cid=CID$2.parse(a.hash),delete a.hash,a}const createWrite=configure(a=>{async function e(o,c,d={}){const h=new AbortController,et=abortSignal(h.signal,d.signal);await(await a.post("files/write",{signal:et,searchParams:toUrlSearchParams({arg:o,streamChannels:!0,count:d.length,...d}),...await multipartRequest([{content:c,path:"arg",mode:modeToString$1(d.mode),mtime:parseMtime$1(d.mtime)}],h,d.headers)})).text()}return e});function createFiles(a){return{cp:createCp(a),flush:createFlush(a),ls:createLs$6(a),mkdir:createMkdir(a),mv:createMv(a),read:createRead(a),rm:createRm$4(a),stat:createStat$2(a),write:createWrite(a)}}const createExport=configure(a=>async(o,c,d={})=>{throw errCode$1(new Error("Not implemented"),"ERR_NOT_IMPLEMENTED")}),defaultOptions={type:"ed25519"},createGen=configure(a=>{async function e(o,c=defaultOptions){const h=await(await a.post("key/gen",{signal:c.signal,searchParams:toUrlSearchParams({arg:o,...c}),headers:c.headers})).json();return objectToCamel(h)}return e}),createImport=configure(a=>{async function e(o,c,d,h={}){const tt=await(await a.post("key/import",{signal:h.signal,searchParams:toUrlSearchParams({arg:o,pem:c,password:d,...h}),headers:h.headers})).json();return objectToCamel(tt)}return e}),createList=configure(a=>{async function e(o={}){return((await(await a.post("key/list",{signal:o.signal,searchParams:toUrlSearchParams(o),headers:o.headers})).json()).Keys||[]).map(h=>objectToCamel(h))}return e}),createRename=configure(a=>{async function e(o,c,d={}){const h=await a.post("key/rename",{signal:d.signal,searchParams:toUrlSearchParams({arg:[o,c],...d}),headers:d.headers});return objectToCamel(await h.json())}return e}),createRm$3=configure(a=>{async function e(o,c={}){const h=await(await a.post("key/rm",{signal:c.signal,searchParams:toUrlSearchParams({arg:o,...c}),headers:c.headers})).json();return objectToCamel(h.Keys[0])}return e});function createKey$1(a){return{export:createExport(a),gen:createGen(a),import:createImport(a),list:createList(a),rename:createRename(a),rm:createRm$3(a)}}const createLevel=configure(a=>{async function e(o,c,d={}){const h=await a.post("log/level",{signal:d.signal,searchParams:toUrlSearchParams({arg:[o,c],...d}),headers:d.headers});return objectToCamel(await h.json())}return e}),createLs$5=configure(a=>{async function e(o={}){return(await(await a.post("log/ls",{signal:o.signal,searchParams:toUrlSearchParams(o),headers:o.headers})).json()).Strings}return e}),createTail=configure(a=>{async function*e(o={}){yield*(await a.post("log/tail",{signal:o.signal,searchParams:toUrlSearchParams(o),headers:o.headers})).ndjson()}return e});function createLog(a){return{level:createLevel(a),ls:createLs$5(a),tail:createTail(a)}}const createPublish$1=configure(a=>{async function e(o,c={}){const d=await a.post("name/publish",{signal:c.signal,searchParams:toUrlSearchParams({arg:`${o}`,...c}),headers:c.headers});return objectToCamel(await d.json())}return e}),createResolve$1=configure(a=>{async function*e(o,c={}){const d=await a.post("name/resolve",{signal:c.signal,searchParams:toUrlSearchParams({arg:o,stream:!0,...c}),headers:c.headers});for await(const h of d.ndjson())yield h.Path}return e}),createCancel=configure(a=>{async function e(o,c={}){const d=await a.post("name/pubsub/cancel",{signal:c.signal,searchParams:toUrlSearchParams({arg:o,...c}),headers:c.headers});return objectToCamel(await d.json())}return e}),createState=configure(a=>{async function e(o={}){const c=await a.post("name/pubsub/state",{signal:o.signal,searchParams:toUrlSearchParams(o),headers:o.headers});return objectToCamel(await c.json())}return e}),createSubs=configure(a=>{async function e(o={}){return(await(await a.post("name/pubsub/subs",{signal:o.signal,searchParams:toUrlSearchParams(o),headers:o.headers})).json()).Strings||[]}return e});function createPubsub$1(a){return{cancel:createCancel(a),state:createState(a),subs:createSubs(a)}}function createName(a){return{publish:createPublish$1(a),resolve:createResolve$1(a),pubsub:createPubsub$1(a)}}const createData=configure(a=>{async function e(o,c={}){const h=await(await a.post("object/data",{signal:c.signal,searchParams:toUrlSearchParams({arg:`${o instanceof Uint8Array?CID$2.decode(o):o}`,...c}),headers:c.headers})).arrayBuffer();return new Uint8Array(h,0,h.byteLength)}return e}),createGet$1=configure(a=>{async function e(o,c={}){const h=await(await a.post("object/get",{signal:c.signal,searchParams:toUrlSearchParams({arg:`${o instanceof Uint8Array?CID$2.decode(o):o}`,dataEncoding:"base64",...c}),headers:c.headers})).json();return{Data:fromString(h.Data,"base64pad"),Links:(h.Links||[]).map(et=>({Name:et.Name,Hash:CID$2.parse(et.Hash),Tsize:et.Size}))}}return e}),createLinks=configure(a=>{async function e(o,c={}){return((await(await a.post("object/links",{signal:c.signal,searchParams:toUrlSearchParams({arg:`${o instanceof Uint8Array?CID$2.decode(o):o}`,...c}),headers:c.headers})).json()).Links||[]).map(et=>({Name:et.Name,Tsize:et.Size,Hash:CID$2.parse(et.Hash)}))}return e}),createNew=configure(a=>{async function e(o={}){const c=await a.post("object/new",{signal:o.signal,searchParams:toUrlSearchParams({arg:o.template,...o}),headers:o.headers}),{Hash:d}=await c.json();return CID$2.parse(d)}return e}),createPut=(a,e)=>configure(c=>{const d=createPut$2(a,e);async function h(et,tt={}){return d(et,{...tt,storeCodec:"dag-pb",hashAlg:"sha2-256",version:1})}return h})(e),createStat$1=configure(a=>{async function e(o,c={}){const h=await(await a.post("object/stat",{signal:c.signal,searchParams:toUrlSearchParams({arg:`${o}`,...c}),headers:c.headers})).json();return{...h,Hash:CID$2.parse(h.Hash)}}return e}),createAddLink=configure(a=>{async function e(o,c,d={}){const h=await a.post("object/patch/add-link",{signal:d.signal,searchParams:toUrlSearchParams({arg:[`${o}`,c.Name||c.name||"",(c.Hash||c.cid||"").toString()||null],...d}),headers:d.headers}),{Hash:et}=await h.json();return CID$2.parse(et)}return e}),createAppendData=configure(a=>{async function e(o,c,d={}){const h=new AbortController,et=abortSignal(h.signal,d.signal),tt=await a.post("object/patch/append-data",{signal:et,searchParams:toUrlSearchParams({arg:`${o}`,...d}),...await multipartRequest([c],h,d.headers)}),{Hash:ot}=await tt.json();return CID$2.parse(ot)}return e}),createRmLink=configure(a=>{async function e(o,c,d={}){const h=await a.post("object/patch/rm-link",{signal:d.signal,searchParams:toUrlSearchParams({arg:[`${o}`,c.Name||c.name||null],...d}),headers:d.headers}),{Hash:et}=await h.json();return CID$2.parse(et)}return e}),createSetData=configure(a=>{async function e(o,c,d={}){const h=new AbortController,et=abortSignal(h.signal,d.signal),tt=await a.post("object/patch/set-data",{signal:et,searchParams:toUrlSearchParams({arg:[`${o}`],...d}),...await multipartRequest([c],h,d.headers)}),{Hash:ot}=await tt.json();return CID$2.parse(ot)}return e});function createPatch(a){return{addLink:createAddLink(a),appendData:createAppendData(a),rmLink:createRmLink(a),setData:createSetData(a)}}function createObject(a,e){return{data:createData(e),get:createGet$1(e),links:createLinks(e),new:createNew(e),put:createPut(a,e),stat:createStat$1(e),patch:createPatch(e)}}function isIterable(a){return Symbol.iterator in a}function isAsyncIterable(a){return Symbol.asyncIterator in a}function isCID(a){return CID$1.asCID(a)!=null}async function*normaliseInput$1(a){if(a==null)throw errCode$1(new Error(`Unexpected input: ${a}`),"ERR_UNEXPECTED_INPUT");const e=CID$1.asCID(a);if(e){yield toPin$1({cid:e});return}if(a instanceof String||typeof a=="string"){yield toPin$1({path:a});return}if(a.cid!=null||a.path!=null)return yield toPin$1(a);if(isIterable(a)){const o=a[Symbol.iterator](),c=o.next();if(c.done)return o;if(isCID(c.value)){yield toPin$1({cid:c.value});for(const d of o)yield toPin$1({cid:d});return}if(c.value instanceof String||typeof c.value=="string"){yield toPin$1({path:c.value});for(const d of o)yield toPin$1({path:d});return}if(c.value.cid!=null||c.value.path!=null){yield toPin$1(c.value);for(const d of o)yield toPin$1(d);return}throw errCode$1(new Error("Unexpected input: "+typeof a),"ERR_UNEXPECTED_INPUT")}if(isAsyncIterable(a)){const o=a[Symbol.asyncIterator](),c=await o.next();if(c.done)return o;if(isCID(c.value)){yield toPin$1({cid:c.value});for await(const d of o)yield toPin$1({cid:d});return}if(c.value instanceof String||typeof c.value=="string"){yield toPin$1({path:c.value});for await(const d of o)yield toPin$1({path:d});return}if(c.value.cid!=null||c.value.path!=null){yield toPin$1(c.value);for await(const d of o)yield toPin$1(d);return}throw errCode$1(new Error("Unexpected input: "+typeof a),"ERR_UNEXPECTED_INPUT")}throw errCode$1(new Error("Unexpected input: "+typeof a),"ERR_UNEXPECTED_INPUT")}function toPin$1(a){const e=a.cid||`${a.path}`;if(!e)throw errCode$1(new Error("Unexpected input: Please path either a CID or an IPFS path"),"ERR_UNEXPECTED_INPUT");const o={path:e,recursive:a.recursive!==!1};return a.metadata!=null&&(o.metadata=a.metadata),o}const createAddAll$1=configure(a=>{async function*e(o,c={}){for await(const{path:d,recursive:h,metadata:et}of normaliseInput$1(o)){const tt=await a.post("pin/add",{signal:c.signal,searchParams:toUrlSearchParams({...c,arg:d,recursive:h,metadata:et?JSON.stringify(et):void 0,stream:!0}),headers:c.headers});for await(const ot of tt.ndjson()){if(ot.Pins){for(const ft of ot.Pins)yield CID$2.parse(ft);continue}yield CID$2.parse(ot)}}}return e});function createAdd$3(a){const e=createAddAll$1(a);return configure(()=>{async function o(c,d={}){return last(e([{path:c,...d}],d))}return o})(a)}function toPin(a,e,o){const c={type:a,cid:CID$2.parse(e)};return o&&(c.metadata=o),c}const createLs$4=configure(a=>{async function*e(o={}){let c=[];o.paths&&(c=Array.isArray(o.paths)?o.paths:[o.paths]);const d=await a.post("pin/ls",{signal:o.signal,searchParams:toUrlSearchParams({...o,arg:c.map(h=>`${h}`),stream:!0}),headers:o.headers});for await(const h of d.ndjson()){if(h.Keys){for(const et of Object.keys(h.Keys))yield toPin(h.Keys[et].Type,et,h.Keys[et].Metadata);return}yield toPin(h.Type,h.Cid,h.Metadata)}}return e}),createRmAll$1=configure(a=>{async function*e(o,c={}){for await(const{path:d,recursive:h}of normaliseInput$1(o)){const et=new URLSearchParams(c.searchParams);et.append("arg",`${d}`),h!=null&&et.set("recursive",String(h));const tt=await a.post("pin/rm",{signal:c.signal,headers:c.headers,searchParams:toUrlSearchParams({...c,arg:`${d}`,recursive:h})});for await(const ot of tt.ndjson()){if(ot.Pins){yield*ot.Pins.map(ft=>CID$2.parse(ft));continue}yield CID$2.parse(ot)}}}return e}),createRm$2=a=>{const e=createRmAll$1(a);return configure(()=>{async function o(c,d={}){return last(e([{path:c,...d}],d))}return o})(a)},decodePin=({Name:a,Status:e,Cid:o})=>({cid:CID$2.parse(o),name:a,status:e}),encodeService=a=>{if(typeof a=="string"&&a!=="")return a;throw new TypeError("service name must be passed")},encodeCID=a=>{if(CID$2.asCID(a))return a.toString();throw new TypeError(`CID instance expected instead of ${typeof a}`)},encodeQuery=({service:a,cid:e,name:o,status:c,all:d})=>{const h=toUrlSearchParams({service:encodeService(a),name:o,force:d?!0:void 0});if(e)for(const et of e)h.append("cid",encodeCID(et));if(c)for(const et of c)h.append("status",et);return h},encodeAddParams=({cid:a,service:e,background:o,name:c,origins:d})=>{const h=toUrlSearchParams({arg:encodeCID(a),service:encodeService(e),name:c,background:o?!0:void 0});if(d)for(const et of d)h.append("origin",et.toString());return h};function createAdd$2(a){async function e(o,{timeout:c,signal:d,headers:h,...et}){const tt=await a.post("pin/remote/add",{timeout:c,signal:d,headers:h,searchParams:encodeAddParams({cid:o,...et})});return decodePin(await tt.json())}return e}function createLs$3(a){async function*e({timeout:o,signal:c,headers:d,...h}){const et=await a.post("pin/remote/ls",{timeout:o,signal:c,headers:d,searchParams:encodeQuery(h)});for await(const tt of et.ndjson())yield decodePin(tt)}return e}function createRm$1(a){async function e({timeout:o,signal:c,headers:d,...h}){await a.post("pin/remote/rm",{timeout:o,signal:c,headers:d,searchParams:encodeQuery({...h,all:!1})})}return e}function createRmAll(a){async function e({timeout:o,signal:c,headers:d,...h}){await a.post("pin/remote/rm",{timeout:o,signal:c,headers:d,searchParams:encodeQuery({...h,all:!0})})}return e}function encodeEndpoint(a){const e=String(a);if(e==="undefined")throw Error("endpoint is required");return e[e.length-1]==="/"?e.slice(0,-1):e}function decodeRemoteService(a){return{service:a.Service,endpoint:new URL(a.ApiEndpoint),...a.Stat&&{stat:decodeStat(a.Stat)}}}function decodeStat(a){switch(a.Status){case"valid":{const{Pinning:e,Pinned:o,Queued:c,Failed:d}=a.PinCount;return{status:"valid",pinCount:{queued:c,pinning:e,pinned:o,failed:d}}}case"invalid":return{status:"invalid"};default:return{status:a.Status}}}function createAdd$1(a){async function e(o,c){const{endpoint:d,key:h,headers:et,timeout:tt,signal:ot}=c;await a.post("pin/remote/service/add",{timeout:tt,signal:ot,searchParams:toUrlSearchParams({arg:[o,encodeEndpoint(d),h]}),headers:et})}return e}function createLs$2(a){async function e(o={}){const{stat:c,headers:d,timeout:h,signal:et}=o,tt=await a.post("pin/remote/service/ls",{timeout:h,signal:et,headers:d,searchParams:c===!0?toUrlSearchParams({stat:c}):void 0}),{RemoteServices:ot}=await tt.json();return ot.map(decodeRemoteService)}return e}function createRm(a){async function e(o,c={}){await a.post("pin/remote/service/rm",{signal:c.signal,headers:c.headers,searchParams:toUrlSearchParams({arg:o})})}return e}function createService(a){const e=new Client(a);return{add:createAdd$1(e),ls:createLs$2(e),rm:createRm(e)}}function createRemote(a){const e=new Client(a);return{add:createAdd$2(e),ls:createLs$3(e),rm:createRm$1(e),rmAll:createRmAll(e),service:createService(a)}}function createPin(a){return{addAll:createAddAll$1(a),add:createAdd$3(a),ls:createLs$4(a),rmAll:createRmAll$1(a),rm:createRm$2(a),remote:createRemote(a)}}const rpcArrayToTextArray=a=>Array.isArray(a)?a.map(rpcToText):a,rpcToText=a=>toString(rpcToBytes(a)),rpcToBytes=a=>base64url$4.decode(a),rpcToBigInt=a=>BigInt(`0x${toString(base64url$4.decode(a),"base16")}`),textToUrlSafeRpc=a=>base64url$4.encode(fromString(a)),createLs$1=configure(a=>{async function e(o={}){const{Strings:c}=await(await a.post("pubsub/ls",{signal:o.signal,searchParams:toUrlSearchParams(o),headers:o.headers})).json();return rpcArrayToTextArray(c)||[]}return e}),createPeers$1=configure(a=>{async function e(o,c={}){const d=await a.post("pubsub/peers",{signal:c.signal,searchParams:toUrlSearchParams({arg:textToUrlSafeRpc(o),...c}),headers:c.headers}),{Strings:h}=await d.json();return h||[]}return e}),createPublish=configure(a=>{async function e(o,c,d={}){const h=toUrlSearchParams({arg:textToUrlSafeRpc(o),...d}),et=new AbortController,tt=abortSignal(et.signal,d.signal);await(await a.post("pubsub/pub",{signal:tt,searchParams:h,...await multipartRequest([c],et,d.headers)})).text()}return e}),log=logger$1("js-kubo-rpc-client:pubsub:subscribe"),createSubscribe=(a,e)=>configure(o=>{async function c(d,h,et={}){et.signal=e.subscribe(d,h,et.signal);let tt,ot;const ft=new Promise((yt,gt)=>{tt=yt,ot=gt}),ht=setTimeout(()=>tt(),1e3);return o.post("pubsub/sub",{signal:et.signal,searchParams:toUrlSearchParams({arg:textToUrlSafeRpc(d),...et}),headers:et.headers}).catch(yt=>{e.unsubscribe(d,h),ot(yt)}).then(yt=>{clearTimeout(ht),yt&&(readMessages(yt,{onMessage:gt=>{if(h){if(typeof h=="function"){h(gt);return}typeof h.handleEvent=="function"&&h.handleEvent(gt)}},onEnd:()=>e.unsubscribe(d,h),onError:et.onError}),tt())}),ft}return c})(a);async function readMessages(a,{onMessage:e,onEnd:o,onError:c}){c=c||log;try{for await(const d of a.ndjson())try{if(!d.from)continue;d.from!=null&&d.seqno!=null?e({type:"signed",from:peerIdFromString(d.from),data:rpcToBytes(d.data),sequenceNumber:rpcToBigInt(d.seqno),topic:rpcToText(d.topicIDs[0]),key:rpcToBytes(d.key??"u"),signature:rpcToBytes(d.signature??"u")}):e({type:"unsigned",data:rpcToBytes(d.data),topic:rpcToText(d.topicIDs[0])})}catch(h){h.message=`Failed to parse pubsub message: ${h.message}`,c(h,!1,d)}}catch(d){isAbortError(d)||c(d,!0)}finally{o()}}const isAbortError=a=>{switch(a.type){case"aborted":return!0;case"abort":return!0;default:return a.name==="AbortError"}},createUnsubscribe=(a,e)=>{async function o(c,d){e.unsubscribe(c,d)}return o};class SubscriptionTracker{constructor(){this._subs=new Map}subscribe(e,o,c){const d=this._subs.get(e)||[];if(d.find(et=>et.handler===o))throw new Error(`Already subscribed to ${e} with this handler`);const h=new AbortController;return this._subs.set(e,[{handler:o,controller:h}].concat(d)),c&&c.addEventListener("abort",()=>this.unsubscribe(e,o)),h.signal}unsubscribe(e,o){const c=this._subs.get(e)||[];let d;o?(this._subs.set(e,c.filter(h=>h.handler!==o)),d=c.filter(h=>h.handler===o)):(this._subs.set(e,[]),d=c),(this._subs.get(e)||[]).length||this._subs.delete(e),d.forEach(h=>h.controller.abort())}}function createPubsub(a){const e=new SubscriptionTracker;return{ls:createLs$1(a),peers:createPeers$1(a),publish:createPublish(a),subscribe:createSubscribe(a,e),unsubscribe:createUnsubscribe(a,e)}}const createLocal=configure(a=>{async function*e(o={}){yield*(await a.post("refs/local",{signal:o.signal,transform:objectToCamel,searchParams:toUrlSearchParams(o),headers:o.headers})).ndjson()}return e}),createRefs=configure((a,e)=>Object.assign(async function*(c,d={}){const h=Array.isArray(c)?c:[c];yield*(await a.post("refs",{signal:d.signal,searchParams:toUrlSearchParams({arg:h.map(tt=>`${tt instanceof Uint8Array?CID$2.decode(tt):tt}`),...d}),headers:d.headers,transform:objectToCamel})).ndjson()},{local:createLocal(e)})),createGc=configure(a=>{async function*e(o={}){yield*(await a.post("repo/gc",{signal:o.signal,searchParams:toUrlSearchParams(o),headers:o.headers,transform:d=>({err:d.Error?new Error(d.Error):null,cid:(d.Key||{})["/"]?CID$2.parse(d.Key["/"]):null})})).ndjson()}return e}),createStat=configure(a=>{async function e(o={}){const d=await(await a.post("repo/stat",{signal:o.signal,searchParams:toUrlSearchParams(o),headers:o.headers})).json();return{numObjects:BigInt(d.NumObjects),repoSize:BigInt(d.RepoSize),repoPath:d.RepoPath,version:d.Version,storageMax:BigInt(d.StorageMax)}}return e}),createVersion$1=configure(a=>{async function e(o={}){return(await(await a.post("repo/version",{signal:o.signal,searchParams:toUrlSearchParams(o),headers:o.headers})).json()).Version}return e});function createRepo(a){return{gc:createGc(a),stat:createStat(a),version:createVersion$1(a)}}const createBw=configure(a=>{async function*e(o={}){yield*(await a.post("stats/bw",{signal:o.signal,searchParams:toUrlSearchParams(o),headers:o.headers,transform:d=>({totalIn:BigInt(d.TotalIn),totalOut:BigInt(d.TotalOut),rateIn:parseFloat(d.RateIn),rateOut:parseFloat(d.RateOut)})})).ndjson()}return e});function createStats(a){return{bitswap:createStat$4(a),repo:createStat(a),bw:createBw(a)}}const createAddrs=configure(a=>{async function e(o={}){const c=await a.post("swarm/addrs",{signal:o.signal,searchParams:toUrlSearchParams(o),headers:o.headers}),{Addrs:d}=await c.json();return Object.keys(d).map(h=>({id:peerIdFromString(h),addrs:(d[h]||[]).map(et=>multiaddr$1(et))}))}return e}),createConnect=configure(a=>{async function e(o,c={}){const d=await a.post("swarm/connect",{signal:c.signal,searchParams:toUrlSearchParams({arg:o,...c}),headers:c.headers}),{Strings:h}=await d.json();return h||[]}return e}),createDisconnect=configure(a=>{async function e(o,c={}){const d=await a.post("swarm/disconnect",{signal:c.signal,searchParams:toUrlSearchParams({arg:o,...c}),headers:c.headers}),{Strings:h}=await d.json();return h||[]}return e}),createLocalAddrs=configure(a=>{async function e(o={}){const c=await a.post("swarm/addrs/local",{signal:o.signal,searchParams:toUrlSearchParams(o),headers:o.headers}),{Strings:d}=await c.json();return(d||[]).map(h=>multiaddr$1(h))}return e}),createPeers=configure(a=>{async function e(o={}){const c=await a.post("swarm/peers",{signal:o.signal,searchParams:toUrlSearchParams(o),headers:o.headers}),{Peers:d}=await c.json();return(d||[]).map(h=>({addr:multiaddr$1(h.Addr),peer:peerIdFromString(h.Peer),muxer:h.Muxer,latency:h.Latency,streams:h.Streams,direction:h.Direction==null?void 0:h.Direction===0?"inbound":"outbound"}))}return e});function createSwarm(a){return{addrs:createAddrs(a),connect:createConnect(a),disconnect:createDisconnect(a),localAddrs:createLocalAddrs(a),peers:createPeers(a)}}const createAddAll=configure(a=>{async function*e(o,c={}){const d=new AbortController,h=abortSignal(d.signal,c.signal),{headers:et,body:tt,total:ot,parts:ft}=await multipartRequest(o,d,c.headers),[ht,yt]=typeof c.progress=="function"?createProgressHandler(ot,ft,c.progress):[void 0,void 0],gt=await a.post("add",{searchParams:toUrlSearchParams({"stream-channels":!0,...c,progress:!!ht}),onUploadProgress:yt,signal:h,headers:et,body:tt});for await(let wt of gt.ndjson())wt=objectToCamel(wt),wt.hash!==void 0?yield toCoreInterface(wt):ht&&ht(wt.bytes||0,wt.name)}return e}),createProgressHandler=(a,e,o)=>e?[void 0,createOnUploadProgress(a,e,o)]:[o,void 0],createOnUploadProgress=(a,e,o)=>{let c=0;const d=e.length;return({loaded:h,total:et})=>{const tt=Math.floor(h/et*a);for(;c<d;){const{start:ot,end:ft,name:ht}=e[c];if(tt<ft){o(tt-ot,ht);break}else o(ft-ot,ht),c+=1}}};function toCoreInterface({name:a,hash:e,size:o,mode:c,mtime:d,mtimeNsecs:h}){const et={path:a,cid:CID$2.parse(e),size:parseInt(o)};return c!=null&&(et.mode=parseInt(c,8)),d!=null&&(et.mtime={secs:d,nsecs:h||0}),et}function blobToIt(a){return typeof a.stream=="function"?browserReadableStreamToIt(a.stream()):browserReadableStreamToIt(new Response(a).body)}async function*toAsyncIterable(a){yield a}async function normaliseContent(a){if(isBytes(a))return toAsyncIterable(toBytes(a));if(typeof a=="string"||a instanceof String)return toAsyncIterable(toBytes(a.toString()));if(isBlob(a))return blobToIt(a);if(isReadableStream(a)&&(a=browserReadableStreamToIt(a)),Symbol.iterator in a||Symbol.asyncIterator in a){const e=peekableIterator(a),{value:o,done:c}=await e.peek();if(c)return toAsyncIterable(new Uint8Array(0));if(e.push(o),Number.isInteger(o))return toAsyncIterable(Uint8Array.from(await all(e)));if(isBytes(o)||typeof o=="string"||o instanceof String)return map(e,toBytes)}throw errCode$1(new Error(`Unexpected input: ${a}`),"ERR_UNEXPECTED_INPUT")}function toBytes(a){return a instanceof Uint8Array?a:ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):a instanceof ArrayBuffer?new Uint8Array(a):Array.isArray(a)?Uint8Array.from(a):fromString$4(a.toString())}async function*normaliseCandidateSingle(a,e){if(a==null)throw errCode$1(new Error(`Unexpected input: ${a}`),"ERR_UNEXPECTED_INPUT");if(typeof a=="string"||a instanceof String){yield toFileObject(a.toString(),e);return}if(isBytes(a)||isBlob(a)){yield toFileObject(a,e);return}if(isReadableStream(a)&&(a=browserReadableStreamToIt(a)),Symbol.iterator in a||Symbol.asyncIterator in a){const o=peekableIterator(a),{value:c,done:d}=await o.peek();if(d){yield{content:[]};return}if(o.push(c),Number.isInteger(c)||isBytes(c)||typeof c=="string"||c instanceof String){yield toFileObject(o,e);return}throw errCode$1(new Error("Unexpected input: multiple items passed - if you are using ipfs.add, please use ipfs.addAll instead"),"ERR_UNEXPECTED_INPUT")}if(isFileObject(a)){yield toFileObject(a,e);return}throw errCode$1(new Error('Unexpected input: cannot convert "'+typeof a+'" into ImportCandidate'),"ERR_UNEXPECTED_INPUT")}async function toFileObject(a,e){const{path:o,mode:c,mtime:d,content:h}=a,et={path:o||"",mode:parseMode(c),mtime:parseMtime(d)};return h?et.content=await e(h):o||(et.content=await e(a)),et}function normaliseInput(a){return normaliseCandidateSingle(a,normaliseContent)}function createAdd(a){const e=createAddAll(a);return configure(()=>{async function o(c,d={}){const h=normaliseInput(c),et=e(h,d);return await last(et)}return o})(a)}const createCat=configure(a=>{async function*e(o,c={}){yield*(await a.post("cat",{signal:c.signal,searchParams:toUrlSearchParams({arg:o.toString(),...c}),headers:c.headers})).iterator()}return e}),createCommands=configure(a=>async(o={})=>(await a.post("commands",{signal:o.signal,searchParams:toUrlSearchParams(o),headers:o.headers})).json()),createDns=configure(a=>async(o,c={})=>(await(await a.post("dns",{signal:c.signal,searchParams:toUrlSearchParams({arg:o,...c}),headers:c.headers})).json()).Path),createGetEndpointConfig=configure(a=>()=>{const e=new URL(a.opts.base||"");return{host:e.hostname,port:e.port,protocol:e.protocol,pathname:e.pathname,"api-path":e.pathname}}),createGet=configure(a=>{async function*e(o,c={}){const d={arg:`${o instanceof Uint8Array?CID$2.decode(o):o}`,...c};d.compressionLevel&&(d["compression-level"]=d.compressionLevel,delete d.compressionLevel),yield*(await a.post("get",{signal:c.signal,searchParams:toUrlSearchParams(d),headers:c.headers})).iterator()}return e}),createId=configure(a=>{async function e(o={}){const d=await(await a.post("id",{signal:o.signal,searchParams:toUrlSearchParams({arg:o.peerId?o.peerId.toString():void 0,...o}),headers:o.headers})).json(),h={...objectToCamel(d)};return h.id=peerIdFromString(h.id),h.addresses&&(h.addresses=h.addresses.map(et=>multiaddr$1(et))),h}return e}),createIsOnline=a=>{const e=createId(a);async function o(c={}){const d=await e(c);return!!(d&&d.addresses&&d.addresses.length)}return o},createLs=configure((a,e)=>{async function*o(c,d={}){const h=`${c instanceof Uint8Array?CID$2.decode(c):c}`;async function et(ot){let ft=ot.Hash;if(ft.includes("/")){const yt=ft.startsWith("/ipfs/")?ft:`/ipfs/${ft}`;ft=(await createStat$2(e)(yt)).cid}else ft=CID$2.parse(ft);const ht={name:ot.Name,path:h+(ot.Name?`/${ot.Name}`:""),size:ot.Size,cid:ft,type:typeOf(ot)};return ot.Mode&&(ht.mode=parseInt(ot.Mode,8)),ot.Mtime!==void 0&&ot.Mtime!==null&&(ht.mtime={secs:ot.Mtime},ot.MtimeNsecs!==void 0&&ot.MtimeNsecs!==null&&(ht.mtime.nsecs=ot.MtimeNsecs)),ht}const tt=await a.post("ls",{signal:d.signal,searchParams:toUrlSearchParams({arg:h,...d}),headers:d.headers});for await(let ot of tt.ndjson()){if(ot=ot.Objects,!ot)throw new Error("expected .Objects in results");if(ot=ot[0],!ot)throw new Error("expected one array in results.Objects");const ft=ot.Links;if(!Array.isArray(ft))throw new Error("expected one array in results.Objects[0].Links");if(!ft.length){yield et(ot);return}yield*ft.map(et)}}return o});function typeOf(a){switch(a.Type){case 1:case 5:return"dir";case 2:return"file";default:return"file"}}const createMount=configure(a=>{async function e(o={}){const c=await a.post("dns",{signal:o.signal,searchParams:toUrlSearchParams(o),headers:o.headers});return objectToCamel(await c.json())}return e}),createPing=configure(a=>{async function*e(o,c={}){yield*(await a.post("ping",{signal:c.signal,searchParams:toUrlSearchParams({arg:`${o}`,...c}),headers:c.headers,transform:objectToCamel})).ndjson()}return e}),createResolve=configure(a=>{async function e(o,c={}){const d=await a.post("resolve",{signal:c.signal,searchParams:toUrlSearchParams({arg:o,...c}),headers:c.headers}),{Path:h}=await d.json();return h}return e}),createStart=configure(a=>async(o={})=>{throw errCode$1(new Error("Not implemented"),"ERR_NOT_IMPLEMENTED")}),createStop=configure(a=>{async function e(o={}){await(await a.post("shutdown",{signal:o.signal,searchParams:toUrlSearchParams(o),headers:o.headers})).text()}return e}),createVersion=configure(a=>{async function e(o={}){const c=await a.post("version",{signal:o.signal,searchParams:toUrlSearchParams(o),headers:o.headers});return{...objectToCamel(await c.json()),"ipfs-http-client":"1.0.0"}}return e});function create(a={}){const e={name:identity$6.name,code:identity$6.code,encode:ft=>ft,decode:ft=>ft},o=Object.values(bases$4);(a.ipld&&a.ipld.bases?a.ipld.bases:[]).forEach(ft=>o.push(ft));const c=new Multibases({bases:o,loadBase:a.ipld&&a.ipld.loadBase}),d=Object.values(codecs);[dagPB,dagCBOR,dagJSON,dagJOSE,e].concat(a.ipld&&a.ipld.codecs||[]).forEach(ft=>d.push(ft));const h=new Multicodecs({codecs:d,loadCodec:a.ipld&&a.ipld.loadCodec}),et=Object.values(hashes);(a.ipld&&a.ipld.hashers?a.ipld.hashers:[]).forEach(ft=>et.push(ft));const tt=new Multihashes({hashers:et,loadHasher:a.ipld&&a.ipld.loadHasher});return{add:createAdd(a),addAll:createAddAll(a),bitswap:createBitswap(a),block:createBlock(a),bootstrap:createBootstrap(a),cat:createCat(a),commands:createCommands(a),config:createConfig(a),dag:createDag(h,a),dht:createDht(a),diag:createDiag(a),dns:createDns(a),files:createFiles(a),get:createGet(a),getEndpointConfig:createGetEndpointConfig(a),id:createId(a),isOnline:createIsOnline(a),key:createKey$1(a),log:createLog(a),ls:createLs(a),mount:createMount(a),name:createName(a),object:createObject(h,a),pin:createPin(a),ping:createPing(a),pubsub:createPubsub(a),refs:createRefs(a),repo:createRepo(a),resolve:createResolve(a),start:createStart(a),stats:createStats(a),stop:createStop(a),swarm:createSwarm(a),version:createVersion(a),bases:c,codecs:h,hashers:tt}}var __awaiter$4=function(a,e,o,c){function d(h){return h instanceof o?h:new o(function(et){et(h)})}return new(o||(o=Promise))(function(h,et){function tt(ht){try{ft(c.next(ht))}catch(yt){et(yt)}}function ot(ht){try{ft(c.throw(ht))}catch(yt){et(yt)}}function ft(ht){ht.done?h(ht.value):d(ht.value).then(tt,ot)}ft((c=c.apply(a,e||[])).next())})};const add=(a,{ipfsNode:e,ipfsGateway:o}={})=>__awaiter$4(void 0,void 0,void 0,function*(){try{const d=yield create({url:e}).add(a),{cid:h}=d,et=`ipfs/${h.toString()}`,tt=`${o}/${et}`;return yield fetch(tt).then(ot=>{if(!ot.ok)throw Error(`Failed to load uploaded file at ${tt}`)}),h.toString()}catch(c){throw Error(c)}}),debug=Debug("@iexec/dataprotector"),getLogger=a=>{const e=debug.extend(a);return{log:e.extend("info"),error:e.extend("error")}};class SafeObserver{constructor(e){this.isUnsubscribed=!1,this.destination=e}next(e){if(!this.isUnsubscribed&&this.destination.next)try{this.destination.next(e)}catch(o){throw this.unsubscribe(),o}}error(e){if(!this.isUnsubscribed&&this.destination.error){try{this.destination.error(e)}catch(o){throw this.unsubscribe(),o}this.unsubscribe()}}complete(){if(!this.isUnsubscribed&&this.destination.complete){try{this.destination.complete()}catch(e){throw this.unsubscribe(),e}this.unsubscribe()}}unsubscribe(){this.isUnsubscribed=!0,this.unsub&&this.unsub()}}class Observable{constructor(e){this._subscribe=e}subscribe(e,o,c){const d=new SafeObserver(e);return typeof e=="function"?d.destination={next:e,error:o,complete:c}:typeof e=="object"&&(d.destination=e),this._subscribe(d)}}var __awaiter$3=function(a,e,o,c){function d(h){return h instanceof o?h:new o(function(et){et(h)})}return new(o||(o=Promise))(function(h,et){function tt(ht){try{ft(c.next(ht))}catch(yt){et(yt)}}function ot(ht){try{ft(c.throw(ht))}catch(yt){et(yt)}}function ft(ht){ht.done?h(ht.value):d(ht.value).then(tt,ot)}ft((c=c.apply(a,e||[])).next())})};const logger=getLogger("protectDataObservable"),protectDataObservable=({iexec:a=throwIfMissing(),contractAddress:e,data:o,name:c=DEFAULT_DATA_NAME,ipfsNode:d,ipfsGateway:h})=>{const et=stringSchema().label("name").validateSync(c),tt=urlSchema().label("ipfsNode").validateSync(d),ot=urlSchema().label("ipfsGateway").validateSync(h);let ft;try{ensureDataObjectIsValid(o),ft=o}catch(ht){throw new ValidationError(`data is not valid: ${ht.message}`)}return new Observable(ht=>{let yt=!1;const gt=new SafeObserver(ht),wt=()=>__awaiter$3(void 0,void 0,void 0,function*(){var bt;try{if(yt)return;const xt=yield extractDataSchema(ft).catch(Rt=>{throw new WorkflowError("Failed to extract data schema",Rt)});if(gt.next({message:"DATA_SCHEMA_EXTRACTED",schema:xt}),yt)return;let Et;if(yield createZipFromObject(ft).then(Rt=>{Et=Rt,gt.next({message:"ZIP_FILE_CREATED",zipFile:Rt})}).catch(Rt=>{throw new WorkflowError("Failed to serialize data object",Rt)}),yt)return;const vt=a.dataset.generateEncryptionKey();if(gt.next({message:"ENCRYPTION_KEY_CREATED",encryptionKey:vt}),yt)return;const $t=yield a.dataset.encrypt(Et,vt).catch(Rt=>{throw new WorkflowError("Failed to encrypt data",Rt)});if(yt)return;const At=yield a.dataset.computeEncryptedFileChecksum($t).catch(Rt=>{throw new WorkflowError("Failed to compute encrypted data checksum",Rt)});if(yt||(gt.next({message:"FILE_ENCRYPTED",encryptedFile:$t}),yt))return;const kt=yield add($t,{ipfsNode:tt,ipfsGateway:ot}).catch(Rt=>{throw new WorkflowError("Failed to upload encrypted data",Rt)});if(yt)return;const It=`/ipfs/${kt}`;gt.next({message:"ENCRYPTED_FILE_UPLOADED",cid:kt});const{provider:Dt,signer:Mt}=yield a.config.resolveContractsClient(),zt=new Contract(e,ABI,Dt),Kt=multiaddr$1(It).bytes,Yt=yield Mt.getAddress();if(yt)return;gt.next({message:"PROTECTED_DATA_DEPLOYMENT_REQUEST",owner:Yt,name:et,schema:xt});const er=yield zt.connect(Mt).createDatasetWithSchema(Yt,et,JSON.stringify(xt),Kt,At).then(Rt=>Rt.wait()).catch(Rt=>{throw new WorkflowError("Failed to create protected data smart contract",Rt)}),qt=(bt=er.logs.find(({eventName:Rt})=>Rt==="DatasetSchema"))===null||bt===void 0?void 0:bt.args[0],Ft=er.hash,Tt=(yield Dt.getBlock(er.blockNumber)).timestamp;if(yt||(gt.next({message:"PROTECTED_DATA_DEPLOYMENT_SUCCESS",address:qt,owner:Yt,creationTimestamp:Tt,txHash:Ft}),gt.next({message:"PUSH_SECRET_TO_SMS_REQUEST",teeFramework:"scone"}),yield a.dataset.pushDatasetSecret(qt,vt,{teeFramework:"scone"}).catch(Rt=>{throw new WorkflowError("Failed to push protected data encryption key",Rt)}),yt))return;gt.next({message:"PUSH_SECRET_TO_SMS_SUCCESS",teeFramework:"scone"}),gt.complete()}catch(xt){if(logger.log(xt),yt)return;xt instanceof WorkflowError?gt.error(xt):gt.error(new WorkflowError("Protect data unexpected error",xt))}});return gt.unsub=()=>{yt=!0},wt(),gt.unsubscribe.bind(gt)})},protectData=({iexec:a=throwIfMissing(),contractAddress:e,data:o,name:c=DEFAULT_DATA_NAME,ipfsNode:d,ipfsGateway:h})=>{let et,tt,ot,ft,ht,yt,gt;return new Promise((wt,bt)=>{try{protectDataObservable({iexec:a,contractAddress:e,data:o,name:c,ipfsNode:d,ipfsGateway:h}).subscribe(xt=>{const{message:Et}=xt;switch(Et){case"DATA_SCHEMA_EXTRACTED":ot=xt.schema;break;case"ZIP_FILE_CREATED":gt=xt.zipFile;break;case"ENCRYPTION_KEY_CREATED":yt=xt.encryptionKey;break;case"PROTECTED_DATA_DEPLOYMENT_SUCCESS":et=xt.address,tt=xt.owner,ft=xt.creationTimestamp,ht=xt.txHash;break;default:}},xt=>bt(xt),()=>wt({name:c,address:et,owner:tt,schema:ot,creationTimestamp:ft,transactionHash:ht,zipFile:gt,encryptionKey:yt}))}catch(xt){bt(xt)}})};var __awaiter$2=function(a,e,o,c){function d(h){return h instanceof o?h:new o(function(et){et(h)})}return new(o||(o=Promise))(function(h,et){function tt(ht){try{ft(c.next(ht))}catch(yt){et(yt)}}function ot(ht){try{ft(c.throw(ht))}catch(yt){et(yt)}}function ft(ht){ht.done?h(ht.value):d(ht.value).then(tt,ot)}ft((c=c.apply(a,e||[])).next())})},__rest=function(a,e){var o={};for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&e.indexOf(c)<0&&(o[c]=a[c]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,c=Object.getOwnPropertySymbols(a);d<c.length;d++)e.indexOf(c[d])<0&&Object.prototype.propertyIsEnumerable.call(a,c[d])&&(o[c[d]]=a[c[d]]);return o};const revokeOneAccess=a=>__awaiter$2(void 0,void 0,void 0,function*(){var{iexec:e=throwIfMissing()}=a,o=__rest(a,["iexec"]);const c=grantedAccessSchema().required("The GrantedAccess is required to be revoked").validateSync(Object.keys(o).length===0?void 0:o);try{const{txHash:d}=yield e.order.cancelDatasetorder(c);return{access:c,txHash:d}}catch(d){throw new WorkflowError("Failed to revoke access",d)}});var __awaiter$1=function(a,e,o,c){function d(h){return h instanceof o?h:new o(function(et){et(h)})}return new(o||(o=Promise))(function(h,et){function tt(ht){try{ft(c.next(ht))}catch(yt){et(yt)}}function ot(ht){try{ft(c.throw(ht))}catch(yt){et(yt)}}function ft(ht){ht.done?h(ht.value):d(ht.value).then(tt,ot)}ft((c=c.apply(a,e||[])).next())})};const revokeAllAccessObservable=({iexec:a=throwIfMissing(),protectedData:e,authorizedApp:o="any",authorizedUser:c="any"})=>{const d=addressOrEnsSchema().required().label("protectedData").validateSync(e),h=addressOrEnsOrAnySchema().required().label("authorizedApp").validateSync(o),et=addressOrEnsOrAnySchema().required().label("authorizedUser").validateSync(c);return new Observable(tt=>{let ot=!1;const ft=new SafeObserver(tt),ht=()=>__awaiter$1(void 0,void 0,void 0,function*(){try{if(ot)return;const{grantedAccess:yt}=yield fetchGrantedAccess({iexec:a,protectedData:d,authorizedApp:h,authorizedUser:et}).catch(gt=>{throw new WorkflowError("Failed to retrieve granted access",gt)});if(ot||(ft.next({message:"GRANTED_ACCESS_RETRIEVED",access:yt}),ot))return;for(const gt of yt)try{ft.next({message:"REVOKE_ONE_ACCESS_REQUEST",access:gt});const{txHash:wt,access:bt}=yield revokeOneAccess(Object.assign({iexec:a},gt));ft.next({message:"REVOKE_ONE_ACCESS_SUCCESS",txHash:wt,access:bt})}catch(wt){throw new WorkflowError("Failed to revoke an access",wt)}ft.complete()}catch(yt){yt instanceof WorkflowError?ft.error(yt):ft.error(new WorkflowError("Revoke access unexpected error",yt))}});return ft.unsub=()=>{ot=!0},ht(),ft.unsubscribe.bind(ft)})};var __awaiter=function(a,e,o,c){function d(h){return h instanceof o?h:new o(function(et){et(h)})}return new(o||(o=Promise))(function(h,et){function tt(ht){try{ft(c.next(ht))}catch(yt){et(yt)}}function ot(ht){try{ft(c.throw(ht))}catch(yt){et(yt)}}function ft(ht){ht.done?h(ht.value):d(ht.value).then(tt,ot)}ft((c=c.apply(a,e||[])).next())})};const transferOwnership=({iexec:a=throwIfMissing(),protectedData:e=throwIfMissing(),newOwner:o=throwIfMissing()})=>__awaiter(void 0,void 0,void 0,function*(){const c=addressOrEnsSchema().required().label("protectedData").validateSync(e),d=addressOrEnsOrAnySchema().required().label("newOwner").validateSync(o);return a.dataset.transferDataset(c,d).catch(h=>{throw new WorkflowError("Failed to transfer protectedData ownership",h)})});class IExecDataProtector{constructor(e,o){this.processProtectedData=c=>processProtectedData(Object.assign(Object.assign({},c),{iexec:this.iexec}));try{this.iexec=new IExec({ethProvider:e},o==null?void 0:o.iexecOptions)}catch(c){throw new Error(`Unsupported ethProvider, ${c.message}`)}try{this.graphQLClient=new GraphQLClient((o==null?void 0:o.subgraphUrl)||DEFAULT_SUBGRAPH_URL)}catch(c){throw new Error(`Failed to create GraphQLClient: ${c.message}`)}this.contractAddress=(o==null?void 0:o.contractAddress)||DEFAULT_CONTRACT_ADDRESS,this.ipfsNode=(o==null?void 0:o.ipfsNode)||DEFAULT_IEXEC_IPFS_NODE,this.ipfsGateway=(o==null?void 0:o.ipfsGateway)||DEFAULT_IPFS_GATEWAY}protectData(e){return protectData(Object.assign(Object.assign({},e),{contractAddress:this.contractAddress,ipfsNode:this.ipfsNode,ipfsGateway:this.ipfsGateway,iexec:this.iexec}))}protectDataObservable(e){return protectDataObservable(Object.assign(Object.assign({},e),{contractAddress:this.contractAddress,ipfsNode:this.ipfsNode,ipfsGateway:this.ipfsGateway,iexec:this.iexec}))}grantAccess(e){return grantAccess(Object.assign(Object.assign({},e),{iexec:this.iexec}))}fetchGrantedAccess(e){return fetchGrantedAccess(Object.assign(Object.assign({},e),{iexec:this.iexec}))}revokeAllAccessObservable(e){return revokeAllAccessObservable(Object.assign(Object.assign({},e),{iexec:this.iexec}))}revokeOneAccess(e){return revokeOneAccess(Object.assign(Object.assign({},e),{iexec:this.iexec}))}fetchProtectedData(e){return fetchProtectedData(Object.assign(Object.assign({},e),{graphQLClient:this.graphQLClient}))}transferOwnership(e){return transferOwnership(Object.assign({iexec:this.iexec},e))}}const UserContext=reactExports.createContext(void 0),STORAGE_KEY="activeStep",dataProtector=new IExecDataProtector(window.ethereum),UserProvider=({children:a})=>{const[e,o]=reactExports.useState(null),[c,d]=reactExports.useState(""),[h,et]=reactExports.useState(!1),[tt,ot]=reactExports.useState(void 0),[ft,ht]=reactExports.useState(!1),[yt,gt]=reactExports.useState(""),[wt,bt]=reactExports.useState(!1),[xt,Et]=reactExports.useState([]),[vt,$t]=reactExports.useState(""),[At,kt]=reactExports.useState(()=>{const Yt=localStorage.getItem(STORAGE_KEY);return Yt?parseInt(Yt,3):1}),It=async Yt=>{bt(!0);try{await dataProtector.grantAccess({protectedData:tt,authorizedUser:Yt,authorizedApp:"web3mail.apps.iexec.eth",numberOfAccess:1}),console.log("Access shared")}catch(er){console.log(er)}finally{bt(!1)}};reactExports.useEffect(()=>{(async()=>{try{const qt=(await dataProtector.fetchProtectedData({owner:tt})).filter(Ft=>Ft.schema&&Ft.schema.email==="string");console.log(qt),Et(qt)}catch(er){console.error("Error Fetching Protected Emails",er)}})()},[tt]);const Dt=reactExports.useCallback(async()=>{try{if(!window.ethereum)throw Error("Please install MetaMask plugin first, visit https://metamask.io/download");ht(!0);const Yt=await window.ethereum.request({method:"eth_requestAccounts"});ot(Yt[0]),localStorage.setItem("accountId",Yt[0]),ht(!1),kt(2)}catch(Yt){ht(!1),console.error(`Error: ${Yt==null?void 0:Yt.message}`)}},[]),Mt=reactExports.useCallback(async(Yt,er)=>{const qt={email:Yt};try{et(!0);const Ft=await dataProtector.protectData({data:qt,name:er});et(!1),kt(3),d(Ft.address),console.log(c)}catch(Ft){et(!1),gt(Ft.message)}},[c]),zt=reactExports.useCallback(async()=>{try{localStorage.clear(),o(null),ot(void 0),kt(1)}catch(Yt){console.error(`Error logging out: ${Yt==null?void 0:Yt.message}`)}},[]),Kt=!!tt;return reactExports.useEffect(()=>{localStorage.getItem("accountId")&&Dt()},[Dt]),jsxRuntimeExports.jsx(UserContext.Provider,{value:{userAddress:e,setUserAddress:o,accountId:tt,setAccountId:ot,isRequestPending:ft,isProtectRequestPending:h,fetchAccounts:Dt,isConnected:Kt,activeStep:At,error:yt,address:c,isGrantingAccess:wt,protectedEmails:xt,selectedEmail:vt,setSelectedEmail:$t,setActiveStep:kt,logOut:zt,protectedDataSubmit:Mt,grantAccess:It},children:a})},useUser=()=>{const a=reactExports.useContext(UserContext);if(!a)throw new Error("useUser must be used within a UserProvider");return a},Logo=({width:a,height:e,className:o})=>jsxRuntimeExports.jsxs("svg",{width:a||"28",height:e||"32",viewBox:"0 0 28 32",fill:"none",className:o,children:[jsxRuntimeExports.jsxs("g",{clipPath:"url(#clip0_400_113)",children:[jsxRuntimeExports.jsx("path",{d:"M13.332 6.36185C12.1819 6.475 11.1215 7.03267 10.3765 7.91609C9.63149 8.79951 9.26082 9.93888 9.34342 11.0915C9.3628 11.3983 9.29693 11.7045 9.15308 11.9762C9.00923 12.2478 8.79303 12.4744 8.52839 12.6308C8.26013 12.7946 7.95169 12.8809 7.63735 12.8799C7.33958 12.8733 7.04861 12.7896 6.79276 12.6371C6.08751 12.1912 5.27075 11.9534 4.43637 11.9509C4.26266 11.9541 4.08927 11.9668 3.91695 11.9889C2.82868 12.16 1.84307 12.73 1.15209 13.588C0.461107 14.446 0.114248 15.5304 0.179076 16.6301C0.243905 17.7299 0.715778 18.7661 1.50278 19.5369C2.28978 20.3078 3.33554 20.758 4.43637 20.8001C4.5774 20.8034 4.7185 20.7971 4.85866 20.7811C5.88741 20.6825 6.8494 20.2276 7.57843 19.4951C8.30746 18.7626 8.75773 17.7985 8.85144 16.7693C8.87045 16.5346 8.87045 16.2987 8.85144 16.064C8.83178 15.757 8.89777 15.4505 9.04204 15.1787C9.18632 14.9069 9.40322 14.6805 9.66858 14.5248C9.93046 14.363 10.2328 14.2788 10.5406 14.282C10.8397 14.2797 11.133 14.364 11.3852 14.5248C12.0962 14.9708 12.9192 15.2058 13.7585 15.2026C13.9315 15.212 14.1049 15.212 14.2779 15.2026C15.3895 15.0568 16.4045 14.4954 17.1188 13.6314C17.8331 12.7674 18.1937 11.6649 18.1278 10.5457C18.062 9.42662 17.5747 8.37397 16.764 7.59966C15.9533 6.82534 14.8795 6.38684 13.7585 6.3724C13.6179 6.36308 13.4768 6.36308 13.3362 6.3724",fill:"#FCD15A"}),jsxRuntimeExports.jsx("path",{d:"M22.6647 11.9636C21.5143 12.0767 20.4535 12.6347 19.7085 13.5186C18.9634 14.4025 18.593 15.5424 18.6762 16.6954C18.6912 16.997 18.625 17.2971 18.4847 17.5645C18.3443 17.8318 18.1348 18.0567 17.878 18.2156L17.859 18.2346C17.591 18.3981 17.2819 18.4817 16.968 18.4753C16.6706 18.4682 16.3799 18.3853 16.1234 18.2346C15.4336 17.7935 14.6345 17.5533 13.8158 17.5407C12.9971 17.5282 12.1911 17.7439 11.4881 18.1637C10.7851 18.5835 10.2129 19.1908 9.83556 19.9175C9.45827 20.6442 9.2908 21.4616 9.35192 22.2781C9.37131 22.5849 9.30543 22.891 9.16159 23.1627C9.01774 23.4344 8.80154 23.6609 8.5369 23.8173C8.26663 23.9842 7.95503 24.072 7.63741 24.0707C7.33964 24.0641 7.04867 23.9804 6.79283 23.8279C6.08757 23.382 5.27082 23.1442 4.43643 23.1417C4.26273 23.1449 4.08933 23.1576 3.91701 23.1797C2.82013 23.3396 1.82293 23.9045 1.12191 24.7632C0.420886 25.6218 0.0668912 26.7119 0.129684 27.8186C0.192477 28.9253 0.667502 29.9683 1.46115 30.7421C2.2548 31.516 3.3095 31.9645 4.41743 31.9993C4.55846 32.0023 4.69953 31.9959 4.83972 31.9803C5.86594 31.8809 6.82493 31.4252 7.5501 30.6923C8.27527 29.9595 8.7208 28.9957 8.80928 27.9685C8.82828 27.7345 8.82828 27.4994 8.80928 27.2654C8.7928 26.9611 8.86031 26.6581 9.00443 26.3896C9.14855 26.1211 9.36372 25.8974 9.62642 25.743L9.64542 25.724C9.91508 25.5612 10.2258 25.4791 10.5407 25.4875C10.8394 25.4857 11.1324 25.5692 11.3853 25.7282C12.09 26.1753 12.9071 26.4132 13.7417 26.4144C13.9085 26.4144 14.0753 26.3976 14.2421 26.3976C15.3823 26.2825 16.4317 25.724 17.164 24.8424C17.8963 23.9608 18.2528 22.8268 18.1567 21.6848C18.1443 21.454 18.1794 21.2231 18.2597 21.0064C18.3401 20.7898 18.4641 20.5919 18.624 20.425C18.7839 20.2582 18.9764 20.1259 19.1895 20.0364C19.4025 19.947 19.6317 19.9021 19.8628 19.9048C20.1615 19.903 20.4545 19.9865 20.7074 20.1455C21.4123 20.5922 22.2293 20.8302 23.0638 20.8317C23.2375 20.8285 23.4109 20.8158 23.5832 20.7937C24.6948 20.648 25.7098 20.0866 26.4241 19.2226C27.1384 18.3585 27.499 17.256 27.4331 16.1369C27.3673 15.0178 26.88 13.9651 26.0693 13.1908C25.2586 12.4165 24.1848 11.978 23.0638 11.9636C22.9286 11.9445 22.7914 11.9445 22.6563 11.9636",fill:"#FCD15A"}),jsxRuntimeExports.jsx("path",{d:"M7.6414 7.79132L7.45348 6.87283H7.47248C7.54788 6.84272 7.6165 6.79788 7.67435 6.74093C7.73219 6.68397 7.77809 6.61604 7.80936 6.54113C7.84062 6.46621 7.85663 6.3858 7.85643 6.30463C7.85623 6.22345 7.83984 6.14312 7.80821 6.06836L8.51977 5.59961C8.55778 5.63762 8.59578 5.65662 8.61479 5.69252L7.7343 7.81243C7.70481 7.8003 7.67329 7.79386 7.6414 7.79343V7.79132ZM7.65829 4.43408L8.36986 4.90283C8.31502 5.05426 8.31502 5.22014 8.36986 5.37157L7.65829 5.83821C7.55024 5.73216 7.40778 5.66832 7.25672 5.65825C7.10566 5.64818 6.95599 5.69254 6.83482 5.78331L6.46109 5.44547C6.52454 5.35204 6.55847 5.2417 6.55847 5.12875C6.55847 5.01581 6.52454 4.90547 6.46109 4.81203L6.83482 4.4742C6.94488 4.55312 7.07539 4.59858 7.21066 4.60511C7.2931 4.6115 7.37593 4.59968 7.45328 4.57049C7.53064 4.5413 7.60063 4.49545 7.65829 4.43619V4.43408ZM5.84243 2.90116L5.95434 2.84415L6.72291 3.63172C6.65941 3.7149 6.61894 3.81334 6.6056 3.91713C6.59226 4.02093 6.6065 4.1264 6.6469 4.22293C6.6659 4.25883 6.6659 4.27783 6.68491 4.31584L6.31751 4.64523C6.21354 4.56489 6.08668 4.51974 5.95533 4.51632C5.82398 4.51291 5.69495 4.5514 5.58694 4.62622L4.9535 3.99278C5.02833 3.88477 5.06682 3.75575 5.0634 3.6244C5.05999 3.49304 5.01484 3.36619 4.9345 3.26222L5.29134 2.85048C5.37323 2.90502 5.4672 2.93872 5.56509 2.94866C5.66298 2.95859 5.76181 2.94446 5.85299 2.90749L5.84243 2.90116ZM7.78287 4.23772C7.81418 4.16263 7.83028 4.08208 7.83021 4.00073C7.83015 3.91938 7.81394 3.83886 7.78251 3.76382C7.75108 3.68879 7.70507 3.62075 7.64714 3.56364C7.5892 3.50653 7.52051 3.46149 7.44503 3.43113H7.41547L7.60339 2.47675C7.64169 2.47977 7.68014 2.47324 7.7153 2.45775L8.57678 4.62622C8.53877 4.64523 8.50288 4.68112 8.46487 4.70013L7.78287 4.23772ZM1.52659 2.54854C1.6026 2.51265 1.82642 2.39863 1.86443 2.21282L2.70901 2.37962C2.70596 2.50607 2.73348 2.63138 2.78925 2.74491L2.02279 3.50292C1.92025 3.43019 1.79799 3.39042 1.67228 3.38891L1.52659 2.54854ZM6.10636 2.67734C6.18303 2.56099 6.22209 2.42389 6.21827 2.28461L7.04385 2.09669C7.07302 2.17015 7.11747 2.23656 7.17426 2.29153C7.23105 2.3465 7.29888 2.38876 7.37324 2.41552L7.19166 3.37835C7.10892 3.38097 7.02674 3.39301 6.94673 3.41424C6.91354 3.42937 6.88234 3.44852 6.85382 3.47125L6.10636 2.67734ZM4.66423 1.19931L5.14987 1.90032C5.04893 2.008 4.98967 2.14813 4.9827 2.29556C4.97574 2.44298 5.02153 2.58807 5.11186 2.70479L4.75714 3.12708C4.66037 3.0729 4.55132 3.04444 4.44042 3.04444C4.32951 3.04444 4.22046 3.0729 4.1237 3.12708L3.80064 2.74491C3.89141 2.62374 3.93578 2.47407 3.9257 2.323C3.91563 2.17194 3.85179 2.02948 3.74574 1.92144L4.20604 1.21832C4.26686 1.23837 4.33003 1.25044 4.39396 1.25421C4.4842 1.25523 4.57356 1.23649 4.65579 1.19931H4.66423ZM1.88343 1.98478V1.87287L3.89566 0.99239C3.93155 1.0304 3.96956 1.08529 4.00757 1.1233L3.53882 1.83487C3.46355 1.80259 3.38256 1.78575 3.30067 1.78533C3.21877 1.78491 3.13762 1.80092 3.06202 1.83242C2.98642 1.86392 2.9179 1.91027 2.86053 1.96871C2.80316 2.02716 2.7581 2.09653 2.72802 2.1727L1.88343 1.98478ZM4.83948 1.0684C4.87136 1.03561 4.89647 0.996872 4.91338 0.954383L6.99318 1.74196V1.87287L6.16971 2.08402C6.13778 2.01004 6.09157 1.94309 6.03372 1.88701C5.97587 1.83092 5.90753 1.7868 5.8326 1.75719C5.75766 1.72757 5.67762 1.71303 5.59706 1.7144C5.5165 1.71577 5.43701 1.73303 5.36313 1.76519H5.34412L4.83948 1.0684ZM4.38974 0.0126688C4.247 0.0150079 4.10943 0.0664722 4.00021 0.158392C3.89098 0.250311 3.81677 0.377069 3.79008 0.51731C3.77103 0.604256 3.77103 0.694297 3.79008 0.781243L1.79686 1.64906C1.77181 1.60659 1.74048 1.56815 1.70395 1.53504C1.58192 1.45415 1.43564 1.41804 1.28998 1.43284C1.14433 1.44764 1.00829 1.51243 0.905019 1.6162C0.801745 1.71998 0.737605 1.85632 0.723508 2.00204C0.709411 2.14777 0.746227 2.29387 0.827695 2.41552C0.846698 2.43452 0.865702 2.45353 0.884705 2.45353C0.384889 3.09734 0.0780967 3.86982 0 4.68112V5.13087C0 6.31806 0.47161 7.45662 1.31108 8.2961C2.15055 9.13557 3.28912 9.60718 4.47631 9.60718C4.62608 9.60361 4.77552 9.59163 4.92394 9.57128C5.75963 9.48182 6.55267 9.15669 7.21066 8.63379C7.21066 8.65279 7.22755 8.65279 7.22755 8.6718C7.32695 8.7712 7.46177 8.82704 7.60234 8.82704C7.74291 8.82704 7.87772 8.7712 7.97712 8.6718C8.07652 8.5724 8.13237 8.43758 8.13237 8.29701C8.13237 8.15644 8.07652 8.02163 7.97712 7.92223C7.95584 7.89923 7.93086 7.87996 7.90322 7.86522L8.7837 5.75375C8.94 5.7859 9.10268 5.75642 9.23775 5.67146C9.37283 5.5865 9.46985 5.45263 9.50855 5.29783C9.54725 5.14302 9.52464 4.97924 9.44544 4.84071C9.36624 4.70219 9.23657 4.59962 9.08353 4.55444H9.06242C9.01372 4.5406 8.96306 4.53489 8.9125 4.53754C8.8744 4.53466 8.83615 4.54044 8.8006 4.55444L7.93912 2.37751C8.02694 2.34474 8.10639 2.29287 8.17174 2.22567C8.2371 2.15847 8.28672 2.0776 8.31703 1.9889C8.34735 1.90019 8.35759 1.80587 8.34704 1.71273C8.33648 1.61958 8.30538 1.52994 8.25599 1.45027C8.20659 1.3706 8.14013 1.30289 8.0614 1.25202C7.98266 1.20114 7.89362 1.16838 7.80069 1.15609C7.70776 1.1438 7.61326 1.15228 7.52401 1.18093C7.43475 1.20959 7.35297 1.25769 7.28456 1.32178C7.19654 1.37199 7.12362 1.44491 7.07342 1.53293L4.99995 0.730568C5.0158 0.651721 5.01568 0.5705 4.99959 0.491701C4.98351 0.412903 4.9518 0.338128 4.90633 0.271794C4.86086 0.205459 4.80256 0.148912 4.73486 0.105493C4.66717 0.0620745 4.59146 0.0326652 4.51221 0.0190032C4.47631 0.0190032 4.4383 0 4.4003 0L4.38974 0.0126688Z",fill:"#FCD15A"})]}),jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsx("clipPath",{id:"clip0_400_113",children:jsxRuntimeExports.jsx("rect",{width:"27.4405",height:"32",fill:"white"})})})]}),Identicon=()=>jsxRuntimeExports.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsxs("g",{clipPath:"url(#clip0_400_253)",children:[jsxRuntimeExports.jsx("mask",{id:"mask0_400_253",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"16",height:"16",children:jsxRuntimeExports.jsx("path",{d:"M16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16C12.4183 16 16 12.4183 16 8Z",fill:"white"})}),jsxRuntimeExports.jsxs("g",{mask:"url(#mask0_400_253)",children:[jsxRuntimeExports.jsx("path",{d:"M16 0H0V16H16V0Z",fill:"#827085"}),jsxRuntimeExports.jsx("path",{d:"M12.0763 18.2392C16.0131 16.2333 17.5783 11.4159 15.5725 7.47922C13.5666 3.5425 8.74921 1.97723 4.8125 3.98309C0.875784 5.98895 -0.689485 10.8064 1.31637 14.7431C3.32223 18.6798 8.13963 20.2451 12.0763 18.2392Z",fill:"#CCFC8E"}),jsxRuntimeExports.jsx("path",{d:"M2.64636 9.88318C2.62323 10.3246 2.83485 10.7602 3.23467 11.0941C3.63448 11.4281 4.18975 11.633 4.77831 11.6639C5.36688 11.6947 5.94052 11.5489 6.37306 11.2586C6.80559 10.9683 7.06158 10.5572 7.08472 10.1158",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M2.51749 8.09616C2.53034 7.85103 2.39172 7.64451 2.20788 7.63488C2.02403 7.62524 1.86459 7.81614 1.85174 8.06127C1.83889 8.30639 1.97751 8.51291 2.16136 8.52255C2.3452 8.53218 2.50465 8.34128 2.51749 8.09616Z",fill:"black"}),jsxRuntimeExports.jsx("path",{d:"M7.84354 8.3753C7.85639 8.13018 7.71777 7.92366 7.53393 7.91402C7.35008 7.90439 7.19064 8.09529 7.17779 8.34041C7.16494 8.58554 7.30356 8.79206 7.48741 8.80169C7.67125 8.81133 7.8307 8.62043 7.84354 8.3753Z",fill:"black"})]})]}),jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsx("clipPath",{id:"clip0_400_253",children:jsxRuntimeExports.jsx("rect",{width:"16",height:"16",fill:"white"})})})]}),LogOut=()=>jsxRuntimeExports.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("path",{d:"M13.3335 14.1667L17.5002 10L13.3335 5.83334",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),jsxRuntimeExports.jsx("path",{d:"M17.5 10H7.5",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),jsxRuntimeExports.jsx("path",{d:"M7.5 17.5H4.16667C3.72464 17.5 3.30072 17.3244 2.98816 17.0118C2.67559 16.6993 2.5 16.2754 2.5 15.8333V4.16667C2.5 3.72464 2.67559 3.30072 2.98816 2.98816C3.30072 2.67559 3.72464 2.5 4.16667 2.5H7.5",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),Add=()=>jsxRuntimeExports.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsxs("g",{clipPath:"url(#clip0_1_788)",children:[jsxRuntimeExports.jsx("path",{d:"M6 11C8.76142 11 11 8.76142 11 6C11 3.23858 8.76142 1 6 1C3.23858 1 1 3.23858 1 6C1 8.76142 3.23858 11 6 11Z",stroke:"#FCD15A",strokeLinecap:"round",strokeLinejoin:"round"}),jsxRuntimeExports.jsx("path",{d:"M6 4V8",stroke:"#FCD15A",strokeLinecap:"round",strokeLinejoin:"round"}),jsxRuntimeExports.jsx("path",{d:"M4 6H8",stroke:"#FCD15A",strokeLinecap:"round",strokeLinejoin:"round"})]}),jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsx("clipPath",{id:"clip0_1_788",children:jsxRuntimeExports.jsx("rect",{width:"12",height:"12",fill:"white"})})})]}),StyledConnectedButton=ut$1.div`
  display: flex;
  background-color: #1d1d24;
  border-radius: 8px;
  gap: 8px;
  padding: 8px 12px 8px 12px;
`,SpanWrapper=ut$1.div`
  display: flex;
  width: 100px;
  span {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    color: var(--yellow-100);
  }
`,ConnectedButton=({accountId:a})=>jsxRuntimeExports.jsxs(StyledConnectedButton,{children:[jsxRuntimeExports.jsx(SpanWrapper,{children:jsxRuntimeExports.jsx("span",{children:a})}),jsxRuntimeExports.jsx(Identicon,{})]}),StyledHeader=ut$1.div`
  background-color: var(--black-50);
  display: flex;
  justify-content: space-between;
  border-bottom: 1px solid var(--black-40);
  padding: 16px 40px 16px 40px;
  /* position: fixed; */
  top: 0;
`,LogoWrapper=ut$1.div`
  display: flex;
  align-items: center;
  gap: 16px;

  span {
    font-family: "Space Mono";
    font-weight: 700;
    color: var(--white-100);
  }
`,Wrapper=ut$1.div`
  display: flex;
  align-items: center;
  gap: 16px;

  button {
    background: transparent;
    padding: 0;
  }
`,Header=()=>{const{accountId:a,isConnected:e,logOut:o}=useUser();return jsxRuntimeExports.jsxs(StyledHeader,{children:[jsxRuntimeExports.jsxs(LogoWrapper,{children:[jsxRuntimeExports.jsx(Logo,{}),jsxRuntimeExports.jsx("span",{children:"Secret Email"})]}),e?jsxRuntimeExports.jsxs(Wrapper,{children:[jsxRuntimeExports.jsx(ConnectedButton,{accountId:a}),jsxRuntimeExports.jsx("button",{onClick:o,children:jsxRuntimeExports.jsx(LogOut,{})})]}):jsxRuntimeExports.jsx(Button,{title:"Connect Wallet"})]})};/**
 * @remix-run/router v1.15.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(a[c]=o[c])}return a},_extends$1.apply(this,arguments)}var Action;(function(a){a.Pop="POP",a.Push="PUSH",a.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createHashHistory(a){a===void 0&&(a={});function e(d,h){let{pathname:et="/",search:tt="",hash:ot=""}=parsePath(d.location.hash.substr(1));return!et.startsWith("/")&&!et.startsWith(".")&&(et="/"+et),createLocation("",{pathname:et,search:tt,hash:ot},h.state&&h.state.usr||null,h.state&&h.state.key||"default")}function o(d,h){let et=d.document.querySelector("base"),tt="";if(et&&et.getAttribute("href")){let ot=d.location.href,ft=ot.indexOf("#");tt=ft===-1?ot:ot.slice(0,ft)}return tt+"#"+(typeof h=="string"?h:createPath(h))}function c(d,h){warning(d.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(h)+")")}return getUrlBasedHistory(e,o,c,a)}function invariant(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function warning(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(a,e){return{usr:a.state,key:a.key,idx:e}}function createLocation(a,e,o,c){return o===void 0&&(o=null),_extends$1({pathname:typeof a=="string"?a:a.pathname,search:"",hash:""},typeof e=="string"?parsePath(e):e,{state:o,key:e&&e.key||c||createKey()})}function createPath(a){let{pathname:e="/",search:o="",hash:c=""}=a;return o&&o!=="?"&&(e+=o.charAt(0)==="?"?o:"?"+o),c&&c!=="#"&&(e+=c.charAt(0)==="#"?c:"#"+c),e}function parsePath(a){let e={};if(a){let o=a.indexOf("#");o>=0&&(e.hash=a.substr(o),a=a.substr(0,o));let c=a.indexOf("?");c>=0&&(e.search=a.substr(c),a=a.substr(0,c)),a&&(e.pathname=a)}return e}function getUrlBasedHistory(a,e,o,c){c===void 0&&(c={});let{window:d=document.defaultView,v5Compat:h=!1}=c,et=d.history,tt=Action.Pop,ot=null,ft=ht();ft==null&&(ft=0,et.replaceState(_extends$1({},et.state,{idx:ft}),""));function ht(){return(et.state||{idx:null}).idx}function yt(){tt=Action.Pop;let Et=ht(),vt=Et==null?null:Et-ft;ft=Et,ot&&ot({action:tt,location:xt.location,delta:vt})}function gt(Et,vt){tt=Action.Push;let $t=createLocation(xt.location,Et,vt);o&&o($t,Et),ft=ht()+1;let At=getHistoryState($t,ft),kt=xt.createHref($t);try{et.pushState(At,"",kt)}catch(It){if(It instanceof DOMException&&It.name==="DataCloneError")throw It;d.location.assign(kt)}h&&ot&&ot({action:tt,location:xt.location,delta:1})}function wt(Et,vt){tt=Action.Replace;let $t=createLocation(xt.location,Et,vt);o&&o($t,Et),ft=ht();let At=getHistoryState($t,ft),kt=xt.createHref($t);et.replaceState(At,"",kt),h&&ot&&ot({action:tt,location:xt.location,delta:0})}function bt(Et){let vt=d.location.origin!=="null"?d.location.origin:d.location.href,$t=typeof Et=="string"?Et:createPath(Et);return $t=$t.replace(/ $/,"%20"),invariant(vt,"No window.location.(origin|href) available to create URL for href: "+$t),new URL($t,vt)}let xt={get action(){return tt},get location(){return a(d,et)},listen(Et){if(ot)throw new Error("A history only accepts one active listener");return d.addEventListener(PopStateEventType,yt),ot=Et,()=>{d.removeEventListener(PopStateEventType,yt),ot=null}},createHref(Et){return e(d,Et)},createURL:bt,encodeLocation(Et){let vt=bt(Et);return{pathname:vt.pathname,search:vt.search,hash:vt.hash}},push:gt,replace:wt,go(Et){return et.go(Et)}};return xt}var ResultType;(function(a){a.data="data",a.deferred="deferred",a.redirect="redirect",a.error="error"})(ResultType||(ResultType={}));function matchRoutes(a,e,o){o===void 0&&(o="/");let c=typeof e=="string"?parsePath(e):e,d=stripBasename(c.pathname||"/",o);if(d==null)return null;let h=flattenRoutes(a);rankRouteBranches(h);let et=null;for(let tt=0;et==null&&tt<h.length;++tt){let ot=decodePath(d);et=matchRouteBranch(h[tt],ot)}return et}function flattenRoutes(a,e,o,c){e===void 0&&(e=[]),o===void 0&&(o=[]),c===void 0&&(c="");let d=(h,et,tt)=>{let ot={relativePath:tt===void 0?h.path||"":tt,caseSensitive:h.caseSensitive===!0,childrenIndex:et,route:h};ot.relativePath.startsWith("/")&&(invariant(ot.relativePath.startsWith(c),'Absolute route path "'+ot.relativePath+'" nested under path '+('"'+c+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),ot.relativePath=ot.relativePath.slice(c.length));let ft=joinPaths([c,ot.relativePath]),ht=o.concat(ot);h.children&&h.children.length>0&&(invariant(h.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+ft+'".')),flattenRoutes(h.children,e,ht,ft)),!(h.path==null&&!h.index)&&e.push({path:ft,score:computeScore(ft,h.index),routesMeta:ht})};return a.forEach((h,et)=>{var tt;if(h.path===""||!((tt=h.path)!=null&&tt.includes("?")))d(h,et);else for(let ot of explodeOptionalSegments(h.path))d(h,et,ot)}),e}function explodeOptionalSegments(a){let e=a.split("/");if(e.length===0)return[];let[o,...c]=e,d=o.endsWith("?"),h=o.replace(/\?$/,"");if(c.length===0)return d?[h,""]:[h];let et=explodeOptionalSegments(c.join("/")),tt=[];return tt.push(...et.map(ot=>ot===""?h:[h,ot].join("/"))),d&&tt.push(...et),tt.map(ot=>a.startsWith("/")&&ot===""?"/":ot)}function rankRouteBranches(a){a.sort((e,o)=>e.score!==o.score?o.score-e.score:compareIndexes(e.routesMeta.map(c=>c.childrenIndex),o.routesMeta.map(c=>c.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=a=>a==="*";function computeScore(a,e){let o=a.split("/"),c=o.length;return o.some(isSplat)&&(c+=splatPenalty),e&&(c+=indexRouteValue),o.filter(d=>!isSplat(d)).reduce((d,h)=>d+(paramRe.test(h)?dynamicSegmentValue:h===""?emptySegmentValue:staticSegmentValue),c)}function compareIndexes(a,e){return a.length===e.length&&a.slice(0,-1).every((c,d)=>c===e[d])?a[a.length-1]-e[e.length-1]:0}function matchRouteBranch(a,e){let{routesMeta:o}=a,c={},d="/",h=[];for(let et=0;et<o.length;++et){let tt=o[et],ot=et===o.length-1,ft=d==="/"?e:e.slice(d.length)||"/",ht=matchPath({path:tt.relativePath,caseSensitive:tt.caseSensitive,end:ot},ft);if(!ht)return null;Object.assign(c,ht.params);let yt=tt.route;h.push({params:c,pathname:joinPaths([d,ht.pathname]),pathnameBase:normalizePathname(joinPaths([d,ht.pathnameBase])),route:yt}),ht.pathnameBase!=="/"&&(d=joinPaths([d,ht.pathnameBase]))}return h}function matchPath(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[o,c]=compilePath(a.path,a.caseSensitive,a.end),d=e.match(o);if(!d)return null;let h=d[0],et=h.replace(/(.)\/+$/,"$1"),tt=d.slice(1);return{params:c.reduce((ft,ht,yt)=>{let{paramName:gt,isOptional:wt}=ht;if(gt==="*"){let xt=tt[yt]||"";et=h.slice(0,h.length-xt.length).replace(/(.)\/+$/,"$1")}const bt=tt[yt];return wt&&!bt?ft[gt]=void 0:ft[gt]=(bt||"").replace(/%2F/g,"/"),ft},{}),pathname:h,pathnameBase:et,pattern:a}}function compilePath(a,e,o){e===void 0&&(e=!1),o===void 0&&(o=!0),warning(a==="*"||!a.endsWith("*")||a.endsWith("/*"),'Route path "'+a+'" will be treated as if it were '+('"'+a.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+a.replace(/\*$/,"/*")+'".'));let c=[],d="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(et,tt,ot)=>(c.push({paramName:tt,isOptional:ot!=null}),ot?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(c.push({paramName:"*"}),d+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?d+="\\/*$":a!==""&&a!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,e?void 0:"i"),c]}function decodePath(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return warning(!1,'The URL path "'+a+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),a}}function stripBasename(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let o=e.endsWith("/")?e.length-1:e.length,c=a.charAt(o);return c&&c!=="/"?null:a.slice(o)||"/"}const joinPaths=a=>a.join("/").replace(/\/\/+/g,"/"),normalizePathname=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/");function isRouteErrorResponse(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.22.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(a[c]=o[c])}return a},_extends.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useRoutes(a,e){return useRoutesImpl(a,e)}function useRoutesImpl(a,e,o,c){useInRouterContext()||invariant(!1);let{navigator:d}=reactExports.useContext(NavigationContext),{matches:h}=reactExports.useContext(RouteContext),et=h[h.length-1],tt=et?et.params:{};et&&et.pathname;let ot=et?et.pathnameBase:"/";et&&et.route;let ft=useLocation(),ht;if(e){var yt;let Et=typeof e=="string"?parsePath(e):e;ot==="/"||(yt=Et.pathname)!=null&&yt.startsWith(ot)||invariant(!1),ht=Et}else ht=ft;let gt=ht.pathname||"/",wt=gt;if(ot!=="/"){let Et=ot.replace(/^\//,"").split("/");wt="/"+gt.replace(/^\//,"").split("/").slice(Et.length).join("/")}let bt=matchRoutes(a,{pathname:wt}),xt=_renderMatches(bt&&bt.map(Et=>Object.assign({},Et,{params:Object.assign({},tt,Et.params),pathname:joinPaths([ot,d.encodeLocation?d.encodeLocation(Et.pathname).pathname:Et.pathname]),pathnameBase:Et.pathnameBase==="/"?ot:joinPaths([ot,d.encodeLocation?d.encodeLocation(Et.pathnameBase).pathname:Et.pathnameBase])})),h,o,c);return e&&xt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends({pathname:"/",search:"",hash:"",state:null,key:"default"},ht),navigationType:Action.Pop}},xt):xt}function DefaultErrorComponent(){let a=useRouteError(),e=isRouteErrorResponse(a)?a.status+" "+a.statusText:a instanceof Error?a.message:JSON.stringify(a),o=a instanceof Error?a.stack:null,d={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},e),o?reactExports.createElement("pre",{style:d},o):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,o){return o.location!==e.location||o.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:o.error,location:o.location,revalidation:e.revalidation||o.revalidation}}componentDidCatch(e,o){console.error("React Router caught the following error during render",e,o)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(a){let{routeContext:e,match:o,children:c}=a,d=reactExports.useContext(DataRouterContext);return d&&d.static&&d.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(d.staticContext._deepestRenderedBoundaryId=o.route.id),reactExports.createElement(RouteContext.Provider,{value:e},c)}function _renderMatches(a,e,o,c){var d;if(e===void 0&&(e=[]),o===void 0&&(o=null),c===void 0&&(c=null),a==null){var h;if((h=o)!=null&&h.errors)a=o.matches;else return null}let et=a,tt=(d=o)==null?void 0:d.errors;if(tt!=null){let ht=et.findIndex(yt=>yt.route.id&&(tt==null?void 0:tt[yt.route.id]));ht>=0||invariant(!1),et=et.slice(0,Math.min(et.length,ht+1))}let ot=!1,ft=-1;if(o&&c&&c.v7_partialHydration)for(let ht=0;ht<et.length;ht++){let yt=et[ht];if((yt.route.HydrateFallback||yt.route.hydrateFallbackElement)&&(ft=ht),yt.route.id){let{loaderData:gt,errors:wt}=o,bt=yt.route.loader&&gt[yt.route.id]===void 0&&(!wt||wt[yt.route.id]===void 0);if(yt.route.lazy||bt){ot=!0,ft>=0?et=et.slice(0,ft+1):et=[et[0]];break}}}return et.reduceRight((ht,yt,gt)=>{let wt,bt=!1,xt=null,Et=null;o&&(wt=tt&&yt.route.id?tt[yt.route.id]:void 0,xt=yt.route.errorElement||defaultErrorElement,ot&&(ft<0&&gt===0?(warningOnce("route-fallback",!1),bt=!0,Et=null):ft===gt&&(bt=!0,Et=yt.route.hydrateFallbackElement||null)));let vt=e.concat(et.slice(0,gt+1)),$t=()=>{let At;return wt?At=xt:bt?At=Et:yt.route.Component?At=reactExports.createElement(yt.route.Component,null):yt.route.element?At=yt.route.element:At=ht,reactExports.createElement(RenderedRoute,{match:yt,routeContext:{outlet:ht,matches:vt,isDataRoute:o!=null},children:At})};return o&&(yt.route.ErrorBoundary||yt.route.errorElement||gt===0)?reactExports.createElement(RenderErrorBoundary,{location:o.location,revalidation:o.revalidation,component:xt,error:wt,children:$t(),routeContext:{outlet:null,matches:vt,isDataRoute:!0}}):$t()},null)}var DataRouterStateHook$1=function(a){return a.UseBlocker="useBlocker",a.UseLoaderData="useLoaderData",a.UseActionData="useActionData",a.UseRouteError="useRouteError",a.UseNavigation="useNavigation",a.UseRouteLoaderData="useRouteLoaderData",a.UseMatches="useMatches",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a.UseRouteId="useRouteId",a}(DataRouterStateHook$1||{});function useDataRouterState(a){let e=reactExports.useContext(DataRouterStateContext);return e||invariant(!1),e}function useRouteContext(a){let e=reactExports.useContext(RouteContext);return e||invariant(!1),e}function useCurrentRouteId(a){let e=useRouteContext(),o=e.matches[e.matches.length-1];return o.route.id||invariant(!1),o.route.id}function useRouteError(){var a;let e=reactExports.useContext(RouteErrorContext),o=useDataRouterState(DataRouterStateHook$1.UseRouteError),c=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return e!==void 0?e:(a=o.errors)==null?void 0:a[c]}const alreadyWarned={};function warningOnce(a,e,o){!e&&!alreadyWarned[a]&&(alreadyWarned[a]=!0)}function Route(a){invariant(!1)}function Router(a){let{basename:e="/",children:o=null,location:c,navigationType:d=Action.Pop,navigator:h,static:et=!1,future:tt}=a;useInRouterContext()&&invariant(!1);let ot=e.replace(/^\/*/,"/"),ft=reactExports.useMemo(()=>({basename:ot,navigator:h,static:et,future:_extends({v7_relativeSplatPath:!1},tt)}),[ot,tt,h,et]);typeof c=="string"&&(c=parsePath(c));let{pathname:ht="/",search:yt="",hash:gt="",state:wt=null,key:bt="default"}=c,xt=reactExports.useMemo(()=>{let Et=stripBasename(ht,ot);return Et==null?null:{location:{pathname:Et,search:yt,hash:gt,state:wt,key:bt},navigationType:d}},[ot,ht,yt,gt,wt,bt,d]);return xt==null?null:reactExports.createElement(NavigationContext.Provider,{value:ft},reactExports.createElement(LocationContext.Provider,{children:o,value:xt}))}function Routes(a){let{children:e,location:o}=a;return useRoutes(createRoutesFromChildren(e),o)}new Promise(()=>{});function createRoutesFromChildren(a,e){e===void 0&&(e=[]);let o=[];return reactExports.Children.forEach(a,(c,d)=>{if(!reactExports.isValidElement(c))return;let h=[...e,d];if(c.type===reactExports.Fragment){o.push.apply(o,createRoutesFromChildren(c.props.children,h));return}c.type!==Route&&invariant(!1),!c.props.index||!c.props.children||invariant(!1);let et={id:c.props.id||h.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,loader:c.props.loader,action:c.props.action,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(et.children=createRoutesFromChildren(c.props.children,h)),o.push(et)}),o}/**
 * React Router DOM v6.22.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch(a){}const START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION];function HashRouter(a){let{basename:e,children:o,future:c,window:d}=a,h=reactExports.useRef();h.current==null&&(h.current=createHashHistory({window:d,v5Compat:!0}));let et=h.current,[tt,ot]=reactExports.useState({action:et.action,location:et.location}),{v7_startTransition:ft}=c||{},ht=reactExports.useCallback(yt=>{ft&&startTransitionImpl?startTransitionImpl(()=>ot(yt)):ot(yt)},[ot,ft]);return reactExports.useLayoutEffect(()=>et.listen(ht),[et,ht]),reactExports.createElement(Router,{basename:e,children:o,location:tt.location,navigationType:tt.action,navigator:et,future:c})}var DataRouterHook;(function(a){a.UseScrollRestoration="useScrollRestoration",a.UseSubmit="useSubmit",a.UseSubmitFetcher="useSubmitFetcher",a.UseFetcher="useFetcher",a.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(a){a.UseFetcher="useFetcher",a.UseFetchers="useFetchers",a.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));const isValidEthereumAddressFormat=a=>/^(0x)?[0-9a-fA-F]{40}$/.test(a),InputWrapper=ut$1.div`
  display: flex;
  flex-direction: column;
  gap: 4px;
  width: 100%;
`,StyledInput=ut$1.input`
  padding: 12px 16px 12px 16px;
  border-radius: 8px;
  font-family: "Mulish";
  width: 100%;
  border: none;
  background-color: #1d1d24;
  color: var(--white-100);
`,Input=({type:a,label:e,htmlFor:o,placeholder:c,name:d,onChange:h})=>jsxRuntimeExports.jsxs(InputWrapper,{children:[jsxRuntimeExports.jsx("label",{htmlFor:o,children:e}),jsxRuntimeExports.jsx(StyledInput,{type:a,placeholder:c,name:d,onChange:h})]}),createBackgroundStyles=(a,e,o)=>`
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 20px;
  padding: 1px;
  background: ${e};
  -webkit-mask: ${a} content-box, ${o};
  mask-composite: exclude;
  z-index: 1;
`,MainCardGradientCode="linear-gradient(#fff 0 0)",MainCardBackgroundGradient="linear-gradient(45deg, #82828e, #303038)",MainCardContentBox="linear-gradient(#fff 0 0)",CardGradientCode="linear-gradient(#fff 0 0)",CardBackgroundGradient="linear-gradient(to right bottom,#FCD15A 20%,#CE2C68 60%,#3F0D3F 40%,#1D1D24 0%);",CardContentBox="linear-gradient(#fff 0 0)",StyledMainCard=ut$1.div`
  display: flex;
  flex-direction: column;
  position: relative;
  max-width: 400px;
  padding: 40px;
  background-color: var(--white-6);
  border-radius: 20px;
  gap: 32px;

  &::before {
    ${createBackgroundStyles(MainCardGradientCode,MainCardBackgroundGradient,MainCardContentBox)}
  }
`,StepWrapper=ut$1.div`
  gap: 32px;
  z-index: 2;
`,ButtonWrapper=ut$1.div`
  display: flex;
  gap: 32px;
`,Form=ut$1.form`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: 16px;
  position: relative;
  width: 100%;
`,GrandAccessContainer=ut$1.div`
  span {
    color: var(--peach-100);
    text-decoration: underline;
    cursor: pointer;
  }
`,AddNewWrapper=ut$1.div`
  display: flex;
  button {
    background: transparent;
    padding: 0;
    color: var(--yellow-100);
    font-weight: 400;
    font-size: var(--12px);
    text-decoration: underline;
  }
`,ThirdStepWrapper=ut$1.div`
  display: flex;
  flex-direction: column;
  gap: 32px;
`,CardWrapper=ut$1.div`
  display: flex;
  flex-direction: column;
  gap: 16px;
`,Card=ut$1.div`
  border-radius: 20px;
  position: relative;
  width: calc(100% - 48px);
  gap: 4px;
  padding: 24px;
  display: flex;
  flex-direction: column;

  select {
    z-index: 10;
  }

  &::before {
    ${createBackgroundStyles(CardGradientCode,CardBackgroundGradient,CardContentBox)}
  }
`,MainCard=()=>{const[a,e]=reactExports.useState(!1),[o,c]=reactExports.useState(!1),{isRequestPending:d,isProtectRequestPending:h,activeStep:et,error:tt,selectedEmail:ot,protectedEmails:ft,setSelectedEmail:ht,setActiveStep:yt,fetchAccounts:gt,protectedDataSubmit:wt,grantAccess:bt}=useUser(),xt=useLocation(),{search:Et}=xt,$t=new URLSearchParams(Et).get("user"),[At,kt]=reactExports.useState(""),[It,Dt]=reactExports.useState(""),Mt=Kt=>{Dt(Kt.target.value),console.log(Kt.target.value)},zt=Kt=>{kt(Kt.target.value),console.log(Kt.target.value)};return reactExports.useEffect(()=>{$t&&e(isValidEthereumAddressFormat($t))},[$t]),jsxRuntimeExports.jsxs(StyledMainCard,{children:[jsxRuntimeExports.jsxs(GrandAccessContainer,{children:[jsxRuntimeExports.jsx("h2",{children:"Grant Access"}),jsxRuntimeExports.jsx("span",{children:a?$t:"Adresse invalide"}),jsxRuntimeExports.jsx("p",{children:"would like to get access to you, using iExec secured email service"})]}),jsxRuntimeExports.jsxs(StepWrapper,{children:[et===1&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("p",{children:"Connect your wallet to continue."}),jsxRuntimeExports.jsx(Button,{title:d?"Initializing...":"Connect Wallet",width:"100%",onClick:gt,inactive:d})]}),et===2&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[o?jsxRuntimeExports.jsx("p",{children:"Protect your address with iExec. Your email address stays secret, only your name will be shared with the organization."}):jsxRuntimeExports.jsx("p",{children:"You have no protected address yet."}),o?jsxRuntimeExports.jsxs(Form,{onSubmit:Kt=>{Kt.preventDefault(),wt(It,At)},children:[jsxRuntimeExports.jsx(Input,{name:"email",type:"email",label:"Email ( private ) ",placeholder:"john@Doe.com",onChange:Mt}),jsxRuntimeExports.jsx(Input,{name:"name",type:"text",label:"Name ( public ) ",placeholder:"john Doe",onChange:zt}),jsxRuntimeExports.jsx(Button,{title:h?"Initializing...":"Protect my Address",type:"submit",inactive:h,width:"100%"}),tt&&jsxRuntimeExports.jsx("p",{style:{color:"red"},children:tt})]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(Button,{title:"Protect my Address",onClick:()=>c(!0),width:"100%"})})]}),et===3&&jsxRuntimeExports.jsxs(ThirdStepWrapper,{children:[jsxRuntimeExports.jsxs(CardWrapper,{children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx("span",{children:jsxRuntimeExports.jsx("strong",{children:At})}),jsxRuntimeExports.jsxs("select",{value:ot,onChange:Kt=>{ht(Kt.target.value),console.log("selected email: ",Kt.target.value)},children:[jsxRuntimeExports.jsx("option",{value:"",children:"Slectionnez un e-mail"}),ft.map((Kt,Yt)=>jsxRuntimeExports.jsx("option",{value:Kt.address,children:Kt.name},Yt))]})]}),jsxRuntimeExports.jsx(AddNewWrapper,{children:jsxRuntimeExports.jsxs("button",{onClick:()=>yt(2),children:[jsxRuntimeExports.jsx(Add,{})," Add new"]})})]}),jsxRuntimeExports.jsxs(ButtonWrapper,{children:[jsxRuntimeExports.jsx(Button,{width:"100%",title:"Cancel",outlined:!0,onClick:()=>yt(1)}),jsxRuntimeExports.jsx(Button,{width:"100%",title:"Share Access",onClick:()=>bt($t)})]})]})]})]})},StyledAuthorize=ut$1.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  color: var(--white-100);
`,Authorize=()=>jsxRuntimeExports.jsxs(StyledAuthorize,{children:[jsxRuntimeExports.jsx("h1",{children:"Secret Email Service"}),jsxRuntimeExports.jsx("p",{children:"iExec creates the technologies for individuals and organizations to create, protect and develop their digital estate."}),jsxRuntimeExports.jsx(MainCard,{})]}),AppRouter=()=>jsxRuntimeExports.jsx(HashRouter,{children:jsxRuntimeExports.jsx(Routes,{children:jsxRuntimeExports.jsx(Route,{path:"/authorize",element:jsxRuntimeExports.jsx(Authorize,{})})})});function App(){return jsxRuntimeExports.jsxs("div",{className:"App",children:[jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsx(AppRouter,{})]})}const styled$1={createGlobalStyle:dt},Typography=styled$1.createGlobalStyle`
  html {
    color: var(--black-100);
  }

  h1 {
    font-size: var(--36px);
  }

  h2 {
    font-size: var(--24px);
  }

  h3 {
    font-size: var(--14px);
  }

  h4,
  label {
    font-size: var(--14px);
  }

  h5 {
    font-size: var(--12px);
  }
  span {
    font-size: var(--16px);
  }

  p {
    font-size: var(--12px);
  }

  h1,
  h2 {
    font-weight: bold;
    font-family: "Mulish";
    line-height: 17.57px;
  }

  span,
  h3,
  h4,
  h5,
  h6 {
    font-weight: 500;
    font-family: "Mulish";
    line-height: 20px;
  }

  @media (max-width: 740px) {
    h1 {
      font-size: var(--24px);
    }
    h2 {
      font-size: var(--20px);
    }
    h3 {
      font-size: var(--16px);
    }
    h4 {
      font-size: var(--16px);
    }
    h5 {
      font-size: var(--14px);
    }
    h6 {
      font-size: var(--14px);
    }
    p {
      font-size: var(--14px);
    }
  }
`,background="/iExec-Technical-Test/assets/Background_Black-1-2lLiVCes.webp",COLORS={WHITE:{100:"#FFFFFF",6:"rgb(255, 255, 255, 0.06)"},YELLOW:{100:"#FCD15A"},PEACH:{100:"#FCD15A"},PINK:{100:"#CE2C68"},VIOLET:{100:"3F0D3F"},BLACK:{100:"#1D1D24",50:"rgba(13, 13, 18, 0.5)",40:"rgba(48, 48, 56, 0.4)"},SAND:{100:"#DAC17C"}},VERTICAL_PADDING="40px",HORIZONTAL_PADDING="16px",styled={createGlobalStyle:dt},GlobalStyles=styled.createGlobalStyle`
  :root {
    --white-100: ${COLORS.WHITE[100]};
    --white-6: ${COLORS.WHITE[6]};
    --yellow-100: ${COLORS.YELLOW[100]};
    --peach-100: ${COLORS.PEACH[100]};
    --pink-100: ${COLORS.PINK[100]};
    --violet-100: ${COLORS.VIOLET[100]};
    --sand-100: ${COLORS.SAND[100]};
    --black-100: ${COLORS.BLACK[100]};
    --black-50: ${COLORS.BLACK[50]};
    --black-40: ${COLORS.BLACK[40]};
    --12px: 0.75rem;
    --14px: 0.875rem;
    --16px: 1rem;
    --20px: 1.25rem;
    --24px: 1.5rem;
    --36px: 2.25rem;
    --vertical-padding: ${VERTICAL_PADDING}
    --horizontal-padding: ${HORIZONTAL_PADDING}
  }
html{
  background-image: url(${background});
    background-size: cover;
}
  body {

    width: 100vw;
  }

  button {
    border: none;
    cursor: pointer;
  }
`;client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsxs(React.StrictMode,{children:[jsxRuntimeExports.jsx(Typography,{}),jsxRuntimeExports.jsx(GlobalStyles,{}),jsxRuntimeExports.jsx(UserProvider,{children:jsxRuntimeExports.jsx(App,{})})]}));
